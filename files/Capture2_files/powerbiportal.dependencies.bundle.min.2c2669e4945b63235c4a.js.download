'use strict'; 
"use strict";
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] || (this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] = {});
marker.startEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
if (window.perfTracking && window.perfTracking.startBundleEval) window.perfTracking.startBundleEval('powerbiportal.dependencies.bundle.min.js');
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['visuals.min.js'] || (this.parseTimeMarkers['visuals.min.js'] = {});
marker.startEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
if (window.perfTracking && window.perfTracking.startBundleEval) window.perfTracking.startBundleEval('visuals.min.js');var powerbi;!(function(e){var a;(a=e.VisualDataRoleKind||(e.VisualDataRoleKind={}))[a.Grouping=0]="Grouping",a[a.Measure=1]="Measure",a[a.GroupingOrMeasure=2]="GroupingOrMeasure",(a=e.VisualDataChangeOperationKind||(e.VisualDataChangeOperationKind={}))[a.Create=0]="Create",a[a.Append=1]="Append",a[a.Segment=2]="Segment",a[a.None=3]="None",(a=e.VisualUpdateType||(e.VisualUpdateType={}))[a.Data=2]="Data",a[a.Resize=4]="Resize",a[a.ViewMode=8]="ViewMode",a[a.Style=16]="Style",a[a.ResizeEnd=32]="ResizeEnd",a[a.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",a[a.FormatModeChange=128]="FormatModeChange",a[a.FilterOptionsChange=256]="FilterOptionsChange",a[a.All=510]="All",e.VisualPermissions||(e.VisualPermissions={})})(powerbi=powerbi||{});;
"use strict";var __spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,o=t.length;n<o;n++)!i&&n in t||((i=i||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},__extends=this&&this.__extends||(function(){var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}})(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(e,a,s,l){return new(s=s||Promise)(function(r,t){function i(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?r(e.value):((t=e.value)instanceof s?t:new s(function(e){e(t)})).then(i,n)}o((l=l.apply(e,a||[])).next())})},__generator=this&&this.__generator||function(i,n){var o,a,s,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(r){return function(e){var t=[r,e];if(o)throw new TypeError("Generator is already executing.");for(;l;)try{if(o=1,a&&(s=2&t[0]?a.return:t[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,t[1])).done)return s;switch(a=0,(t=s?[2&t[0],s.value]:t)[0]){case 0:case 1:s=t;break;case 4:return l.label++,{value:t[1],done:!1};case 5:l.label++,a=t[1],t=[0];continue;case 7:t=l.ops.pop(),l.trys.pop();continue;default:if(!(s=0<(s=l.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){l=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3]))l.label=t[1];else if(6===t[0]&&l.label<s[1])l.label=s[1],s=t;else{if(!(s&&l.label<s[2])){s[2]&&l.ops.pop(),l.trys.pop();continue}l.label=s[2],l.ops.push(t)}}t=n.call(i,l)}catch(e){t=[6,e],a=0}finally{o=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},debug=(!(function(e){function t(){return window.powerbi||(window.powerbi={}),window.powerbi}e.ensurePowerbi=t,e.ensurePowerbiCommon=function(){var e=t();return e.common||(e.common={}),e.common},e.ensurePowerbiVisuals=function(){var e=t();return e.visuals||(e.visuals={}),e.visuals},e.ensureJsCommon=function(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}})(powerbi=powerbi||{}),(function(){function i(){}return i.setAssertFailFunction=function(e){i.assertFailFunction=e},i.assert=function(e,t){},i.setAssert=function(e){i.assert=e},i.assertValue=function(e,t){i.assert((function(){return null!=e}),t)},i.assertNonEmpty=function(e,t){i.assert((function(){return null!=e&&0<e.length}),t)},i.assertAnyValue=function(e,t){},i.assertFail=function(e){(i.assertFailFunction||alert)("Debug Assert failed: ".concat(e))},i.log=function(e){for(var t=1;t<arguments.length;t++)t-1,0},i.logDebug=function(e){for(var t=1;t<arguments.length;t++)t-1,0},i.warn=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];console&&console.warn||i.log.apply(i,__spreadArray([e],t||[],!1))},i.assertNever=function(e){i.assertFail("Expected to never have value "+e)},i.breakDebugger=function(){},i.execute=function(e){e()},i})());function initializeJQeuryExtensions(){jqueryExtensionsLoaded||($.fn.multiline=function(e){return this.text(e),this.html(this.html().replace(/\n/g,"<br/>")),this},$.extend($.expr[":"],{tabbable:function(e){var t=$(e).attr("tabindex"),t=null==t?NaN:parseInt(t,10),r=isNaN(t);return(r||0<=t)&&focusable(e,!r)}}),jqueryExtensionsLoaded=!0)}!(function(r){var i={};r.define=function(e,t){i[e]={fn:t}},r.requireSync=function(e){var e=i[e],t=e.fn;return t?(t=e.v=t(r.requireSync),e.fn=null,t):e.v}})(powerbi=powerbi||{}),(function(e){var t;(e=e.DOMConstants||(e.DOMConstants={})).scanModeKeys=[50,51,52,53,54,72,75,66,84],(t=e.KeyDictionary||(e.KeyDictionary={}))[t.Enter=13]="Enter",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F6=117]="F6",t[t.F10=121]="F10",t[t.ArrowRight=39]="ArrowRight",t[t.KeyT=84]="KeyT",(t=e.MouseButton||(e.MouseButton={}))[t.Main=0]="Main",t[t.Auxilary=1]="Auxilary",t[t.Secondary=2]="Secondary",t[t.Fourth=3]="Fourth",t[t.Fifth=4]="Fifth",e.DocumentBody="body",e.Anchor="a",e.EditableTextElements=":text, textarea",e.EditableNumericElements='[type="number"]',e.disabledAttributeOrValue="disabled",e.readonlyAttributeOrValue="readonly",e.idAttribute="id",e.styleAttribute="style",e.hrefAttribute="href",e.targetAttribute="target",e.blankValue="_blank",e.selfValue="_self",e.classAttribute="class",e.titleAttribute="title",e.srcAttribute="src",e.contentEditableAttribute="contenteditable",e.skipChildrenFocusAttribute="skip-children-focus",e.contextmenuEventName="contextmenu",e.blurEventName="blur",e.keyUpEventName="keyup",e.inputEventName="input",e.changeEventName="change",e.cutEventName="cut",e.keyDownEventName="keydown",e.mouseMoveEventName="mousemove",e.mouseDownEventName="mousedown",e.mouseEnterEventName="mouseenter",e.mouseLeaveEventName="mouseleave",e.mouseOverEventName="mouseover",e.mouseOutEventName="mouseout",e.mouseUpEventName="mouseup",e.mouseWheelScroll="wheel",e.mouseClickEventName="click",e.mouseDblClickEventName="dblclick",e.pasteEventName="paste",e.scrollEventName="scroll",e.dropEventName="drop",e.hoverEventName="hover",e.focusEventName="focus",e.focusInEventName="focusin",e.focusOutEventName="focusout",e.selectEventName="select",e.messageEventName="message",e.loadEventName="load",e.beforeUnload="beforeunload",e.pointerMoveEventName="pointermove",e.pointerUpEventName="pointerup",e.pointerDownEventName="pointerdown",e.pointerOutEventName="pointerout",e.pointerEnterEventName="pointerenter",e.pointerLeaveEventName="pointerleave",e.pointerOverEventName="pointerover",e.inputAndSelectEventNames="input, select"})(jsCommon=jsCommon||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).D3Helper||(e.D3Helper={})).easeCompat=function(e){switch(e){case"linear":return d3.easeLinear;case"cubic-in-out":return d3.easeCubicInOut;case"cubic-out":return d3.easeCubicOut;case"back":return d3.easeBack}return d3.easeCubicInOut},e.isScaleBand=function(e){return!!e.bandwidth},e.orderShapesByClass=function(e,n){(e=e.selectAll(_.map(n,(function(e){return e.selector})).join(", ")).nodes()).sort((function(e,t){for(var r=0,i=0;i<n.length;i++)r=(r+=+d3.select(e).classed(n[i].class)*i)-+d3.select(t).classed(n[i].class)*i;return r})),d3.selectAll(e).order()}})(powerbi=powerbi||{}),(function(u){var l;function c(e,t,r){if(t)for(var i=0,n=t;i<n.length;i++){var o=n[i],a=r.getOptional(l.serverErrorPrefix+o.code),s=o.detail.value;0===o.detail.type&&(s=r.get(l.serverErrorPrefix+s)),e.displayableErrorInfo.push({errorInfoKey:a||o.code,errorInfoValue:s})}return e}function d(e,t,n){var r;return t?(e=e.get(l.serverErrorPrefix+t))?e.replace(/\{\s*([^}\s]+)\s*\}/g,(function(e,t,r,i){return n[t]})):r:""}(l=u.ServiceErrorHelper||(u.ServiceErrorHelper={})).serverErrorPrefix="ServerError_",l.addAdditionalInfo=c,l.addDebugErrorInfo=function(e,t,r,i,n){var o=e.debugErrorInfo=e.debugErrorInfo||[];return n&&o.push({errorInfoKey:u.ClientErrorStrings.HttpRequestId,errorInfoValue:n}),t&&o.push({errorInfoKey:u.ClientErrorStrings.ClientErrorCode,errorInfoValue:t}),r&&o.push({errorInfoKey:u.ClientErrorStrings.ErrorDetails,errorInfoValue:r}),i&&o.push({errorInfoKey:u.ClientErrorStrings.StackTrace,errorInfoValue:i}),e},l.GetDetailsFromTransformError=function(e,t){return{message:e.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:e.get("ServiceError_CannotLoadVisual"),errorInfoValue:t.message}]}},l.getErrorDetails=function(e,t,r,i){var n={};if(r)if(_.isArray(r))for(var o=0,a=r;o<a.length;o++){var s=a[o];n[s.Key]=s.Value}else n=r;return r={message:d(e,t,n),displayableErrorInfo:[]},i&&c(r,i,e),r},l.FormatWithNamedParameters=d,l.GetDetailsFromServerError=function(e,t){var r="",i="",n="",o="",a=!1;switch(t.errorCode){case u.PremiumFilesModelRequiresPremiumCapacity:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("PremiumRequired_TitleText"),n=e.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),a=!0;break;case u.LargeModelMovedAcrossRegions:r=e.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),i=e.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),n=d(e,"LargeModelMovedAcrossRegions",t.parameters),o="https://aka.ms/moving-large-datasets",a=!0;break;case u.RS_AccessDeniedDueToRLSGroup:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelFetchingFailureKey"),n=e.get("DsrError_NoPermissionDueToRLSGroupMessage"),a=!0;break;case u.RS_CannotRetrieveModel:case u.PBIExplore_CannotRetrieveModel:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelFetchingFailureKey"),n=e.get("DsrError_CanNotRetrieveModelMessage"),a=!0;break;case u.DMTS_NoGatewayWithAllDatasourcesToBindError:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelFetchingFailureKey"),n=e.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),a=!0;break;case u.DM_GWPipeline_UnknownError:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelFetchingFailureKey"),n=e.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),a=!0;break;case u.PBID_AccessDenied:r=e.get("ServiceError_CannotLoadVisual"),i=e.get("ServiceError_AuthenticationErrorKey"),n=e.get("ServiceError_AuthenticationErrorValue"),a=!0;break;case u.PBID_WindowsAuthNotSupported:r=e.get("ServiceError_CannotLoadVisual"),i=e.get("ServiceError_AuthenticationErrorKey"),n=e.get("ServiceError_WindowsAuthNotSupportedErrorValue"),a=!0;break;case u.PBID_WindowsAuthImpersonationNotSupported:r=e.get("ServiceError_CannotLoadVisual"),i=e.get("ServiceError_AuthenticationErrorKey"),n=e.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),a=!0;break;case u.PBI_PowerBIServiceLiveConnectModelNotFound:r=e.get("UploadPowerBICompanion_AccessDatasetWarning"),a=!0;break;case u.PBI_InsecureLibraryLoadingPatchMissing:r=e.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),i=e.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),n=e.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),a=!0;break;case u.BYOKEncryptedModelRequiresPremiumCapacity:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("PremiumRequired_TitleText"),n=e.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),a=!0;break;case u.CustomerKeyNotAccessible:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServerError_CustomerKeyNotAccessible_Report"),a=!0;break;case u.CustomerKeyVaultError:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelCannotLoad"),n=e.get("ServerError_CustomerKeyVaultError_Report"),a=!0}if(!a)switch(t.statusCode){case 2:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelConvertFailureKey"),n=e.get("ServiceError_ModelConvertFailureValue");break;case 3:r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelCreationFailureKey"),n=e.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(r=e.get("ServiceError_ModelCannotLoad"),i=e.get("ServiceError_ModelCannotLoad"),t.errorDetails){var s=_.find(t.errorDetails,(function(e){return"ModelMode"===e.code}));if(s)switch(s.detail.value){case"Internal":n=e.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":n=e.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":n=e.get("ServiceError_ModelConnectFailurePBIServiceValue")}}n=n||e.get("ServiceError_ModelFetchingFailureValue");break;case 4:r=e.get("ServiceError_CannotLoadVisual"),i=e.get("ServiceError_ExecuteSemanticQueryErrorKey"),n=e.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:r=e.get("ServiceError_CannotLoadVisual"),i=e.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),n=e.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:r=e.get("ServiceError_GeneralError"),i=e.get("ServiceError_GeneralErrorKey"),n=e.get("ServiceError_GeneralErrorValue")}var l={message:r,displayableErrorInfo:[{errorInfoKey:i,errorInfoValue:n}]};return o&&(l.helpLink=o),l}})(powerbi=powerbi||{}),(function(r){function e(e){this.message=e.message||"",this.m_serviceError=e}function t(e){this.innerError=e}r.PremiumFilesModelRequiresPremiumCapacity="PremiumFilesModelRequiresPremiumCapacity",r.LargeModelMovedAcrossRegions="LargeModelMovedAcrossRegions",r.RS_AccessDeniedDueToRLSGroup="rsAccessDeniedDueToRLSGroup",r.RS_CannotRetrieveModel="rsCannotRetrieveModel",r.RLSNotAuthorizedForModel="RLSNotAuthorizedForModel",r.PBIExplore_CannotRetrieveModel="CannotRetrieveModelError",r.DMTS_NoGatewayWithAllDatasourcesToBindError="DMTS_NoGatewayWithAllDatasourcesToBindError",r.DM_GWPipeline_UnknownError="DM_GWPipeline_UnknownError",r.DM_GWPipeline_Gateway_GatewayUpgradeRequired="DM_GWPipeline_Gateway_GatewayUpgradeRequired",r.PBID_AccessDenied="pbidAccessDenied",r.PBID_WindowsAuthImpersonationNotSupported="pbidWindowsAuthWindowsAuthImpersonationNotSupported",r.PBID_WindowsAuthNotSupported="pbidWindowsAuthNotSupported",r.PBI_AdomdErrorResponseExternal="PowerBIAdomdErrorResponseExternal",r.PBI_AdomdErrorResponseSystem="PowerBIAdomdErrorResponseSystem",r.PBI_AdomdErrorResponseUser="PowerBIAdomdErrorResponseUser",r.PBI_ConnectionThrottledDueToCapacityOverload="ConnectionThrottledDueToCapacityOverload",r.PBI_DatasourceNotFound="DatasourceNotFound",r.PBI_DatabaseDoesNotExistOrUserDoesNotHavePermission="DatabaseDoesNotExistOrUserDoesNotHavePermission",r.PBI_InsecureLibraryLoadingPatchMissing="InsecureLibraryLoadingPatchMissing",r.PBI_MaximumAllowableMemoryReached="MaximumAllowableMemoryReached",r.PBI_PowerBIServiceLiveConnectModelNotFound="PowerBIServiceLiveConnectModelNotFound",r.ExceptionCulpritSystem="System",r.ExceptionCulpritPowerBI="PowerBI",r.ExceptionCulpritUser="User",r.ExceptionCulpritExternal="External",r.BYOKEncryptedModelRequiresPremiumCapacity="BYOKEncryptedModelRequiresPremiumCapacity",r.CustomerKeyNotAccessible="CustomerKeyNotAccessible",r.CustomerKeyVaultError="CustomerKeyVaultError",r.RS_OrphanedModel="rsOrphanedModel",Object.defineProperty(e.prototype,"code",{get:function(){return this.m_serviceError.errorCode||e.codeName},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestId",{get:function(){return this.httpRequestId},set:function(e){this.httpRequestId=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"source",{get:function(){var e=this.m_serviceError.exceptionCulprit;if(null!=e)switch(e){case r.ExceptionCulpritSystem:case r.ExceptionCulpritPowerBI:return"PowerBI";case r.ExceptionCulpritExternal:return"External";case r.ExceptionCulpritUser:return"User";default:return"PowerBI"}},enumerable:!1,configurable:!0}),e.prototype.getDetails=function(e){var t=6===this.m_serviceError.statusCode?r.ServiceErrorHelper.GetDetailsFromTransformError(e,this.m_serviceError):r.ServiceErrorHelper.GetDetailsFromServerError(e,this.m_serviceError);return this.m_serviceError.errorDetails&&r.ServiceErrorHelper.addAdditionalInfo(t,this.m_serviceError.errorDetails,e),r.ServiceErrorHelper.addDebugErrorInfo(t,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),t.source=this.source,t},e.codeName="ServiceErrorToClientError",r.ServiceErrorToClientError=e,Object.defineProperty(t.prototype,"code",{get:function(){return this.innerError.code},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){var e=this.innerError["pbi.error"],e=e&&e.exceptionCulprit;if(null!=e)switch(e){case 0:return"PowerBI";case 2:return"External";case 1:return"User";default:return"PowerBI"}},enumerable:!1,configurable:!0}),t.prototype.getDetails=function(e){var t=this.innerError["pbi.error"];if(t)return(e=r.ServiceErrorHelper.getErrorDetails(e,t.code,t.parameters,t.details)).source=this.source,e},r.PowerBIAPIErrorToClientError=t})(powerbi=powerbi||{}),(function(t){t.getBuild=function(){return t.ensurePowerbi().build},t.setBuild=function(e){t.ensurePowerbi().build=e},t.setBuildDetails=function(e){t.ensurePowerbi().buildDetails=e},t.getClientVersion=function(){return t.ensurePowerbi().clientVersion},t.setClientVersion=function(e){t.ensurePowerbi().clientVersion=e},t.getCvUrl=function(){return t.ensurePowerbi().cvUrl},t.setCvUrl=function(e){t.ensurePowerbi().cvUrl=e},t.getVisualCDNBlobContainerUrl=function(){return t.ensurePowerbi().visualCDNBlobContainerUrl},t.setVisualCDNBlobContainerUrl=function(e){t.ensurePowerbi().visualCDNBlobContainerUrl=e}})(powerbi=powerbi||{}),(powerbi||(powerbi={})).geoTaggingAnalyzerServiceModuleFactory=function(){var t="Address",r="City",i="Continent",n="Country",o="County",a="Longitude",s="Latitude",l="Place",u="PostalCode",c="StateOrProvince",d={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"},g=(h.prototype.ensureCategoriesArePopulated=function(){if(!this.GeotaggingString_Continent){var e=this.getLocalized,t=e("GeotaggingString_Continent");if(null==t)return!1;this.GeotaggingString_Continent=t.toLowerCase(),this.GeotaggingString_Continents=e("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=e("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=e("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=e("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=e("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=e("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=e("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=e("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=e("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=e("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=e("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=e("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=e("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=e("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=e("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=e("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=e("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=e("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=e("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=e("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=e("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=e("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=e("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=e("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=e("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=e("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=e("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=e("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=e("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=e("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=e("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=e("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=e("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=e("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=e("GeotaggingString_Territories").toLowerCase()}return!0},h.prototype.isLongitudeOrLatitude=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(e)||this.isLatitude(e))},h.prototype.isGeographic=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(e)||this.isGeocodable(e))},h.prototype.isGeocodable=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(e)||this.isCity(e)||this.isContinent(e)||this.isCountry(e)||this.isCounty(e)||this.isStateOrProvince(e)||this.isPlace(e)||this.isPostalCode(e)||this.isTerritory(e))},h.prototype.isGeoshapable=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isCity(e)||this.isContinent(e)||this.isCountry(e)||this.isCounty(e)||this.isStateOrProvince(e)||this.isPostalCode(e)||this.isTerritory(e)||this.isPlace(e)||this.isGeoshapableEnglish(e))},h.prototype.isGeoshapableEnglish=function(e){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(e)||this.isEnglishContinent(e)||this.isEnglishCountry(e)||this.isEnglishCounty(e)||this.isEnglishStateOrProvince(e)||this.isEnglishPostalCode(e)||this.isEnglishTerritory(e)||this.isEnglishPlace(e))},h.prototype.isAddress=function(e){return h.hasMatches(e,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])},h.prototype.isPlace=function(e){return h.hasMatches(e,[this.GeotaggingString_Place,this.GeotaggingString_Places])},h.prototype.isCity=function(e){return h.hasMatches(e,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])},h.prototype.isStateOrProvince=function(e){return h.hasMatches(e,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])},h.prototype.isCountry=function(e){return h.hasMatches(e,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])},h.prototype.isCounty=function(e){return h.hasMatches(e,[this.GeotaggingString_County,this.GeotaggingString_Counties])},h.prototype.isContinent=function(e){return h.hasMatches(e,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])},h.prototype.isPostalCode=function(e){var t,r=h.hasMatches(e,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&h.hasMatches(e,[this.GeotaggingString_Code])||h.hasMatches(e,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);return r||(t=e.replace(e=/\s+/,""),r=h.hasMatches(t,[this.GeotaggingString_PostalCode.replace(e,""),this.GeotaggingString_PostalCodes.replace(e,""),this.GeotaggingString_ZipCode.replace(e,""),this.GeotaggingString_ZipCodes.replace(e,"")])),r},h.prototype.isLongitude=function(e){return h.hasMatches(e,[this.GeotaggingString_Longitude])||h.hasMatches(e,[this.GeotaggingString_Longitude_Short],!0)||h.hasMatches(e,[this.GeotaggingString_Longitude_Short2],!0)},h.prototype.isLatitude=function(e){return h.hasMatches(e,[this.GeotaggingString_Latitude])||h.hasMatches(e,[this.GeotaggingString_Latitude_Short],!0)},h.prototype.isTerritory=function(e){return h.hasMatches(e,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])},h.hasMatches=function(e,t,r){for(var i=/\W/,n=e.toLowerCase(),o=0,a=t.length;o<a;o++){var s=t[o].toLowerCase();if(r){var l=n.indexOf(s);if(-1<l){var u=void 0,c=void 0,u=c=!0;if(0<l-1&&(c=i.test(n[l-1])),l+s.length<n.length&&(u=i.test(n[l+s.length])),c&&u)return!0}}else if(-1<n.indexOf(s))return!0}return!1},h.prototype.getFieldType=function(e){if(this.ensureCategoriesArePopulated()&&void 0!==e)return this.isLatitude(e)?s:this.isLongitude(e)?a:this.isPostalCode(e)?u:this.isAddress(e)?t:this.isPlace(e)?l:this.isCity(e)?r:this.isCountry(e)?n:this.isCounty(e)?o:this.isStateOrProvince(e)?c:this.isContinent(e)?i:this.getEnglishFieldType(e)},h.prototype.getFieldTypeFromDescriptor=function(e){if(null!=e&&null!=e.geography)return(e=e.geography).latitude?s:e.longitude?a:e.postalCode?u:e.address?t:e.place?l:e.city?r:e.country?n:e.county?o:e.stateOrProvince?c:e.continent?i:void 0},h.prototype.isEnglishAddress=function(e){return h.hasMatches(e,[d.GeotaggingString_Address,d.GeotaggingString_Addresses,d.GeotaggingString_Street,d.GeotaggingString_Streets])},h.prototype.isEnglishPlace=function(e){return h.hasMatches(e,[d.GeotaggingString_Place,d.GeotaggingString_Places])},h.prototype.isEnglishCity=function(e){return h.hasMatches(e,[d.GeotaggingString_City,d.GeotaggingString_Cities,d.GeotaggingString_Town,d.GeotaggingString_Towns,d.GeotaggingString_Village,d.GeotaggingString_Villages])},h.prototype.isEnglishStateOrProvince=function(e){return h.hasMatches(e,[d.GeotaggingString_State,d.GeotaggingString_States,d.GeotaggingString_Province,d.GeotaggingString_Provinces,d.GeotaggingString_VRMBackCompat_StateOrProvince])},h.prototype.isEnglishCountry=function(e){return h.hasMatches(e,[d.GeotaggingString_Country,d.GeotaggingString_Countries,d.GeotaggingString_VRMBackCompat_CountryRegion])},h.prototype.isEnglishCounty=function(e){return h.hasMatches(e,[d.GeotaggingString_County,d.GeotaggingString_Counties])},h.prototype.isEnglishContinent=function(e){return h.hasMatches(e,[d.GeotaggingString_Continent,d.GeotaggingString_Continents])},h.prototype.isEnglishPostalCode=function(e){var t,r=h.hasMatches(e,[d.GeotaggingString_Post,d.GeotaggingString_Zip])&&h.hasMatches(e,[this.GeotaggingString_Code])||h.hasMatches(e,[d.GeotaggingString_PostalCode,d.GeotaggingString_PostalCodes,d.GeotaggingString_ZipCode,d.GeotaggingString_ZipCodes]);return r||(t=new RegExp("s"),r=h.hasMatches(e,[d.GeotaggingString_PostalCode.replace(t,""),d.GeotaggingString_PostalCodes.replace(t,""),d.GeotaggingString_ZipCode.replace(t,""),d.GeotaggingString_ZipCodes.replace(t,"")])),r},h.prototype.isEnglishLongitude=function(e){return h.hasMatches(e,[d.GeotaggingString_Longitude])||h.hasMatches(e,[d.GeotaggingString_Longitude_Short],!0)||h.hasMatches(e,[d.GeotaggingString_Longitude_Short2],!0)},h.prototype.isEnglishLatitude=function(e){return h.hasMatches(e,[d.GeotaggingString_Latitude])||h.hasMatches(e,[d.GeotaggingString_Latitude_Short],!0)},h.prototype.isEnglishTerritory=function(e){return h.hasMatches(e,[d.GeotaggingString_Territory,d.GeotaggingString_Territories])},h.prototype.getEnglishFieldType=function(e){if(null!=e)return this.isEnglishLatitude(e)?s:this.isEnglishLongitude(e)?a:this.isEnglishPostalCode(e)?u:this.isEnglishAddress(e)?t:this.isEnglishPlace(e)?l:this.isEnglishCity(e)?r:this.isEnglishCountry(e)?n:this.isEnglishCounty(e)?o:this.isEnglishStateOrProvince(e)?c:this.isEnglishContinent(e)?i:void 0},h);function h(e){this.getLocalized=e,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}return{create:function(e){return new g(e)}}},(function(e){e.clientErrorHasActivities=function(e){return!!e.performanceActivities},(r=t=e.ClientErrorStrings||(e.ClientErrorStrings={})).ClientErrorCode="Client Error Code",r.ErrorCode="Error Code",r.ErrorDetails="Error Details",r.HttpRequestId="HTTP Request Id",r.JobId="Job Id",r.ODataErrorMessage="OData Error Message",r.StackTrace="Stack Trace",r.QueryCacheMissErrorCode="QueryCacheMissError",i.prototype.getDetails=function(e){return{resourceKey:"ClientError_UnknownClientErrorKey",message:e.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:e.get("ClientError_UnknownClientErrorKey"),errorInfoValue:e.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:t.ClientErrorCode,errorInfoValue:this.code}]}};var t,r=i;function i(e){this.code=e,this.ignorable=!1}e.UnknownClientError=r;var r={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},o={RLSNotAuthorizedForModel:r,NotAuthorizedForImpersonation:r};function n(e,t,r,i,n){this.statusCode=e,this.httpRequestId=t,this.detailedErrorCode=r,this.detailedMessage=i,this.source=n}e.isHttpClientError=function(e){return null!=e&&void 0!==e.code&&void 0!==e.ignorable&&void 0!==e.requestId&&void 0!==e.getDetails},Object.defineProperty(n.prototype,"code",{get:function(){return this.detailedErrorCode||"HttpClientError"},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"httpStatusCode",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),n.prototype.getDetails=function(e){var t,r,i,n=this.detailedErrorCode&&o[this.detailedErrorCode];return n?(t=n.localizedMessage,r=n.additionalInfoKey||"DsrError_Key",i=n.additionalInfoValue||t||"DsrError_UnknownErrorValue",n=n.helpLinkInfo,{resourceKey:r,message:t?e.get(t):null,displayableErrorInfo:[{errorInfoKey:e.get(r),errorInfoValue:e.get(i)}],debugErrorInfo:[],helpLink:n&&n.helpLink,helpLinkType:n&&n.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}):this.getGenericErrorDetails(e)},n.prototype.getGenericErrorDetails=function(e){e={resourceKey:"DsrError_Key",message:null,displayableErrorInfo:[{errorInfoKey:e.get("DsrError_Key"),errorInfoValue:e.get("DsrError_UnknownErrorValue")},{errorInfoKey:e.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:t.HttpRequestId,errorInfoValue:this.httpRequestId},{errorInfoKey:t.ClientErrorCode,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&e.debugErrorInfo&&e.debugErrorInfo.push({errorInfoKey:t.ErrorDetails,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&e.debugErrorInfo&&e.debugErrorInfo.push({errorInfoKey:t.ErrorCode,errorInfoValue:this.detailedErrorCode}),e},e.HttpClientError=n;a.prototype.getDetails=function(e){return{message:"",displayableErrorInfo:[]}},a.Code="IgnorableClientError";r=a;function a(e){this.debugInfo=e,this.code=a.Code,this.ignorable=!0}e.IgnorableClientError=r;__extends(l,s=r),Object.defineProperty(l.prototype,"queryCancellationSource",{get:function(){return this.cancellationSource},enumerable:!1,configurable:!0});var s,r=l;function l(e){var t=s.call(this,"QueryCancellationClientError: "+e)||this;return t.cancellationSource=e,t}function u(){this.errorCode=t.QueryCacheMissErrorCode}e.QueryCancellationClientError=r,Object.defineProperty(u.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),u.prototype.getDetails=function(e){return{message:e.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:e.get("ServiceError_QueryExecutionRequired"),errorInfoValue:e.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:e.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:t.ClientErrorCode,errorInfoValue:this.code}]}},e.QueryCacheMissError=u})(powerbi=powerbi||{}),(function(e){var u,l;function n(e,t){e.indexOf(t)<0&&e.push(t)}function t(e,t){for(var r=[],i=0;i<t;++i)r.push(e[i]);return r}function r(e){return e.withId=i,e}function i(e){return l.findWithId(this,e)}function o(e){return e.withName=c,e}function a(e,t){t=s(e,t);if(0<=t)return e[t]}function s(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r].name===t)return r;return-1}function c(e){return a(this,e)}function d(e,t){var r=e.length;if(2<=r)for(var i=1;i<r;i++)if(0<t(e[i-1],e[i]))return!1;return!0}function g(e,t,r){for(var i=new Array(t.length),n=0,o=e;n<o.length;n++){for(var a=o[n],s=!1,l=0;l<t.length;l++)if(!i[l]&&r(a,t[l])){i[l]=s=!0;break}if(!s)return!1}return!0}(l=u=e.ArrayExtensions||(e.ArrayExtensions={})).intersect=function(e,t){for(var r=[],i=e.length-1;0<=i;--i)-1!==t.indexOf(e[i])&&r.push(e[i]);return r},l.diff=function(e,t){for(var r=[],i=e.length-1;0<=i;--i){var n=e[i];-1===t.indexOf(n)&&r.push(n)}return r},l.distinct=function(e){for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];-1===t.indexOf(n)&&t.push(n)}return t},l.union=function(e,t){for(var r=0,i=t.length;r<i;++r)n(e,t[r])},l.unionSingle=n,l.range=function(e,t,r){for(var i=[],n=t;n<=r;++n)i.push(e[n]);return i},l.take=t,l.copy=function(e){return t(e,e.length)},l.sequenceEqual=function(e,t,r){var i;if((e=e||null)===(t=t||null))return!0;if(!!e!=!!t)return!1;var n=null!=(i=null==e?void 0:e.length)?i:0;if(n!==(null==t?void 0:t.length))return!1;for(var o=0;o<n&&r(null==e?void 0:e[o],null==t?void 0:t[o]);)++o;return o===n},l.emptyToNull=function(e){return e&&0===e.length?null:e},l.indexOf=function(e,t){for(var r=0,i=e.length;r<i;++r)if(t(e[r]))return r;return-1},l.rotate=function(e,t){var r;return 0===t?e.slice():(r=e.slice(t),Array.prototype.push.apply(r,e.slice(0,t)),r)},l.createWithId=function(){return r([])},l.extendWithId=r,l.findWithId=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n.id===t)return n}},l.createWithName=function(){return o([])},l.extendWithName=o,l.findItemWithName=a,l.indexWithName=s,l.insertSorted=function(e,t){for(var r=e.length-1;0<=r;r--){var i=e[r]-t;if(0==i)return!1;if(!(0<i))return e.splice(r+1,0,t),!0}return e.unshift(t),!0},l.insertUnique=function(e,t){for(var r=0,i=e;r<i.length;r++)if(i[r]===t)return!1;return e.push(t),!0},l.removeFirst=function(e,t){return!((t=e.indexOf(t))<0||(e.splice(t,1),0))},l.clear=function(e){if(e)for(;0<e.length;)e.pop()},l.isUndefinedOrEmpty=function(e){return!e||0===e.length},l.swap=function(e,t,r){var i=e[t];e[t]=e[r],e[r]=i},l.isInArray=function(e,t,r){return _.some(e,(function(e){return r(e,t)}))},l.isArrayOrInheritedArray=function(e){for(var t=e;null!=t;){if(_.isArray(t))return!0;t=Object.getPrototypeOf(t)}return!1},l.isSorted=d,l.isSortedNumeric=function(e,t){return d(e,t?function(e,t){return t-e}:function(e,t){return e-t})},l.ensureArray=function(e){return _.isArray(e)?e:[e]},l.hasUniqueNames=function(e){return _.uniqBy(e,(function(e){return e.name})).length===e.length},l.rewriteArray=function(e,t){for(var r,i=0,n=e.length;i<n;i++){var o=e[i],a=t(o);(r=o!==a?r||l.take(e,i):r)&&r.push(a)}return r||e},l.spliceArray=function(e,t){for(var r,i=0,n=e.length;i<n;i++){var o=e[i],a=t(o,i),s=1!==a.length||a[0]!==o;(r=s&&!r?l.take(e,i):r)&&(s?r.push.apply(r,a||[]):r.push(o))}return r||e},l.filterArray=function(e,t){for(var r,i=0,n=e.length;i<n;i++){var o=e[i],a=t(o,i);(r=a?r:r||l.take(e,i))&&a&&r.push(o)}return r||e},l.hasSameValues=function(e,t,r){return _.isEmpty(e)||_.isEmpty(t)?_.isEmpty(e)&&_.isEmpty(t):e.length===t.length&&g(e,t,r)},l.isSubset=function(e,t,r){return _.isEmpty(e)||_.isEmpty(t)?_.isEmpty(e)&&_.isEmpty(t):!(e.length>t.length)&&g(e,t,r)},l.getLongestCommonSubsequence=function(e,t,r){if(_.isEmpty(e)||_.isEmpty(t))return[];for(var i=[],n=0;n<=e.length;n++){i[n]=[];for(var o=0;o<=t.length;o++)0===n||0===o?i[n][o]=0:r(e[n-1],t[o-1])?i[n][o]=i[n-1][o-1]+1:i[n][o]=Math.max(i[n-1][o],i[n][o-1])}for(var a=[],s=i[e.length][t.length],l=e.length,u=t.length;0<l&&0<u;)r(e[l-1],t[u-1])?(a[s-1]=e[l-1],l--,u--,s--):i[l-1][u]>i[l][u-1]?l--:u--;return a},(e.DictionaryExtensions||(e.DictionaryExtensions={})).rewriteDictionary=function(e,t){for(var r,i=Object.getOwnPropertyNames(e),n=0,o=i.length;n<o;n++){var a=i[n],s=e[a],l=t(a,s);(r=s!==l?r||_.pick(e,u.take(i,n)):r)&&(r[a]=l)}return r||e}})(jsCommon=jsCommon||{}),(function(e){(e=e.DomFactory||(e.DomFactory={})).div=function(){return $("<div></div>")},e.span=function(){return $("<span></span>")},e.checkbox=function(){return $('<input type="checkbox"/>')},e.ul=function(){return $("<ul></ul>")},e.li=function(){return $("<li></li>")},e.button=function(){return $('<input type="button"/>')},e.select=function(){return $("<select></select>")},e.textBox=function(){return $('<input type="text"/>')},e.img=function(){return $("<img/>")},e.iframe=function(){return $("<iframe></iframe>")}})(InJs=InJs||{}),(function(e){var i;function t(e,t){if(void 0===t&&(t=i.DEFAULT_PRECISION_IN_DECIMAL_DIGITS),e&&isFinite(e))return(e=i.log10(Math.abs(e)))<i.MIN_EXP?0:(e=Math.max(e-t,1-i.NEGATIVE_POWERS.length),i.pow10(e))}function r(e,t){var r;return 0===(t=n(t,i.DEFAULT_PRECISION))||0===e?e:(r=Math.round(e/t)*t,0<(e=Math.round(i.log10(Math.abs(e))-i.log10(t))+1)&&e<16?parseFloat(r.toPrecision(e)):r)}function n(e,t,r){return void 0!==e?e:(r?t?i.getPrecision(Math.min(Math.abs(t),Math.abs(r))):i.getPrecision(r):i.getPrecision(t))||i.DEFAULT_PRECISION}(i=e.Double||(e.Double={})).MIN_VALUE=-Number.MAX_VALUE,i.MAX_VALUE=Number.MAX_VALUE,i.MIN_EXP=-308,i.MAX_EXP=308,i.EPSILON=1e-323,i.DEFAULT_PRECISION=1e-4,i.DEFAULT_PRECISION_IN_DECIMAL_DIGITS=12,i.LOG_E_10=Math.log(10),i.POSITIVE_POWERS=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],i.NEGATIVE_POWERS=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0],i.pow10=function(e){return 0<=e?e<i.POSITIVE_POWERS.length?i.POSITIVE_POWERS[e]:1/0:0<(e=-e)&&e<i.NEGATIVE_POWERS.length?i.NEGATIVE_POWERS[e]:0},i.log10=function(e){return 1<e&&e<1e16?e<1e8?e<1e4?e<100?e<10?0:1:e<1e3?2:3:e<1e6?e<1e5?4:5:e<1e7?6:7:e<1e12?e<1e10?e<1e9?8:9:e<1e11?10:11:e<1e14?e<1e13?12:13:e<1e15?14:15:1e-16<e&&e<1?e<1e-8?e<1e-12?e<1e-14?e<1e-15?-16:-15:e<1e-13?-14:-13:e<1e-10?e<1e-11?-12:-11:e<1e-9?-10:-9:e<1e-4?e<1e-6?e<1e-7?-8:-7:e<1e-5?-6:-5:e<.01?e<.001?-4:-3:e<.1?-2:-1:(e=Math.log(e)/i.LOG_E_10,i.floorWithPrecision(e))},i.getPrecision=t,i.equalWithPrecision=function(e,t,r){return r=n(r,e,t),e===t||Math.abs(e-t)<r},i.lessWithPrecision=function(e,t,r){return r=n(r,e,t),e<t&&Math.abs(e-t)>r},i.lessOrEqualWithPrecision=function(e,t,r){return r=n(r,e,t),e<t||Math.abs(e-t)<r},i.greaterWithPrecision=function(e,t,r){return r=n(r,e,t),t<e&&Math.abs(e-t)>r},i.greaterOrEqualWithPrecision=function(e,t,r){return r=n(r,e,t),t<e||Math.abs(e-t)<r},i.floorWithPrecision=function(e,t){t=null!=t?t:i.DEFAULT_PRECISION;var r=Math.round(e);return Math.abs(e-r)<t?r:Math.floor(e)},i.ceilWithPrecision=function(e,t){t=n(t,i.DEFAULT_PRECISION);var r=Math.round(e);return Math.abs(e-r)<t?r:Math.ceil(e)},i.floorToPrecision=function(e,t){return 0===(t=n(t,i.DEFAULT_PRECISION))||0===e?e:Math.floor(e/t)*t},i.ceilToPrecision=function(e,t){return 0===(t=n(t,i.DEFAULT_PRECISION))||0===e?e:Math.ceil(e/t)*t},i.roundToPrecision=r,i.ensureInRange=function(e,t,r){return null==e?e:e<t?t:r<e?r:e},i.round=function(e){return.5+e<<0},i.project=function(e,t,r,i,n){return 0===r||0===n?t<=e&&e<=t+r?i:NaN:i+(e-t)/r*n},i.removeDecimalNoise=function(e){return r(e,t(e))},i.isInteger=function(e){return null!==e&&e%1==0},i.toIncrement=function(e,t){return Math.round(e/t)*t},i.detectPrecision=n})(powerbi=powerbi||{}),(function(t){var g,r,i=powerbi.Double;function n(e){if(0<=e.indexOf("#")){if(7===e.length){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);if(!(null==t||t.length<4))return{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}}else if(4===e.length){t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(e);if(!(null==t||t.length<4))return{R:parseInt(t[1]+t[1],16),G:parseInt(t[2]+t[2],16),B:parseInt(t[3]+t[3],16)}}}else if(0<=e.indexOf("rgb(")){t=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(e);if(!(null==t||t.length<4))return{R:parseInt(t[1],10),G:parseInt(t[2],10),B:parseInt(t[3],10)}}else if(0<=e.indexOf("rgba(")){t=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(e);if(!(null==t||t.length<5))return{R:parseInt(t[1],10),G:parseInt(t[2],10),B:parseInt(t[3],10),A:parseFloat(t[4])}}}function o(e){var t,r,i,n,o;if(e)return r=e.R/255,i=e.G/255,e=e.B/255,o=Math.min(r,Math.min(i,e)),o=(n=Math.max(r,Math.max(i,e)))-o,e=0===n||0==o?t=0:(t=o/n,r===n?(i-e)/o:i===n?2+(e-r)/o:4+(r-i)/o),(e/=6)<0&&(e+=1),{H:e,S:t,V:n}}function a(e){var t,r,i,n=e.H,o=e.S,a=e.V;if(0===o)i=r=t=a;else{var s=a*(1-o),l=a*(1-o*(e=(e=6*n)-(n=Math.floor(e)))),u=a*(1-o*(1-e));switch(n){case 0:t=a,r=u,i=s;break;case 1:t=l,r=a,i=s;break;case 2:t=s,r=a,i=u;break;case 3:t=s,r=l,i=a;break;case 4:t=u,r=s,i=a;break;case 5:t=a,r=s,i=l;break;default:return}}return{R:Math.floor(255*t),G:Math.floor(255*r),B:Math.floor(255*i)}}function s(e){return _.isNumber(e.A)?Math.round(100*(1-e.A)):0}function l(e){return"#"+d(e.R)+d(e.G)+d(e.B)}function u(e,t,r){return t=i.ensureInRange(t,0,1),{R:c(e.R,t,r.R),G:c(e.G,t,r.G),B:c(e.B,t,r.B)}}function c(e,t,r){return t=i.ensureInRange(t,0,1),e=i.ensureInRange(e,0,255),r=i.ensureInRange(r,0,255),Math.round(t*e+(1-t)*r)}function d(e){e=i.ensureInRange(e,0,255).toString(16).toUpperCase();return 1===e.length?"0"+e:e}function h(e,t,r,i,n){return t===Number.NEGATIVE_INFINITY&&r===Number.POSITIVE_INFINITY?Math.round((n+i)/2):t===Number.NEGATIVE_INFINITY?n:r===Number.POSITIVE_INFINITY?i:Math.round(i+(e-t)*(n-i)/(r-t))}(g=t.Color||(t.Color={})).rotate=function(e,t){if(0===t)return e;if(e=n(e)){e=o(e);if(e){e=(function(e,t){t=e.H+t;return{H:1<t?t-1:t,S:e.S,V:e.V}})(e,t);if(e){t=a(e);if(t)return l(t)}}}},g.normalizeToHexString=function(e){if(e=n(e))return l(e)},g.parseColorString=n,g.darken=function(e,t){return t=Math.floor(t),{R:Math.max(0,e.R-t),G:Math.max(0,e.G-t),B:Math.max(0,e.B-t)}},g.setOpacity=function(e,t){return e.A=t,e},g.getTransparencyFromString=function(e){if(e=n(e))return s(e)},g.getTransparencyFromRGb=s,g.convertTransparencyToOpacity=function(e){return 1-e/100},g.rgbString=function(e){return null==e.A?"rgb("+e.R+","+e.G+","+e.B+")":"rgba("+e.R+","+e.G+","+e.B+","+e.A+")"},g.hexString=l,g.isHexString=function(e){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(e)},g.isHtmlSafeColor=function(e){return null!=e&&!t.StringExtensions.hasDanglingLeftParenthesis(e)&&-1===e.indexOf("'")&&-1===e.indexOf('"')},g.isFullHexString=function(e){return/^#[0-9a-f]{6}$/i.test(e)},g.isValidCssString=function(e){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(e)},g.hexBlend=function(e,t,r){if(e=n(e),r=n(r),e&&r)return l(u(e,t,r))},g.rgbBlend=u,g.channelBlend=c,g.calculateHighlightColor=function(e,t,r){if(e=o(e))return(1<t+r||t<=0||r<=0)&&(t=.8,r=.2),e.V<t?e.V=e.V+r:e.V=e.V-r,(t=a(e))?l(t):void 0},g.createLinearColorScale=function(l,u,c){var d=u.map((function(e){return g.parseColorString(e)}));return function(e){if(null==e&&(e=0),!isNaN(e)){if(c){var t=_.last(l);if(null==t||t<=e)return _.last(u);if(e<=l[0])return u[0]}for(var r,i,n,o,a=1,s=l.length;a<s;a++){if(r=l[a-1],i=l[a],r===Number.NEGATIVE_INFINITY&&isNaN(i))return u[a];if(isNaN(r)||isNaN(i))return;if(e===i)return u[a];if(r<=e&&e<=i){n=d[a-1],o=d[a];break}}if(void 0!==r&&void 0!==i&&void 0!==n&&void 0!==o)return t={R:h(e,r,i,n.R,o.R),G:h(e,r,i,n.G,o.G),B:h(e,r,i,n.B,o.B)},g.hexString(t)}}},g.createMonochromeScale=function(e,t){if(void 0===t&&(t=.25),e=o(n(e))){e.V=e.V>1-t?1-t:e.V<t?t:e.V;var r=_.clone(e),i=_.clone(e),e=(r.V=Math.min(e.V+t,1),i.V=Math.max(e.V-t,0),a(r)),t=a(i);if(e&&t)return r=l(e),i=l(t),g.createLinearColorScale([0,1],[r,i],!0)}},g.shadeColor=function(e,t){var e=parseInt(e.slice(1),16),r=t<0?0:255,t=t<0?-1*t:t,i=e>>16,n=e>>8&255,e=255&e;return"#"+(16777216+65536*(Math.round((r-i)*t)+i)+256*(Math.round((r-n)*t)+n)+(Math.round((r-e)*t)+e)).toString(16).slice(1)},r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},g.getWebColorValue=function(e){return r[e.toLocaleLowerCase()]}})(jsCommon=jsCommon||{}),(function(e){(e=e.visuals||(e.visuals={})).ForegroundColorName="foreground",e.ForegroundColorDarkName="foregroundDark",e.BackgroundColorName="background",e.BackgroundNeutralName="backgroundNeutral"})(powerbi=powerbi||{}),(function(e){function r(e){throw new Error("Contract check failed: "+e)}(e=e.contract||(e.contract={})).check=function(e,t){!0!==e&&r(t||"condition: "+e)},e.checkValue=function(e,t){null==e&&r(t||"condition: "+e)},e.checkNonEmpty=function(e,t){_.isEmpty(e)&&r(t||"condition: "+e)},e.fail=r})(powerbi=powerbi||{}),(function(e){(e=e.CssConstants||(e.CssConstants={})).createClassAndSelector=function(e){return{class:e,selector:"."+e}},e.styleAttribute="style",e.pixelUnits="px",e.heightProperty="height",e.widthProperty="width",e.topProperty="top",e.bottomProperty="bottom",e.leftProperty="left",e.rightProperty="right",e.marginProperty="margin",e.marginTopProperty="margin-top",e.marginLeftProperty="margin-left",e.marginRightProperty="margin-right",e.displayProperty="display",e.backgroundProperty="background",e.backgroundColorProperty="background-color",e.backgroundRepeatProperty="background-repeat",e.backgroundSizeProperty="background-size",e.backgroundImageProperty="background-image",e.textShadowProperty="text-shadow",e.textAlignProperty="text-align",e.borderProperty="border",e.borderTopProperty="border-top",e.borderTopWidthProperty="border-top-width",e.borderBottomWidthProperty="border-bottom-width",e.borderLeftWidthProperty="border-left-width",e.borderRightWidthProperty="border-right-width",e.borderRadiusProperty="border-radius",e.borderColorProperty="border-color",e.boxShadowProperty="box-shadow",e.fontFamilyProperty="font-family",e.fontSizeProperty="font-size",e.fontWeightProperty="font-weight",e.fontStyleProperty="font-style",e.textDecoration="text-decoration",e.colorProperty="color",e.opacityProperty="opacity",e.paddingProperty="padding",e.paddingTopProperty="padding-top",e.paddingLeftProperty="padding-left",e.paddingRightProperty="padding-right",e.paddingBottomProperty="padding-bottom",e.positionProperty="position",e.maxWidthProperty="max-width",e.minWidthProperty="min-width",e.overflowProperty="overflow",e.overflowXProperty="overflow-x",e.overflowYProperty="overflow-y",e.transformProperty="transform",e.webkitTransformProperty="-webkit-transform",e.cursorProperty="cursor",e.visibilityProperty="visibility",e.fillProperty="fill",e.absoluteValue="absolute",e.zeroPixelValue="0px",e.autoValue="auto",e.hiddenValue="hidden",e.noneValue="none",e.blockValue="block",e.inlineBlockValue="inline-block",e.transparentValue="transparent",e.normalValue="normal",e.boldValue="bold",e.italicValue="italic",e.underlineValue="underline",e.visibleValue="visible",e.tableRowValue="table-row",e.coverValue="cover",e.pointerValue="pointer",e.scrollValue="scroll"})(jsCommon=jsCommon||{}),(function(e){var t;(t=e.Deprecated||(e.Deprecated={})).escape=window.escape,t.unescape=window.unescape,(e.API||(e.API={})).deprecated=function(e){}})(jsCommon=jsCommon||{}),(function(e){var t=e.Errors||(e.Errors={});r=Error,__extends(n,r);var r,i=n;function n(e,t){t=r.call(this,t)||this;return t.name=e,t}__extends(l,o=i);var o,a,s=l;function l(e,t,r){e=o.call(this,e,t+": "+r)||this;return e.argument=r,e}function u(e){return a.call(this,e)||this}t.argumentNull=function(e){return new s("argumentNull","Argument was null",e)},t.argumentUndefined=function(e){return new s("argumentUndefined","Argument was undefined",e)},t.argumentOutOfRange=function(e){return new s("argumentOutOfRange","Argument was out of range",e)},t.notImplementedException=function(e){return new i("notImplementedException","not implemented: "+e)},a=Error,__extends(u,a),t.TypeAssertionError=u,e.getStackTrace=function(t){var r,i;void 0===t&&(t=1);try{throw new Error}catch(e){null!=(r=e.stack)&&((i=r.split("\n")).splice(1,t),r=i.join("\n"))}return r}})(jsCommon=jsCommon||{}),(function(e){var i;function t(e){this.families=e}function n(e){if(e)return e.replace(/['"]+/g,"")}function o(e){if(e)return i.FamilyQuote+e.replace(/['"]+/g,"")+i.FamilyQuote}e=e.visuals||(e.visuals={}),(i=e.Font||(e.Font={})).FamilyQuote='"',i.FamilyDelimiter=", ",Object.defineProperty(t.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),t.prototype.getFamily=function(){return this.families.join(i.FamilyDelimiter)},Object.defineProperty(t.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),t.prototype.getCSS=function(){return this.families?this.families.map((function(e){return-1<e.indexOf(" ")?"'".concat(e,"'"):e})).join(", "):null},e=t,i.FamilyInfo=e,i.Family={light:new e(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new e(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new e(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new e(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new e(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new e(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new e(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new e(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new e(["PowerVisuals"])},i.FamilyMap={"Segoe UI Light":i.Family.light,"Segoe UI Semilight":i.Family.semilight,"Segoe UI":i.Family.regular,"Segoe UI Semibold":i.Family.semibold,"Segoe (Bold)":i.Family.bold,"Segoe UI Bold":i.Family.bold,DIN:i.Family.regularSecondary,"DIN Light":i.Family.lightSecondary,Heading:i.Family.light,Body:i.Family.regular},i.normalizeFamily=function t(e,r){return void 0===r&&(r=!0),null==e||""===e?e:-1===e.indexOf(",")?-1===e.indexOf(" ")?e:(r?o:n)(e):e.split(",").map((function(e){return t(e.trim(),r)})).join(i.FamilyDelimiter)},i.unQuoteFamily=n,i.quoteFontFamily=o})(powerbi=powerbi||{});var jqueryExtensionsLoaded=!1;function focusable(e,t){var r,i,n=e.nodeName.toLowerCase();return"area"===n?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&!!(i=$("img[usemap='#"+r+"']")[0])&&$(i).is(":visible")&&visible(i)):(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||t)&&$(e).is(":visible")&&visible(e)}function visible(e){var t=$(e);if(!t||!t.length)return!1;for(var r=t.css("visibility");"inherit"===r;)r=(t=t.parent()).css("visibility");return"hidden"!==r}function generateNativePromiseForPbiPromise(e){return new Promise(e)}initializeJQeuryExtensions(),(function(e){function t(e){this.factoryMethod=e}t.prototype.getValue=function(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value},e.Lazy=t})(jsCommon=jsCommon||{}),(function(e){function a(e,t){return null===e?null:(e=Object.create(e),t&&t(e),e)}(e=e.Prototype||(e.Prototype={})).inherit=a,e.inheritSingle=function(e){var t;return null===e?null:(t=Object.getPrototypeOf(e))!==Object.prototype&&t!==Array.prototype?e:a(e)},e.overrideArray=function(e,t){if(null!=e){for(var r,i=0,n=e.length;i<n;i++){var o=t(e[i]);o&&((r=r||a(e))[i]=o)}return r}},e.copyPrototypeDeep=function e(t,r){if(t&&r&&"object"==typeof t)for(var i in Object.getPrototypeOf(t)!==Object.getPrototypeOf(r)&&(r.__proto__=t.__proto__),t)e(t[i],r[i])}})(powerbi=powerbi||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).shapes||(e.shapes={})).Orientation||(e.Orientation={}))[e.Clockwise=0]="Clockwise",e[e.Counterclockwise=1]="Counterclockwise",e[e.Colinear=2]="Colinear"})(powerbi=powerbi||{}),(function(e){var n;(e=e.Formatting||(e.Formatting={})).findDateFormat=function(e,t,r){switch(t){case"m":t="M";break;case"O":case"o":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":t="S";break;case"u":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t="F";break;case"y":case"Y":switch(r){case"default":case"en":case"en-US":t="MMMM, yyyy";break;default:t="Y"}}return{value:e,format:t}},e.fixDateTimeFormat=function(e){if(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),n=n||["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map((function(e){return{r:new RegExp("%"+e+"(?!"+e+")","g"),s:e}})),-1!==e.indexOf("%")&&2<e.length)for(var t=0,r=n;t<r.length;t++){var i=r[t];e=e.replace(i.r,i.s)}return e}})(jsCommon=jsCommon||{}),(function(e){(e.performance||(e.performance={})).now=void 0!==window.performance&&window.performance.now&&window.performance.timeOrigin?function(){return window.performance.now()+window.performance.timeOrigin}:Date.now})(jsCommon=jsCommon||{}),(function(e){r.prototype.initialize=function(t){this.runOutsideAngular=function(e){return t.runOutsideAngular(e)}},r.prototype.setInterval=function(e,t){return this.runOutsideAngular((function(){return setInterval(e,t)}))},r.prototype.setTimeout=function(e,t){return this.runOutsideAngular((function(){return setTimeout(e,t)}))},r.prototype.requestAnimationFrame=function(e){this.runOutsideAngular((function(){return requestAnimationFrame(e)}))},r.prototype.runOutsideAngular=function(e){return e()};var t=r;function r(){}e.NoAngularZone=t,e.Zone=new t})(jsCommon=jsCommon||{}),(function(n){var r,h,t,i=window,o=window.location.protocol+"//"+window.location.host,a="__DataProperty__5941464455110614";function s(e,t){return null!=e&&-1!==e.indexOf(t)}function l(e){return g.throwIfNullOrUndefined(e,g,"normalizeCase","value"),e.toUpperCase()}function u(e){return _.isEmpty(e)||_.isEmpty(e.trim())}function c(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}n.data=function(e,t,r){if(null!=e){var i=e[a];if(!i){if(void 0===r)return;i=e[a]={}}return void 0===r?i[t]:i[t]=r}},(e=n.HttpConstants||(n.HttpConstants={})).ApplicationOctetStream="application/octet-stream",e.JsonContentType="application/json",e.JpegContentType="image/jpeg",e.Blob="blob",e.ArrayBuffer="arraybuffer",e.Accept="Accept",h=r=n.StringExtensions||(n.StringExtensions={}),t=new RegExp("[<>]","g"),h.format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0];if(!u(r))for(var i=0;i<e.length-1;i++)var n=new RegExp("\\{"+i+"\\}","gm"),r=r.replace(n,e[i+1]);return r},h.equalIgnoreCase=function(e,t){return h.normalizeCase(e)===h.normalizeCase(t)},h.startsWith=function(e,t){return null!=e&&0===e.indexOf(t)},h.startsWithIgnoreCase=function(e,t){return h.startsWith(h.normalizeCase(e),h.normalizeCase(t))},h.contains=s,h.containsIgnoreCase=function(e,t){return null!=e&&s(l(e),l(t))},h.normalizeCase=l,h.isNullOrUndefinedOrWhiteSpaceString=u,h.containsWhitespace=function(e){return g.throwIfNullOrUndefined(e,g,"containsWhitespace","str"),/\s/.test(e)},h.isWhitespace=function(e){return""===_.trim(e)},h.trimTrailingWhitespace=function(e){return g.throwIfNullOrUndefined(e,g,"trimTrailingWhitespace","str"),e.replace(/\s+$/,"")},h.trimWhitespace=function(e){return g.throwIfNullOrUndefined(e,g,"trimWhitespace","str"),e.replace(/^\s+/,"").replace(/\s+$/,"")},h.removeAllWhitespace=function(e){return e.replace(/\s/g,"")},h.replaceAll=function(e,t,r){return t?(t=c(t),e.replace(new RegExp(t,"gi"),r)):e},h.ensureUniqueNames=function(e){for(var t={},r=0,i=e;r<i.length;r++)t[i[r]]=!1;for(var n=[],o=0,a=e;o<a.length;o++){var s=a[o],l=s;if(t[l])for(var u=0;void 0!==t[l];)l=s+"."+ ++u;n.push(l),t[l]=!0}return n},h.findUniqueName=function(e,t,r,i){var n,o,a=i?" ":"",s=r||0,l=t;for(r&&(l+=a+r);n=e,o=l,_.isSet(n)?n.has(o):n[o];)l=t+a+ ++s;return l},h.constructNameFromList=function(e,t,r){for(var i=[],n=!1,o=0,a=0,s=e;a<s.length;a++){var l=s[a];if(o+l.length>r&&0<i.length){n=!0;break}i.push(l),o+=l.length}return t=i.join(e=" "+t+" "),n&&(t+=e+"..."),t},h.constructCommaSeparatedList=function(e,t,r){if(!e||0===e.length)return"";null==r&&(r=Number.MAX_VALUE);for(var i=Math.min(r,e.length),n=[],o=0;o<2;o++)for(var a="{"+o+"}",s="_|_<"+o+">_|_",l=0;l<i;l++)-1<e[l].indexOf(a)&&(e[l]=e[l].replace(a,s),n.push({targetValue:a,replaceValue:s}));for(var u="",l=0;l<i;l++)u=0===l?e[l]:h.format(t.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),u,e[l]);for(var c=0,d=n;c<d.length;c++)var g=d[c],u=u.replace(g.replaceValue,g.targetValue);return u},h.escapeStringForRegex=c,h.normalizeFileName=function(e){return e.replace(/[\<\>\:"\/\\\|\?*]/g,"")},h.stringifyAsPrettyJSON=function(e){return JSON.stringify(e)},h.deriveClsCompliantName=function(e,t){return 0<(e=e.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"")).length?e:t},h.stripTagDelimiters=function(e){return e.replace(t,"")},h.encodeHtml=function(e,t){return void 0===t&&(t=!1),e&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(/([^!-~ ])/g,(function(e){return"&#"+e.charCodeAt(0)+";"})),t?e.replace(/\ /g,"&nbsp;"):e)},h.hasDanglingLeftParenthesis=function(e){for(var t=0,r=0,i=0,n=e;i<n.length;i++)switch(n[i]){case"[":t++;break;case"(":r++;break;case"]":0<t&&t--;break;case")":0<r&&r--}return 0<t||0<r},h.isSingleCodePointChar=function(e){return 0<=e&&e<=55295||57344<=e&&e<=65535};p.ensureError=function(e){return e=e instanceof Error?e:new Error(e?e.message||e.toString():"<null-or-undefined> error was thrown")},p.throwIfNullOrUndefined=function(e,t,r,i){null===e?this.throwException(n.Errors.argumentNull(this.getComponentName(t)+r+"."+i)):void 0===e&&this.throwException(n.Errors.argumentUndefined(this.getComponentName(t)+r+"."+i))},p.throwIfNullOrEmptyString=function(e,t,r,i){this.throwIfNullOrUndefined(e,t,r,i),e.length<1&&this.throwException(n.Errors.argumentOutOfRange(this.getComponentName(t)+r+"."+i))},p.valueOrDefault=function(e,t){return null!=e?e:t},p.urlCombine=function(e,t){return this.throwIfNullOrUndefined(e,p,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(t,p,"urlCombine","path"),r.isNullOrUndefinedOrWhiteSpaceString(t)?e:r.isNullOrUndefinedOrWhiteSpaceString(e)?t:("/"===(e=e).charAt(e.length-1)?"/"===t.charAt(0)&&(t=t.slice(1)):"/"!==t.charAt(0)&&(t="/"+t),e+t)},p.getAbsoluteUri=function(e){this.throwIfNullOrUndefined(e,p,"getAbsoluteUri","path");return e=e&&-1===e.indexOf("http")?this.urlCombine(i.clusterUri,e):e},p.getStaticResourceUri=function(e){this.throwIfNullOrUndefined(e,p,"getStaticResourceUri","path");return e=e&&-1===e.indexOf("http")?this.urlCombine(o,e):e},p.getComponentName=function(e){return e?(typeof e).toString()+".":""},p.throwException=function(e){throw n.Trace.error("Throwing exception: ".concat(JSON.stringify(e)),null==e.stack),this.ensureError(e)},p.createClassSelector=function(e){return this.throwIfNullOrEmptyString(e,null,"CreateClassSelector","className"),"."+e},p.createIdSelector=function(e){return this.throwIfNullOrEmptyString(e,null,"CreateIdSelector","id"),"#"+e},p.clampValue=function(e,t,r){return e=Math.min(e,r),e=Math.max(e,t)},p.generateGuid=function(){for(var e="",t=0,t=0;t<32;t+=1){var r=16*Math.random()|0;switch(t){case 8:case 12:case 16:case 20:e+="-"}e+=r.toString(16)}return e},p.getCookieValue=function(e){for(var t=0,r=document.cookie.split(";");t<r.length;t++){var i=r[t],n=i.split("=");if(0<n.length&&n[0].trim()===e)return i.substr(i.indexOf("=")+1)}return null},p.getDomainForUrl=function(e){e=this.getHrefObjectFromUrl(e);return e.prop("protocol")+"//"+e.prop("hostname")},p.getHostNameForUrl=function(e){e=this.getHrefObjectFromUrl(e);return this.urlCombine(e.prop("hostname"),e.prop("pathname"))},p.getUrlWithoutQueryString=function(e){e=this.getHrefObjectFromUrl(e);return e.prop("protocol")+"//"+this.urlCombine(e.prop("host"),e.prop("pathname"))},p.getProtocolFromUrl=function(e){return this.getHrefObjectFromUrl(e).prop("protocol").replace(":","")},p.getHrefObjectFromUrl=function(e){return $("<a>").prop("href",e)},p.getDateFromWcfJsonString=function(e,t){var r,i;return!_.isEmpty(e)&&(i=e.indexOf("("),r=e.indexOf(")"),-1!==i)&&-1!==r?(e=parseInt(e.substring(i+1,r),10),isNaN(e)&&(e=0),t?new Date(e):((i=new Date(0)).setUTCMilliseconds(e),i)):null},p.isValidImageDataUrl=function(e){return this.ImageDataRegex.test(e)},p.encodeUriForImageDataSvg=function(e){if(this.ImageDataSvgRegex.test(e)){var t=e.indexOf(",");if(-1<t){var r=e.substring(0,t).split(";"),t=e.substring(t+1);try{t=decodeURIComponent(t)}catch(e){}return"".concat(r[0],",").concat(encodeURIComponent(t))}}return e},p.isLocalUrl=function(e){return _.startsWith(e,"data:")||_.startsWith(e,"blob:")},p.extractFileNameFromPath=function(e){return e.replace(/^.*[\\\/]/,"")},p.is64BitOperatingSystem=function(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")},p.isWindows10=function(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")},p.parseNumber=function(e,t){var r;return null===e?null:void 0===e||(r=Number(e),!isFinite(r)&&isNaN(r)&&"number"!=typeof e&&"NaN"!==e)?t:r},p.getURLParamValue=function(e){e=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==e?null:e[1]||0},p.getLocalTimeZoneString=function(){var e=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),t=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset(),e=-720==e&&-720==t?"Dateline Standard Time":-660==e&&-660==t?"UTC-11":-600==e&&-600==t?"Hawaiian Standard Time":-480==e&&-540==t?"Alaskan Standard Time":-420==e&&-480==t?"Pacific Standard Time":-420==e&&-420==t?"US Mountain Standard Time":-360==e&&-420==t?"Mountain Standard Time":-360==e&&-360==t?"Central America Standard Time":-300==e&&-360==t?"Central Standard Time":-300==e&&-300==t?"SA Pacific Standard Time":-240==e&&-300==t?"Eastern Standard Time":-270==e&&-270==t?"Venezuela Standard Time":-240==e&&-240==t?"SA Western Standard Time":-240==e&&-180==t?"Central Brazilian Standard Time":-180==e&&-240==t?"Atlantic Standard Time":-180==e&&-180==t?"Montevideo Standard Time":-180==e&&-120==t?"E. South America Standard Time":-150==e&&-210==t?"Mid-Atlantic Standard Time":-120==e&&-120==t?"SA Eastern Standard Time":0==e&&0==t?"UTC":60==e&&0==t?"GMT Standard Time":60==e&&120==t?"Namibia Standard Time":120==e&&60==t?"Romance Standard Time":120==e&&120==t?"South Africa Standard Time":180==e&&120==t?"GTB Standard Time":180==e&&180==t?"E. Africa Standard Time":240==e&&180==t?"Russian Standard Time":240==e&&240==t?"Arabian Standard Time":270==e&&210==t?"Iran Standard Time":270==e&&270==t?"Afghanistan Standard Time":300==e&&240==t?"Pakistan Standard Time":300==e&&300==t?"West Asia Standard Time":330==e&&330==t?"India Standard Time":345==e&&345==t?"Nepal Standard Time":360==e&&300==t?"N. Central Asia Standard Time":360==e&&360==t?"Central Asia Standard Time":390==e&&390==t?"Myanmar Standard Time":420==e&&360==t?"North Asia Standard Time":420==e&&420==t?"SE Asia Standard Time":480==e&&420==t?"North Asia East Standard Time":480==e&&480==t?"China Standard Time":540==e&&480==t?"Yakutsk Standard Time":540==e&&540==t?"Tokyo Standard Time":570==e&&570==t?"Cen. Australia Standard Time":600==e&&600==t?"E. Australia Standard Time":600==e&&660==t?"AUS Eastern Standard Time":660==e&&600==t?"Tasmania Standard Time":660==e&&660==t?"West Pacific Standard Time":690==e&&690==t?"Central Pacific Standard Time":720==e&&660==t?"Magadan Standard Time":720==e&&720==t?"Fiji Standard Time":720==e&&780==t?"New Zealand Standard Time":780==e&&780==t?"Tonga Standard Time":"UTC";return e},p.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),p.ImageDataSvgRegex=new RegExp("data:(image/svg)");var e,d,g=p;function p(){}function f(){}function m(){var e=powerbi.ensureJsCommon();return e.StringExtensions||(e.StringExtensions={}),e.StringExtensions}function y(){var r;v||(r=jsCommon.StringExtensions.format,m().format=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.apply(void 0,e)},v=!0)}n.Utility=g,f.compareVersions=function(e,t){for(var r=e.split(".").map(parseFloat),i=t.split(".").map(parseFloat),n=Math.max(r.length,i.length),o=0;o<n;o++){var a=r[o]||0,s=i[o]||0;if(s<a)return 1;if(a<s)return-1}return 0},n.VersionUtility=f,e=n.PerfTimer||(n.PerfTimer={}),d=0,e.start=function(t){var r,i,n=window.performance;return n&&n.mark?(r="Begin "+(t=++d+" "+t),n.mark(r),i=jsCommon.performance.now(),function(){var e="End "+t;return n.mark(e),n.measure&&n.measure(t,r,e),jsCommon.performance.now()-i}):function(){return 0}},e.mark=function(e){var t=window.performance;t&&t.mark&&(e=++d+" "+e,t.mark(e))},e.logTime=function(e){var t=jsCommon.performance.now();return e(),jsCommon.performance.now()-t},(n.DeferUtility||(n.DeferUtility={})).deferUntilNextFrame=function(e){var t,r,i;return window.requestAnimationFrame||(window.requestAnimationFrame=function(e){return setTimeout(e,20)}),function(){t||(t=!0,r=arguments,i=this,jsCommon.Zone.requestAnimationFrame((function(){t=!1,e.apply(i,r)})))}},(n.NumberExtensions||(n.NumberExtensions={})).isDecimal=function(e){return!(null==e)&&e%1!=0},n.ensureJsCommonStringExtensions=m,n.exportStringExtensionsFormatToGlobal=y;var v=!1;y()})(jsCommon=jsCommon||{}),(function(i){var n="BubblingEventListeners",o="BubblingEventManager";function e(e){this.root=e,this.registeredBubblingEvents={},this.registeredCapturedEvents={},this.rootNode=e.node(),i.data(this.rootNode,o,this)}function a(e,t){var r=i.data(e,n);if(!r){if(!t)return;i.data(e,n,r={})}return r}function s(e){for(var t in e){t=e[t];t&&t()}}function l(e,t){for(var r=e.node(),i=d3.event,n=i.target;n;){var o=a(n,!1);if(o&&(o=o[i.type])&&t(o),n===r)break;n=n.parentElement}}function u(e){var t=[];l(e,(function(e){e=e.captured;e&&t.push(e)}));for(var r=t.length;0<r--;)s(t[r])}function c(e){l(e,(function(e){e=e.bubbling;e&&s(e)}))}e.prototype.ensureEventRegistered=function(e,t){var r,i=this,n=t?this.registeredCapturedEvents:this.registeredBubblingEvents;n[e]||(n[e]=!0,r=t?u:c,n="".concat(e,".").concat(o),t&&(n+="Capture"),this.root.on(n,(function(){r(i.root)}),t))},e.prototype.on=function(e,t,r,i){var n=-1===(o=(n=t).indexOf("."))?n:n.substr(0,o),o=(this.ensureEventRegistered(n,!!i),a(e,!0));o&&((e=o[n])||(o[n]=e={bubbling:{},captured:{}}),(i?e.captured:e.bubbling)[t]=r)},i.BubblingEventManager=e})(jsCommon=jsCommon||{}),(function(t){var s=jsCommon.PerfTimer;t.createModuleLoader=function(e,t,r,i){return new n(e,t,r,i)},t.setCreateModuleLoader=function(e){t.createModuleLoader=e};d.isModuleES6=function(e){return!!d.lazyLoadES6[e.javascript]},d.prototype.require=function(e){var t=this;if(e.javascript){var r=d.lazyLoadES6[e.javascript];if(r)return this.loadModuleES6(e,r)}var i,n=e.javascript;if(n)i=n;else{if(!e.css)return this.promiseFactory.resolve();i=e.css.join(",")}var o,a,s,l,u,e=m(this.cssPaths,e.css,null!=(r=this.options.rtl)&&r,this.promiseFactory),c=this.active,r=c[i];return r||(n?(o=(function(e,t){for(var r in t)if(_.includes(t[r],e))return r})(n,this.bundles),a=this.promiseFactory.defer(!0),s=function(){return g(t.options.rjs,t.telemetry,n,(function(e){return a.resolve(e)}),(function(e){return a.reject(e)}))},null==o||this.options.rjs.defined(o)?s():(l=jsCommon.performance.now(),u=setTimeout((function(){jsCommon.Trace.warning("Module bundle load is delayed",void 0,{bundleName:o,duration:jsCommon.performance.now()-l}),u=setTimeout((function(){jsCommon.Trace.warning("Module bundle load is very delayed",void 0,{bundleName:o,duration:jsCommon.performance.now()-l}),u=void 0}),t.options.delayedBundleLongInterval||1e6)}),this.options.delayedBundleShortInterval||3e4),g(this.options.rjs,this.telemetry,o,(function(){u||jsCommon.Trace.warning("Module bundle eventually loaded",void 0,{bundleName:o,duration:jsCommon.performance.now()-l}),clearTimeout(u),s()}),(function(e){return a.reject(e)}))),r=this.promiseFactory.all([e,a.promise]).then((function(){return a.promise})),(c[i]=r).finally((function(){return delete c[i]})),r):((c[i]=e).finally((function(){return delete c[i]})),e.then((function(){return t.promiseFactory.resolve()}))))},d.prototype.loadModuleES6=function(e,t){var r=e.javascript,i=t(),n=this.active;return e.css?(e=this.promiseFactory.all([m(this.cssPaths,e.css,null!=(t=this.options.rtl)&&t,this.promiseFactory),i]).then((function(){return i})),(n[r]=e).then((function(){return delete n[r]})).catch((function(){return delete n[r]})),e):((n[r]=i).then((function(){return delete n[r]})).catch((function(){return delete n[r]})),i)},d.lazyLoadES6={};var n=d;function d(e,t,r,i){this.promiseFactory=e,this.telemetry=t,this.options=__assign(__assign({},i),{rjs:i&&i.rjs||window.require}),this.active={},this.options.rjs,r?(this.options.rjs.config(r),this.cssPaths=r.cssPaths,this.bundles=r.bundles):(this.cssPaths={},this.bundles={})}t.ModuleLoader=n;var l=".js",u=".min.js";function g(e,t,i,n,r){var o,a;e.defined(i)?n(e(i)):(o=s.start("moduleLoader.require('".concat(i,"')")),a=null==t?void 0:t.startEvent(),e([i],(function(){var e=window.parseTimeMarkers,t=i,e=(e&&((r=e[i+u])?t+=u:(r=e[i+l])&&(t+=l)),{start:r&&r.start,end:r&&r.end}),r={start:r&&r.startEval,end:r&&r.endEval};null!=a&&a.resolve(t,e,r),o(),n(arguments[0])}),(function(e){null!=a&&a.reject(i),o(),r(e)})))}var e=document,c=e.head,h=c.getElementsByTagName("script")[0],p=e.createElement("link"),f=[];function m(e,t,r,i){if(!t)return i.resolve();for(var n=["quill.core"],o=[],a=0,s=t;a<s.length;a++){var l=s[a],u=-1!==n.indexOf(l),l=e[l]||l;_.endsWith(l,".css")||(l+=".css"),r&&!u&&-1===l.indexOf(".rtl")&&(l=_.endsWith(l,".min.css")?l.replace(".min.css",".rtl.min.css"):l.replace(".css",".rtl.css")),-1===f.indexOf(l)&&(f.push(l),u=(function(e,t){var r=p.cloneNode(),i=t.defer();r.addEventListener("load",(function(){return i.resolve()})),r.addEventListener("error",(function(){return i.reject()})),r.href=e,h?c.insertBefore(r,h):c.appendChild(r);return i.promise})(l,i),o.push(u))}return o.length?i.all(o):i.resolve()}p.setAttribute("rel","stylesheet")})(powerbi=powerbi||{}),(function(e){var t;e.createJQueryPromiseFactory=function(){return new r},(e=e.JQueryPromiseState||(e.JQueryPromiseState={}))[e.pending=0]="pending",e[e.resolved=1]="resolved",e[e.rejected=2]="rejected";i.prototype.defer=function(e){return new n($.Deferred())},i.prototype.reject=function(e){var t=this.defer();return t.reject(e),t.promise},i.prototype.resolve=function(e){var t=this.defer();return t.resolve(e),t.promise},i.prototype.all=function(e){return this.when.apply(this,e).then((function(){return Array.prototype.slice.call(arguments)}))},i.prototype.allSettled=function(e){var r=this.defer(),i=e.length;if(0<i)for(var n=0,o=[],t=0;t<i;t++)!(function(t){e[t].then((function(e){o[t]={value:e,type:0}})).catch((function(e){o[t]={value:e,type:1}})).finally((function(){++n===i&&r.resolve(o)}))})(t);else r.resolve([]);return r.promise},i.prototype.when=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,i=e.map((function(e){return e&&e.promise?e.promise:e}));return 1===i.length?null!=(r=i[0])&&r.pipe?new a(r):this.resolve(r):new a($.when.apply($,i))};var r=i;function i(){}o.prototype.resolve=function(e){this.deferred.resolveWith(this.deferred.promise,[e])},o.prototype.reject=function(e){this.deferred.rejectWith(this.deferred.promise,[e])};var n=o;function o(e){this.deferred=e,this.promise=new a(e.promise())}s.prototype.then=function(e,t){e=s.wrapCallback(e),t=s.wrapCallback(t),e=e?this.promise.pipe(e,t):this.promise.pipe(null,t);return new s(e)},s.prototype.catch=function(e){return this.then(null,e)},s.prototype.finally=function(e){return this.promise.always(s.wrapCallback(e)),this},s.wrapCallback=function(t){return t&&function(){var e=t.apply(this,arguments);return e instanceof s?e.promise:e}};var a=s;function s(e){this[t]="Promise",this.promise=e}t=Symbol.toStringTag})(powerbi=powerbi||{}),(function(e){r.prototype.getData=function(e){try{if(localStorage){var t=localStorage[e];if(t)return JSON.parse(t)}}catch(e){}},r.prototype.setData=function(e,t){try{localStorage&&(void 0===t?localStorage.removeItem(e):localStorage[e]=JSON.stringify(t))}catch(e){}},r.prototype.setJSONData=function(e,t){try{localStorage&&(void 0===t?localStorage.removeItem(e):localStorage[e]=t)}catch(e){}},r.prototype.forEach=function(e){try{if(localStorage)for(var t=localStorage.length;0<t--;)e(localStorage.key(t))}catch(e){}};var t=r;function r(){}n.prototype.getData=function(e){return this.cache[e]},n.prototype.setData=function(e,t){var r=this;this.cache[e]=t,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout((function(){return r.clearCache()}),this.clearCacheInterval))},n.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},n.defaultClearCacheInterval=864e5;var i=n;function n(e){this.cache={},this.clearCacheInterval=null!=e?e:n.defaultClearCacheInterval,this.clearCache()}e.EphemeralStorageService=i,e.localStorageService=new t,e.ephemeralStorageService=new i})(powerbi=powerbi||{}),(function(r){var c,d,a,e="2",i="`",n=i+i,t=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function o(e){var t={storage:c,directory:d,ensuredCaches:a};return c=e&&e.storage||r.localStorageService,d=e&&e.directory,a=e&&e.ensuredCaches||{},t}function s(e,t){return i+e+"-"+t}function g(e){return new RegExp("^"+i+e+"-")}function h(e,t){return n+e+"-"+t}(r.resetLocalStorageCache=o)(),r.ensureCache=function(e,t,r,i){f();var n,o=a[e];return o||(C("information","ensuring localStorageCache ".concat(e)),(n=d.caches[e])&&n.version!==t&&(C("information","Clearing old version cache ".concat(e)),S(e),delete d.caches[e],m(),n=void 0),o=new l(e,r,i),a[e]=o,n)||(C("information","Adding initial cache metadata for ".concat(e)),d.caches[e]={version:t,size:0,nextId:1,added:Date.now()},m(),v()),o},r.clearCache=function(e){S(e),f();var t=d.caches[e];t&&(a[e]?d.caches[e]={version:t.version,size:0,nextId:1,added:Date.now()}:delete d.caches[e],m())},r.clearExpiredCacheEntries=function(n,o){if(n){var a=g(n),s=d.caches[n],l=[],u=0;c.forEach((function(e){var t,r,i;a.test(e)&&(t=c.getData(e))&&t.added&&((i=null)!=(r=t.id)&&(i=h(n,r)),p(s.added)-t.added>o)&&(i&&l.push(i),l.push(e),u+=t.size)})),s.size-=u,m();for(var e=0,t=l;e<t.length;e++)c.setData(t[e],void 0)}};u.prototype.getData=function(e){if(!this.disabled){var e=s(this.cacheName,e),t=c.getData(e),r=t&&t.id;if(null!=r){var r=h(this.cacheName,r),i=d.caches[this.cacheName];if(p(i.added)-t.added<=this.maxAge)return c.getData(r);i.size-=t.size,m(),c.setData(r,void 0),c.setData(e,void 0)}}},u.prototype.setData=function(e,t){var r;this.disabled||((d=y())?(e=s(this.cacheName,e),r=c.getData(e),void 0===t?this.removeEntry(e,r):this.setEntry(e,r,t)):this.disabled=!0)},u.prototype.removeEntry=function(e,t){var r;t&&(null!=(r=t.size)&&(d.caches[this.cacheName].size-=r,m()),null!=(r=t.id))&&c.setData(h(this.cacheName,r),void 0),c.setData(e,void 0)},u.prototype.setEntry=function(e,t,r){var i,n,o=d.caches[this.cacheName];o?(i=p(o.added),(n=t&&t.id)?(t.added=i,o.size-=t.size):t={id:n=o.nextId++,added:i,size:0},i=h(this.cacheName,n),n=JSON.stringify(r),t.size=n.length+e.length+i.length,t.size+=JSON.stringify(t).length,t.size+=1,o.size+=t.size,o.size>this.maxSpace&&(S(this.cacheName),o.added=Date.now(),o.nextId=2,t.added=p(o.added),t.id=1,i=h(this.cacheName,t.id),t.size=n.length+e.length+i.length,t.size+=JSON.stringify(t).length,t.size+=1,o.size=t.size),m(),c.setData(e,t),c.setJSONData(i,n)):(this.disabled=!0,C("error","Did't find cache metadata for ".concat(this.cacheName," in directory ").concat(JSON.stringify(d))))};var l=u;function u(e,t,r){this.cacheName=e,this.maxSpace=t,this.maxAge=r,this.disabled=!1}function p(e){return Math.floor((Date.now()-e)/6e4)}function f(){if(d=y()){if(d.version===e)return;C("information","Clearing old verion ".concat(d.version," localStorage entries")),b((function(e){return 0<e.length&&e[0]===i}))}else C("information","Clearing obsolete localStorage entries"),b((function(e){return t.test(e)}));d={version:e,caches:{}},m(),v()}function m(){c.setData(n,d)}function y(){return c.getData(n)}function v(){try{var e=y();_.isEqual(e,d)||C("warning","Cache directory different after save: saved=".concat(JSON.stringify(d)," reloaded=").concat(JSON.stringify(e)))}catch(e){C("error","Error checking cache directory after save: ".concat(e&&e.stack?e.stack:JSON.stringify(e)))}}function S(e){var t=g(e),r=new RegExp("^"+n+e+"-");b((function(e){return t.test(e)||r.test(e)}))}function b(t){var r=[];c.forEach((function(e){t(e)&&r.push(e)}));for(var e=0,i=r;e<i.length;e++)c.setData(i[e],void 0)}function C(e,t){var r=window.jsCommon;r&&r.Trace&&jsCommon.Trace[e]("localStorageCache: "+t)}})(powerbi=powerbi||{}),(function(a){a.LocalVisualStorageBucketKeyPrefix="LVSTORAGE:",a.LocalVisualStorageBucketVersion="1",a.LocalVisualStorageBucketSizeLimit=102400,a.LocalVisualStorageBucketTimeToLive=43200;var n=a.ensureCache(a.LocalVisualStorageBucketKeyPrefix,a.LocalVisualStorageBucketVersion,a.LocalVisualStorageBucketSizeLimit,a.LocalVisualStorageBucketTimeToLive);a.resetLocalVisualStorage=function(e){n=e};t.prototype.loadDictionary=function(e,t,r){e=this.getStorageKey(e,t,r=void 0===r?!1:r);return n.getData(e)||{}},t.prototype.saveDictionary=function(e,t,r,i){e=this.getStorageKey(e,t,i=void 0===i?!1:i);n.setData(e,_(r).isEmpty()?void 0:r)},t.prototype.getStorageKey=function(e,t,r){return r?t:btoa((null!=e?e:"NA")+"|"+t)},t.prototype.getData=function(t,r,i){var n=null;try{var e=this.loadDictionary(t,r),n=atob(e[btoa(i)])}catch(e){n=this.getAndRemoveLegacyData(t,r,i)}return n},t.prototype.setData=function(e,t,r,i){try{var n=this.loadDictionary(e,t),o=(n[btoa(r)]=btoa(i),JSON.stringify(n).length);return o<=a.LocalVisualStorageBucketSizeLimit&&this.saveDictionary(e,t,n),a.LocalVisualStorageBucketSizeLimit-o}catch(e){}return 0},t.prototype.remove=function(e,t,r){try{var i=this.loadDictionary(e,t);i[btoa(r)]=void 0,this.saveDictionary(e,t,i)}catch(e){}},t.prototype.getAndRemoveLegacyData=function(e,t,r){var i=this.loadDictionary("",t,!0),n=i[r];return void 0!==n&&(i[r]=void 0,this.saveDictionary("",t,i,!0),this.setData(e,t,r,n)),n};var e=t;function t(){}a.localVisualStorageService=new e})(powerbi=powerbi||{}),(function(){(powerbi||(powerbi={})).createPbiTimeout=function(e,t){return new r(e,t)};e.prototype.defer=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];this.deferMethod?this.deferMethod(e):this.deferInternal(e,t,r)},e.prototype.drain=function(){this.drainMethod?this.drainMethod():this.drainQueue()},e.prototype.deferInternal=function(e,t){for(var r=this,i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];this.processing||this.asyncQueue.length||setTimeout((function(){0<r.asyncQueue.length&&r.drainQueue()}),t),this.asyncQueue.push({callback:e,args:i})},e.prototype.drainQueue=function(){this.processing=!0;for(var e=0,t=this.asyncQueue;e<t.length;e++){var r=t[e];r.callback(r.args)}this.asyncQueue.length=0,this.processing=!1};var r=e;function e(e,t){this.deferMethod=e,this.drainMethod=t,this.asyncQueue=[],this.processing=!1}})(),(function(e){function t(){this.timeoutHandles={},this.animationFrameHandles={}}t.prototype.scheduleTimeoutTask=function(e,t){var r=this,i=setTimeout((function(){e(),r.removeTimeoutTask(i)}),t);return this.timeoutHandles[i]=i},t.prototype.scheduleAnimationFrameTask=function(e){var t=this,r=requestAnimationFrame((function(){e(),t.removeAnimationFrameTask(r)}));return this.animationFrameHandles[r]=r},t.prototype.removeTimeoutTask=function(e){delete this.timeoutHandles[e],this.checkOnIdle()},t.prototype.removeAnimationFrameTask=function(e){delete this.animationFrameHandles[e],this.checkOnIdle()},t.prototype.clear=function(){for(var e in this.timeoutHandles)clearTimeout(this.timeoutHandles[e]);for(var e in this.timeoutHandles={},this.animationFrameHandles)cancelAnimationFrame(this.animationFrameHandles[e]);this.animationFrameHandles={}},t.prototype.cancelAnimationFrame=function(e){cancelAnimationFrame(e),this.removeAnimationFrameTask(e)},t.prototype.cancelTimeoutTask=function(e){clearTimeout(e),this.removeTimeoutTask(e)},t.prototype.checkOnIdle=function(){this.onIdle&&_.isEmpty(this.timeoutHandles)&&_.isEmpty(this.animationFrameHandles)&&this.onIdle()},e.WorkScheduler=t})(powerbi=powerbi||{}),(function(e){var e=e.visuals||(e.visuals={}),t=jsCommon.ArrayExtensions;function r(e,t,r){this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=e||o.getDefaultColors(),this.sentimentColors=t||o.defaultSentimentColors,this.gradientColors=r||o.defaultGradientColors,this.scales={},(e=this.basePickerColors).push.apply(e,_.take(this.colors,8))}r.prototype.getColorScaleByKey=function(e){var t=this.scales[e];return void 0===t&&(t=this.createScale(),this.scales[e]=t),t},r.prototype.getNewColorScale=function(){return this.createScale()},r.prototype.getColorByIndex=function(e){return this.colors[e]},r.prototype.getSentimentColors=function(){return this.sentimentColors},r.prototype.getGradientColors=function(){return this.gradientColors},r.prototype.getBasePickerColors=function(){return this.basePickerColors},r.prototype.getBaseColors=function(){return _.take(this.colors,8)},r.prototype.getAllColors=function(){return this.colors},r.prototype.createScale=function(){return i.createFromColors(this.colors)},e.DataColorPalette=r,n.prototype.getColor=function(e){return this.scale(e)},n.prototype.clearAndRotateScale=function(){var e=this.scale.domain().length,e=t.rotate(this.scale.range(),e);this.scale=d3.scaleOrdinal().range(e)},n.prototype.clone=function(){return new n(this.scale.copy())},n.prototype.getDomain=function(){return this.scale.domain()},n.createFromColors=function(e){return new n(d3.scaleOrdinal().range(e))};var i=n;function n(e){this.scale=e}e.D3ColorScale=i,a.getDefaultColors=function(){if(!a.defaultColors){a.defaultColors=[];for(var e=a.defaultBaseColors,t=0;t<a.colorSectorCount;++t)for(var r=0,i=e.length;r<i;++r){var n=jsCommon.Color.rotate(e[r].value,t/a.colorSectorCount);a.defaultColors.push({value:null!=n?n:e[r].value})}}return a.defaultColors},a.colorSectorCount=12,a.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],a.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},a.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}};var o=a;function a(){}e.DefaultColorManager=o})(powerbi=powerbi||{}),(function(e){var r,i;function l(e){var t=r.Font.FamilyMap[e];return t?t.family:e}function u(e,t,r,i,n){if(e?null==e.color&&(e.color=r||t.color):e={color:r||t.color},null==e.fontSize&&(r=_.toNumber(t.fontSize),e.fontSize=(null==i?r:Math.round(r*i*10)/10)+""),null==e.fontWeight&&null!=n)switch(n){case"700":e.fontWeight="700";break;case"600":e.fontWeight="600";break;default:e.fontWeight=t.fontWeight}return e.fontFace=e.fontFace||t.fontFace,e}r=e.visuals||(e.visuals={}),(i=r.visualStyles||(r.visualStyles={})).create=function(e,t){return{isHighContrast:!(e={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:(e=void 0===e?new r.DataColorPalette:e).getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:e}),colorPalette:e,textClasses:i.generateTextClasses(e,t),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}},i.generateTextClasses=function(e,t,r){var i;if(void 0===r&&(r=!1),(function(e){if(!e)return;for(var t=["color","fontSize","fontFace"],r=0,i=["callout","header","label","title"];r<i.length;r++){var n=e[i[r]];if(!n)return;for(var o=0,a=t;o<a.length;o++)if(!n[a[o]])return}return 1})(t)){t.callout.fontFace=l(null!=(i=t.callout.fontFace)?i:""),t.label.fontFace=l(null!=(i=t.label.fontFace)?i:""),t.title.fontFace=l(null!=(i=t.title.fontFace)?i:""),t.header.fontFace=l(null!=(i=t.header.fontFace)?i:"");var n={callout:t.callout,label:t.label,title:t.title,header:t.header,largeTitle:u(t.largeTitle,t.title,void 0,7/6),dataTitle:u(t.dataTitle,t.title,e.dataColors.getColorByIndex(0)),boldLabel:u(t.boldLabel,t.label,void 0,void 0,"700"),largeLabel:u(t.largeLabel,t.label,void 0,1.2),largeLightLabel:u(t.largeLightLabel,t.label,e.foregroundNeutralSecondary,1.2),lightLabel:u(t.lightLabel,t.label,e.foregroundNeutralSecondary),semiboldLabel:u(t.semiboldLabel,t.label,void 0,void 0,"600"),smallLabel:u(t.smallLabel,t.label,void 0,.9),smallLightLabel:u(t.smallLightLabel,t.label,e.foregroundNeutralSecondary,.9),smallDataLabel:u(t.smallDataLabel,t.label,e.dataColors.getColorByIndex(0),.9)};if(r){var o=e.foreground.value,a=void 0;for(a in n){var s=n[a];s.color?s.color.value=o:s.color={value:o}}}return n}},i.getDefaultTextClasses=function(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}},i.getThemeColor=function(e,t){var r=(e=e.colorPalette).dataColors.getGradientColors(),i=e.dataColors.getSentimentColors();return null==(e=e[t]||r[t]||i[t])?void 0:e.value},i.getThemeDataColor=function(e,t){return null==(e=e.colorPalette.dataColors.getBasePickerColors()[t])?void 0:e.value},i.getThemeIcon=function(e,t){return e.icons[t]}})(powerbi=powerbi||{}),(function(i){function e(e){this.onReEntry=e,this.active=0}e.prototype.enqueue=function(e){var t=this,r=(this.tail||(this.tail=new i.Deferred,(function(o){__awaiter(this,void 0,i.Promise,(function(){var t,r,i,n;return __generator(this,(function(e){switch(e.label){case 0:return[4,o];case 1:t=e.sent(),o=t.next,e.label=2;case 2:return e.trys.push([2,4,,5]),i=(r=t.result).resolve,[4,t.callback()];case 3:return i.apply(r,[e.sent()]),[3,5];case 4:return n=e.sent(),t.result.reject(n),[3,5];case 5:return[3,0];case 6:return[2]}}))}))})(this.tail.promise)),this.onReEntry&&0<this.active&&this.onReEntry(),new i.Deferred),e={next:r.promise,callback:e,result:new i.Deferred},r=(this.tail.resolve(e),this.tail=r,e.result.promise);return++this.active,r.finally((function(){return--t.active})),r},i.AsyncSerializer=e})(powerbi=powerbi||{}),(function(e){var e=e.visuals||(e.visuals={}),i=e.builder||(e.builder={}),n=jsCommon.StringExtensions;function o(e){return void 0===e.control.properties.descriptor}function s(e){return!!e.type}function t(e){return"card"===e.type}function r(e){return"group"===e.type}function a(e){return"slice"===e.type}function k(e,t){return e+"-"+t}function l(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.cards=e}function u(e){return new c(e)}i.isCompositeSlice=o,i.isPlaceholder=s,i.isFormattingCardPlaceholder=t,i.isFormattingGroupPlaceholder=r,i.isFormattingSlicePlaceholder=a,i.isHostPlaceholder=function(e){return"host"===e.source},i.isHostFormattingCardPlaceholder=t,i.isHostFormattingGroupPlaceholder=r,i.isHostFormattingSlicePlaceholder=a,i.buildHostFormattingCardPlaceholder=function(e,t){return{name:e,source:"host",type:"card",suppressDefaultValue:t}},i.buildHostFormattingGroupPlaceholder=function(e,t){return{name:e,source:"host",type:"group",suppressDefaultValue:t}},i.buildHostFormattingSlicePlaceholder=function(e,t){return{name:e,source:"host",type:"slice",suppressDefaultValue:t}},i.isVisualPlaceholder=function(e){return"visual"===e.source},i.isVisualFormattingCardPlaceholder=t,i.isVisualFormattingGroupPlaceholder=r,i.isVisualFormattingSlicePlaceholder=a,i.buildVisualFormattingCardPlaceholder=function(e,t){return{name:e,source:"visual",type:"card",suppressDefaultValue:t}},i.buildVisualFormattingGroupPlaceholder=function(e,t){return{name:e,source:"visual",type:"group",suppressDefaultValue:t}},i.buildVisualFormattingSlicePlaceholder=function(e,t){return{name:e,source:"visual",type:"slice",suppressDefaultValue:t}},i.generateUidForCard=function(e){return e},i.generateUidForGroup=function(e,t){return e+"-".concat(t)},i.generateUidForSlice=k,i.getPropertyIdentifiers=function(e){var t,r={};for(t in e)if(_.isString(t)){var i,n={};for(i in e[t].properties)_.isString(i)?n[i]={objectName:t,propertyName:i}:'Expected propertyName "'.concat(i,'" to be a string');r[t]=n}else'Expected objectName "'.concat(t,'" to be a string');return r},l.prototype.addCards=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return(e=this.cards).push.apply(e,t),this},l.prototype.withWarnings=function(e){return this.warnings=e,this},l.prototype.build=function(){var a=this;return{cards:this.cards.reduce((function(e,t){if(t){t=_.isFunction(t)?t():t;if(t)if(_.isArray(t))for(var r=0,i=t;r<i.length;r++){var n=i[r];n&&(s(n)||(o=a.shouldDisableCard(n,a.disabledCards))&&(n=__assign(__assign({},n),{disabled:o.disabled,disabledReason:o.disabledReason})),e.push(n))}else{var o;s(t)||(o=a.shouldDisableCard(t,a.disabledCards))&&(t=__assign(__assign({},t),{disabled:o.disabled,disabledReason:o.disabledReason})),e.push(t)}}return e}),[]),warnings:this.warnings}},l.prototype.withDisabledCards=function(e){return this.disabledCards=e,this},l.prototype.shouldDisableCard=function(e,t){t=null==t?void 0:t[e.uid];if(t)return{disabled:!0,disabledReason:t.disabledReason}},i.FormattingModelBuilder=l,(e=i.FormattingUidBuilder||(i.FormattingUidBuilder={})).withCard=u,e.fromGroup=function(e){return u((e=e.uid.split(" "))[0]).withGroup(e[1])},d.prototype.build=function(){return n.removeAllWhitespace(this.cardName)},d.prototype.withGroup=function(e){return void 0===e&&(e="default"),'Already have group "'.concat(e,'"'),this.groupNames.add(n.removeAllWhitespace(e)),new g(this,e)};var c=d;function d(e){this.cardName=e,this.groupNames=new Set}i.FormattingCardUidBuilder=c,h.getGroupUid=function(e){e=e.split("-");return"".concat(e[e.length-1])},h.prototype.build=function(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var e=n.removeAllWhitespace(this.groupName);return"".concat(this.cardUid,"-").concat(e)},h.prototype.withSlice=function(e){return this.sliceNames.add(e),new y(this,e)},h.prototype.withContainer=function(e){return new R(this,e)};var g=h;function h(e,t){this.cardUidBuilder=e,this.groupName=t,this.sliceNames=new Set}i.FormattingGroupUidBuilder=g,f.prototype.build=function(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var e=n.removeAllWhitespace(this.itemName);return"".concat(this.containerUid,"-").concat(e)},f.prototype.withSlice=function(e){return this.sliceNames.add(e),new y(this,e)},f.prototype.withGroup=function(e){return this.groupNames.add(e=void 0===e?"default":e),new g(this,e)};var p=f;function f(e,t){this.containerUidBuilder=e,this.itemName=t,this.sliceNames=new Set,this.groupNames=new Set}i.FormattingContainerItemUidBuilder=p,m.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var e=n.removeAllWhitespace(this.containerName);return"".concat(this.groupUid,"-").concat(e)},m.prototype.withContainerItem=function(e){return new p(this,e)};var R=m;function m(e,t){this.groupUidBuilder=e,this.containerName=t}i.FormattingContainerUidBuilder=R,v.getGroupAndSliceUid=function(e){e=e.split("-");return"".concat(e[e.length-2],"-").concat(e[e.length-1])},v.getSliceUid=function(e){e=e.split("-");return"".concat(e[e.length-1])},v.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var e=n.removeAllWhitespace(this.sliceName);return"".concat(this.groupUid,"-").concat(e)};var y=v;function v(e,t){this.groupUidBuilder=e,this.sliceName=t}function S(e,t,r,i,n,o){void 0===n&&(n=!0),this.uidBuilder=e,this.displayName=t,this.localize=i,this.localizeDisplayName=n,this.analyticsPane=o,this.suppressDisplayName=!1,this.groups=[],r&&(_.isArray(r)?this.revertToDefaultDescriptors=r:this.revertToDefaultDescriptors=_.values(r))}i.FormattingSliceUidBuilder=y,S.prototype.withDisabled=function(e,t){return this.disabled=e,this.disabledReason=t?this.localize(t):void 0,this},S.prototype.withDisabledLocalized=function(e,t){return this.disabled=e,this.disabledReason=t,this},S.prototype.withDescription=function(e){return this.description=e,this},S.prototype.withAliasName=function(e){var t;return this.aliasNames=null!=(t=this.aliasNames)?t:[],this.aliasNames.push(this.localize(e)),this},S.prototype.withGroups=function(e){return this.groups=e,this},S.prototype.addGroupPlaceholder=function(e){return this.groups.push(e),this},S.prototype.addGroup=function(e,t){e=this.getGroupBuilder(e);return t(e),this.groups.push(e.build()),this},S.prototype.getGroupBuilder=function(e){var t=this;return new b(this.uidBuilder.withGroup(e=void 0===e?"default":e),function(e){return t.localize(e)})},S.prototype.addTopLevelToggle=function(e,t,r){var e=this.uidBuilder.withGroup("topLevelToggle").withSlice(e),t=t(),i=this.localize,t=new B({control:t,localize:i,uidBuilder:e});return r&&r(t),this.topLevelToggle=t.build(),this},S.prototype.assertDescriptorsAreAdded=function(){var t,r,i;this.revertToDefaultDescriptors&&(t=[],this.groups.forEach((function(e){!s(e)&&e.slices&&e.slices.forEach((function(e){s(e)||t.push(e)}))})),r=new Set,i="revertToDefaultDescriptors must contain descriptors of all the slices in the card",this.revertToDefaultDescriptors.forEach((function(e){return r.add(e.objectName+"-"+e.propertyName)})),t.forEach((function(e){var t;s(e)||(o(e)?(t=e.control.properties,Object.keys(t).forEach((function(e){var e=null==(e=t[e])?void 0:e.descriptor;void 0!==e&&(e=e.objectName+"-"+e.propertyName,"".concat(i," ").concat(e?"- missing '".concat(e,"'"):""))}))):(e=e.control.properties.descriptor,e=e.objectName+"-"+e.propertyName,"".concat(i," ").concat(e?"- missing '".concat(e,"'"):"")))})))},S.prototype.build=function(){window.DEBUG&&this.assertDescriptorsAreAdded();var e=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:e,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}},i.FormattingCardBuilder=S,C.prototype.withContainer=function(e){return this.container=e,this},C.prototype.withContainerDisabled=function(e){return this.containerDisabled=e=void 0===e?!0:e,this.sliceWithContainer=!0,this},C.prototype.withDescription=function(e){return this.description=e,this},C.prototype.withAliasName=function(e){var t;return this.aliasNames=null!=(t=this.aliasNames)?t:[],this.aliasNames.push(this.localize(e)),this},C.prototype.withInheritDisabled=function(e){return this.inheritDisabled=e,this},C.prototype.withDelaySaveSlices=function(){return this.delaySaveSlices=!0,this},C.prototype.withCollapsible=function(e){return this.collapsible=e=void 0===e?!0:e,this},C.prototype.withDisplayName=function(e,t){return this.displayName=(t=void 0===t?!0:t)?e?this.localize(e):void 0:e,this.suppressDisplayName=!1,this},C.prototype.withSlices=function(e){return this.slices=e,this},C.prototype.withDisabled=function(e,t){return this.disabled=e,this.disabledReason=t?this.localize(t):void 0,this},C.prototype.addSlicePlaceholder=function(e){return this.slices.push(e),this},C.prototype.addSlice=function(e){return this.slices.push(e),this},C.prototype.addSimpleSlice=function(e,t,r){e=this.getSliceName(e),t=_.isFunction(t)?t():t,e=this.getSimpleSliceBuilder(e,t);return r&&r(e),this.slices.push(e.build()),this},C.prototype.addCompositeSlice=function(e,t,r,i){r=_.isFunction(r)?r():r,e=this.getCompositeSliceBuilder(e,t,r);return i&&i(e),this.slices.push(e.build()),this},C.prototype.addSlices=function(e){return this.slices=this.slices.concat(e),this},C.prototype.getSimpleSliceBuilder=function(e,t){var e=this.getSliceName(e),e=this.uidBuilder.withSlice(e),r=this.localize;return new x({control:t,localize:r,uidBuilder:e})},C.prototype.addTopLevelToggle=function(e,t,r){var e=this.uidBuilder.withSlice(e),t=t(),i=this.localize,t=new B({control:t,localize:i,uidBuilder:e});return r&&r(t),this.topLevelToggle=t.build(),this},C.prototype.getCompositeSliceBuilder=function(e,t,r){var e=this.getSliceName(e),e=this.uidBuilder.withSlice(e),i=this.localize;return new F({control:r,displayName:t,localize:i,uidBuilder:e})},C.prototype.getSliceName=function(e){return _.isString(e)?n.removeAllWhitespace(e):"".concat((e=e).objectName,"-").concat(e.propertyName)},C.prototype.addContainer=function(e,t){e=this.getContainerBuilder(e);return t(e),this.container=e.build(),this},C.prototype.getContainerBuilder=function(e){return new j(this.uidBuilder.withContainer(e),this.localize)},C.prototype.build=function(){var e=null!=(e=this.displayName)?e:"";return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:e,collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}};var b=C;function C(e,t){this.uidBuilder=e,this.localize=t,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}i.FormattingGroupBuilder=b,__extends(E,w=b),E.prototype.build=function(){return w.prototype.build.call(this)};var w,O=E;function E(){return null!==w&&w.apply(this,arguments)||this}i.FormattingContainerItemGroupBuilder=O,P.prototype.withSlices=function(e){return this.slices=e,this},P.prototype.addSimpleSlice=function(e,t,r){e=this.getSliceName(e),t=_.isFunction(t)?t():t,e=this.getSimpleSliceBuilder(e,t);return r&&r(e),this.slices.push(e.build()),this},P.prototype.addCompositeSlice=function(e,t,r,i){r=_.isFunction(r)?r():r,e=this.getCompositeSliceBuilder(e,t,r);return i&&i(e),this.slices.push(e.build()),this},P.prototype.getSimpleSliceBuilder=function(e,t){var e=this.getSliceName(e),e=this.uidBuilder.withSlice(e),r=this.localize;return new x({control:t,localize:r,uidBuilder:e})},P.prototype.getCompositeSliceBuilder=function(e,t,r){var e=this.getSliceName(e),e=this.uidBuilder.withSlice(e),i=this.localize;return new F({control:r,displayName:t,localize:i,uidBuilder:e})},P.prototype.getSliceName=function(e){return _.isString(e)?e:"".concat((e=e).objectName,"-").concat(e.propertyName)},P.prototype.withGroups=function(e){return this.groups=e,this},P.prototype.addGroup=function(e,t){e=e?n.removeAllWhitespace(e):void 0,e=this.getGroupBuilder(e);return t(e),this.groups.push(e.build()),this},P.prototype.getGroupBuilder=function(e){return new O(this.uidBuilder.withGroup(e=void 0===e?"default":e),this.localize)},P.prototype.build=function(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,uid:this.uidBuilder.build()}};var U=P;function P(e,t,r){this.uidBuilder=e,this.displayName=t,this.localize=r,this.slices=[],this.groups=[]}i.FormattingContainerItemBuilder=U,I.prototype.withDisplayName=function(e){return this.displayName=e,this.suppressDisplayName=!1,this},I.prototype.withDescription=function(e){return this.description=e,this},I.prototype.addContainerItem=function(e,t,r){e=n.removeAllWhitespace(e),e=this.getContainerItemBuilder(e,t);return r(e),this.containerItems.push(e.build()),this},I.prototype.getContainerItemBuilder=function(e,t){return new U(this.uidBuilder.withContainerItem(""),t,this.localize)},I.prototype.build=function(){var e=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:e,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}};var j=I;function I(e,t){this.uidBuilder=e,this.localize=t,this.suppressDisplayName=!0,this.containerItems=[]}function V(e){this.control=e.control,this.localize=e.localize,this.uidBuilder=e.uidBuilder}i.FormattingContainerBuilder=j,V.prototype.withDisabled=function(e){return this.disabled=e,this},__extends(T,W=e=V),T.prototype.withCustomDisplayName=function(e,t){return this.displayName=(t=void 0===t?!0:t)?this.localize(e):e,this},T.prototype.withSuppressDisplayName=function(e){return this.suppressDisplayName=e,this},T.prototype.withCustomDescription=function(e,t){return this.description=(t=void 0===t?!0:t)?this.localize(e):e,this},T.prototype.withCustomDescriptionIf=function(e,t,r){return void 0===r&&(r=!0),e()?this.withCustomDescription(t,r):this},T.prototype.withAliasName=function(e){var t;return this.aliasNames=null!=(t=this.aliasNames)?t:[],this.aliasNames.push(this.localize(e)),this},T.prototype.withInfoIconText=function(e){return this.infoIconText=e,this},T.prototype.build=function(){return{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}};var W,x=T;function T(e){return W.call(this,e)||this}i.SimpleFormattingSliceBuilder=x,__extends(N,z=e),N.prototype.withInfoIconText=function(e){return this.infoIconText=e,this},N.prototype.withAliasName=function(e){var t;return this.aliasNames=null!=(t=this.aliasNames)?t:[],this.aliasNames.push(this.localize(e)),this},N.prototype.withSuppressDisplayName=function(e){return this.suppressDisplayName=e,this},N.prototype.build=function(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}};var z,F=N;function N(e){var t=z.call(this,e)||this;return t.displayName=e.displayName,t.description=e.description,t}function M(){}function K(e){this.properties=e}function H(e){this.properties=e}function q(e){this.properties=e}function Q(e){this.properties=e}function J(e){this.properties=e}function $(e){this.properties=e}function Y(e){this.properties=e}function X(e){this.properties=e}function Z(e){this.properties=e}function D(){}function ee(e){this.properties=e}function te(e){this.properties=e}function re(e){this.properties=e}function ie(e){this.properties=e}function A(){}function ne(e){this.properties=e}function oe(e){this.properties=e}function ae(e){this.properties=e}function se(e){this.properties=e}function L(e){this.properties=e}function le(e){this.properties=e}function ue(e){this.properties=e}function ce(e){this.properties=e}function de(e){this.properties=e}i.CompositeFormattingSliceBuilder=F,M.prototype.withDisplayName=function(e,t,r){return this.description=t,this.displayName=e,this.suppressDisplayName=r,this},M.prototype.withUid=function(e){return this.uid=e.objectName+"-"+e.propertyName,this},M.prototype.withControlProperties=function(e){return this.control=e,this},M.prototype.withDisabled=function(e){return this.disabled=e=void 0===e?!0:e,this},M.prototype.build=function(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}},i.LegacySimpleFormattingSliceBuilder=M,K.prototype.build=function(){return{type:"AlignmentGroup",properties:this.properties}},i.AlignmentGroupBuilder=K,H.prototype.build=function(){return{type:"EmptyControl",properties:this.properties}},i.EmptyControlBuilder=H,q.prototype.build=function(){return{type:"FlagsSelection",properties:this.properties}},i.FlagSelectionBuilder=q,Q.prototype.build=function(){return{type:"ColorPicker",properties:this.properties}},i.ColorPickerBuilder=Q,J.prototype.build=function(){return{type:"ConditionalFormattingControl",properties:this.properties}},i.ConditionalFormattingControlBuilder=J,$.prototype.build=function(){return{type:"DatePicker",properties:this.properties}},i.DatePickerBuilder=$,Y.prototype.build=function(){return{type:"Dropdown",properties:this.properties}},i.DropdownBuilder=Y,X.prototype.build=function(){return{type:"DurationPicker",properties:this.properties}},i.DurationPickerBuilder=X,Z.prototype.build=function(){return{type:"FontPicker",properties:this.properties}},i.FontPickerBuilder=Z,i.DefaultFontSizeProperties={minValue:{type:0,value:8},maxValue:{type:1,value:60}},D.prototype.withFontSizeProperties=function(e){var t=e.options,r=__assign({},i.DefaultFontSizeProperties),t=t?__assign(__assign({},r),t):r,r=__assign(__assign({},e),{options:t});return this.fontSize=r,this},D.prototype.withFontFamily=function(e){return this.fontFamily=e,this},D.prototype.withBold=function(e){return this.bold=e,this},D.prototype.withItalic=function(e){return this.italic=e,this},D.prototype.withUnderline=function(e){return this.underline=e,this},D.prototype.build=function(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}},i.FontControlBuilder=D,ee.prototype.build=function(){return{type:"GradientBar",properties:this.properties}},i.GradientBarBuilder=ee,te.prototype.build=function(){return{type:"ImageUpload",properties:this.properties}},i.ImageUploadBuilder=te,re.prototype.build=function(){return{type:"Link",properties:this.properties}},i.LinkBuilder=re,ie.prototype.build=function(){return{type:"SeriesDialogLink",properties:this.properties}},i.SeriesDialogLinkBuilder=ie,A.prototype.withLeft=function(e){return this.left=e,this},A.prototype.withRight=function(e){return this.right=e,this},A.prototype.withTop=function(e){return this.top=e,this},A.prototype.withBottom=function(e){return this.bottom=e,this},A.prototype.build=function(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},i.MarginPaddingBuilder=A,ne.prototype.build=function(){var e=this.properties;return{type:"NumUpDown",properties:e=null==e.placeholderText?__assign({},e):e}},i.NumUpDownBuilder=ne,oe.prototype.build=function(){return{type:"ReadOnlyText",properties:this.properties}},i.ReadOnlyTextBuilder=oe,ae.prototype.build=function(){return{type:"ErrorRangeControl",properties:this.properties}},i.ErrorRangeBuilder=ae,se.prototype.build=function(){return{type:"FieldPicker",properties:this.properties}},i.FieldPickerBuilder=se,L.getTransparencySliderBuilder=function(e,t){e={descriptor:e.descriptor,value:e.value,localize:e.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new L(t?t(e):e)},L.getRotationSliderBuilder=function(e,t){e={descriptor:e.descriptor,value:e.value,localize:e.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new L(t?t(e):e)},L.prototype.build=function(){var e=__assign({},this.properties);return delete e.localize,{type:"Slider",properties:e}},i.SliderBuilder=L,le.prototype.build=function(){return{type:"ShapeMapSelector",properties:this.properties}},i.ShapeMapSelectorBuilder=le,ue.prototype.build=function(){var e=(e=this.properties.placeholder)&&this.properties.localize(e),e=__assign(__assign({},this.properties),{placeholder:e});return delete e.localize,{type:"TextArea",properties:e}},i.TextAreaBuilder=ue,ce.prototype.build=function(){return{type:"TextInput",properties:this.properties}},i.TextInputBuilder=ce,de.prototype.build=function(){return{type:"ToggleSwitch",properties:this.properties}},i.ToggleSwitchBuilder=de,__extends(G,ge=e),G.prototype.build=function(){return{control:this.control,disabled:this.disabled,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}},G.prototype.withNoDefaultImpact=function(e){return this.noDefaultImpact=e,this};var ge,B=G;function G(e){return ge.call(this,e)||this}i.EnabledSliceBuilder=B})(powerbi=powerbi||{}),(function(e){function t(e){return e.epochTimeStamp=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),e}e.isDateWithEpochValue=function(e){return e instanceof Date&&"number"==typeof e.epochTimeStamp},e.cloneDateWithEpochValue=function(e){var t=new Date(e.getTime());return t.epochTimeStamp=e.epochTimeStamp,t},e.createDateWithEpochValue=function(e,t,r,i,n,o,a){void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===a&&(a=0);var s=new Date(e,t,r,i,n,o,a);return s.epochTimeStamp=Date.UTC(e,t,r,i,n,o,a),s},e.dateWithEpochValueFromLocalDate=t,e.dateWithEpochValueFromLocalTimeStamp=function(e){return t(new Date(e))}})(powerbi=powerbi||{}),(jsCommon||(jsCommon={})).forceEnumeration=function(t){t&&Object.getOwnPropertyNames(t).forEach((function(e){"constructor"!==e&&Object.defineProperty(t,e,{enumerable:!0})}))},(function(t){function e(e){void 0===e&&(e=!1);var r=this;this.promise=new t.PbiPromise(function(e,t){r.resolver=e,r.rejector=t})}e.prototype.resolve=function(e){this.resolver(e)},e.prototype.reject=function(e){this.rejector(e)},t.PbiDeferred=e})(powerbi=powerbi||{}),(function(u){c.prototype.then=function(e,t){var r;return _.isUndefined(e)&&_.isUndefined(t)?this:(r=new c(null,this.autoFlush),this.state.pending=this.state.pending||[],this.state.pending.push({result:r,onFulfilled:e,onRejected:t}),0<this.state.status&&this.scheduleProcessQueue(),r)},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.finally=function(t){return this.then((function(e){return c.handleCallback(e,c.resolve,t)}),(function(e){return c.handleCallback(e,c.reject,t)}))},c.all=function(r,i){if(c.useNativePromise)return window.Promise.all(r);var n,o,e=new c(function(e,t){n=e,o=t},i),a=[],s=r.length;if(0<s)for(var l=0,t=0;t<s;t++)!(function(t){var e=r[t];e=u.getThen(e)?e:c.resolve(e,i);e.then((function(e){a[t]=e})).catch((function(e){o(e)})).finally((function(){++l===s&&n(a)}))})(t);else n(a);return e},c.resolvePromise=function(e,t){this.useNativePromise&&this.traceError&&(this.traceError=!1,jsCommon.Trace.error("resolvePromise should not be called when useNativePromise is true")),e.state.status||(t===e?e.rejectInternal("Expected promise to be resolved with value other than itself"):e.resolveInternal(t))},c.rejectPromise=function(e,t){this.useNativePromise&&this.traceError&&(this.traceError=!1,jsCommon.Trace.error("rejectPromise should not be called when useNativePromise is true")),e.state.status||e.rejectInternal(t)},c.reset=function(){c.usingMicrotask=void 0,c.pbiTimeout=void 0,c.autoFlushInitialized=void 0},c.init=function(e,t,r,i){void 0!==i&&(c.useNativePromise=i),c.usingMicrotask||(c.autoFlushInitialized=t,r?(c.pbiTimeout=u.createPbiTimeout((function(e){Zone.current.scheduleMicroTask("PbiPromise.useMicrotask",e)})),c.usingMicrotask=!0):c.pbiTimeout=e||c.pbiTimeout)},c.resolve=function(e,t,r,i){return c.useNativePromise?window.Promise.resolve(e):(t=new c(null,t),c.resolvePromise(t,e),t.then(null!=r?r:null,i))},c.reject=function(r,e){return c.useNativePromise?window.Promise.reject(r):new c(function(e,t){return t(r)},e)},c.prototype.defer=function(e){this.autoFlush&&0<this.state.status?e():(this.timeout,this.timeout.defer(e,0))},c.prototype.resolveInternal=function(e){var t,r=this;try{(t=u.getThen(e))?(this.state.status=-1,t.call(e,(function(e){r.resolveInternal(e)}),(function(e){r.rejectInternal(e)}))):(this.state.value=e,this.state.status=1,this.scheduleProcessQueue())}catch(e){this.rejectInternal(e)}},c.prototype.rejectInternal=function(e){this.state.value=e,this.state.status=2,this.scheduleProcessQueue()},c.prototype.scheduleProcessQueue=function(){var e=this.state;e.processScheduled||_.isEmpty(e.pending)||(e.processScheduled=!0,this.defer((function(){return c.processQueue(e)})))},c.ensurePbiTimeout=function(){return c.pbiTimeout||(c.pbiTimeout=u.createPbiTimeout())},c.handleCallback=function(t,r,e){var i=null;try{_.isFunction(e)&&(i=e())}catch(e){return c.reject(e)}return u.isPromise(i)?i.then((function(e){return r(t)}),c.reject):r(t)},c.processQueue=function(e){var t=e.pending;e.processScheduled=!1,e.pending=void 0;for(var r=0,i=t;r<i.length;r++){var n=i[r],o=n.result,a=void 0,a=1===e.status?n.onFulfilled:void 0;a=2===e.status?n.onRejected:a;try{_.isFunction(a)?c.resolvePromise(o,a(e.value)):1===e.status?c.resolvePromise(o,e.value):c.rejectPromise(o,e.value)}catch(e){c.rejectPromise(o,e)}}},c.createResolved=function(e){var t;return c.useNativePromise?window.Promise.resolve(e):((t=new u.PbiDeferred(!0)).resolve(e),t.promise)},c.createRejected=function(e){var t;return c.useNativePromise?window.Promise.reject(e):((t=new u.PbiDeferred(!0)).reject(e),t.promise)},i=Symbol.toStringTag,c.useNativePromise=!1,c.traceError=!0;var i,e=c;function c(e,t){var r=this;if(this[i]="Promise","true"===promiseWindow.globalUseNativePromise&&(c.useNativePromise=!0),this.timeout=c.ensurePbiTimeout(),this.autoFlush=c.autoFlushInitialized||!!t,this.state={status:0},e){if(c.useNativePromise)return generateNativePromiseForPbiPromise(e);e((function(e){return c.resolvePromise(r,e)}),(function(e){return c.rejectPromise(r,e)}))}}u.PbiPromise=e})(powerbi=powerbi||{});var InJs,jsCommon,powerbi,promiseWindow=window;function generateNativePromiseForPowerBIPromise(e){return new Promise(e)}function initializeDebug(){debugIntialized||(window.DEBUG=!1,debugIntialized=!0)}!(function(t){var r;function n(e){var t=this;if(this[r]="Promise","true"===promiseWindow.globalUseNativePromise&&(n.useNativePromise=!0),n.useNativePromise)return generateNativePromiseForPowerBIPromise(e);this.defer=n.ensureFactory().defer(),e((function(e){return t.onResolve(e)}),(function(e){return t.onReject(e)}))}function e(){var r=this;this.promise=new t.Promise(function(e,t){r.resolver=e,r.rejector=t})}n.prototype.then=function(e,t){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==t,this.defer.promise.then(e,t)},n.prototype.catch=function(e){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==e,this.defer.promise.catch(e)},n.prototype.finally=function(e){return this.defer.promise.finally(e)},n.init=function(e,t,r,i){void 0!==i&&(n.useNativePromise=i),n.factory=e,n.exceptions=t,n.defaultFactoryWasProvided=!1},n.ensureFactory=function(){var e=n.factory;return e||(e=n.factory=t.createJQueryPromiseFactory(),n.defaultFactoryWasProvided=!0),e},n.resolve=function(r){return n.useNativePromise?window.Promise.resolve(r):new n(function(e,t){return e(r)})},n.reject=function(r){return n.useNativePromise?window.Promise.reject(r):new n(function(e,t){return t(r)})},n.allSettled=function(o){return n.useNativePromise?window.Promise.allSettled(o):new n(function(e,t){var r=o.length;if(0<r)for(var i=[],n=0;n<r;n++)o[n].then((function(e){return i.push({value:e,type:0})})).catch((function(e){return i.push({value:e,type:1})})).finally((function(){i.length===r&&e(i)}));else e([])})},n.prototype.onResolve=function(e){var t,r=this;(t=e)&&_.isFunction(t.then)?e.then((function(e){return r.onResolve(e)}),(function(e){return r.onReject(e)})):this.defer.resolve(e)},n.prototype.onReject=function(e){var t;!this.hasRejectionHandling&&e instanceof Error&&!e.suppressExceptionHandler&&(t=n.exceptions)&&(e.suppressExceptionHandler=!0,t(e)),this.defer.reject(e)},r=Symbol.toStringTag,t.Promise=n,e.prototype.resolve=function(e){this.resolver(e)},e.prototype.reject=function(e){this.rejector(e)},t.Deferred=e})(powerbi=powerbi||{}),(function(e){var T=e.WordBreaker||(e.WordBreaker={});function i(e,t,r){if(r){for(var i=e-1;-1<i;i--)if(o(t[i]))return i+1}else for(var i=e,n=t.length;i<n;i++)if(o(t[i]))return i;return r?0:t.length}function o(e){return T.BREAKERS_REGEX.lastIndex=0,T.BREAKERS_REGEX.test(e)}function F(e,t,r){return t.text=e,r(t)}T.NEW_LINE_REGEX=/\n+/g,T.BREAKERS_REGEX=/[\s\n]+/g,T.PRESERVE_WHITESPACE_BREAKER_REGEX=/([^\S\r\n])/g,T.find=function(e,t){var r={start:0,end:0};return 0!==t.length&&(r.start=i(e,t,!0),r.end=i(e,t,!1)),r},T.hasBreakers=o,T.wordCount=function(e){var t=1;for(T.BREAKERS_REGEX.lastIndex=0,T.BREAKERS_REGEX.exec(e);0!==T.BREAKERS_REGEX.lastIndex;)t++,T.BREAKERS_REGEX.exec(e);return t},T.getMaxWordWidth=function(e,t,r){for(var i=0,n=0,o=T.split(e);n<o.length;n++){var a=o[n];r.text=a,i=Math.max(i,t(r))}return i},r.prototype.getWidth=function(){return this.width},r.prototype.addWord=function(e,t){this.words.push(e),this.width+=t},r.prototype.toString=function(e){return this.words.join(e?"":" ")},r.prototype.isEmpty=function(){return _.isEmpty(this.words)};var t=r;function r(){this.words=[],this.width=0}n.prototype.newLine=function(){var e=this.lastLine;return this.lastLine=new t,this.lines.push(this.lastLine),e},Object.defineProperty(n.prototype,"count",{get:function(){return this.lines.length},enumerable:!1,configurable:!0}),n.prototype.getLastLine=function(){return this.lastLine},n.prototype.getLastLineWidth=function(){return this.getLastLine().getWidth()},n.prototype.addWord=function(e,t){this.lastLine.addWord(e,t)},n.prototype.getLines=function(){return this.lines};var N=n;function n(){this.lastLine=new t,this.lines=[this.lastLine]}function M(e,r,i,n,o){var a={chunks:[],lastChunkWidth:0};if(!(o<1)&&0!==e.length){s=i,l=n,(t=r).text="a";for(var t,s,l,u=Math.floor(l/s(t)),c=e,d=function(){var e,t;return a.chunks.length===o-1?(a.chunks.push(c),a.lastChunkWidth=F(c,r,i),"break"):(e=(function(e,t,r,i,n){if(_.isEmpty(e))return{sizeInCharacters:0,sizeInPixels:0};if(0===i)return{sizeInCharacters:1,sizeInPixels:F(e.substr(0,1),t,r)};var o={sizeInCharacters:0,sizeInPixels:0},a=Math.min(n,e.length),s=-1,l=e.length+1;for(;s<l-1;){var u,c=F(e.substr(0,a),t,r),d=c/i;a=u=c<=i?(s=a,o.sizeInCharacters=a,o.sizeInPixels=c,u=0<d?Math.ceil(a/d):a+1,u=Math.max(u,a+1),Math.min(u,l-1)):(l=a,u=0<d?Math.floor(a/d):a-1,u=Math.min(u,a-1),Math.max(u,s+1))}return 0!==o.sizeInCharacters?o:{sizeInCharacters:1,sizeInPixels:F(e.substr(0,1),t,r)}})(c,r,i,n,u),u=e.sizeInCharacters,t=e.sizeInCharacters,a.chunks.push(c.substr(0,t)),a.lastChunkWidth=e.sizeInPixels,t===c.length?"break":void(c=c.substr(t,c.length-t)))};0<c.length;)if("break"===d())break}return a}T.splitByWidth=function e(t,o,r,a,i,s,n,l,u){if(void 0===u&&(u=!1),!t)return[""];if(i<1&&(i=Number.POSITIVE_INFINITY),l){for(var c=[],d=0,g=t.split(T.NEW_LINE_REGEX);d<g.length;d++){var h,p=e(g[d],o,r,a,Math.max(1,i),s,n,!1,u);0<i?(c.push.apply(c,p||[]),i-=p.length):(h=_.last(c),c[c.length-1]=h+" "+p)}return c}s=s||function(e,t){return e.text};for(var f=F(" ",o,r),m=new N,y=0,v=T.split(t,u);y<v.length;y++){var S=v[y],b=F(S,o,r),C=b,w=m.getLastLine().isEmpty();if(w||" "===S||(C+=f),m.getLastLineWidth()+C<=a||m.count>=i)m.addWord(S,C);else if(w||m.newLine(),b<=a)m.addWord(S,b);else if(C=i-m.count,!n||C<=0)m.addWord(S,b);else for(var E=M(S,o,r,a,1+C),P=0,I=E.chunks.length;P<I;P++){var x=E.chunks[P];P<I-1?(m.addWord(x,a),m.newLine()):m.addWord(x,E.lastChunkWidth)}}return _.map(m.getLines(),(function(e){return e.getWidth()>a?(t=e.toString(u),i=s,n=a,(r=o).text=t,i(r,n)):e.toString(u);var t,r,i,n}))},T.splitWordByWidth=M})(jsCommon=jsCommon||{}),(function(e){var r;(r=e.WordBreaker||(e.WordBreaker={})).split=function(e,t){return(e=t?e.replace(r.NEW_LINE_REGEX,""):e).split(t?r.PRESERVE_WHITESPACE_BREAKER_REGEX:r.BREAKERS_REGEX)}})(jsCommon=jsCommon||{}),(function(o){d.setCanvasCtx=function(e){d.canvasCtx=e},d.ensureDOM=function(){if(!d.canvasCtx){if(d.spanElement||(d.spanElement=$("<span></span>"),$("body").append(d.spanElement)),null==d.letterSpacing)try{var e=window.getComputedStyle(null==(t=d.spanElement)?void 0:t.get(0));0<e.letterSpacing.indexOf("px")&&(d.letterSpacing=+e.letterSpacing.replace("px",""))}catch(e){}d.svgTextElement||(d.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),d.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var t=window.getComputedStyle(d.svgTextElement.node());d.fallbackFontFamily=t?t.fontFamily:""}},d.removeSpanElement=function(){d.spanElement&&d.spanElement.remove&&d.spanElement.remove(),d.spanElement=null},d.measureSvgTextWidth=function(e,t){var r;return e&&e.fontSize?(d.ensureDOM(),d.canvasCtx?!d.setCanvasFont(d.canvasCtx,e)||null==t&&null==e.text?0:(r=null!=t?t:e.text,d.canvasCtx.measureText(r).width+(null!=d.letterSpacing?d.letterSpacing*r.length:0)):((null!=t?t.length:null!=e.text&&e.text.length)||0)*(parseInt(e.fontSize,10)||9)):0},d.measureSvgTextRect=function(e,t){return d.ensureDOM(),d.svgTextElement.text(t||e.text).attrs({visibility:"hidden","font-family":e.fontFamily||d.fallbackFontFamily,"font-variant":e.fontVariant,"font-size":e.fontSize,"font-weight":e.fontWeight,"font-style":e.fontStyle,"text-decoration":e.textDecoration||"none","white-space":e.whiteSpace||"nowrap"}),o.visuals.SVGUtil.tryGetBBox(d.svgTextElement.node())},d.measureSvgTextHeight=function(e,t){e=d.measureSvgTextRect(e,t);return e?e.height:0},d.measureSvgGlyphHeight=function(e,t,r){d.ensureDOM(),d.svgTextElement.classed(t,!0).style("font-size",e).style("position","absolute").style("visibility","hidden");e=d.measureSvgTextRect({fontFamily:null,fontSize:e},r);return d.svgTextElement.classed(t,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),e?e.height:0},d.estimateSvgTextRect=function(e){var t=(e.fontFamily||"")+(e.fontSize||""),r=o.ephemeralStorageService.getData(t),i=null==r?void 0:r.rect,e={fontFamily:e.fontFamily,fontSize:e.fontSize,text:"M"},n=d.isFontLoaded(e);return null!=i&&r.fontLoaded||!1===n?null==i&&(i=d.measureSvgTextRect(e),o.ephemeralStorageService.setData(t,{rect:i,fontLoaded:!1})):0<(i=d.measureSvgTextRect(e)).height&&o.ephemeralStorageService.setData(t,{rect:i,fontLoaded:!0}),i},d.isFontLoaded=function(e){var t=document.fonts,r=e.fontFamily,i=!1;if(d.fontLoadCache[r])return!0;if(t&&r)try{i=t.check("16px "+r)}catch(e){}else{e.fontSize="16px";t=d.measureSvgTextRect(e),e=r?r.split(",")[0]:"";if(-1!==e.indexOf("Segoe UI"))i=o.Double.equalWithPrecision(t.height,21.28,1e-5);else{if(-1===e.indexOf("wf_standard-font"))return null;i=o.Double.equalWithPrecision(t.height,16.35,1e-5)}}return d.fontLoadCache[r]=i},d.clearFontLoadedCache=function(){d.fontLoadCache={}},d.estimateSvgTextBaselineDelta=function(e){e=d.estimateSvgTextRect(e);return e.y+e.height},d.estimateSvgTextHeight=function(e,t){void 0===t&&(t=!1);e=d.estimateSvgTextRect(e).height;return t&&(e*=.7),e},d.measureSvgTextElementWidth=function(e){return d.measureSvgTextWidth(d.getSvgMeasurementProperties(e))},d.getMeasurementProperties=function(e){return{text:e.val()||e.text(),fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontWeight:e.css("font-weight"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),whiteSpace:e.css("white-space")}},d.getSvgMeasurementProperties=function(e){var t=window.getComputedStyle(e,null);return t?{text:e.textContent,fontFamily:t.fontFamily,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontVariant:t.fontVariant,whiteSpace:t.whiteSpace}:{text:e&&e.textContent,fontFamily:"",fontSize:"0"}},d.getDivElementWidth=function(e){e=getComputedStyle(e[0]);return e?e.width:"0"},d.getTailoredTextOrDefault=function(e,t){if(e.text,!e||!e.fontSize)return"";d.ensureDOM();var r=e.text;if(!r||!d.canvasCtx)return"";if(!d.setCanvasFont(d.canvasCtx,e))return"";if((o=d.canvasCtx.measureText(r).width+(null!=d.letterSpacing?d.letterSpacing*r.length:0))<=t)return r;for(var i=1,n=(r=d.ellipsis+r).length;i<n;){var o,a=i+n>>1,s=r.substr(0,a);(o=d.canvasCtx.measureText(s).width+(null!=d.letterSpacing?d.letterSpacing*s.length:0))<t?i=1+a:n=t<o?a-1:i=a}e=r.substr(0,i);return t<(o=d.canvasCtx.measureText(r.substr(0,i)).width+(null!=d.letterSpacing?d.letterSpacing*e.length:0))&&i--,r.substr(d.ellipsis.length,i-d.ellipsis.length)+d.ellipsis},d.setCanvasFont=function(e,t){try{e.font=(t.fontStyle||"")+" "+(t.fontVariant||"")+" "+(t.fontWeight||"")+" "+t.fontSize+" "+(t.fontFamily||d.fallbackFontFamily)}catch(e){return!1}return!0},d.svgEllipsis=function(e,t,r){var i=(r=r||d.getSvgMeasurementProperties(e)).text,r=d.getTailoredTextOrDefault(r,t);i!==r&&(e.textContent=r)},d.wordBreak=function(e,t,r,i){void 0===i&&(i=0),jsCommon.API.deprecated("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead");for(var n=d.getSvgMeasurementProperties(e),o=d.estimateSvgTextHeight(n)+i,i=Math.max(1,Math.floor(r/o)),a=d3.select(e),s=a.attr("y"),r=e.textContent,l=(e.textContent="",jsCommon.WordBreaker.splitByWidth(r,n,d.measureSvgTextWidth,t,i)),u=0,c=l.length;u<c;u++)n.text=l[u],a.append("tspan").attrs({x:0,dy:0===u?s:o}).text(d.getTailoredTextOrDefault(n,t))},d.wordBreakOverflowingText=function(e,t,r,i){void 0===i&&(i=0);var n=d.getSvgMeasurementProperties(e),i=d.estimateSvgTextHeight(n)+i,r=Math.max(1,Math.floor(r/i)),i=e.textContent,i=(e.textContent="",jsCommon.WordBreaker.splitByWidth(i,n,d.measureSvgTextWidth,t,r));d3.select(e).selectAll(d.OverflowingText.selector).data(i).enter().append("span").classed(d.OverflowingText.class,!0).text((function(e){return e})).style("width",jsCommon.PixelConverter.toString(t))},d.ellipsis="",d.OverflowingText=jsCommon.CssConstants.createClassAndSelector("overflowingText"),d.letterSpacing=null,d.fontLoadCache={};var e=d;function d(){}o.TextMeasurementService=e})(powerbi=powerbi||{}),(function(e){(e=e.KeyUtils||(e.KeyUtils={})).isArrowKey=function(e){return 40===e||38===e||37===e||39===e},e.isArrowKeyboardEventCode=function(e){return"ArrowDown"===e||"ArrowUp"===e||"ArrowRight"===e||"ArrowLeft"===e},e.isCtrlShortcutKey=function(e){return 65===e||67===e||88===e||86===e||90===e||89===e},e.isNudgeModifierKey=function(e){return 16===e},e.isDeleteKey=function(e){return 46===e}})(jsCommon=jsCommon||{}),(function(e){function t(e){return e&&_.isObject(e)&&e.then&&_.isFunction(e.then)}e.isPromise=t,e.getThen=function(e){return t(e)?e.then:null}})(powerbi=powerbi||{}),(function(e){function t(){var e="touchstart";return e=window.PointerEvent?"pointerdown":e}(e=(e=e.visuals||(e.visuals={})).TouchUtils||(e.TouchUtils={})).touchStartEventName=t,e.touchEndEventName=function(){var e="touchend";return e=window.PointerEvent?"pointerup":e},e.touchMoveEventName=function(){var e="touchmove";return e=window.PointerEvent?"pointermove":e},e.usePointerEvents=function(){var e=t();return"pointerdown"===e||"MSPointerDown"===e}})(powerbi=powerbi||{}),(function(e){(e=e.FileUtils||(e.FileUtils={})).getFileExtension=function(e){var t=_.lastIndexOf(e,".");return 0<=t?e.substr(t+1):""},e.getFileWithoutExtension=function(e){var t=_.lastIndexOf(e,".");return 0<=t?e.substr(0,t):e}})(jsCommon=jsCommon||{}),(function(e){var t,r;function i(e){this.hostServices=e,this.waitingForData=!1}e=e.visuals||(e.visuals={}),(r=t=e.LoadMoreDataStatus||(e.LoadMoreDataStatus={}))[r.NoOperation=0]="NoOperation",r[r.WaitingForData=1]="WaitingForData",r[r.TriggeredLoadMore=2]="TriggeredLoadMore",i.prototype.shouldLoadMoreData=function(){return this.shouldLoadMoreDataInternal()===t.TriggeredLoadMore},i.prototype.isLoadingMoreData=function(){return this.waitingForData},i.prototype.updateDataView=function(e){this.dataView=e},i.prototype.loadMoreData=function(){var e=this.shouldLoadMoreDataInternal();return e===t.TriggeredLoadMore&&(this.hostServices.loadMoreData(),this.waitingForData=!0),e},i.prototype.onLoadMoreDataCompleted=function(){this.waitingForData=!1},i.prototype.shouldLoadMoreDataInternal=function(){var e;return this.dataView?(e=this.dataView.metadata,this.waitingForData?t.WaitingForData:e&&e.segment?t.TriggeredLoadMore:t.NoOperation):t.NoOperation},r=i,e.SimpleLoadMoreDataHandler=r})(powerbi=powerbi||{}),(function(e){(e=e.DomEventUtils||(e.DomEventUtils={})).hasEventHandler=function(e,t){return!_.isEmpty(e)&&!!(e=$._data(e[0],"events"))&&e.hasOwnProperty(t)},e.getEventTarget=function(e){return(e=e.target)&&1===(e=3===e.nodeType?e.parentNode:e).nodeType?e:void 0}})(jsCommon=jsCommon||{}),(function(e){function t(e,t,r,i,n){this.text=e,this.type=t,this.sessionId=r,this.requestId=i,this.timeStamp=new Date,this.additionalInfo=n}t.prototype.toString=function(){var e="";return e+="".concat(t.traceTypeStrings[this.type]," (").concat(this.timeStamp.toUTCString(),"): ").concat(this.text),this.requestId&&(e+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(e+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),e},t.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],e.TraceItem=t})(jsCommon=jsCommon||{}),(function(e){var r,i,t,n,o,a=e.Deprecated;function s(e,t){if(void 0===t&&(t=!0),_.isEmpty(e))return!1;var r=f(e);if(!r)return!1;switch(m(r.scheme)){case i.http:case i.https:return t||!_.isEmpty(r.host);default:return!1}}function l(e){return!(!e||0!==e.indexOf("data:"))}function u(e,t){return"data:"+e+";base64,"+r.utoa(t)}function c(e){return e&&e.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,(function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();switch(t.length){case 1:return"%0"+t;case 2:return"%"+t;case 3:return"%u0"+t;default:return"%u"+t}}))}function d(e){return e&&e.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,(function(e,t,r){return String.fromCharCode(parseInt(t||r,16))}))}function g(e){return t(encodeURIComponent(e))}function h(e){return decodeURIComponent(n(e))}function p(e){var t=y(e);return{baseUrl:t?e.slice(0,e.indexOf("?")):e,queryParameters:v(t)}}function f(e){var t={scheme:"",host:"",path:"",query:"",fragment:""};return null!=e&&(e=e.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/))?{scheme:e[1],host:e[2],path:e[3],query:e[4],fragment:e[5]}:t}function m(e){if(_.isEmpty(e))return i.NONE;switch(e.toLowerCase()){case"http":return i.http;case"https":return i.https;case"file":return i.file;case"ftp":return i.ftp;case"mailto":return i.mailto;case"news":return i.news;case"telnet":return i.telnet;default:return i.NONE}}function y(e){var t=document.createElement("a");return t.href=e,t.search}function v(e){if(!e)return{};for(var t={},r=0,i=(e=_.startsWith(e,"?")?e.substring(1):e).split("&");r<i.length;r++){var n=i[r].split("="),o=decodeURIComponent(n[0]),n=decodeURIComponent(n[1]),a=t[o];null==a?t[o]=n:"string"==typeof a?t[o]=[a,n]:a.push(n)}return t}(r=e.UrlUtils||(e.UrlUtils={})).isValidHttpUrl=s,r.isValidImageUrl=function(e){return s(e)},r.isDataUri=l,r.getBase64ContentFromDataUri=function(e){if(!l(e))throw new Error("Expected data uri");var t=";base64,",r=e.indexOf(t);if(r<0)throw new Error("Expected base 64 content in data url");return r+=t.length,e.substr(r,e.length-r)},r.makeUTF8EncodedBase64DataUri=u,r.makeJsonDataUri=function(e){return u("application/json",e)},r.MIMEMap={txt:"text/plain",css:"text/css",html:"text/html",gif:"image/gif",jpg:"image/jpg",png:"image/png",svg:"image/svg+xml"},r.getMIMEType=function(e){return e=e.split(".").pop().toLowerCase(),r.MIMEMap[e]},r.escapeSlow=c,r.unescapeSlow=d,t=a.unescape||d,n=a.escape||c,r.encodeUTF8=g,r.decodeUTF8=h,r.utoa=function(e){return btoa(g(e))},r.atou=function(e){return h(atob(e))},r.getQueryParameters=function(e){if(e=y(e))return v(e)},r.setQueryParameters=function(e,t,r){void 0===r&&(r=!1);var i=(e=p(e)).baseUrl;if(r&&_.assign(t,e.queryParameters),!_.isEmpty(t)){var n,o=[];for(n in t){var a=t[n];if(null==a)o.push(encodeURIComponent(n));else if("string"==typeof a)o.push(encodeURIComponent(n)+"="+encodeURIComponent(a));else for(var s=0,l=a;s<l.length;s++){var u=l[s];o.push(encodeURIComponent(n)+"="+encodeURIComponent(u))}}i+="?"+o.join("&")}return i},r.splitUrlAndQuery=p,r.parseUrl=f,(e=i=r.UrlScheme||(r.UrlScheme={}))[e.NONE=0]="NONE",e[e.http=1]="http",e[e.https=2]="https",e[e.file=3]="file",e[e.ftp=4]="ftp",e[e.mailto=5]="mailto",e[e.news=6]="news",e[e.telnet=7]="telnet",r.getUrlScheme=function(e){return null==(e=r.parseUrl(e))||null==e.scheme?i.NONE:m(e.scheme)},r.getHost=function(e){return(e=f(e))&&e.host},o=/https?:\/\/[^\/]+/i,r.getAbsolutePath=function(e){return e&&e.replace(o,"")}})(jsCommon=jsCommon||{}),(function(t){function r(){}r.getLanguage=function(){return this.navigator.userLanguage||this.navigator.language},r.isChrome=function(){var e,t;return null==this.isChromeCache&&(e=this.navigator.vendor||"",t=this.navigator.userAgent.toLowerCase(),this.isChromeCache=-1<e.toLowerCase().indexOf("google")&&-1<t.indexOf("chrome")&&-1===t.indexOf("edge")&&-1===t.indexOf("opr")),this.isChromeCache},r.isInternetExplorerOrEdge=function(){var e;return null==this.isInternetExplorerOrEdgeCache&&(e=this.navigator.userAgent.toLowerCase(),this.isInternetExplorerOrEdgeCache=-1<e.indexOf("msie")||-1<e.indexOf("trident")||-1<e.indexOf("edge")),this.isInternetExplorerOrEdgeCache},r.isInternetExplorer11=function(){var e=this.navigator.userAgent.toLowerCase(),t=e.match(/rv:(\d+)/i);return!!(t&&t[1]&&parseInt&&11===parseInt(t[1],10))&&-1<e.indexOf("trident")&&-1===e.indexOf("msie")},r.isEdgeLegacy=function(){return!r.isInternetExplorer11()&&!!("StyleMedia"in window)},r.isWindows10=function(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")},r.isKeyboardClick=function(e){return 0===e.clientX&&0===e.clientX},r.isCtrlOrMeta=function(e){return!0===e[r.isMacOs()?"metaKey":"ctrlKey"]},r.noModifierPressed=function(e){var t=r.isMacOs()?"metaKey":"ctrlKey";return!e.shiftKey&&!e.altKey&&!e[t]},r.isPointerTypeTouch=function(e){return"touch"===e.pointerType},r.getInternetExplorerVersion=function(){var e,t=0;return t=("Microsoft Internet Explorer"===this.navigator.appName||0<=this.navigator.userAgent.indexOf("MSIE"))&&(e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent))?parseFloat(e[1]):t},r.isFirefox=function(){return-1<this.navigator.userAgent.toLowerCase().indexOf("firefox")},r.isMacOs=function(){return 0<=this.navigator.userAgent.indexOf("Macintosh")},r.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)},r.isSafari11OrHigher=function(){var e;return!!this.isSafari()&&!(null==(e=null==(e=this.navigator.userAgent.match(/version\/(\d+)/i))?void 0:e[1])||!parseInt)&&11<=parseInt(e,10)},r.isIOSWebView=function(){var e=this.navigator.userAgent.toLowerCase();return-1<e.indexOf("iphone")||-1<e.indexOf("ipad")||-1<e.indexOf("macintosh")&&1<this.navigator.maxTouchPoints},r.isAndroidWebView=function(){return-1<this.navigator.userAgent.toLowerCase().indexOf("android")},r.focus=function(e,t){if(e)if(e.focus)t?e.focus(t):e.focus();else try{HTMLElement.prototype.focus.apply(e)}catch(e){}},r.setBrowserSupportsHttp2=function(e){this.browserSupportsHttp2=e},r.calculateBrowserSupportsHttp2=function(){var e;return!(!window||!window.performance||"h2"!==((e=window.performance).getEntriesByType&&e.getEntriesByType("navigation")&&e.getEntriesByType("navigation")[0]&&e.getEntriesByType("navigation")[0].nextHopProtocol)&&!(window.navigator&&window.navigator.userAgent&&(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())))},r.navigator=window.navigator,r.browserSupportsHttp2=function(){return r.browserSupportsHttp2Cache=null==r.browserSupportsHttp2Cache?r.calculateBrowserSupportsHttp2():r.browserSupportsHttp2Cache},t.BrowserUtils=r,(t.SelectionUtility||(t.SelectionUtility={})).getMultiSelectMode=function(e){return e.shiftKey?1:t.BrowserUtils.isCtrlOrMeta(e)?3:0}})(jsCommon=jsCommon||{}),(function(e){(e.LogicExtensions||(e.LogicExtensions={})).XOR=function(e,t){return(e||t)&&!(e&&t)},(e.JsonComparer||(e.JsonComparer={})).equals=function(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)},(t=e.TextSizeDefaults||(e.TextSizeDefaults={})).TextSizeMin=8,t.TextSizeMax=60,r=t.TextSizeMax-t.TextSizeMin,t.getScale=function(e){return(e-t.TextSizeMin)/r},n.fromPoint=function(e){return n.toString(n.fromPointToPixel(e))},n.fromPointToPixel=function(e){return n.PxPtRatio*e},n.toPoint=function(e){return e/n.PxPtRatio},n.toString=function(e){return e+n.PixelString},n.PxPtRatio=4/3,n.PixelString="px";var t,r,i=n;function n(){}e.PixelConverter=i,(e.RegExpExtensions||(e.RegExpExtensions={})).run=function(e,t,r){return e.lastIndex=r||0,e.exec(t)}})(jsCommon=jsCommon||{}),(function(e){(e=e.EnumExtensions||(e.EnumExtensions={})).hasFlag=function(e,t){return(e&t)===t},e.setFlag=function(e,t){return e|t},e.resetFlag=function(e,t){return e&~t},e.toString=function(e,t){return e[t]},e.getBitCount=function(e){if(null===e||e%1!=0)return 0;for(var t=0,r=e;0!==r;)1==(1&r)&&t++,r>>>=1;return t}})(jsCommon=jsCommon||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).utility||(e.utility={})).StyleUtils||(e.StyleUtils={})).getRotateAngleFromElement=function(e){if(e=(e=e.get(0).style).transform||e.webkitTransform){e=e.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(e)return parseFloat(e[1])}return 0},e.getTranslateTransformFromElement=function(e){var t,r={x:0,y:0};return e&&e.length&&(e=(e=e.get(0).style).transform||e.webkitTransform)&&0<e.length&&((t=e.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/))?(r.x=parseFloat(t[1]),r.y=parseFloat(t[2])):(t=e.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(r.x=parseFloat(t[1]),r.y=0)),r},e.getPadding=function(e){return{left:parseFloat(e.css("padding-left"))||0,right:parseFloat(e.css("padding-right"))||0,top:parseFloat(e.css("padding-top"))||0,bottom:parseFloat(e.css("padding-bottom"))||0}}})(powerbi=powerbi||{}),(function(e){function l(e){return function(){e.forEach((function(e){null!=e&&e.each((function(){var e,t;if(null!=this.__transition)if(_.some(this.__transition,(function(e){return 0===e.state})))t=d3.select(this),requestAnimationFrame(l([t]));else for(var r=this.__transition||{},i=0,n=Object.keys(r);i<n.length;i++){var o=r[n[i]];o&&null!=(e=o.timer)&&e._call();for(var a=0,s=o.on._.end;a<s.length;a++)s[a].value.apply(this)}}))}))}}function u(e){return _.map(e,(function(e,t){return(1==(1&(t=t))?",":0===t?"M":"L")+e})).join("")+"z"}(e=(e=e.visuals||(e.visuals={})).SVGUtil||(e.SVGUtil={})).AlmostZero=1e-6,e.translate=function(e,t){return"translate("+e+","+t+")"},e.translateXWithPixels=function(e){return"translateX("+e+"px)"},e.translateWithPixels=function(e,t){return"translate("+e+"px,"+t+"px)"},e.translateAndRotate=function(e,t,r,i,n){return"translate("+e+","+t+") rotate("+n+","+r+","+i+")"},e.scale=function(e){return"scale(".concat(e,")")},e.translateAndScale=function(e,t,r){return"translate("+e+","+t+") scale("+r+")"},e.transformOrigin=function(e,t){return"".concat(e," ").concat(t)},e.flushAllD3Transitions=l,e.flushAllD3TransitionsIfNeeded=function(e){for(var t,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];e&&(t=(t=e).animation||e)&&t.transitionImmediate&&(_.isEmpty(r)||requestAnimationFrame(l(r)))},e.ensureValidSVGPoint=function(e){isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0)},e.parseTranslateTransform=function(e){var t,r;return e&&0!==e.length?(r="0",t=(e=e.split(/[\s,]+/))[0],{x:1===e.length?t.substring(10,t.length-1):(r=(e=e[1]).substring(0,e.length-1),t.substring(10,t.length)),y:r}):{x:"0",y:"0"}},e.createArrow=function(e,t,r){var i="M0 0";return{path:i+("L0 "+t)+("L"+e+" "+t/2+" Z"),transform:"rotate("+r+" "+e/2+" "+t/2+")"}},e.tryGetBBox=function(e){var t;try{t=e.getBBox()}catch(e){}return t||{x:0,y:0,width:0,height:0}},e.XYArrayToPath=u,e.XYArrayToReducedPath=function(e,t){if(!(e.length<4||e.length%2!=0)){var r=_.map(e,(function(e){return Math.round(e*t)})),i=[],n=r[0],o=r[1];i.push(n),i.push(o);for(var a=2;a<r.length;a+=2){var s=r[a],l=r[a+1];Math.abs(n-s)+Math.abs(o-l)<2||(i.push(s),i.push(l))}return u(i)}},e.scaleStroke=function(e,t,r){return"vectorEffect"in document.documentElement.style?r:(e=e.split(" "),r*(Math.max(+e[2],+e[3])/t))}})(powerbi=powerbi||{}),(function(e){(e.FreezeUtility||(e.FreezeUtility={})).deepFreeze=function e(t){for(var r in Object.freeze(t),t)(r=t[r])&&"object"==typeof r&&e(r)}})(jsCommon=jsCommon||{}),(function(n){t.prototype.logTrace=function(e){if(window.DEBUG)switch(e.type){case n.TraceType.Information:break;case n.TraceType.UnexpectedError:case n.TraceType.Error:case n.TraceType.Fatal:break;case n.TraceType.ExpectedError:case n.TraceType.Warning:case n.TraceType.Verbose:}};var e=t;function t(){}var r=new(n.ConsoleTracer=e),e=(i.assertFail=function(e){this.error(e,!0)},i.warning=function(e,t,r){this.logTraceInternal(new n.TraceItem(e,n.TraceType.Warning,this.sessionId,t,r))},i.error=function(e,t,r,i){t&&(e=n.StringExtensions.format("{0}.\nStack:\n{1}",e,n.getStackTrace())),this.logTraceInternal(new n.TraceItem(e,n.TraceType.Error,this.sessionId,r,i))},i.information=function(e,t,r){this.logTraceInternal(new n.TraceItem(e,n.TraceType.Information,this.sessionId,t,r))},i.verbose=function(e,t,r){this.logTraceInternal(new n.TraceItem(e,n.TraceType.Verbose,this.sessionId,t,r))},i.addListener=function(e){this.listeners.push(e)},i.removeListener=function(e){e=this.listeners.indexOf(e);0<=e&&this.listeners.splice(e,1)},i.resetListeners=function(){this.listeners=new Array(r)},i.reset=function(){this.lastTraceIndex=-1},i.getTraces=function(){if(this.lastTraceIndex<0)return[];for(var e=new Array(this.lastTraceIndex+1),t=0;t<=this.lastTraceIndex;t++)e[t]=this.traces[t];return e},i.disableDefaultListener=function(){this.removeListener(r)},i.enableDefaultListener=function(){this.addListener(r)},i.logTraceInternal=function(e){1e3<=this.lastTraceIndex+1&&this.reset(),this.traces[++this.lastTraceIndex]=e;for(var t=0,r=this.listeners.length;t<r;t++)this.listeners[t].logTrace(e)},i.traces=new Array(1e3),i.lastTraceIndex=-1,i.listeners=new Array(r),i);function i(){}n.Trace=e,powerbi.ensureJsCommon().Trace=e})(jsCommon=jsCommon||{}),(function(e){(e=e.TraceType||(e.TraceType={}))[e.Information=0]="Information",e[e.Verbose=1]="Verbose",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.ExpectedError=4]="ExpectedError",e[e.UnexpectedError=5]="UnexpectedError",e[e.Fatal=6]="Fatal"})(jsCommon=jsCommon||{}),(function(o){var s;o.getWaitForMSMapLoad=function(){return s},o.setWaitForMSMapLoad=function(e){s=e},o.ensureMap=function(e,t,r,i){var n,o,a;return s||(n=r=jsCommon.UrlUtils.setQueryParameters(r,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),o=(o=jsCommon.UrlUtils.getQueryParameters(r)).c||o.culture,a={},_.isEmpty(i)||(a.setLang=i),_.isEmpty(o)||(i=o.split("-",2),a.setMkt=o,a.UR=1<i.length?i[1]:o,a.setLang=i[0]),n=jsCommon.UrlUtils.setQueryParameters(r,a,!0),s=e.defer(),t.require({javascript:n})),s.promise},o.mapControlLoaded=function(){s.resolve(void 0)},o.loadAzureMapScripts=function(e,r,t){var i,n;return o.WaitForAzMapLoad||(i="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",n="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css",t&&(i="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",n="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),o.WaitForAzMapLoad=e.defer(),r.require({javascript:i,css:[n]}).then((function(e){var t=window;t.atlas=t.atlas||e,r.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}).then((function(e){r.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]}).then((function(){return o.WaitForAzMapLoad.resolve(void 0)}))}))}))),o.WaitForAzMapLoad.promise}})(powerbi=powerbi||{}),window.globalMapControlLoaded=function(){powerbi.mapControlLoaded()},(function(e){(e=e.TraceType||(e.TraceType={}))[e.information=0]="information",e[e.verbose=1]="verbose",e[e.warning=2]="warning",e[e.error=3]="error",e[e.expectedError=4]="expectedError",e[e.unexpectedError=5]="unexpectedError",e[e.fatal=6]="fatal"})(InJs=InJs||{}),(function(e){function r(){this.success=!0}function t(e){return!!e}r.prototype.check=function(e,t,r){if(t(e))return r(e);this.success=!1},r.check=function(e){var t=new r;return e(t),t.success},e.TypeChecker=r,e.exists=t,e.size=function(t){return function(e){return!!e&&e.length===t}},e.identity=function(e){return e}})(jsCommon=jsCommon||{}),(function(e){(e.visuals||(e.visuals={})).Point=function(e,t){this.x=e||0,this.y=t||0}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).Rect=function(e,t,r,i){this.left=e||0,this.top=t||0,this.width=r||0,this.height=i||0}})(powerbi=powerbi||{}),(function(e){var r,i;e=e.visuals||(e.visuals={}),r=e.shapes||(e.shapes={}),(i=r.BoundingRectHelpers||(r.BoundingRectHelpers={})).generatePointsFromBounds=function(e,t,r,i){for(var n,o=!0,a=[e.left,e.right],s=[e.top,e.bottom],l=0;l<a.length;l++)for(var u=0;u<s.length;u++)t(a[l],s[n=u,0===l?n:1-n],4*l+2*u,r,i)||(o=!1);return o},i.getPolygonFromBoundingRect=function(e){var t=new Float64Array(8);return i.generatePointsFromBounds(e,(function(e,t,r,i){return i[r]=e,i[r+1]=t,!0}),t),new r.Polygon(t)}})(powerbi=powerbi||{}),(function(r){var e,i,n;function o(e,t,r){e=n.parseNumber(e),t=n.parseNumber(t);return null==e||null==t?null!=r?r:null:{x:e,y:t}}e=r.visuals||(r.visuals={}),i=e.shapes||(e.shapes={}),n=jsCommon.Utility,(e=i.Point||(i.Point={})).offset=function(e,t,r){return{x:0<=e.x+t?e.x+t:0,y:0<=e.y+r?e.y+r:0}},e.equals=function(e,t){return null!=e&&null!=t&&e.x===t.x&&e.y===t.y},e.clone=function(e){return null!==e?{x:e.x,y:e.y}:null},e.toString=function(e){return"{x:"+e.x+", y:"+e.y+"}"},e.serialize=function(e){return e.x+","+e.y},e.getDistance=function(e,t){var r;return null===e||null===t?null:(r=t.x-e.x,t=t.y-e.y,Math.sqrt(r*r+t*t))},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.x,t.x)&&r.Double.equalWithPrecision(e.y,t.y)},e.parsePoint=function(e,t){var r;return null==e?null!=t?t:null:_.isArray(e)?2!==e.length?null!=t?t:null:o(e[0],e[1],t):"string"==typeof e?2!==(r=e.split(",")).length?null!=t?t:null:o(r[0],r[1],t):o(e.x,e.y,t)},e.getPointsOrientation=function(e,t,r){return 0==(e=(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y))?i.Orientation.Colinear:0<e?i.Orientation.Clockwise:i.Orientation.Counterclockwise},e.isOnSameSegment=function(e,t,r){return r.x<=Math.max(e.x,t.x)&&r.x>=Math.min(e.x,t.x)&&r.y<=Math.max(e.y,t.y)&&r.y>=Math.min(e.y,t.y)}})(powerbi=powerbi||{}),(function(r){var e,o;function i(e){return null!==e?{left:e.left,top:e.top,right:e.right,bottom:e.bottom}:null}function n(e,t,r,i,n){e=o.parseNumber(e),t=o.parseNumber(t),r=o.parseNumber(r),i=o.parseNumber(i);return null==e||null==t||null==r||null==i?null!=n?n:null:{left:e,top:t,right:r,bottom:i}}e=(e=r.visuals||(r.visuals={})).shapes||(e.shapes={}),o=jsCommon.Utility,(e=e.Thickness||(e.Thickness={})).inflate=function(e,t){var r=i(e);return r?(t&&(r.left=e.left+t.left,r.right=e.right+t.right,r.bottom=e.bottom+t.bottom,r.top=e.top+t.top),r):null},e.getWidth=function(e){return e.left+e.right},e.getHeight=function(e){return e.top+e.bottom},e.clone=i,e.equals=function(e,t){return null!=e&&null!=t&&e.left===t.left&&e.bottom===t.bottom&&e.right===t.right&&e.top===t.top},e.flipHorizontal=function(e){var t=e.right;e.right=e.left,e.left=t},e.flipVertical=function(e){var t=e.top;e.top=e.bottom,e.bottom=t},e.toString=function(e){return"{top:"+e.top+", left:"+e.left+", right:"+e.right+", bottom:"+e.bottom+"}"},e.toCssString=function(e){return e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"},e.isEmpty=function(e){return 0===e.left&&0===e.top&&0===e.right&&0===e.bottom},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.left===t.left&&e.top===t.top&&e.right===t.right&&e.bottom===t.bottom},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.left,t.left)&&r.Double.equalWithPrecision(e.top,t.top)&&r.Double.equalWithPrecision(e.right,t.right)&&r.Double.equalWithPrecision(e.bottom,t.bottom)},e.parseThickness=function(e,t){var r;return null==e?null!=t?t:null:_.isArray(e)?4!==e.length?null!=t?t:null:n(e[0],e[1],e[2],e[3]):"string"==typeof e?4!==(r=e.split(",")).length?null!=t?t:null:n(r[0],r[1],r[2],r[3]):n(e.left,e.top,e.right,e.bottom,t)}})(powerbi=powerbi||{}),(function(r){var e;function t(e){return 0===e.x&&0===e.y}function i(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function n(e,t){return{x:e.x*t,y:e.y*t}}(e=(e=(e=r.visuals||(r.visuals={})).shapes||(e.shapes={})).Vector||(e.Vector={})).isEmpty=t,e.equals=function(e,t){return null!=e&&null!=t&&e.x===t.x&&e.y===t.y},e.clone=function(e){return null!==e?{x:e.x,y:e.y}:null},e.toString=function(e){return"{x:"+e.x+", y:"+e.y+"}"},e.getLength=i,e.getLengthSqr=function(e){return e.x*e.x+e.y*e.y},e.scale=n,e.normalize=function(e){return t(e)?e:n(e,1/i(e))},e.rotate90DegCW=function(e){return{x:e.y,y:-e.x}},e.rotate90DegCCW=function(e){return{x:-e.y,y:e.x}},e.rotate=function(e,t){return{x:e.x*Math.cos(t)-e.y*Math.sin(t),y:e.x*Math.sin(t)+e.y*Math.cos(t)}},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.x===t.x&&e.y===t.y},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.x,t.x)&&r.Double.equalWithPrecision(e.y,t.y)},e.add=function(e,t){if(e&&t)return{x:e.x+t.x,y:e.y+t.y}},e.subtract=function(e,t){if(e&&t)return{x:e.x-t.x,y:e.y-t.y}},e.dotProduct=function(e,t){if(e&&t)return e.x*t.x+e.y*t.y},e.getDeltaVector=function(e,t){if(e&&t)return{x:t.x-e.x,y:t.y-e.y}}})(powerbi=powerbi||{}),(function(r){var e,i;function n(e){return null!==e?{width:e.width,height:e.height}:null}function o(e,t,r){e=i.parseNumber(e),t=i.parseNumber(t);return null==e||null==t?null!=r?r:null:{width:e,height:t}}e=(e=r.visuals||(r.visuals={})).shapes||(e.shapes={}),i=jsCommon.Utility,(e=e.Size||(e.Size={})).isEmpty=function(e){return 0===e.width&&0===e.height},e.equals=function(e,t){return null!=e&&null!=t&&e.width===t.width&&e.height===t.height},e.clone=n,e.inflate=function(e,t){return(e=n(e))?(t&&(e.width+=t.left+t.right,e.height+=t.top+t.bottom),e):null},e.deflate=function(e,t){return(e=n(e))?(t&&(e.width=e.width-t.left-t.right,e.width<0&&(e.width=0),e.height=e.height-t.top-t.bottom,e.height<0)&&(e.height=0),e):null},e.combine=function(e,t){return t&&(e.width=Math.max(e.width,t.width),e.height=Math.max(e.height,t.height)),e},e.toRect=function(e){return{left:0,top:0,width:e.width,height:e.height}},e.toString=function(e){return"{width:"+e.width+", height:"+e.height+"}"},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.width===t.width&&e.height===t.height},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&r.Double.equalWithPrecision(e.width,t.width)&&r.Double.equalWithPrecision(e.height,t.height)},e.parseSize=function(e,t){var r;return null==e?null!=t?t:null:_.isArray(e)?2!==e.length?null!=t?t:null:o(e[0],e[1],t):"string"==typeof e?2!==(r=e.split(",")).length?null!=t?t:null:o(r[0],r[1],t):o(e.width,e.height,t)}})(powerbi=powerbi||{}),(function(n){var e,o;function r(e){return null!==e?{left:e.left,top:e.top,width:e.width,height:e.height}:null}function i(e,t,r,i,n){e=o.parseNumber(e),t=o.parseNumber(t),r=o.parseNumber(r),i=o.parseNumber(i);return null==e||null==t||null==r||null==i?null!=n?n:null:{left:e,top:t,width:r,height:i}}e=(e=n.visuals||(n.visuals={})).shapes||(e.shapes={}),o=jsCommon.Utility,(e=e.Rect||(e.Rect={})).getOffset=function(e){return{x:e.left,y:e.top}},e.getSize=function(e){return{width:e.width,height:e.height}},e.setSize=function(e,t){e.width=t.width,e.height=t.height},e.right=function(e){return e.left+e.width},e.bottom=function(e){return e.top+e.height},e.topLeft=function(e){return{x:e.left,y:e.top}},e.topRight=function(e){return{x:e.left+e.width,y:e.top}},e.bottomLeft=function(e){return{x:e.left,y:e.top+e.height}},e.bottomRight=function(e){return{x:e.left+e.width,y:e.top+e.height}},e.equals=function(e,t){return null!=t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},e.clone=r,e.toString=function(e){return"{left:"+e.left+", top:"+e.top+", width:"+e.width+", height:"+e.height+"}"},e.offset=function(e,t,r){return{left:0<=e.left+t?e.left+t:0,top:0<=e.top+r?e.top+r:0,width:e.width,height:e.height}},e.add=function(e,t){return{left:e.left+t.left,top:e.top+t.top,height:e.height+t.height,width:e.width+t.width}},e.subtract=function(e,t){return{left:e.left-t.left,top:e.top-t.top,height:e.height-t.height,width:e.width-t.width}},e.inflate=function(e,t){return(e=r(e))?(t&&(e.left-=t.left,e.top-=t.top,e.width+=t.left+t.right,e.height+=t.top+t.bottom),e):null},e.deflate=function(e,t){return(e=r(e))?(t&&(e.left+=t.left,e.top+=t.top,e.width-=t.left+t.right,e.height-=t.top+t.bottom),e):null},e.inflateBy=function(e,t){return{left:e.left-t,top:e.top-t,width:e.width+t+t,height:e.height+t+t}},e.deflateBy=function(e,t){return{left:e.left+t,top:e.top+t,width:e.width-t-t,height:e.height-t-t}},e.getClosestPoint=function(e,t,r){return{x:Math.min(Math.max(e.left,t),e.left+e.width),y:Math.min(Math.max(e.top,r),e.top+e.height)}},e.equal=function(e,t){return e===t||void 0!==e&&void 0!==t&&e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height},e.equalWithPrecision=function(e,t){return e===t||void 0!==e&&void 0!==t&&n.Double.equalWithPrecision(e.left,t.left)&&n.Double.equalWithPrecision(e.top,t.top)&&n.Double.equalWithPrecision(e.width,t.width)&&n.Double.equalWithPrecision(e.height,t.height)},e.isEmpty=function(e){return null==e||0===e.width&&0===e.height},e.containsPoint=function(e,t,r){return void 0===r&&(r=!1),null!==e&&null!==t&&(r?n.Double.lessWithPrecision(e.left,t.x)&&n.Double.lessWithPrecision(t.x,e.left+e.width)&&n.Double.lessWithPrecision(e.top,t.y)&&n.Double.lessWithPrecision(t.y,e.top+e.height):n.Double.lessOrEqualWithPrecision(e.left,t.x)&&n.Double.lessOrEqualWithPrecision(t.x,e.left+e.width)&&n.Double.lessOrEqualWithPrecision(e.top,t.y)&&n.Double.lessOrEqualWithPrecision(t.y,e.top+e.height))},e.isIntersecting=function(e,t){return!(!e||!t||t.left>e.left+e.width||t.left+t.width<e.left||t.top>e.top+e.height||t.top+t.height<e.top)},e.intersect=function(e,t){var r,i,n,o;return e?t?(r=Math.max(e.left,t.left),i=Math.max(e.top,t.top),n=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),r<=n&&i<=o?{left:r,top:i,width:n-r,height:o-i}:{left:0,top:0,width:0,height:0}):e:t},e.combine=function(e,t){var r,i;return e?t?{left:r=Math.min(e.left,t.left),top:i=Math.min(e.top,t.top),width:Math.max(e.left+e.width,t.left+t.width)-r,height:Math.max(e.top+e.height,t.top+t.height)-i}:e:t},e.parseRect=function(e,t){var r;return null==e?null!=t?t:null:_.isArray(e)?4!==e.length?null!=t?t:null:i(e[0],e[1],e[2],e[3],t):"string"==typeof e?4!==(r=e.split(",")).length?null!=t?t:null:i(r[0],r[1],r[2],r[3],t):i(e.left,e.top,e.width,e.height,t)},e.getCentroid=function(e){return{x:e.left+e.width/2,y:e.top+e.height/2}},e.keepPositionWithinBoundingRect=function(e,t){var r=t.width||0,t=t.height||0;e.left+e.width>r&&(e.left=Math.max(r-e.width,0)),e.top+e.height>t&&(e.top=Math.max(t-e.height,0)),e.left=Math.max(0,e.left),e.top=Math.max(0,e.top)},e.overlappingRange=function(e,t,r,i){return void 0!==e&&void 0!==t&&void 0!==r&&void 0!==i&&n.Double.lessOrEqualWithPrecision(e,i)&&n.Double.lessOrEqualWithPrecision(r,t)}})(powerbi=powerbi||{}),(function(e){var u;function g(e){e&&(this.polygonPoints=this.convertArrayPathToPoints(e))}e=e.visuals||(e.visuals={}),u=e.shapes||(e.shapes={}),g.fromPolygonPoints=function(e){var t=new g(null);return t.polygonPoints=e,t},g.prototype.absoluteCentroid=function(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid},g.prototype.absoluteBoundingRect=function(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect},g.prototype.contains=function(e){var t={x:e.left,y:e.top},r={x:e.left+e.width,y:e.top},i={x:e.left,y:e.top+e.height},e={x:e.left+e.width,y:e.top+e.height};return this.inside(t)&&this.inside(r)&&this.inside(i)&&this.inside(e)},g.prototype.conflicts=function(e){var t,r,i,n,o,a,s;return!!this.isConflictWithBoundingBox(e)&&(t={x:e.left,y:e.top},r={x:e.left+e.width/2,y:e.top},i={x:e.left+e.width,y:e.top},n={x:e.left,y:e.top+e.height},o={x:e.left+e.width/2,y:e.top+e.height},a={x:e.left+e.width,y:e.top+e.height},s={x:e.left,y:e.top+e.height/2},e={x:e.left+e.width,y:e.top+e.height/2},this.inside(t)||this.inside(r)||this.inside(i)||this.inside(n)||this.inside(o)||this.inside(a)||this.inside(s)||this.inside(e))},g.prototype.lineIntersectionPoint=function(e,t){for(var r=0;r<this.polygonPoints.length;r++){var i=this.polygonPoints[r],n=r===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[r+1],i=this.getLineIntersection(e,t,i,n);if(null!==i)return i}return null},g.calculateAbsolutePolygonArea=function(e){for(var t=1,r=0,i=0;i<e.length;i++)r+=e[i].x*e[t].y-e[t].x*e[i].y,t=(t+1)%e.length;return r*=.5},g.prototype.overlapPath=function(e){if(this.inside({x:e[0],y:e[1]}))return!0;var t=new g(e);if(t.inside(this.polygonPoints[0]))return!0;for(var r=0;r<this.polygonPoints.length;r++)if(t.lineIntersectionPoint(this.polygonPoints[r],this.polygonPoints[(r+1)%this.polygonPoints.length]))return!0;return!1},g.prototype.inside=function(e){for(var t=e.x,r=e.y,i=!1,n=0,o=this.polygonPoints.length-1;n<this.polygonPoints.length;o=n++){var a=this.polygonPoints[n].x,s=this.polygonPoints[n].y,l=this.polygonPoints[o].x,u=this.polygonPoints[o].y;r<s!=r<u&&t<(l-a)*(r-s)/(u-s)+a&&(i=!i)}return i},g.translateX=function(e,t){for(var r=new Float64Array(2*e.polygonPoints.length),i=0;i<e.polygonPoints.length;i++)r[2*i]=e.polygonPoints[i].x+t,r[2*i+1]=e.polygonPoints[i].y;return new g(r)},g.polygonBoundsOverlap=function(e,t){var r=u.Rect.overlappingRange(g.getPolyBoundLeft(e),g.getPolyBoundRight(e),g.getPolyBoundLeft(t),g.getPolyBoundRight(t)),e=u.Rect.overlappingRange(g.getPolyBoundLower(e),g.getPolyBoundUpper(e),g.getPolyBoundLower(t),g.getPolyBoundUpper(t));return r&&e},g.circleRectangleOverlap=function(e,t,r){var i=Math.max(e.left,Math.min(t.x,e.right)),e=Math.min(e.bottom,Math.max(t.y,e.top)),i=i-t.x,e=e-t.y;return i*i+e*e<=r*r},g.linesIntersect=function(e,t,r,i,n){void 0===n&&(n=!0);var o=u.Point.getPointsOrientation(e,t,r),a=u.Point.getPointsOrientation(e,t,i),s=u.Point.getPointsOrientation(r,i,e),l=u.Point.getPointsOrientation(r,i,t);return o!==a&&s!==l||!!n&&!!(o===u.Orientation.Colinear&&u.Point.isOnSameSegment(e,t,r)||a===u.Orientation.Colinear&&u.Point.isOnSameSegment(e,t,i)||s===u.Orientation.Colinear&&u.Point.isOnSameSegment(r,i,e)||l===u.Orientation.Colinear&&u.Point.isOnSameSegment(r,i,t))},g.resize=function(e,t){if(0===t)return e;for(var r=0<g.calculateAbsolutePolygonArea(e.polygonPoints),i=_.clone(0<t&&!0==r||t<0&&!1==r?e.polygonPoints.reverse():e.polygonPoints),n=e.absoluteCentroid(),o=[],a=0;a<i.length;a++){var s=i[a],l=i[(a+1)%i.length],u=l.y-s.y,c=void 0,u=(0!=u&&(c=-(l.x-s.x)/u),0),d=0,l=(0===(u=_.isUndefined(c)?u:(s.y<l.y?-1:1)*Math.sqrt(t*t/(1+c*c)))?d=(s.x>l.x?-1:1)*t:_.isUndefined(c)||(d=c*u),{x:s.x+u,y:s.y+d}),u={x:0,y:0},d=(0===c?(u.x=l.x,u.y=l.y+10):_.isUndefined(c)||(u.x=l.x+10,u.y=l.y-10/c),(l.x-u.x)*(n.y-s.y)-(l.y-u.y)*(n.x-s.x));0!=d&&(c={x:((l.x*u.y-l.y*u.x)*(n.x-s.x)-(l.x-u.x)*(n.x*s.y-n.y*s.x))/d,y:((l.x*u.y-l.y*u.x)*(n.y-s.y)-(l.y-u.y)*(n.x*s.y-n.y*s.x))/d},isFinite(c.x))&&isFinite(c.y)&&o.push(c)}return g.fromPolygonPoints(o)},g.getPolyBoundLeft=function(e){return null==(e=_.minBy(e.polygonPoints,(function(e){return e.x})))?void 0:e.x},g.getPolyBoundRight=function(e){return null==(e=_.maxBy(e.polygonPoints,(function(e){return e.x})))?void 0:e.x},g.getPolyBoundUpper=function(e){return null==(e=_.maxBy(e.polygonPoints,(function(e){return e.y})))?void 0:e.y},g.getPolyBoundLower=function(e){return null==(e=_.minBy(e.polygonPoints,(function(e){return e.y})))?void 0:e.y},g.prototype.isConflictWithBoundingBox=function(e){return u.Rect.isIntersecting(this.absoluteBoundingRect(),e)},g.prototype.calculatePolygonCentroid=function(){for(var e,t,r=g.calculateAbsolutePolygonArea(this.polygonPoints),i=t=0,n=1,o=0;o<this.polygonPoints.length;o++)e=this.polygonPoints[o].x*this.polygonPoints[n].y-this.polygonPoints[n].x*this.polygonPoints[o].y,i+=(this.polygonPoints[o].x+this.polygonPoints[n].x)*e,t+=(this.polygonPoints[o].y+this.polygonPoints[n].y)*e,n=(n+1)%this.polygonPoints.length;return{x:i/=6*r,y:t/=6*r}},g.prototype.calculateBoundingRect=function(){for(var e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,n=0,o=this.polygonPoints;n<o.length;n++){var a=o[n];a.x<e?e=a.x:a.x>r&&(r=a.x),a.y<t?t=a.y:a.y>i&&(i=a.y)}return{left:e,top:t,width:r-e,height:i-t}},g.prototype.getLineIntersection=function(e,t,r,i){var n=e.x,e=e.y,o=t.x,t=t.y,a=r.x,r=r.y,o=o-n,t=t-e,s=i.x-a,i=i.y-r,l=(-t*(n-a)+o*(e-r))/(-s*t+o*i),r=(s*(e-r)-i*(n-a))/(-s*t+o*i);return 0<=l&&l<=1&&0<=r&&r<=1?{x:n+r*o,y:e+r*t}:null},g.prototype.convertArrayPathToPoints=function(e){for(var t=[],r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];t.push({x:i,y:n})}return t},u.Polygon=g})(powerbi=powerbi||{});var debugIntialized=!1;initializeDebug();;
"use strict";var powerbi,__extends=this&&this.__extends||(function(){var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}})(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var i,n=0,a=t.length;n<a;n++)!i&&n in t||((i=i||Array.prototype.slice.call(t,0,n))[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))};!(function(e){var r;function t(){}e=(e=e.data||(e.data={})).EditorState||(e.EditorState={}),t.NATURAL_LANGUAGE="NaturalLanguage",r=t,e.EditorStateKind=r,e.EditorState=function(e){if(this.version=e.version,this.kind=e.kind,e.kind!==r.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var t=e.version;1===t&&(t={description:e.annotation.description,isAutoGenerated:e.annotation.isAutoGenerated,name:e.annotation.name,references:e.annotation.references,utterance:e.annotation.utterance},this.annotation=t)}})(powerbi=powerbi||{}),(function(e){var t,r;t=e.data||(e.data={}),r=e.data.EditorState.EditorStateKind,(t=t.EditorStateNaturalLanguage||(t.EditorStateNaturalLanguage={})).EditorStateNaturalLanguageVersionCurrent=1,t.instanceOfEditorStateNaturalLanguageV1=function(e,t){return t===r.NATURAL_LANGUAGE}})(powerbi=powerbi||{}),(function(t){var e=t.data||(t.data={}),r=(i.prototype.visitEntity=function(e,t){return this.visitDefault(e,t)},i.prototype.visitSubqueryRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitNamedQueryRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitColumnRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitMeasureRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitAggr=function(e,t){return this.visitDefault(e,t)},i.prototype.visitPercentile=function(e,t){return this.visitDefault(e,t)},i.prototype.visitRangePercent=function(e,t){return this.visitDefault(e,t)},i.prototype.visitGroupRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitHierarchy=function(e,t){return this.visitDefault(e,t)},i.prototype.visitHierarchyLevel=function(e,t){return this.visitDefault(e,t)},i.prototype.visitPropertyVariationSource=function(e,t){return this.visitDefault(e,t)},i.prototype.visitSelectRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitBetween=function(e,t){return this.visitDefault(e,t)},i.prototype.visitIn=function(e,t){return this.visitDefault(e,t)},i.prototype.visitAnd=function(e,t){return this.visitDefault(e,t)},i.prototype.visitOr=function(e,t){return this.visitDefault(e,t)},i.prototype.visitCompare=function(e,t){return this.visitDefault(e,t)},i.prototype.visitConditional=function(e,t){return this.visitDefault(e,t)},i.prototype.visitContains=function(e,t){return this.visitDefault(e,t)},i.prototype.visitExists=function(e,t){return this.visitDefault(e,t)},i.prototype.visitNot=function(e,t){return this.visitDefault(e,t)},i.prototype.visitStartsWith=function(e,t){return this.visitDefault(e,t)},i.prototype.visitConstant=function(e,t){return this.visitDefault(e,t)},i.prototype.visitDateSpan=function(e,t){return this.visitDefault(e,t)},i.prototype.visitDateAdd=function(e,t){return this.visitDefault(e,t)},i.prototype.visitNow=function(e,t){return this.visitDefault(e,t)},i.prototype.visitDefaultValue=function(e,t){return this.visitDefault(e,t)},i.prototype.visitAnyValue=function(e,t){return this.visitDefault(e,t)},i.prototype.visitArithmetic=function(e,t){return this.visitDefault(e,t)},i.prototype.visitFloor=function(e,t){return this.visitDefault(e,t)},i.prototype.visitFillRule=function(e,t){return this.visitDefault(e,t)},i.prototype.visitThemeDataColor=function(e,t){return this.visitDefault(e,t)},i.prototype.visitResourcePackageItem=function(e,t){return this.visitDefault(e,t)},i.prototype.visitScopedEval=function(e,t){return this.visitDefault(e,t)},i.prototype.visitFilteredEval=function(e,t){return this.visitDefault(e,t)},i.prototype.visitWithRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitTransformTableRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitTransformOutputRoleRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitRoleRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitSummaryValueRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitAllRolesRef=function(e,t){return this.visitDefault(e,t)},i.prototype.visitDiscretize=function(e,t){return this.visitDefault(e,t)},i.prototype.visitMember=function(e,t){return this.visitDefault(e,t)},i.prototype.visitNativeMeasure=function(e,t){return this.visitDefault(e,t)},i.prototype.visitNativeColumn=function(e,t){return this.visitDefault(e,t)},i.prototype.visitSparklineData=function(e,t){return this.visitDefault(e,t)},i.prototype.visitNativeVisualCalc=function(e,t){return this.visitDefault(e,t)},i.prototype.visitDefault=function(e,t){},i);function i(){}e.DefaultSQExprVisitorWithArg=r,__extends(a,n=r);var n,r=a;function a(){return null!==n&&n.apply(this,arguments)||this}function o(){}e.DefaultSQExprVisitor=a,o.prototype.visitEntity=function(e){this.visitDefault(e)},o.prototype.visitSubqueryRef=function(e){this.visitDefault(e)},o.prototype.visitNamedQueryRef=function(e){this.visitDefault(e)},o.prototype.visitColumnRef=function(e){e.source.accept(this)},o.prototype.visitMeasureRef=function(e){e.source.accept(this)},o.prototype.visitAggr=function(e){e.arg.accept(this)},o.prototype.visitPercentile=function(e){e.arg.accept(this)},o.prototype.visitRangePercent=function(e){e.min.accept(this),e.max.accept(this)},o.prototype.visitGroupRef=function(e){e.source.accept(this);for(var t=0,r=e.groupedExprs;t<r.length;t++)r[t].accept(this)},o.prototype.visitHierarchy=function(e){e.arg.accept(this)},o.prototype.visitHierarchyLevel=function(e){e.arg.accept(this)},o.prototype.visitPropertyVariationSource=function(e){e.arg.accept(this)},o.prototype.visitSelectRef=function(e){this.visitDefault(e)},o.prototype.visitBetween=function(e){e.arg.accept(this),e.lower.accept(this),e.upper.accept(this)},o.prototype.visitIn=function(e){for(var t=e.args,r=0,i=t.length;r<i;r++)t[r].accept(this);var n=e.values;if(n)for(r=0,i=n.length;r<i;r++)for(var a=n[r],o=0,s=a.length;o<s;o++)a[o].accept(this);else e.table.accept(this)},o.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitOr=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitCompare=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitConditional=function(e){e.cases;for(var t=0,r=e.cases;t<r.length;t++){var i=r[t];i.condition.accept(this),i.value.accept(this)}e.defaultValue&&e.defaultValue.accept(this)},o.prototype.visitContains=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitExists=function(e){e.arg.accept(this)},o.prototype.visitNot=function(e){e.arg.accept(this)},o.prototype.visitStartsWith=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitConstant=function(e){this.visitDefault(e)},o.prototype.visitDateSpan=function(e){e.arg.accept(this)},o.prototype.visitDateAdd=function(e){e.arg.accept(this)},o.prototype.visitNow=function(e){this.visitDefault(e)},o.prototype.visitDefaultValue=function(e){this.visitDefault(e)},o.prototype.visitAnyValue=function(e){this.visitDefault(e)},o.prototype.visitArithmetic=function(e){e.left.accept(this),e.right.accept(this)},o.prototype.visitFloor=function(e){e.arg.accept(this)},o.prototype.visitFillRule=function(e){e.input.accept(this),t.FillRuleDefinition.accept(e.rule,new t.PropertyDefinitionVisitor(this,null))},o.prototype.visistExists=function(e){e.arg.accept(this)},o.prototype.visitThemeDataColor=function(e){this.visitDefault(e)},o.prototype.visitResourcePackageItem=function(e){this.visitDefault(e)},o.prototype.visitScopedEval=function(e){e.expression.accept(this);for(var t=0,r=e.scope;t<r.length;t++)r[t].accept(this)},o.prototype.visitFilteredEval=function(e){e.expression.accept(this);for(var t=0,r=e.filters;t<r.length;t++){var i=r[t];if(!_.isEmpty(i.target))for(var n=0,a=i.target;n<a.length;n++)a[n].accept(this);i.condition.accept(this)}},o.prototype.visitWithRef=function(e){this.visitDefault(e)},o.prototype.visitTransformTableRef=function(e){this.visitDefault(e)},o.prototype.visitTransformOutputRoleRef=function(e){this.visitDefault(e)},o.prototype.visitRoleRef=function(e){this.visitDefault(e)},o.prototype.visitSummaryValueRef=function(e){this.visitDefault(e)},o.prototype.visitAllRolesRef=function(e){this.visitDefault(e)},o.prototype.visitDiscretize=function(e){this.visitDefault(e)},o.prototype.visitMember=function(e){this.visitDefault(e)},o.prototype.visitNativeMeasure=function(e){this.visitDefault(e)},o.prototype.visitNativeColumn=function(e){this.visitDefault(e)},o.prototype.visitSparklineData=function(e){e.measure.accept(this);for(var t=0,r=e.grouping;t<r.length;t++)r[t].accept(this);null!=(e=e.scalarKey)&&e.accept(this)},o.prototype.visitNativeVisualCalc=function(e,t){this.visitDefault(e)},o.prototype.visitDefault=function(e){},e.DefaultSQExprVisitorWithTraversal=o})(powerbi=powerbi||{}),(function(e){var p,f;function t(){}p=e.data||(e.data={}),f=jsCommon.ArrayExtensions,t.prototype.visitColumnRef=function(e){var t=e.source,r=t.accept(this);return t===r?e:new p.SQColumnRefExpr(r,e.ref,void 0,e.getAnnotations())},t.prototype.visitMeasureRef=function(e){var t=e.source,r=t.accept(this);return t===r?e:new p.SQMeasureRefExpr(r,e.ref,e.getAnnotations())},t.prototype.visitNativeMeasure=function(e){var t=e.expressionContentCache&&e.expressionContentCache.dependencies,r=t&&this.rewriteAll(t);return t===r?e:new p.SQNativeMeasureExpr(e.language,e.expression,e.dataType,e.proposedName,__assign(__assign({},e.expressionContentCache),{dependencies:r}),e.format,e.getAnnotations())},t.prototype.visitNativeColumn=function(e){var t=e.expressionContentCache&&e.expressionContentCache.dependencies,r=t&&this.rewriteAll(t),i=e.source.accept(this);return t===r&&e.source===i?e:(t=e.expressionContentCache?__assign(__assign({},e.expressionContentCache),{dependencies:r}):void 0,new p.SQNativeColumnExpr(e.language,e.expression,e.dataType,i,e.proposedName,t,e.format,e.getAnnotations()))},t.prototype.visitAggr=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQAggregationExpr(r,e.func,e.getAnnotations())},t.prototype.visitSelectRef=function(e){return e},t.prototype.visitPercentile=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQPercentileExpr(r,e.k,e.exclusive,e.getAnnotations())},t.prototype.visitRangePercent=function(e){var t=e.min,r=t.accept(this),i=e.max,n=i.accept(this);return t===r&&i===n?e:new p.SQRangePercentExpr(r,n,e.percent,e.getAnnotations())},t.prototype.visitGroupRef=function(e){for(var t=e.source,r=e.source.accept(this),i=e.groupedExprs,n=new Array(i.length),a=0;a<i.length;a++)n[a]=i[a].accept(this);return t===r&&p.SQExprUtils.sequenceEqual(i,n)?e:new p.SQGroupRefExpr(e.ref,r,n,e.getAnnotations())},t.prototype.visitHierarchy=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQHierarchyExpr(r,e.hierarchy,e.getAnnotations())},t.prototype.visitHierarchyLevel=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQHierarchyLevelExpr(r,e.level,e.getAnnotations())},t.prototype.visitPropertyVariationSource=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQPropertyVariationSourceExpr(r,e.name,e.property,e.getAnnotations())},t.prototype.visitEntity=function(e){return e},t.prototype.visitSubqueryRef=function(e){return e},t.prototype.visitNamedQueryRef=function(e){return e},t.prototype.visitAnd=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQAndExpr(r,n,e.getAnnotations())},t.prototype.visitBetween=function(e){var t=e.arg,r=t.accept(this),i=e.lower,n=i.accept(this),a=e.upper,o=a.accept(this);return t===r&&i===n&&a===o?e:new p.SQBetweenExpr(r,n,o,e.getAnnotations())},t.prototype.visitIn=function(e){var t,r=e.args,i=this.rewriteAll(r),n=e.values,a=e.table,o=a;if(n)for(var s=0,u=n.length;s<u;s++){var l=n[s],c=this.rewriteAll(l);(t=l!==c?t||f.take(n,s):t)&&t.push(c)}return a&&(o=a.accept(this)),r!==i||t||a!==o?new p.SQInExpr(i,t||n,o,e.getAnnotations()):e},t.prototype.rewriteAll=function(e){var t=this;return f.rewriteArray(e,(function(e){return e.accept(t)}))},t.prototype.visitOr=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQOrExpr(r,n,e.getAnnotations())},t.prototype.visitCompare=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQCompareExpr(e.comparison,r,n,e.getAnnotations())},t.prototype.visitConditional=function(e){e.cases;for(var t,r=e.defaultValue,i=r&&r.accept(this),n=e.cases,a=0,o=n.length;a<o;a++){var s=n[a],u=this.visitCase(s);(t=s!==u?t||f.take(n,a):t)&&t.push(u)}return t=t||n,i===r&&t===n?e:new p.SQConditionalExpr(t,i,e.getAnnotations())},t.prototype.visitCase=function(e){var t=e.condition,r=t.accept(this),i=e.value,n=i.accept(this);return t===r&&i===n?e:{condition:r,value:n}},t.prototype.visitContains=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQContainsExpr(r,n,e.getAnnotations())},t.prototype.visitExists=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQExistsExpr(r,e.getAnnotations())},t.prototype.visitNot=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQNotExpr(r,e.getAnnotations())},t.prototype.visitStartsWith=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQStartsWithExpr(r,n,e.getAnnotations())},t.prototype.visitConstant=function(e){return e},t.prototype.visitFloor=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQFloorExpr(r,e.size,e.timeUnit,e.getAnnotations())},t.prototype.visitDateSpan=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQDateSpanExpr(e.unit,r,e.getAnnotations())},t.prototype.visitDateAdd=function(e){var t=e.arg,r=t.accept(this);return t===r?e:new p.SQDateAddExpr(e.unit,e.amount,r,e.getAnnotations())},t.prototype.visitNow=function(e){return e},t.prototype.visitDefaultValue=function(e){return e},t.prototype.visitAnyValue=function(e){return e},t.prototype.visitArithmetic=function(e){var t=e.left,r=t.accept(this),i=e.right,n=i.accept(this);return t===r&&i===n?e:new p.SQArithmeticExpr(r,n,e.operator,e.getAnnotations())},t.prototype.visitScopedEval=function(e){var t=e.expression,r=t.accept(this),i=e.scope,n=this.rewriteAll(i);return t===r&&i===n?e:new p.SQScopedEvalExpr(r,n,e.getAnnotations())},t.prototype.visitFilteredEval=function(e){for(var t=e.expression,r=t.accept(this),i=!1,n=[],a=0,o=e.filters;a<o.length;a++){var s=o[a],u=s.target,l=void 0,c=(_.isEmpty(u)||(l=this.rewriteAll(u)),s.condition),s=s.condition.accept(this);u===l&&c===s||(i=!0),n.push({target:l,condition:s})}return t!==r||i?new p.SQFilteredEvalExpr(r,n,e.getAnnotations()):e},t.prototype.visitWithRef=function(e){return e},t.prototype.visitTransformTableRef=function(e){return e},t.prototype.visitTransformOutputRoleRef=function(e){return e},t.prototype.visitRoleRef=function(e){return e},t.prototype.visitSummaryValueRef=function(e){return e},t.prototype.visitAllRolesRef=function(e){return e},t.prototype.visitFillRule=function(e){var t=e.input,r=t.accept(this),i=e.rule,n=i.linearGradient2,a=n,i=(n&&(a=this.visitLinearGradient2(n)),i.linearGradient3),o=i;return i&&(o=this.visitLinearGradient3(i)),t!==r||n!==a||i!==o?(t={},a&&(t.linearGradient2=a),o&&(t.linearGradient3=o),new p.SQFillRuleExpr(r,t,e.getAnnotations())):e},t.prototype.visitLinearGradient2=function(e){var t=e.min,r=this.visitFillRuleStop(t),i=e.max,n=this.visitFillRuleStop(i),a=e.nullColoringStrategy,o=this.visitFillNullStrategy(a);return t!==r||i!==n||a!==o?(t={min:r,max:n},o&&(t.nullColoringStrategy=o),t):e},t.prototype.visitLinearGradient3=function(e){var t=e.min,r=this.visitFillRuleStop(t),i=e.mid,n=this.visitFillRuleStop(i),a=e.max,o=this.visitFillRuleStop(a),s=e.nullColoringStrategy,u=this.visitFillNullStrategy(s);return t!==r||i!==n||a!==o||s!==u?(t={min:r,mid:n,max:o},u&&(t.nullColoringStrategy=u),t):e},t.prototype.visitFillRuleStop=function(e){var t=e.color,r=e.color.accept(this),i=e.value,n=i;return i&&(n=i.accept(this)),t!==r||i!==n?(t={color:r},n&&(t.value=n),t):e},t.prototype.visitFillNullStrategy=function(e){var t,r,i,n;if(e)return t=(n=e.strategy).accept(this),(i=r=e.color)&&(i=r.accept(this)),n!==t||r!==i?(n={strategy:t},i&&(n.color=i),n):e},t.prototype.visitThemeDataColor=function(e){return e},t.prototype.visitResourcePackageItem=function(e){return e},t.prototype.visitDiscretize=function(e){var t=e.source.accept(this);return t===e.source?e:new p.SQDiscretizeExpr(t,e.count,e.getAnnotations())},t.prototype.visitMember=function(e){var t=e.source.accept(this);return t===e.source?e:new p.SQMemberExpr(t,e.member,e.getAnnotations())},t.prototype.visitSparklineData=function(e){var t=e.measure.accept(this),r=this.rewriteAll(e.grouping),i=null==(i=e.scalarKey)?void 0:i.accept(this),n=e.pointsPerSparkline,a=e.includeMinGroupingInterval;return t===e.measure&&r===e.grouping&&e.scalarKey===i&&e.pointsPerSparkline===n&&e.includeMinGroupingInterval===a?e:new p.SQSparklineDataExpr(t,r,i,n,a)},t.prototype.visitNativeVisualCalc=function(e){return e},p.SQExprRewriter=t})(powerbi=powerbi||{}),(function(e){var i,r,n;function t(e){var t=r.call(this)||this;return t.schema=e,t}((i=e.data||(e.data={})).VariationRewriter||(i.VariationRewriter={})).run=function(e,t){return e.accept(new n(t))},r=i.SQExprRewriter,__extends(t,r),t.prototype.visitPropertyVariationSource=function(e){var t,r=e.arg.getTargetEntity();return r&&(t=r.schema,r=this.schema.schema(t).findTargetEntityOfVariation(r.entity,e.property,e.name))?i.SQExprBuilder.entity(t,r.name):e},n=t})(powerbi=powerbi||{}),(function(e){function t(){this.references=[]}e.isValueRef=function(e){return!!e&&void 0!==e.selector&&void 0!==e.propertyIdentifier},t.prototype.accept=function(e){this.references.push(e)},e.ValueRefVisitor=t})(powerbi=powerbi||{}),(function(e){function t(e,t){this.exprVisitor=e,this.valueRefVisitor=t}t.prototype.visitExpr=function(e){return this.exprVisitor,e.accept(this.exprVisitor)},t.prototype.visitValueRef=function(e){return this.valueRefVisitor,this.valueRefVisitor.accept(e)},e.PropertyDefinitionVisitor=t})(powerbi=powerbi||{}),(function(r){(r.DataBarsDefinition||(r.DataBarsDefinition={})).accept=function(e,t){e.minValue&&t.visitExpr(e.minValue),e.maxValue&&t.visitExpr(e.maxValue),r.FillDefinition.accept(e.positiveColor,t),r.FillDefinition.accept(e.negativeColor,t),r.FillDefinition.accept(e.axisColor,t),t.visitExpr(e.reverseDirection),t.visitExpr(e.hideText)}})(powerbi=powerbi||{}),(function(){(powerbi||(powerbi={})).createEnumType=function(e){return new t(e)};e.prototype.members=function(e){var t=this.allMembers;if(!e)return t;for(var r=[],i=0,n=t;i<n.length;i++){var a=n[i];_.includes(e,a.value)&&r.push(a)}return r};var t=e;function e(e){this.allMembers=e}})(),(function(e){(e.ErrorRangeDefinition||(e.ErrorRangeDefinition={})).accept=function(e,t){var r,i,n,a;e.explicit?(a=e.explicit,(n=t).visitExpr(a.isRelative),a.lowerBound&&n.visitExpr(a.lowerBound),a.upperBound&&n.visitExpr(a.upperBound)):e.symmetricalExplicit?t.visitExpr(e.symmetricalExplicit.delta):e.standardDeviation?(n=t,a=e.standardDeviation,n.visitExpr(a.value),n.visitExpr(a.multiplier)):e.percentage?(r=e.percentage,(i=t).visitExpr(r.lowerBoundDelta),i.visitExpr(r.upperBoundDelta)):e.percentile&&(i=e.percentile,(r=t).visitExpr(i.lowerBound),r.visitExpr(i.upperBound))}})(powerbi=powerbi||{}),(function(r){(r.Fill||(r.Fill={})).isFill=function(e){return e&&(void 0!==e.solid&&void 0!==e.solid.color||void 0!==e.gradient&&(void 0!==e.gradient.startColor||void 0!==e.gradient.endColor)||void 0!==e.pattern&&(void 0!==e.pattern.patternKind||void 0!==e.pattern.color))},(r.FillDefinition||(r.FillDefinition={})).accept=function(e,t){e.solid&&e.solid.color&&t.visitExpr(e.solid.color)},(r.fillDefinitionHelpers||(r.fillDefinitionHelpers={})).createSolidFillDefinition=function(e,t){return t?{solid:{color:r.data.SQExprBuilder.color(e,t)}}:null===e?{solid:{color:r.data.SQExprBuilder.nullConstant()}}:e?{solid:{color:r.data.SQExprBuilder.text(e)}}:void 0},(r.FillSolidColorTypeDescriptor||(r.FillSolidColorTypeDescriptor={})).nullable=function(e){return!0!==e&&!!e.nullable}})(powerbi=powerbi||{}),(function(e){var t;function n(e,t){t.visitExpr(e.color);e=e.value;e&&t.visitExpr(e)}function a(e,t){e&&(t.visitExpr(e.strategy),e.color)&&t.visitExpr(e.color)}(t=e.NullStrategy||(e.NullStrategy={})).asZero="asZero",t.noColor="noColor",t.specificColor="specificColor",t.type=e.createEnumType([{value:t.asZero,displayName:function(e){return e.get("ConditionalFormattingDialog_FormatNull_AsZero")}},{value:t.noColor,displayName:function(e){return e.get("ConditionalFormattingDialog_FormatNull_NoFormat")}},{value:t.specificColor,displayName:function(e){return e.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}}]),(e.FillRuleDefinition||(e.FillRuleDefinition={})).accept=function(e,t){var r,i;e.linearGradient2?(r=e.linearGradient2,i=t,n(r.min,i),n(r.max,i),a(r.nullColoringStrategy,i)):e.linearGradient3&&(r=e.linearGradient3,i=t,n(r.min,i),n(r.mid,i),n(r.max,i),a(r.nullColoringStrategy,i))}})(powerbi=powerbi||{}),(function(e){var t;(t=e.GeoJsonTypes||(e.GeoJsonTypes={})).shared="shared",t.packaged="packaged",(t=e.GeoJsonContentTypes||(e.GeoJsonContentTypes={})).geojson="geojson",t.topojson="topojson"})(powerbi=powerbi||{}),(function(e){(e.IconDefinition||(e.IconDefinition={})).accept=function(e,t){e.layout&&t.visitExpr(e.layout),e.verticalAlignment&&t.visitExpr(e.verticalAlignment),e.value&&t.visitExpr(e.value)}})(powerbi=powerbi||{}),(function(e){(e.ImageDefinition||(e.ImageDefinition={})).urlType={misc:{imageUrl:!0}}})(powerbi=powerbi||{}),(function(n){var o=jsCommon.EnumExtensions,e=(s.fromDescriptor=function(e){if((e=e||{}).scripting&&e.scripting.source)return s.fromExtendedType(32776193);if(e.enumeration)return s.fromEnum(e.enumeration);if(e.flagsEnumeration)return s.fromFlagsEnum(e.flagsEnumeration);if(e.temporal){if(e.temporal.year)return s.fromExtendedType(66308);if(e.temporal.quarter)return s.fromExtendedType(262916);if(e.temporal.month)return s.fromExtendedType(131844);if(e.temporal.day)return s.fromExtendedType(328452);if(e.temporal.paddedDateTableDate)return s.fromExtendedType(197127)}if(e.geography){if(e.geography.address)return s.fromExtendedType(6554625);if(e.geography.city)return s.fromExtendedType(6620161);if(e.geography.continent)return s.fromExtendedType(6685697);if(e.geography.country)return s.fromExtendedType(6751233);if(e.geography.county)return s.fromExtendedType(6816769);if(e.geography.region)return s.fromExtendedType(6882305);if(e.geography.postalCode)return s.fromExtendedType(6947841);if(e.geography.stateOrProvince)return s.fromExtendedType(7013377);if(e.geography.place)return s.fromExtendedType(7078913);if(e.geography.latitude)return s.fromExtendedType(7144707);if(e.geography.longitude)return s.fromExtendedType(7210243)}if(e.misc){if(e.misc.image)return s.fromExtendedType(13109259);if(e.misc.imageUrl)return s.fromExtendedType(13174785);if(e.misc.webUrl)return s.fromExtendedType(13240321);if(e.misc.barcode)return s.fromExtendedType(13305857);if(e.misc.sparkline)return s.fromSparklineType(e.misc.sparkline)}if(e.formatting){if(e.formatting.color)return s.fromExtendedType(19664897);if(e.formatting.formatString)return s.fromExtendedType(19730433);if(e.formatting.alignment)return s.fromExtendedType(20058113);if(e.formatting.labelDisplayUnits)return s.fromExtendedType(20123649);if(e.formatting.displayUnitsWithoutAuto)return s.fromExtendedType(20516865);if(e.formatting.fontFamily)return s.fromExtendedType(20385793);if(e.formatting.fontSize)return s.fromExtendedType(20189443);if(e.formatting.altText)return s.fromExtendedType(20451329);if(e.formatting.stylePreset)return s.fromExtendedType(20582401)}if(e.text)return s.fromExtendedType(1);if(e.integer)return s.fromExtendedType(260);if(e.numeric)return s.fromExtendedType(259);if(e.bool)return s.fromExtendedType(5);if(e.dateTime)return s.fromExtendedType(519);if(e.duration)return s.fromExtendedType(10);if(e.binary)return s.fromExtendedType(11);if(e.json)return s.fromExtendedType(14);if(e.none)return s.fromExtendedType(12);if(e.extendedType)return s.fromExtendedType(e.extendedType);if(e.operations&&e.operations.searchEnabled)return s.fromExtendedType(65541);if(e.reference){if(e.reference.bookmark)return s.fromExtendedType(39337985);if(e.reference.bookmarkGroup)return s.fromExtendedType(39534593);if(e.reference.section)return s.fromExtendedType(39403521);if(e.reference.perspective)return s.fromExtendedType(39469057);if(e.reference.rowRefText)return s.fromExtendedType(39600129)}return e.variant?(e=_.map(e.variant,(function(e){return s.fromDescriptor(e)})),s.fromVariant(e)):s.fromExtendedType(0)},s.fromExtendedType=function(e){var t=(e=e||0)&y,e=(function(e){if(function(e){return(e&g)===e}(e))return null;e=n.ExtendedTypeNames[e];if(!e)return null;var t=e.lastIndexOf("_");0<t&&(t=e.slice(0,t))in v&&(e=t);return e})(e);return s.fromPrimitiveTypeAndCategory(t,e)},s.fromPrimitiveTypeAndCategory=function(e,t){t=t||null;var r=(e=e||0).toString();return t&&(r+="|"+t),s.typeCache[r]||(s.typeCache[r]=new s(function(e,t){var r=n.PrimitiveTypeNames[e],r=v[r];null==r&&(r=0);{var i;e&&t&&(t=v[t])&&(0==(i=t&y)?(t|=r,n.ExtendedTypeNames[t]&&(r=t)):i===e&&(r=t))}return r}(e,t),t))},s.fromEnum=function(e){return new s(26214401,null,e)},s.fromFlagsEnum=function(e){return new s(26280196,null,null,e)},s.fromVariant=function(e){return new s(13,null,null,null,e)},s.fromSparklineType=function(e){return new s(13371406,"Sparkline",null,null,null,e)},s.isCompatibleFromAny=function(e,t,r){e=s.fromDescriptor(e);return!!s.isCompatibleTo(e,[t],r)||e&&e.isCompatibleFrom(s.fromDescriptor(t),r)},s.isCompatibleTo=function(e,t,r){for(var i=s.fromDescriptor(e),n=0,a=t;n<a.length;n++){var o=a[n];if(s.fromDescriptor(o).isCompatibleFrom(i,r))return!0}return!1},s.prototype.isCompatibleFrom=function(e,t){if(this===e)return!0;if(e.variant)for(var r=0,i=e.variant;r<i.length;r++){var n=i[r];if(!this.isCompatibleFrom(n,t))return!1}if(this.variant)for(var a=0,o=this.variant;a<o.length;a++)if(o[a].isCompatibleFrom(e,t))return!0;var s=e.primitiveType;return this.primitiveType===s||0===s||this.numeric&&e.numeric&&(!t||!this.integer||e.integer)},s.prototype.equals=function(e){return _.isEqual(this,e)},Object.defineProperty(s.prototype,"primitiveType",{get:function(){return S(this.underlyingType)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"categoryString",{get:function(){return this.category},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return 1===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"numeric",{get:function(){return o.hasFlag(this.underlyingType,256)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"integer",{get:function(){return 4===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"bool",{get:function(){return 5===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"dateTime",{get:function(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"duration",{get:function(){return 10===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"binary",{get:function(){return 11===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"json",{get:function(){return 14===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"none",{get:function(){return 12===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"geography",{get:function(){return this.geographyType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"misc",{get:function(){return this.miscType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"enum",{get:function(){return this.enumType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"flagsEnum",{get:function(){return this.flagsEnumType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"reference",{get:function(){return this.referenceType},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!1,configurable:!0}),s.typeCache={},s);function s(e,t,r,i,n,a){this.underlyingType=e,this.category=t,o.hasFlag(e,512)&&(this.temporalType=new l(e)),o.hasFlag(e,1024)&&(this.geographyType=new c(e)),o.hasFlag(e,2048)&&(this.miscType=new p(e,a)),o.hasFlag(e,4096)&&(this.formattingType=new h(e)),o.hasFlag(e,26214401)&&(this.enumType=r),o.hasFlag(e,26280196)&&(this.flagsEnumType=i),o.hasFlag(e,8192)&&(this.scriptingType=new u(e)),o.hasFlag(e,16384)&&(this.referenceType=new f(e)),o.hasFlag(e,13)&&(this.variationTypes=n)}n.ValueType=e,jsCommon.forceEnumeration(e.prototype);Object.defineProperty(t.prototype,"source",{get:function(){return E(this.underlyingType,32776193)},enumerable:!1,configurable:!0});var u=t;function t(e){this.underlyingType=e}Object.defineProperty(r.prototype,"year",{get:function(){return E(this.underlyingType,66048)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quarter",{get:function(){return E(this.underlyingType,262656)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"month",{get:function(){return E(this.underlyingType,131584)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"day",{get:function(){return E(this.underlyingType,328192)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"paddedDateTableDate",{get:function(){return E(this.underlyingType,197127)},enumerable:!1,configurable:!0});var l=r;function r(e){this.underlyingType=e}Object.defineProperty(i.prototype,"address",{get:function(){return E(this.underlyingType,6554625)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"city",{get:function(){return E(this.underlyingType,6620161)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"continent",{get:function(){return E(this.underlyingType,6685697)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"country",{get:function(){return E(this.underlyingType,6751233)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"county",{get:function(){return E(this.underlyingType,6816769)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"region",{get:function(){return E(this.underlyingType,6882305)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"postalCode",{get:function(){return E(this.underlyingType,6947840)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"stateOrProvince",{get:function(){return E(this.underlyingType,7013377)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"place",{get:function(){return E(this.underlyingType,7078913)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"latitude",{get:function(){return E(this.underlyingType,7144448)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return E(this.underlyingType,7209984)},enumerable:!1,configurable:!0});var c=i;function i(e){this.underlyingType=e}Object.defineProperty(a.prototype,"image",{get:function(){return E(this.underlyingType,13109259)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"imageUrl",{get:function(){return E(this.underlyingType,13174785)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"webUrl",{get:function(){return E(this.underlyingType,13240321)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"barcode",{get:function(){return E(this.underlyingType,13305856)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"sparkline",{get:function(){if(E(this.underlyingType,13371406))return this.sparklineType},enumerable:!1,configurable:!0});var p=a;function a(e,t){this.underlyingType=e,this.sparklineType=t}Object.getOwnPropertyNames(p.prototype).forEach((function(e){"constructor"!==e&&Object.defineProperty(p.prototype,e,{enumerable:!0})}));Object.defineProperty(d.prototype,"bookmark",{get:function(){return E(this.underlyingType,39337985)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bookmarkGroup",{get:function(){return E(this.underlyingType,39534593)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"section",{get:function(){return E(this.underlyingType,39403521)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"perspective",{get:function(){return E(this.underlyingType,39469057)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"rowRefText",{get:function(){return E(this.underlyingType,39600129)},enumerable:!1,configurable:!0});var f=d;function d(e){this.underlyingType=e}Object.defineProperty(m.prototype,"color",{get:function(){return E(this.underlyingType,19664897)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"formatString",{get:function(){return E(this.underlyingType,19730433)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"alignment",{get:function(){return E(this.underlyingType,20058113)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"labelDisplayUnits",{get:function(){return E(this.underlyingType,20123649)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"displayUnitsWithoutAuto",{get:function(){return E(this.underlyingType,20516865)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontFamily",{get:function(){return E(this.underlyingType,20385793)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontSize",{get:function(){return E(this.underlyingType,20189443)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"altText",{get:function(){return E(this.underlyingType,20451329)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"stylePreset",{get:function(){return E(this.underlyingType,20582401)},enumerable:!1,configurable:!0});var h=m;function m(e){this.underlyingType=e}Object.getOwnPropertyNames(h.prototype).forEach((function(e){"constructor"!==e&&Object.defineProperty(h.prototype,e,{enumerable:!0})})),n.PrimitiveTypeNames=((e={})[0]="Null",e[1]="Text",e[2]="Decimal",e[3]="Double",e[4]="Integer",e[5]="Boolean",e[6]="Date",e[7]="DateTime",e[8]="DateTimeZone",e[9]="Time",e[10]="Duration",e[11]="Binary",e[12]="None",e[13]="Variant",e[14]="Json",e),n.ExtendedTypeNames=((e={})[256]="Numeric",e[512]="Temporal",e[1024]="Geography",e[2048]="Miscellaneous",e[4096]="Formatting",e[8192]="Scripting",e[0]="Null",e[1]="Text",e[258]="Decimal",e[259]="Double",e[260]="Integer",e[5]="Boolean",e[518]="Date",e[519]="DateTime",e[520]="DateTimeZone",e[521]="Time",e[10]="Duration",e[11]="Binary",e[12]="None",e[13]="Variant",e[66048]="Years",e[66049]="Years_Text",e[66308]="Years_Integer",e[66054]="Years_Date",e[66055]="Years_DateTime",e[131584]="Months",e[131585]="Months_Text",e[131844]="Months_Integer",e[131590]="Months_Date",e[131591]="Months_DateTime",e[197127]="PaddedDateTableDates",e[262656]="Quarters",e[262657]="Quarters_Text",e[262916]="Quarters_Integer",e[262662]="Quarters_Date",e[262663]="Quarters_DateTime",e[328192]="DayOfMonth",e[328193]="DayOfMonth_Text",e[328452]="DayOfMonth_Integer",e[328198]="DayOfMonth_Date",e[328199]="DayOfMonth_DateTime",e[6554625]="Address",e[6620161]="City",e[6685697]="Continent",e[6751233]="Country",e[6816769]="County",e[6882305]="Region",e[6947840]="PostalCode",e[6947841]="PostalCode_Text",e[6948100]="PostalCode_Integer",e[7013377]="StateOrProvince",e[7078913]="Place",e[7144448]="Latitude",e[7144706]="Latitude_Decimal",e[7144707]="Latitude_Double",e[7209984]="Longitude",e[7210242]="Longitude_Decimal",e[7210243]="Longitude_Double",e[13109259]="Image",e[13174785]="ImageUrl",e[13240321]="WebUrl",e[13305856]="Barcode",e[13305857]="Barcode_Text",e[13306116]="Barcode_Integer",e[19664897]="Color",e[19730433]="FormatString",e[20058113]="Alignment",e[20123649]="LabelDisplayUnits",e[20516865]="DisplayUnitsWithoutAuto",e[20385793]="FontFamily",e[20451329]="AltText",e[20189443]="FontSize",e[26214401]="Enumeration",e[26280196]="FlagsEnumeration",e[32776193]="ScriptSource",e[65541]="SearchEnabled",e[39337985]="BookmarkRef",e[39534593]="BookmarkGroupRef",e[39403521]="SectionRef",e[20582401]="StylePreset",e[39469057]="PerspectiveRef",e[16384]="Reference",e[14]="Json",e[13371406]="Sparkline",e[39600129]="RowRefText",e);var v={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},y=255,g=65535,x=4294901760;function S(e){return e&y}function E(e,t){return(e&x)==(t&x)}})(powerbi=powerbi||{}),(function(e){(e=(e=e.data||(e.data={})).DataShapeBindingdataReductionPlotAxisTransform||(e.DataShapeBindingdataReductionPlotAxisTransform={}))[e.None=0]="None",e[e.Log=1]="Log"})(powerbi=powerbi||{}),(function(e){var i;function a(e,t,r){e={Index:_.findIndex(e,(function(e){return e.name===t}))};return r&&1===r&&(e.Transform=i.DataShapeBindingdataReductionPlotAxisTransform.Log),e}((i=e.data||(e.data={})).DataShapeBindingDataReduction||(i.DataShapeBindingDataReduction={})).createFrom=function(e,t){var r,i,n;if(e)return e.top&&(i={Top:{}},e.top.count)&&(i.Top.Count=e.top.count),e.bottom&&(i={Bottom:{}},e.bottom.count)&&(i.Bottom.Count=e.bottom.count),e.sample&&(i={Sample:{}},e.sample.count)&&(i.Sample.Count=e.sample.count),e.window&&(i={Window:{}},e.window.count)&&(i.Window.Count=e.window.count),e.binnedLineSample&&(i={BinnedLineSample:{}},null!=e.binnedLineSample.primaryScalarKey&&(i.BinnedLineSample.PrimaryScalarKey=e.binnedLineSample.primaryScalarKey),e.binnedLineSample.count&&(i.BinnedLineSample.Count=e.binnedLineSample.count),e.binnedLineSample.warningCount)&&(i.BinnedLineSample.WarningCount=e.binnedLineSample.warningCount),e.overlappingPointsSample&&(i={OverlappingPointsSample:{}},(r=e.overlappingPointsSample).count&&(i.OverlappingPointsSample.Count=r.count),(n=r.x)&&1===_.size(n.role.items)&&(i.OverlappingPointsSample.X=a(t,n.role.items[0].queryName,n.transform)),n=r.y)&&1===_.size(n.role.items)&&(i.OverlappingPointsSample.Y=a(t,n.role.items[0].queryName,n.transform)),i=e.topNPerLevel?{TopNPerLevel:{Count:e.topNPerLevel.count}}:i}})(powerbi=powerbi||{}),(function(e){function p(e){this.schemasByName=e.schemas,e.links&&(this.links=e.links)}e=e.data||(e.data={}),p.merge=function(e){if(1===e.length)return e[0];for(var t,r={},i=[],n=0,a=e;n<a.length;n++){var o,s=a[n];for(o in s.schemasByName)t=o,"Duplicate schema name ".concat(t," found while merging"),r[t]=s.schemasByName[t];i.push.apply(i,s.links||[])}var u,l,c;for(u in r)c=void 0,(l=r[l=u]).isExtensionSchema&&(c=r[l.extends],p.mergeCapabilities(c,l));e={schemas:r};return _.some(i)&&(e.links=i),new p(e)},Object.defineProperty(p.prototype,"schemas",{get:function(){return _.values(this.schemasByName)},enumerable:!1,configurable:!0}),p.prototype.schema=function(e){return this.schemasByName[e]},p.mergeCapabilities=function(e,t){t.capabilities=__assign(__assign({},e.capabilities),{canEdit:t.capabilities.canEdit,isExtendable:t.capabilities.isExtendable})},e.FederatedConceptualSchema=p})(powerbi=powerbi||{}),(function(s){var l,u,c;function p(e){return null!=e&&1===e.kind}function r(e){return null!=e&&3===e.kind}function i(e){return null!=e&&2===e.kind}function n(e){return null!=e&&0===e.kind}function a(e){return null!=e&&4===e.kind}function t(e,t){if(!_.isEmpty(e))return e=o(e),_.isEmpty(e)?void 0:s.DataViewScopeIdentity.filterFromExprs(e,t)}function o(e){if(!_.isEmpty(e)){for(var t=[],r=0,i=e.length;r<i;r++){u=s=o=n=void 0;var n=e[a=r],a=null==n?void 0:n.data,o=void 0;if(!_.isEmpty(a))for(var s=0,u=a.length;s<u;s++)o=l.SQExprBuilder.and(o,(null==n?void 0:n.data[s]).expr);o&&t.push(o)}return t}}function f(e,t){return(e=e||null)===(t=t||null)||!e==!t&&e.id===t.id&&e.metadata===t.metadata&&!!(function(e,t){if((e=e||null)!==(t=t||null)){if(!e!=!t)return;if(e.length!==t.length)return;for(var r=0,i=e.length;r<i;r++)if(!h(e[r],t[r]))return}return 1})(e.data,t.data)&&e.highlightMatching===t.highlightMatching}function d(e,t){return(e=e||null)===(t=t||null)||!e==!t&&f(m(e),m(t))}function h(e,t){return p(e)&&p(t)?s.DataViewScopeIdentity.equals(e,t):r(e)&&r(t)?l.DataViewScopeWildcard.equals(e,t):i(e)&&i(t)?l.DataViewScopeTotal.equals(e,t):n(e)&&n(t)?l.DataViewRoleWildcard.equals(e,t):!(!a(e)||!a(t))&&l.DataViewWildcard.equals(e,t)}function m(e){if(e){var t,r=[];for(t in e.dataMap)for(var i=0,n=c.ensureArray(e.dataMap[t]);i<n.length;i++){var a=n[i];r.push(a)}var o={};return 0<r.length&&(o.data=r),e.metadata&&(o.metadata=_.head(e.metadata)),e.id&&(o.id=e.id),o}}l=s.data||(s.data={}),c=jsCommon.ArrayExtensions,(u=l.Selector||(l.Selector={})).AllEncompasingKey="{}",u.isScopeIdentity=p,u.isScopeWildcard=r,u.isScopeTotal=i,u.isRoleWildcard=n,u.isWildcard=a,u.isWildcardSelector=function(e){return!(!e||!e.data)&&e&&e.data&&1===e.data.length&&a(e.data[0])},u.toScopeIdentities=function(e){if(e&&!_.isEmpty(e.data)){for(var t=e.data.length,r=new Array(t),i=0;i<t;i++){var n=e.data[i];if(!u.isScopeIdentity(n))return;r[i]=n}return r}},u.getScopeIdentities=function(e){if(e&&e.dataMap){var t,r=[];for(t in e.dataMap){var i=c.ensureArray(e.dataMap[t]);r.push.apply(r,i||[])}return r}},u.filterFromSelector=t,u.filterFromSelectorsByColumn=function(e){return t(_.map(e,(function(e){return u.convertSelectorsByColumnToSelector(e)})))},u.filterExprsFromSelectors=o,u.hasIdentities=function(e){if(!_.isEmpty(e))for(var t=0,r=e;t<r.length;t++){var i=r[t];if(i.dataMap)for(var n in i.dataMap){n=i.dataMap[n];if(!_.isEmpty(n)&&_.some(n,(function(e){return null!=e})))return!0}}},u.equals=f,u.equalsSelectorsByColumn=d,u.equalsSelectorsByColumnArray=function(e,t){if((e=e||null)!==(t=t||null)){if(!e!=!t)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!d(e[r],t[r]))return!1}return!0},u.equalsData=h,u.getKey=function(e){if(e.data)if(0<e.data.length){for(var t="data: [".concat(e.data[0].key),r=1,i=e.data.length;r<i;r++)t+=", ".concat(e.data[r].key);t+="]"}else t="data: []";var n=e.metadata;return n&&(t?t+=", metadata: "+n:t="metadata: "+n),(n=e.id)&&(t?t+=", id: "+n:t="id: "+n),t?"{"+t+"}":"{}"},u.getDecomposedKeys=function(e,t){if(_.isEmpty(e.data))return[u.AllEncompasingKey];var r=[];if(t)r=_.map(e.data,(function(e){return e.key}));else for(var i=0,n=e.data;i<n.length;i++){var a,o=n[i];p(o)&&(a=(a=s.data.ScopeIdentityExtractor.getKeys(o.expr))||s.data.ScopeIdentityExtractor.getValues(o.expr),_.forEach(a,(function(e){r.push(s.data.SQExprShortSerializer.serialize(e))})))}return r},u.containsWildcard=function(e){return!!(e=e.data)&&_.some(e,(function(e){return n(e)||r(e)||a(e)}))},u.hasRoleWildcard=function(e){if(e=e.data,!_.isEmpty(e))for(var t=0,r=e;t<r.length;t++)if(n(r[t]))return!0;return!1},u.convertSelectorsByColumnToSelector=m,u.getSelectorTargetExpr=function(t,e){return t&&t.metadata&&(e=_.find(e,(function(e){return e.queryName===t.metadata})))?e.expr:void 0},u.normalizeSelector=function(e){return e&&e.data?{data:e.data}:e},u.clone=function(e){var t={};return e.data&&(t.data=__spreadArray([],e.data,!0)),e.metadata&&(t.metadata=e.metadata),e.id&&(t.id=e.id),void 0!==e.highlightMatching&&(t.highlightMatching=e.highlightMatching),t}})(powerbi=powerbi||{}),(function(e){var V,b;function C(e,t,r){V.SQExpr.isAnd(e)?(i(r),C(e.left,t,r.left),C(e.right,t,r.right)):V.SQExpr.isCompare(e)&&(i(r,e.left),t.push(e.right))}function i(e,t){t?e.value=t:(e.left={},e.right={})}function D(e,t){return!(!e||!t)&&(e.left&&e.right?!(!t.left||!t.right)&&D(e.left,t.left)&&D(e.right,t.right):!!e.value&&!!t.value&&V.SQExpr.equals(e.value,t.value))}function R(e){if(V.Selector.isScopeIdentity(e))return e.expr}function T(e,t,r){var i,n;return t.left&&t.right?(i=T(e,t.left,r),n=T(e,t.right,r),V.SQExprBuilder.and(i,n)):t.value?(i=t.value,n=e[r.index++],V.SQExprBuilder.compare(0,i,n)):void 0}V=e.data||(e.data={}),e=V.DecomposedIdentities||(V.DecomposedIdentities={}),b=jsCommon.ArrayExtensions,e.decomposeSelectorsByColumn=function(e){if(e){for(var t={},r=[],i=[],n=[],a=[],o=[],s=[],u=0,l=e;u<l.length;u++){var c=l[u],p=[],f={};if(s.push(c.id),o.push(c.metadata),c.dataMap){for(var d in c.dataMap)for(var h=0,m=b.ensureArray(c.dataMap[d]);h<m.length;h++){for(var v=m[h],y={},g=[],x={},S=_.indexOf(n,d),E=(S<0&&(n.push(d),S=n.length-1),C(R(v),g,x),-1),w=0;w<i.length;w++)if(D(x,i[w])){E=w;break}E<0&&(i.push(x),E=i.length-1),y[E]=g,f[S]=f[S]||[],f[S].push(E),p.push(y)}a.push(f),r.push(p)}}return _.isEmpty(r)||_.isEmpty(r)||(t.decomposedIdentities={values:r,columns:i}),_.isEmpty(n)||_.isEmpty(a)||(t.queryNames=n,t.queryNameMap=a),_.some(o,(function(e){return!!e}))&&(t.metadata=o),_.some(s,(function(e){return!!e}))&&(t.id=s),t}},e.decomposeFilterExpressionMetadata=function(e){if(e){var t={expressions:e.expressions},r=[],i=[],n=[];if(e.cachedValueItems){for(var a=0,o=e.cachedValueItems;a<o.length;a++){for(var s=o[a],u=(n.push(s.valueMap),[]),l=0,c=s.identities;l<c.length;l++){for(var p={},f=[],d={},h=(C(R(c[l]),f,p),-1),m=0;m<i.length;m++)if(D(p,i[m])){h=m;break}h<0&&(i.push(p),h=i.length-1),d[h]=f,u.push(d)}r.push(u)}t.decomposedIdentities={values:r,columns:i},t.valueMap=n}return t}},e.convertDecomposedSelectors=function(e){if(e){var t=[],r=e.decomposedIdentities&&e.decomposedIdentities.values,i=e.decomposedIdentities&&e.decomposedIdentities.columns,n=e.queryNames,a=e.queryNameMap;if(r&&i)for(var o=0;o<r.length;o++){var s=r[o];(C={dataMap:{}}).metadata=e.metadata&&e.metadata[o],C.id=e.id&&e.id[o];for(var u=a[o],l=0,c=s;l<c.length;l++)for(var p=c[l],f=0,d=_.keys(p);f<d.length;f++){var h,m=d[f],v=_.toNumber(m);for(h in u){var y=u[h];if(0<=_.indexOf(y,v)){var g=n[h],x=T(p[v],i[v],{index:0}),x=V.createDataViewScopeIdentity(x);C.dataMap[g]=C.dataMap[g]||[],C.dataMap[g].push(x),_.pull(y,v);break}}}t.push(C)}else{if(!_.isEmpty(e.metadata))for(var S=0,E=e.metadata;S<E.length;S++){var w=E[S];(C={}).metadata=w,t.push(C)}if(!_.isEmpty(e.id))for(var b=_.isEmpty(t),o=0;o<e.id.length;o++){var C,D=e.id[o];(C=b?{}:t[o]).id=D,b&&t.push(C)}}return t}},e.convertDecomposedFilterExpressionMetadata=function(e){if(e){var t={expressions:e.expressions},r=e.decomposedIdentities&&e.decomposedIdentities.values,i=e.decomposedIdentities&&e.decomposedIdentities.columns,n=[];if(r&&i){for(var a=0;a<r.length;a++){for(var o=[],s=0,u=r[a];s<u.length;s++){var l,c=u[s];for(l in c){var p=i[l],p=T(c[l],p,{index:0}),p=V.createDataViewScopeIdentity(p);o.push(p)}}n.push({identities:o,valueMap:e.valueMap[a]})}_.isEmpty(n)||(t.cachedValueItems=n),e.jsonFilter&&(t.jsonFilter=e.jsonFilter)}return t}}})(powerbi=powerbi||{}),(function(t){var e;(e=t.data||(t.data={})).getArithmeticOperatorName=function(e){switch(e){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return t.contract.fail("Unexpected ArithmeticOperatorKind: "+e)},e.aggregateFunctionName=function(e){switch(e){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance"}}})(powerbi=powerbi||{}),(function(e){var s;function t(e,t,r,i){this.items=e,this._activeProjectionRefs=t,this._showAll=r,this.parameters=i||[]}s=e.data||(e.data={}),t.prototype.all=function(){return this.items},t.prototype.resetHiddenState=function(e){if(!_.isEmpty(this.items))for(var t=0,r=this.items;t<r.length;t++){var i=r[t];i.queryRef===e&&delete i.hidden}},t.prototype.toggleHidden=function(e){if(!_.isEmpty(this.items))for(var t=0,r=this.items;t<r.length;t++){var i=r[t];i.queryRef===e&&(i.hidden=!i.hidden)}},t.prototype.projected=function(){return _.isEmpty(this.items)?this.items:_.filter(this.items,(function(e){return e&&!e.hidden}))},t.prototype.addProjection=function(e,t){t&&(r=t.fieldIndex,i=t.parameter,n=t.indexInParameter);var r,i,n,t=this.getProjectionIndex(r,i,n);this.fixUpParameterIndices(i,r,1),t>=this.items.length?this.items.push(e):this.items.splice(t,0,e)},t.prototype.removeProjection=function(e){e&&(t=e.fieldIndex,r=e.parameter,i=e.indexInParameter);var t,r,i,e=this.getProjectionIndex(t,r,i);this.fixUpParameterIndices(r,t,-1),this.items.splice(e,1)},t.prototype.fixUpParameterIndices=function(e,t,r){for(var i=0,n=this.parameters;i<n.length;i++){var a=n[i];e?a.index===e.index&&(void 0===a.length&&(a.length=0),a.length+=r):null!=t&&a.index>=t&&(0<r?a.index>=t:a.index>t)&&(a.index+=r)}},t.prototype.moveFields=function(e,t,r){if(0===this.parameters.length)i=e,a=r,o=t;else{if(r<=0||e===t)return[];var i=this.convertFieldIndexToProjectionIndex(e),n=this.indexOfLastProjectionInField(e+r-1),a=n-i+1,o=this.convertFieldIndexToProjectionIndex(t);e<t&&(o+=this.indexOfLastProjectionInField(t+r-1)-o+1-a);for(var s=0,u=this.parameters;s<u.length;s++){var l=u[s];l.index>=e&&l.index<=e+r-1?l.index=t+l.index-e:l.index>e&&l.index<=t+r-1?l.index-=r:l.index<e&&l.index>=t&&(l.index+=r)}if(n<i)return[]}n=this.items.splice(i,a);return(i=this.items).splice.apply(i,__spreadArray([o,0],n||[],!1)),n},t.prototype.assignProjection=function(e,t){this.items[t]=e},t.prototype.updateQueryRef=function(e,t){this.items[e].queryRef=t},t.prototype.getQueryRefs=function(){return _.map(this.items,(function(e){return e.queryRef}))},t.prototype.getFieldParameters=function(){return this.parameters},t.prototype.addFieldParameter=function(e){for(var t=0,r=this.parameters;t<r.length;t++){var i=r[t];i.index>=e.index&&i.index++}this.parameters.push(e)},t.prototype.getColumnProjectionIndex=function(e){return this.convertFieldIndexToProjectionIndex(e)},t.prototype.getProjectionsByProjectionIndex=function(e){var t=this.convertProjectionIndexToFieldIndex(e),t=this.getParameterByFieldIndex(t);return t?this.getParameterProjections(t):[this.items[e]]},t.prototype.getProjectionsByFieldIndex=function(e){var t,r=this.getParameterByFieldIndex(e);return r?(r=this.getParameterProjections(r),(t=_.filter(r,(function(e){return null!=e}))).length,r.length,t):(r=this.convertFieldIndexToProjectionIndex(e),null==(t=this.items[r])?[]:[t])},t.prototype.convertProjectionIndexToFieldIndex=function(e){var t;if(_.isEmpty(this.parameters))return e;for(var r=0,i=0,n=0,a=_.sortBy(this.parameters,(function(e){return e.index}));n<a.length;n++){var o=a[n];if(r+e-i<o.index)break;if((i+=o.index-r-1)+(null!=(t=o.length)?t:0)>e)return o.index;r=o.index,i+=null!=(t=o.length)?t:0}return r+e-i},t.prototype.doesParameterExist=function(t){return _.some(this.parameters,(function(e){return e.index===t}))},t.prototype.getParameterProjectionIndex=function(e,t){return this.convertFieldIndexToProjectionIndex(e.index)+t},t.prototype.getColumnProjection=function(e){if(!this.doesParameterExist(e))return this.items[this.getColumnProjectionIndex(e)]},t.prototype.getParameterProjections=function(e){var t;return e&&e.length?(t=this.convertFieldIndexToProjectionIndex(e.index),this.items.slice(t,t+e.length)):[]},t.prototype.removeFieldParameters=function(e){for(var o=this,t=0,r=e;t<r.length;t++){var i=(function(t){var e=_.findIndex(o.parameters,(function(e){return e.index===t.index&&s.SQExpr.equals(e.expr,t.expr)}));if(e<0)return{value:!1};for(var e=o.parameters.splice(e,1)[0],r=e.index,i=0,n=o.parameters;i<n.length;i++){var a=n[i];a.index>r&&a.index--}})(r[t]);if("object"==typeof i)return i.value}return!0},t.prototype.findParameterBySQExpr=function(t){return _.isEmpty(this.parameters)?[]:this.parameters.filter((function(e){return s.SQExpr.equals(e.expr,t)}))},t.prototype.getParameterByFieldIndex=function(t){return _.find(this.parameters,(function(e){return e.index===t}))},Object.defineProperty(t.prototype,"activeProjectionRefs",{get:function(){return this._activeProjectionRefs},set:function(e){if(_.isEmpty(e))this._activeProjectionRefs=void 0;else{for(var t=this.items.map((function(e){return e.queryRef})),r=0,i=e;r<i.length;r++){var n=i[r];if(!_.includes(t,n))return}this._activeProjectionRefs=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"showAll",{get:function(){return this._showAll},set:function(e){this._showAll=e},enumerable:!1,configurable:!0}),t.prototype.addActiveQueryReference=function(e){this._activeProjectionRefs?this._activeProjectionRefs.push(e):this._activeProjectionRefs=[e]},t.prototype.getLastActiveQueryReference=function(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]},t.prototype.replaceQueryRef=function(e,t){for(var r=0,i=this.items;r<i.length;r++){var n=i[r];n.queryRef===e&&(n.queryRef=t)}},t.prototype.clone=function(){return new t(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,(function(e){return{expr:e.expr,index:e.index,length:e.length}})))},t.prototype.getProjectionIndex=function(e,t,r){var i;return t?(i=null!=(i=t.length)?i:0,null!=r?this.convertFieldIndexToProjectionIndex(t.index)+r:this.convertFieldIndexToProjectionIndex(t.index)+i):null!=e?this.convertFieldIndexToProjectionIndex(e):this.items.length},t.prototype.convertFieldIndexToProjectionIndex=function(e){return s.ProjectionUtils.convertFieldIndexToProjectionIndexUsingParameters(e,this.parameters)},t.prototype.indexOfLastProjectionInField=function(t){var e=this.convertFieldIndexToProjectionIndex(t),r=_.find(this.parameters,(function(e){return e.index===t}));return r&&(e+=r.length-1),e},t.prototype.getFieldCount=function(){for(var e,t=this.items.length,r=0,i=this.parameters;r<i.length;r++)t-=(null!=(e=i[r].length)?e:0)-1;return t},e=t,s.QueryProjectionCollection=e,jsCommon.forceEnumeration(e.prototype),(e=s.QueryProjectionsByRole||(s.QueryProjectionsByRole={})).clone=function(e){if(!e)return e;var t,r={};for(t in e)r[t]=e[t].clone();return r},e.getRole=function(e,t){if(e)return e[t]}})(powerbi=powerbi||{}),(function(e){var u=e.data||(e.data={}),r=jsCommon.ArrayExtensions.sequenceEqual;function n(e,t){void 0===t&&(t={}),this.roles=e,this.root={identityValues:null,children:[],parent:null},this.levels=[];var e=t.supportsMerge,r=t.canCollapseRoot,t=t.collapseParentAfterRemovingChildLevel;this.supportsMerge=!!e,this.canCollapseRoot=!!r,this.collapseParentAfterRemovingChildLevel=!!t}function i(e,t){return _.find(e,(function(e){return _.isEqual(e.roles,t)}))}function a(e,t){return!e==!t&&!!_.isEqual(e.roles,t.roles)&&!!r(e.levels,t.levels,o)&&s(e.root,t.root)}function o(e,t){return!e&&!t||!!(e&&t&&_.isEqual(e.queryRefs,t.queryRefs)&&r(e.identityKeys,t.identityKeys,u.SQExpr.equals)&&e.isCollapsed===t.isCollapsed&&r(e.toggledNodes,t.toggledNodes,s))}function s(e,t){return!!r(e.identityValues,t.identityValues,u.SQExpr.equals)&&!!e.isToggled==!!t.isToggled&&!!r(e.children,t.children,s)}n.prototype.updateLevels=function(e,t){if(!_.isEmpty(e)&&(0!==t||this.canCollapseRoot)){var r=e.length,i=this.levels;this.levels=new Array(r);for(var n=0;n<r;n++){var a=t-1<=n,o=i[n],s=[e[n]];o&&_.isEqual(o.queryRefs,s)?(this.levels[n]=o).isCollapsed=a:this.levels[n]={isCollapsed:a,queryRefs:s,toggledNodes:[]}}this.canCollapseRoot&&(0===t?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(t)}},n.prototype.clone=function(){for(var r=this,e={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},e=new n(_.clone(this.roles),e),i=new Array(this.levels.length),t=0;t<this.levels.length;t++)i[t]=[];return e.levels=_.map(this.levels,(function(e,t){return r.cloneExpansionLevel(e,i,t)})),e.root=this.cloneExpansionNode(this.root,null,i,-1),e},n.prototype.isStateModified=function(){return _.some(this.levels,(function(e){return!e.isCollapsed}))||!_.isEmpty(this.root.children)},n.prototype.addLevel=function(e,t){for(var r=_.findLastIndex(this.levels,(function(e){return e.isPinned})),e={isCollapsed:!0,queryRefs:[e],toggledNodes:[],isPinned:t<=r||void 0},r=_.findIndex(this.levels,(function(e){return!_.isEmpty(e.toggledNodes)}),t),i=-1===r?t:r;i<_.size(this.levels);i++)this.setLevelState(i,!0);if(this.levels.splice(t,0,e),this.unlockLevels(t),e.isPinned)for(i=0;i<t;i++)delete this.levels[i].AIInformation},n.prototype.removeLevel=function(t){var e;this.collapseParentAfterRemovingChildLevel&&(e=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,(function(e){return e===t})),this.levels.splice(t,1),this.collapseParentAfterRemovingChildLevel&&0<t&&t===e-1&&this.setLevelState(t-1,!0),t<_.size(this.levels)&&this.unlockLevels(t)},n.prototype.moveLevels=function(t,e,r){var i=_.findLastIndex(this.levels,(function(e){return e.isPinned})),n=Math.min(t,e);if(t<e){this.removeIntermediateNodes(this.root,-1,(function(e){return t<=e&&e<t+r}));for(var a=t;a<Math.min(t+r,_.size(this.levels));a++)this.levels[a].toggledNodes=[]}for(var o=this.levels.splice(t,r),s=((s=this.levels).splice.apply(s,__spreadArray([e,0],o||[],!1)),_.findIndex(this.levels,(function(e){return!_.isEmpty(e.toggledNodes)}),e)),a=-1===s?e:s;a<_.size(this.levels);a++)this.setLevelState(a,!0);if(this.unlockLevels(n),i<t&&e<=i?_.forEach(o,(function(e){return e.isPinned=!0})):t<=i&&i<e&&_.forEach(o,(function(e){return e.isPinned=!1})),_.forEach(o,(function(e){return delete e.AIInformation})),this.levels[e].isPinned)for(a=0;a<e;a++)delete this.levels[a].AIInformation},n.prototype.getVisibleDescendentsDepth=function(e,t){var r=this.levels.length;if(-1===t&&this.canCollapseRoot&&e.isToggled)return 0;for(var i=[e];;){if(t===r-1)return t+1;for(var n=this.levels[t]&&this.levels[t].isCollapsed,a=void 0,o=[],s=0,u=i;s<u.length;s++){var l=u[s];!n==!l.isToggled&&(o.push.apply(o,l.children||[]),a=!0)}if(a&&t++,!(0<o.length))break;i=o}for(;t<r-1&&(-1===t||!this.levels[t].isCollapsed);)t++;return t+1},n.prototype.removeIntermediateNodes=function(t,r,i){var n,a=this;i(r)&&(n=!!t.isToggled!=!!this.levels[r].isCollapsed,_.pull(t.parent.children,t),_.forEach(t.children,(function(e){n&&(e.isToggled=!a.levels[r+1].isCollapsed),e.parent=t.parent,t.parent.children.push(e)}))),_.forEach(__spreadArray([],t.children||[],!0),(function(e){return a.removeIntermediateNodes(e,r+1,i)}))},n.prototype.cloneExpansionLevel=function(e,t,r){return{isCollapsed:e.isCollapsed,identityKeys:this.cloneExpressionList(e.identityKeys),queryRefs:_.clone(e.queryRefs),toggledNodes:t[r],isPinned:e.isPinned,isLocked:e.isLocked,AIInformation:e.AIInformation?{method:e.AIInformation.method,disabled:e.AIInformation.disabled}:void 0}},n.prototype.cloneExpansionNode=function(e,t,r,i){var n={identityValues:this.cloneExpressionList(e.identityValues),children:[],parent:t};void 0!==e.isToggled&&(n.isToggled=e.isToggled),0<=i&&r[i].push(n);for(var a=0,o=e.children;a<o.length;a++){var s=o[a];n.children.push(this.cloneExpansionNode(s,n,r,i+1))}return n},n.prototype.cloneExpressionList=function(e){return e?_.map(e,(function(e){return e})):null},n.prototype.setNodeState=function(e,t){if(e&&_.isEmpty(e.data))return t?this.root.isToggled=!0:delete this.root.isToggled,this.root;var r=u.Selector.toScopeIdentities(e);if(r){for(var i=r.length,n=this.root,a=0;a<i;a++){var o=r[a],s=u.ScopeIdentityExtractor.getKeys(o.expr);if(!this.ensureLevel(a,s))return;s=u.ScopeIdentityExtractor.getValues(o.expr),n=this.ensureChildNode(a,n,s,a===i-1?t:void 0)}return this.pruneNonToggledLeaf(n)?void 0:n}},n.prototype.ensureLevel=function(e,t){e=this.levels[e];if(e.identityKeys){if(!r(e.identityKeys,t,u.SQExpr.equals))return}else e.identityKeys=t;return e},n.prototype.ensureChildNode=function(e,t,r,i){var e=this.levels[e],n=this.findNodeMatchingIdentities(t.children,r);return n||(n={children:[],identityValues:r,parent:t},t.children.push(n)),void 0!==i&&(i!==!!e.isCollapsed?(n.isToggled=!0,_.indexOf(e.toggledNodes,n)<0&&e.toggledNodes.push(n)):(delete n.isToggled,e.toggledNodes=_.filter(e.toggledNodes,(function(e){return e!==n})))),n},n.prototype.pruneNonToggledLeaf=function(t){for(var e=!1;t.parent&&!t.isToggled&&_.isEmpty(t.children);)t.parent.children=_.filter(t.parent.children,(function(e){return e!==t})),t=t.parent,e=!0;return e},n.prototype.setLevelState=function(e,t){if(-1===e)t?this.root.isToggled=!0:delete this.root.isToggled;else{e=this.levels[e];if(e){e.isCollapsed=t;for(var r=0,i=e.toggledNodes;r<i.length;r++){var n=i[r];delete n.isToggled,this.pruneNonToggledLeaf(n)}e.toggledNodes=[]}}},n.prototype.pinLevels=function(e){for(var t=0;t<Math.min(e,_.size(this.levels));t++)this.levels[t].isPinned=!0},n.prototype.unpinLevels=function(e){for(var t=this.getVisibleDescendentsDepth(this.root,-1),r=Math.max(e,t-1);r<_.size(this.levels);r++)delete this.levels[r].isPinned},n.prototype.lockLevels=function(e){for(var t=0;t<Math.min(e,_.size(this.levels));t++)this.levels[t].isLocked=!0},n.prototype.unlockLevels=function(e){for(var t=e;t<_.size(this.levels);t++)delete this.levels[t].isLocked},n.prototype.setAILevelInformation=function(e,t){t?this.levels[e].AIInformation=_.cloneDeep(t):delete this.levels[e].AIInformation},n.prototype.getAILevelInformation=function(e){return _.cloneDeep(this.levels[e].AIInformation)},n.prototype.isWholeLevelExpanded=function(e){e=this.levels[e];return!e||!e.isCollapsed&&_.isEmpty(e.toggledNodes)},n.prototype.isHierarchyExpanded=function(){this.levels;for(var e=0;e<this.levels.length-1;e++)if(!this.isWholeLevelExpanded(e))return!1;return!0},n.prototype.isWholeLevelCollapsed=function(e){e=this.levels[e];return e&&e.isCollapsed&&_.isEmpty(e.toggledNodes)},n.prototype.getNodeLevelState=function(e,t,r){var i,n,a,o;return r>=this.levels.length?{isNodeCollapsed:!1,levelHasToggledNodes:!1}:(a=e[0],(i=this.ensureLevel(r,u.ScopeIdentityExtractor.getKeys(a.expr)))?(n=!_.isEmpty(i.toggledNodes),a=u.ScopeIdentityExtractor.getValues(a.expr),t&&(o=this.findNodeMatchingIdentities(t.children,a)),1===e.length?o?{isNodeCollapsed:o.isToggled?!i.isCollapsed:i.isCollapsed,levelHasToggledNodes:n}:{isNodeCollapsed:i.isCollapsed,levelHasToggledNodes:n}:(e.splice(0,1),this.getNodeLevelState(e,o,r+1))):void 0)},n.prototype.rewrite=function(t){for(var e=0,r=this.levels;e<r.length;e++){var i=r[e];i.identityKeys&&(i.identityKeys=_.map(i.identityKeys,(function(e){return e.accept(t)})))}return this.root=this.rewriteNodeExpansionState(this.root,t),this},n.prototype.rewriteNodeExpansionState=function(e,t){var r=this;return e.identityValues&&(e.identityValues=_.map(e.identityValues,(function(e){return e.accept(t)}))),e.children=_.map(e.children,(function(e){return r.rewriteNodeExpansionState(e,t)})),e},n.prototype.findNodeMatchingIdentities=function(e,t){return _.find(e,(function(e){return r(e.identityValues,t,u.SQExpr.equals)}))},u.ExpansionState=n,(e=u.ExpansionState||(u.ExpansionState={})).clone=function(e){if(e)return _.map(e,(function(e){return e.clone()}))},e.findExpansionState=i,e.findExpansionStateForRole=function(e,t){return _.find(e,(function(e){return _.includes(e.roles,t)}))},e.areEqual=function(e,t){return r(e,t,a)},e.equal=a,e.equalLevelState=o,e.equalNodeState=s,e.hasExpansionState=function(e){return!_.isEmpty(e)},e.hasNodes=function(e){return!_.isEmpty(e.root.children)||!_.isEmpty(e.root.identityValues)},e.hasPinnedLevels=function(e){return 0<=_.findIndex(e.levels,(function(e){return e.isPinned}))},e.getAILevelInformation=function(e,t,r){if(e=i(e,t))return e.getAILevelInformation(r)},e.getPinnedLevelsCount=function(e,t){return(e=i(e,t))?_.findLastIndex(e.levels,(function(e){return e.isPinned}))+1:0}})(powerbi=powerbi||{}),(function(e){var t;(t=e.DisplayUnitSystemType||(e.DisplayUnitSystemType={}))[t.Default=0]="Default",t[t.Verbose=1]="Verbose",t[t.WholeUnits=2]="WholeUnits",t[t.DataLabels=3]="DataLabels",(e.VisualElement||(e.VisualElement={})).getDataRolesFromVisualElements=function(e){for(var r=[],t=0,i=e;t<i.length;t++)for(var n=0,a=i[t].DataRoles;n<a.length;n++)!(function(t){_.find(r,(function(e){return _.isEqual(e,t)}))||r.push(t)})(a[n]);return r}})(powerbi=powerbi||{}),(function(e){var c,p;function l(e){var t;if(e)return{levels:(t=e.levels,_.cloneDeep(t)),root:(function t(e){return{windowValues:_.map(e.windowValues,r),identityValues:_.clone(e.identityValues),children:_.map(e.children,(function(e){return t(e)}))}})(e.root)}}function r(e){return{identityValues:_.clone(e.identityValues),restartValues:_.clone(e.restartValues),windowKind:e.windowKind}}c=e.data||(e.data={}),p=jsCommon.ArrayExtensions.sequenceEqual,(e=c.WindowExpansionState||(c.WindowExpansionState={})).clone=l,e.generateNewWindowForNode=function(r,e,t,i){if(r){r=l(r);var n=c.Selector.toScopeIdentities(e);if(n){for(var a=r.root,o=0;a&&o<_.size(n)-1;){var s=(function(){var e=c.ScopeIdentityExtractor.getKeys(n[o].expr);if(!r.levels[o]||!p(e,r.levels[o].identityKeys,c.SQExpr.equals))return{value:r};var t=c.ScopeIdentityExtractor.getValues(n[o].expr);a=_.find(a.children,(function(e){return p(e.identityValues,t,c.SQExpr.equals)})),o++})();if("object"==typeof s)return s.value}if(a&&!(o<_.size(n)-1)){var u=c.ScopeIdentityExtractor.getValues(n[o].expr);if(i)a.windowValues=[{identityValues:u,windowKind:t,restartValues:i}];else{e=_.find(a.windowValues,(function(e){return p(u,e.identityValues,c.SQExpr.equals)}));if(!e)return a.windowValues=[],r;e.windowKind=t,a.windowValues=[e]}}}return r}},e.mergeWithExpansionState=function(e,t,i,n){var r,a;if(e&&e.root)return r=_.map(e.levels,(function(e){var t=i,r=n;return e.identityKeys||(e=_.map(e.queryRefs,(function(e){e=t.withName(e),e=e.expr;return c.SQExpr.isHierarchyLevel(e)?e.getTargetColumnRef(r):e})))[0].getKeyColumns(r)})),a=0,t&&(a=-1===(a=_.findIndex(t.levels,(function(e,t){return!p(e.identityKeys,r[t],c.SQExpr.equals)})))?_.size(t.levels):a),{levels:_.map(r,(function(e){return{identityKeys:e}})),root:(function t(e,r,i,n,a){var o=r&&r.children||[];var s=r&&r.windowValues||[];i<=n&&(o=[],s=[]);var u=function(t){return r&&_.find(o,(function(e){return p(t,e.identityValues,c.SQExpr.equals)}))};var l=_.filter(e.children,(function(e){return a[n]&&!!e.isToggled==!!a[n].isCollapsed}));return{children:_.map(l,(function(e){return t(e,u(e.identityValues),i,n+1,a)})),identityValues:e.identityValues,windowValues:s}})(e.root,t&&t.root,a,0,e.levels)}}})(powerbi=powerbi||{}),(function(o){var i,e,a,s;function u(e){this.unit=e,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}function l(e){return e%4==0&&e%100!=0||e%400==0}function r(e,t){var r=e.getFullYear(),i=e.getMonth(),n=e.getDate(),e=o.PBIFormattingDate.fromTimeValue(e.getTime());return e.setUTCFullYear(r,i,n+t),e}u.prototype.add=function(e){e<this.min&&(this.min=e),e>this.max&&(this.max=e),this.sequence.push(e)},u.prototype.moveToCover=function(e,t){e=u.getDelta(e,t,this.unit),e=Math.floor(e/this.interval);for(this.min=u.addInterval(this.min,e*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<t;)this.max=u.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)},u.calculate=function(e,t,r,i){switch(i=i||u.getIntervalUnit(e,t,r)){case o.DateTimeUnit.Year:return u.calculateYears(e,t,r);case o.DateTimeUnit.Month:return u.calculateMonths(e,t,r);case o.DateTimeUnit.Week:return u.calculateWeeks(e,t,r);case o.DateTimeUnit.Day:return u.calculateDays(e,t,r);case o.DateTimeUnit.Hour:return u.calculateHours(e,t,r);case o.DateTimeUnit.Minute:return u.calculateMinutes(e,t,r);case o.DateTimeUnit.Second:return u.calculateSeconds(e,t,r);case o.DateTimeUnit.Millisecond:return u.calculateMilliseconds(e,t,r)}},u.calculateYears=function(e,t,r){e=o.NumericSequenceRange.calculateDataRange(e.getFullYear(),t.getFullYear(),!1),t=o.NumericSequence.calculate(o.NumericSequenceRange.calculate(0,e.max-e.min),r,0,null,null,[1,2,5]),r=Math.floor(e.min/t.interval)*t.interval,e=o.PBIFormattingDate.fromDateParts(r,0,1);return u.fromNumericSequence(e,t,o.DateTimeUnit.Year)},u.calculateMonths=function(e,t,r){var i=e.getFullYear(),n=t.getFullYear(),e=e.getMonth(),n=12*(n-i)+t.getMonth(),t=o.PBIFormattingDate.fromDateParts(i,0,1),i=o.NumericSequence.calculateUnits(e,n,r,[1,2,3,6,12]);return u.fromNumericSequence(t,i,o.DateTimeUnit.Month)},u.calculateWeeks=function(e,t,r){var i=(+e.getDay()+7)%7,i=e.getDate()-i,e=o.PBIFormattingDate.fromDateParts(e.getFullYear(),e.getMonth(),i),i=o.Double.ceilWithPrecision(u.getDelta(e,t,o.DateTimeUnit.Week)),t=o.NumericSequence.calculateUnits(0,i,r,[1,2,4,8]);return u.fromNumericSequence(e,t,o.DateTimeUnit.Week)},u.calculateDays=function(e,t,r){var i=o.PBIFormattingDate.fromDateParts(e.getFullYear(),e.getMonth(),e.getDate()),e=o.Double.ceilWithPrecision(u.getDelta(e,t,o.DateTimeUnit.Day)),t=o.NumericSequence.calculateUnits(0,e,r,[1,2,7,14]);return u.fromNumericSequence(i,t,o.DateTimeUnit.Day)},u.calculateHours=function(e,t,r){var i=o.PBIFormattingDate.fromDateParts(e.getFullYear(),e.getMonth(),e.getDate()),e=o.Double.floorWithPrecision(u.getDelta(i,e,o.DateTimeUnit.Hour)),t=o.Double.ceilWithPrecision(u.getDelta(i,t,o.DateTimeUnit.Hour)),e=o.NumericSequence.calculateUnits(e,t,r,[1,2,3,6,12,24]);return u.fromNumericSequence(i,e,o.DateTimeUnit.Hour)},u.calculateMinutes=function(e,t,r){var i=o.PBIFormattingDate.fromDateParts(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()),e=o.Double.floorWithPrecision(u.getDelta(i,e,o.DateTimeUnit.Minute)),t=o.Double.ceilWithPrecision(u.getDelta(i,t,o.DateTimeUnit.Minute)),e=o.NumericSequence.calculateUnits(e,t,r,[1,2,5,10,15,30,60,120,180,360,720,1440]);return u.fromNumericSequence(i,e,o.DateTimeUnit.Minute)},u.calculateSeconds=function(e,t,r){var i=o.PBIFormattingDate.fromDateParts(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()),e=o.Double.floorWithPrecision(u.getDelta(i,e,o.DateTimeUnit.Second)),t=o.Double.ceilWithPrecision(u.getDelta(i,t,o.DateTimeUnit.Second)),e=o.NumericSequence.calculateUnits(e,t,r,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return u.fromNumericSequence(i,e,o.DateTimeUnit.Second)},u.calculateMilliseconds=function(e,t,r){var i=o.PBIFormattingDate.fromDateParts(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()),e=u.getDelta(i,e,o.DateTimeUnit.Millisecond),t=u.getDelta(i,t,o.DateTimeUnit.Millisecond),e=o.NumericSequence.calculate(o.NumericSequenceRange.calculate(e,t),r,0);return u.fromNumericSequence(i,e,o.DateTimeUnit.Millisecond)},u.addInterval=function(e,t,r){switch(t=Math.round(t),r){case o.DateTimeUnit.Year:return i.addYears(e,t);case o.DateTimeUnit.Month:return i.addMonths(e,t);case o.DateTimeUnit.Week:return i.addWeeks(e,t);case o.DateTimeUnit.Day:return i.addDays(e,t);case o.DateTimeUnit.Hour:return i.addHours(e,t);case o.DateTimeUnit.Minute:return i.addMinutes(e,t);case o.DateTimeUnit.Second:return i.addSeconds(e,t);case o.DateTimeUnit.Millisecond:return i.addMilliseconds(e,t)}},u.fromNumericSequence=function(e,t,r){for(var i=new u(r),n=0,a=t.sequence;n<a.length;n++){var o=a[n],o=u.addInterval(e,o,r);i.add(o)}return i.interval=t.interval,i.intervalOffset=t.intervalOffset,i},u.getDelta=function(e,t,r){var i=0;switch(r){case o.DateTimeUnit.Year:i=t.getFullYear()-e.getFullYear();break;case o.DateTimeUnit.Month:i=12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth();break;case o.DateTimeUnit.Week:i=(t.getTime()-e.getTime())/6048e5;break;case o.DateTimeUnit.Day:i=(t.getTime()-e.getTime())/864e5;break;case o.DateTimeUnit.Hour:i=(t.getTime()-e.getTime())/36e5;break;case o.DateTimeUnit.Minute:i=(t.getTime()-e.getTime())/6e4;break;case o.DateTimeUnit.Second:i=(t.getTime()-e.getTime())/1e3;break;case o.DateTimeUnit.Millisecond:i=t.getTime()-e.getTime()}return i},u.getIntervalUnit=function(e,t,r){r=Math.max(r,2);var i,n=u.getDelta(e,t,o.DateTimeUnit.Day);return 356<n&&180*r<=n?o.DateTimeUnit.Year:60<n&&7*r<n?o.DateTimeUnit.Month:14<n&&2*r<n?o.DateTimeUnit.Week:(i=u.getDelta(e,t,o.DateTimeUnit.Hour),2<n&&12*r<i?o.DateTimeUnit.Day:24<=i&&r<=i?o.DateTimeUnit.Hour:2<(n=u.getDelta(e,t,o.DateTimeUnit.Minute))&&r<=n?o.DateTimeUnit.Minute:2<(i=u.getDelta(e,t,o.DateTimeUnit.Second))&&.8*r<=i?o.DateTimeUnit.Second:0<u.getDelta(e,t,o.DateTimeUnit.Millisecond)||0!==(n=e).getMilliseconds()?o.DateTimeUnit.Millisecond:0!==n.getSeconds()?o.DateTimeUnit.Second:0!==n.getMinutes()?o.DateTimeUnit.Minute:0!==n.getHours()?o.DateTimeUnit.Hour:1!==n.getDate()?o.DateTimeUnit.Day:0!==n.getMonth()?o.DateTimeUnit.Month:o.DateTimeUnit.Year)},u.MIN_COUNT=1,u.MAX_COUNT=1e3,o.DateTimeSequence=u,e=i=o.DateUtils||(o.DateUtils={}),a=[31,28,31,30,31,30,31,31,30,31,30,31],s=[31,29,31,30,31,30,31,31,30,31,30,31],e.addYears=function(e,t){var r=e.getFullYear(),i=e.getMonth(),n=e.getDate(),a=2===i&&29===n,e=o.PBIFormattingDate.fromTimeValue(e.getTime());return r+=t,a&&!l(r)&&(n=28),e.setUTCFullYear(r,i,n),e},e.addMonths=function(e,t){var r=e.getFullYear(),i=e.getMonth(),n=e.getDate(),e=o.PBIFormattingDate.fromTimeValue(e.getTime());return r+=(t-t%12)/12,11<(i+=t%12)&&(i%=12,r++),n=Math.min(n,(l(r)?s:a)[i]),e.setUTCFullYear(r,i,n),e},e.addWeeks=function(e,t){return r(e,7*t)},e.addDays=r,e.addHours=function(e,t){return o.PBIFormattingDate.fromTimeValue(e.getTime()+36e5*t)},e.addMinutes=function(e,t){return o.PBIFormattingDate.fromTimeValue(e.getTime()+6e4*t)},e.addSeconds=function(e,t){return o.PBIFormattingDate.fromTimeValue(e.getTime()+1e3*t)},e.addMilliseconds=function(e,t){return o.PBIFormattingDate.fromTimeValue(e.getTime()+t)}})(powerbi=powerbi||{}),(function(a){var t=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,s=(e.prototype.project=function(e){return this.value?a.Double.removeDecimalNoise(e/this.value):e},e.prototype.isApplicableTo=function(e){e=Math.abs(e);var t=a.Double.getPrecision(e,3);return a.Double.greaterOrEqualWithPrecision(e,this.applicableRangeMin,t)&&a.Double.lessWithPrecision(e,this.applicableRangeMax,t)},e.prototype.isScaling=function(){return 1<this.value},e);function e(){}a.DisplayUnit=s;i.prototype.getUnits=function(e){void 0===e&&(e=!1);var t=_.clone(this.units);return e&&_.remove(t,(function(e){return 0===e.value})),t},Object.defineProperty(i.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),i.prototype.update=function(e){void 0!==e&&(this.displayUnit=this.findApplicableDisplayUnit(e))},i.prototype.findApplicableDisplayUnit=function(e){for(var t=0,r=this.units;t<r.length;t++){var i=r[t];if(i.isApplicableTo(e))return i}},i.prototype.format=function(e,t,r,i){r=this.getNumberOfDecimalsForFormatting(r);var n="";return this.isFormatSupported(t)&&!this.hasScientificFormat(t)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(e=this.displayUnit.project(e),n=this.displayUnit.labelFormat),this.formatHelper(e,n,t,r,i)},i.prototype.isFormatSupported=function(e){return!i.UNSUPPORTED_FORMATS.test(e)},i.prototype.isPercentageFormat=function(e){return e&&0<=e.indexOf("%")},i.prototype.shouldRespectScalingUnit=function(){return!0},i.prototype.getNumberOfDecimalsForFormatting=function(e){return e},i.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},i.prototype.formatHelper=function(e,t,r,i,n){if("g"!==r&&"G"!==r||null==i||(r=a.visuals.valueFormatter.DefaultNumericFormat),(r=a.NumberFormat.addDecimalsToFormat(r,i,n))&&!a.formattingService.isStandardNumberFormat(r))return a.formattingService.formatNumberWithCustomOverride(e,r,t);t=t||"{0}";i=a.formattingService.formatValue(e,r=r||"G");return a.formattingService.format(t,[i])},i.prototype.formatSingleValue=function(e,t,r,i){return this.update(this.shouldUseValuePrecision(e)?a.Double.getPrecision(e,8):e),this.format(e,t,r,i)},i.prototype.shouldUseValuePrecision=function(e){if(0===this.units.length)return!0;for(var t=0,r=0,i=this.units;r<i.length;r++){var n=i[r];if(n.isScaling()){t=n.applicableRangeMin;break}}return Math.abs(e)<t},i.prototype.isScientific=function(e){return e<-1e15||1e15<e||-1e-4<e&&e<1e-4&&0!==e},i.prototype.hasScientificFormat=function(e){return e&&(-1!==e.toUpperCase().indexOf("E+")||-1!==e.toUpperCase().indexOf("E-"))},i.prototype.supportsScientificFormat=function(e){return!e||t.test(e)},i.prototype.shouldFallbackToScientific=function(e,t){return!this.hasScientificFormat(t)&&this.supportsScientificFormat(t)&&this.isScientific(e)},i.prototype.getScientificFormat=function(e,t,r,i){return this.isFormatSupported(t)&&this.shouldFallbackToScientific(e,t)?(e=a.NumberFormat.getNumericFormat(e,t),(e=r?a.NumberFormat.addDecimalsToFormat(e||"0",Math.abs(r),i):e)?e+"E+0":"0.##E+0"):t},i.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i;var r=i;function i(e){this.units=e||[]}a.DisplayUnitSystem=r;__extends(u,n=r);var n,o=u;function u(){return n.call(this,[])||this}a.NoDisplayUnitSystem=o;__extends(c,l=r),c.prototype.format=function(e,t,r,i){return t=this.getScientificFormat(e,t,r,i),l.prototype.format.call(this,e,t,r,i)},c.reset=function(){c.units=null},c.getUnits=function(e){return c.units||((c.units=m(e,(function(e,t,r){return 1e3<=e-t?e/10:r})))[c.units.length-1].applicableRangeMax=1/0),c.units};var l,o=c;function c(e){return l.call(this,c.getUnits(e))||this}a.DefaultDisplayUnitSystem=o;__extends(f,p=r),f.reset=function(){f.units=null},f.getUnits=function(e){return f.units||((f.units=m(e))[f.units.length-1].applicableRangeMax=1/0),f.units},f.prototype.format=function(e,t,r,i){return t=this.getScientificFormat(e,t,r,i),p.prototype.format.call(this,e,t,r,i)};var p,o=f;function f(e){return p.call(this,f.getUnits(e))||this}a.WholeUnitsDisplayUnitSystem=o;__extends(h,d=r),h.prototype.isFormatSupported=function(e){return!h.UNSUPPORTED_FORMATS.test(e)},h.getUnits=function(e){var t,r,i;return h.units||(r=function(e,t,r){return-1===e&&1e3<=e-t?e/10:r},v(t=[],0,(i=e(-1)).title,i.format,r),v(t,1,(i=e(0)).title,i.format,r),(h.units=t.concat(m(e,r)))[h.units.length-1].applicableRangeMax=1/0),h.units},h.prototype.format=function(e,t,r,i){return t=this.getScientificFormat(e,t,r,i),d.prototype.format.call(this,e,t,r,i)},h.UNSUPPORTED_FORMATS=/^(e\d*)$/i;var d,o=h;function h(e){return d.call(this,h.getUnits(e))||this}function m(e,t){for(var r=[],i=3;i<24;i++){var n=e(i);n&&v(r,a.Double.pow10(i),n.title,n.format,t)}return r}function v(e,t,r,i,n){var a,o;(r||i)&&(a=t,0<e.length&&(o=e[e.length-1],n&&(a=n(t,o.value,a)),o.applicableRangeMax=a),(n=new s).value=t,n.applicableRangeMin=a,n.applicableRangeMax=1e3*a,n.title=r,n.labelFormat=i,e.push(n))}a.DataLabelsDisplayUnitSystem=o})(powerbi=powerbi||{}),(function(T){function F(){}F.calculate=function(e,t,r,i,n,a){var o=new F;if(t=void 0===t?10:T.Double.ensureInRange(t,F.MIN_COUNT,F.MAX_COUNT),void 0===i&&(i=T.Double.MIN_EXP),void 0===n&&(n=!1),void 0===r&&(r=1),void 0===a&&(a=[1,2,5]),e.forcedSingleStop)o.interval=e.getSize(),o.intervalOffset=o.interval-(e.forcedSingleStop-e.min),o.min=e.min,o.max=e.max,o.sequence=[e.forcedSingleStop];else{var s,u=0,l=0,c=9,p=0<r&&!e.hasFixedMin,f=0<r&&!e.hasFixedMax,d=e.getSize(),h=T.Double.log10(d),d=T.Double.log10(a[0]),m=(h-=d,T.Double.log10(t));if(h-=m,h=Math.max(h,i-d+1),0!==u){var v=T.Double.pow10(h),y=T.Double.floorToPrecision(e.min,v),g=T.Double.ceilToPrecision(e.max,v);(C=T.NumericSequenceRange.calculateFixedRange(y,g)).shrinkByStep(e,u),l=C.min,c=C.max,s=Math.floor(C.getSize()/u)}else for(var x=void 0,x=0;x<3;x++){for(var S=h+x,v=T.Double.pow10(S),y=T.Double.floorToPrecision(e.min,v),g=T.Double.ceilToPrecision(e.max,v),E=a.length,w=T.Double.pow10(S-1),b=0;b<E;b++){var C,D=a[b]*w;if((C=T.NumericSequenceRange.calculateFixedRange(y,g,n)).shrinkByStep(e,D),p&&e.min===C.min&&1<=r&&(C.min-=D),f&&e.max===C.max&&1<=r&&(C.max+=D),(s=T.Double.ceilWithPrecision(C.getSize()/D,T.Double.DEFAULT_PRECISION))<=t||2===x&&b===E-1||1===t&&2===s&&(D>e.getSize()||e.min<0&&0<e.max&&2*D>=e.getSize())){u=D,l=C.min,c=C.max;break}}if(0!==u)break}(32*t<s||F.MAX_COUNT<s)&&(u=(c-l)/(s=Math.min(32*t,F.MAX_COUNT))),o.min=l,o.max=c,o.interval=u,o.intervalOffset=l-e.min,o.maxAllowedMargin=r,o.canExtendMin=p,o.canExtendMax=f;var V=T.Double.getPrecision(u,0),_=(o.precision=V,[]),R=T.Double.roundToPrecision(l,V);_.push(R);for(b=0;b<s;b++)R=T.Double.roundToPrecision(R+u,V),_.push(R);o.sequence=_,o.trimMinMax(e.min,e.max)}return o},F.calculateUnits=function(e,t,r,i){r=T.Double.ensureInRange(r,F.MIN_COUNT,F.MAX_COUNT),e===t&&(t=e+1);for(var n=0,a=0,o=i;a<o.length;a++){n=o[a];if(T.Double.ceilWithPrecision(t/n)-T.Double.floorWithPrecision(e/n)<=r)break}var i=-e,s=(i%=n,new F);s.sequence=[];for(var u=e+i;s.sequence.push(u),!(t<=u);u+=n);return s.interval=n,s.intervalOffset=i,s.min=s.sequence[0],s.max=s.sequence[s.sequence.length-1],s},F.prototype.trimMinMax=function(e,t){var r=(e-this.min)/this.interval,i=(this.max-t)/this.interval;(!this.canExtendMin||r>this.maxAllowedMargin&&.001<r)&&(this.min=e),(!this.canExtendMax||i>this.maxAllowedMargin&&.001<i)&&(this.max=t)},F.MIN_COUNT=1,F.MAX_COUNT=1e3,T.NumericSequence=F})(powerbi=powerbi||{}),(function(o){var s;function u(){}u.prototype._ensureIncludeZero=function(){this.includeZero&&(0<this.min&&!this.hasFixedMin&&(this.min=0),this.max<0)&&!this.hasFixedMax&&(this.max=0)},u.prototype._ensureNotEmpty=function(){var e,t,r;this.min===this.max&&(this.min?(e=this.min,r=void 0,0<=(t=o.Double.log10(Math.abs(e)))&&t<4?(r=.5,this.forcedSingleStop=e):(r=o.Double.pow10(t)/2,this.forcedSingleStop=null),this.min=e-r,this.max=e+r):(this.min=0,this.max=u.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0))},u.prototype._ensureDirection=function(){var e;this.min>this.max&&(e=this.min,this.min=this.max,this.max=e)},u.prototype.getSize=function(){return this.max-this.min},u.prototype.shrinkByStep=function(e,t){var r=this.min/t,i=e.min/t,n=Math.floor(i-r);this.min+=n*t,r=this.max/t,i=e.max/t,n=Math.ceil(i-r),this.max+=n*t},u.calculate=function(e,t,r,i,n){var a=new u;return a.includeZero=!!n,a.hasDataRange=s.hasValue(e)&&s.hasValue(t),a.hasFixedMin=s.hasValue(r),a.hasFixedMax=s.hasValue(i),e=o.Double.ensureInRange(e,u.MIN_SUPPORTED_DOUBLE,u.MAX_SUPPORTED_DOUBLE),t=o.Double.ensureInRange(t,u.MIN_SUPPORTED_DOUBLE,u.MAX_SUPPORTED_DOUBLE),a.hasFixedMin&&a.hasFixedMax?(a.min=r,a.max=i):a.hasFixedMin?(a.min=r,a.max=r<t?t:r):a.hasFixedMax?(a.min=e<i?e:i,a.max=i):a.hasDataRange?(a.min=e,a.max=t):(a.min=0,a.max=0),a._ensureIncludeZero(),a._ensureNotEmpty(),a._ensureDirection(),0===a.min?a.hasFixedMin=!0:0===a.max&&(a.hasFixedMax=!0),a},u.calculateDataRange=function(e,t,r){return s.hasValue(e)&&s.hasValue(t)?u.calculate(e,t,null,null,r):u.calculateFixedRange(0,u.DEFAULT_MAX)},u.calculateFixedRange=function(e,t,r){var i=new u;return i.hasDataRange=!1,i.includeZero=r,i.min=e,i.max=t,i._ensureIncludeZero(),i._ensureNotEmpty(),i._ensureDirection(),i.hasFixedMin=!0,i.hasFixedMax=!0,i},u.DEFAULT_MAX=10,u.MIN_SUPPORTED_DOUBLE=-1e307,u.MAX_SUPPORTED_DOUBLE=1e307,o.NumericSequenceRange=u,(s=o.ValueUtil||(o.ValueUtil={})).hasValue=function(e){return null!=e}})(powerbi=powerbi||{}),(function(t){var a,o,r,i,e;function s(){}a=t.data||(t.data={}),(e=o=a.RelativeDateQualifier||(a.RelativeDateQualifier={}))[e.Last=0]="Last",e[e.Current=1]="Current",e[e.Next=2]="Next",(e=r=a.RelativeDateUnit||(a.RelativeDateUnit={}))[e.Second=0]="Second",e[e.Minute=1]="Minute",e[e.Hour=2]="Hour",e[e.Day=3]="Day",e[e.Week=4]="Week",e[e.CalendarWeek=5]="CalendarWeek",e[e.Month=6]="Month",e[e.CalendarMonth=7]="CalendarMonth",e[e.Year=8]="Year",e[e.CalendarYear=9]="CalendarYear",(e=i=a.RelativeFilterType||(a.RelativeFilterType={}))[e.Unsupported=0]="Unsupported",e[e.Time=1]="Time",e[e.Date=2]="Date",s.convertRelativeDateUnitToRelativeFilterType=function(e){switch(e){case r.Second:case r.Minute:case r.Hour:return i.Time;case r.Day:case r.Week:case r.CalendarWeek:case r.Month:case r.CalendarMonth:case r.Year:case r.CalendarYear:return i.Date;default:return}},s.convertTimeUnitToRelativeFilterType=function(e){switch(e){case 5:return i.Unsupported;case 6:case 7:return i.Time;case 0:case 1:case 2:case 3:case 4:return i.Date;default:return}},s.getDateRange=function(e,t){switch(t.relativeUnit){case r.Minute:return this.getMinutesRange(e,t);case r.Hour:return this.getHoursRange(e,t);case r.Day:return this.getDaysRange(e,t);case r.Week:return this.getWeeksRange(e,t);case r.CalendarWeek:return this.getCalendarWeekRange(e,t);case r.Month:return this.getMonthRange(e,t);case r.CalendarMonth:return this.getCalendarMonthRange(e,t);case r.Year:return this.getYearRange(e,t);case r.CalendarYear:return this.getCalendarYearRange(e,t);default:return void t.relativeUnit}},s.getMinutesRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(e.valueOf()-6e4*t.duration),r.max=e;break;case o.Current:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),0)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),59));break;case o.Next:r.min=e,r.max=new Date(e.valueOf()+6e4*t.duration)}return r},s.getHoursRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(e.valueOf()-36e5*t.duration),r.max=e;break;case o.Current:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),0,0)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),59,59));break;case o.Next:r.min=e,r.max=new Date(e.valueOf()+36e5*t.duration)}return r},s.getDaysRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addDays(r.max,1-t.duration);break;case o.Current:r.min=e,r.max=e;break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addDays(r.min,t.duration-1)}return r},s.getWeeksRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addDays(r.max,-7*t.duration+1);break;case o.Current:r=this.getCalendarWeek(e);break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addDays(r.min,7*t.duration-1)}return r},s.getCalendarWeekRange=function(e,t){var r={min:null,max:null},i=e.getUTCDay();switch(t.relativeQualifier){case o.Last:var n=this.addDays(e,-i-1);r.min=this.addDays(n,-7*t.duration+1),r.max=n;break;case o.Current:r=this.getCalendarWeek(e);break;case o.Next:n=this.addDays(e,7-i);r.min=n,r.max=this.addDays(n,7*t.duration-1)}return r},s.getMonthRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addMonths(r.max,-t.duration);break;case o.Current:r=this.getCalendarMonth(e);break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addMonths(r.min,t.duration)}return r},s.getCalendarMonthRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()-t.duration,1)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),0));break;case o.Current:r=this.getCalendarMonth(e);break;case o.Next:r.min=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,1)),r.max=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1+t.duration,0))}return r},s.getYearRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.max=t.includeToday?e:this.addDays(e,-1),r.min=this.addYears(r.max,-t.duration);break;case o.Current:r=this.getCalendarYear(e);break;case o.Next:r.min=t.includeToday?e:this.addDays(e,1),r.max=this.addYears(r.min,t.duration)}return r},s.getCalendarYearRange=function(e,t){var r={min:null,max:null};switch(t.relativeQualifier){case o.Last:r.min=new Date(Date.UTC(e.getUTCFullYear()-t.duration,0,1)),r.max=new Date(Date.UTC(e.getUTCFullYear()-1,11,31));break;case o.Current:r=this.getCalendarYear(e);break;case o.Next:r.min=new Date(Date.UTC(e.getUTCFullYear()+1,0,1)),r.max=new Date(Date.UTC(e.getUTCFullYear()+t.duration,11,31))}return r},s.getTimeRangeRestatement=function(e,t,r,i){return t?this.getDetailedTimeRestatement(r):this.getSimplifiedTimeRestatement(e,i)},s.getDetailedTimeRestatement=function(e){return 1<Math.abs(e.max.valueOf()-e.min.valueOf())/864e5||e.max.getUTCDate()!==e.min.getUTCDate()?t.formattingService.format("{0} - {1}",[e.min,e.max]):t.formattingService.format("{0:T} - {1:T}",[e.min,e.max])},s.getSimplifiedTimeRestatement=function(e,t){switch(e.relativeQualifier){case o.Current:switch(e.relativeUnit){case r.Minute:return t("RelativeTimeRestatement_this_Minute");case r.Hour:return t("RelativeTimeRestatement_this_Hour");default:"The following relative unit is not a relative time unit: ".concat(e.relativeUnit)}break;case o.Last:switch(e.relativeUnit){case r.Minute:return 1===e.duration?t("RelativeTimeRestatement_last_Minute"):t("RelativeTimeRestatement_last_Minutes",e.duration);case r.Hour:return 1===e.duration?t("RelativeTimeRestatement_last_Hour"):t("RelativeTimeRestatement_last_Hours",e.duration);default:"The following relative unit is not a relative time unit: ".concat(e.relativeUnit)}break;case o.Next:switch(e.relativeUnit){case r.Minute:return 1===e.duration?t("RelativeTimeRestatement_next_Minute"):t("RelativeTimeRestatement_next_Minutes",e.duration);case r.Hour:return 1===e.duration?t("RelativeTimeRestatement_next_Hour"):t("RelativeTimeRestatement_next_Hours",e.duration);default:"The following relative unit is not a relative time unit: ".concat(e.relativeUnit)}break;default:"The following is an Unsupported relativeQualifer: ".concat(e.relativeQualifier)}return""},s.getDateRangeRestatement=function(e){return t.formattingService.format("{0:d} - {1:d}",[e.min,e.max])},s.getRestatement=function(e,t,r,i){i=a.RelativeDateFilterPattern.isRelativeTimeUnit(e.relativeUnit)&&i||new Date,e.anchorDate&&a.RelativeDateFilterPattern.isRelativeDateUnit(e.relativeUnit)&&(n=e.anchorDate,i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds())));var n=this.getDateRange(i,e);return n.min.epochTimeStamp=n.min.getTime(),n.max.epochTimeStamp=n.max.getTime(),a.RelativeDateFilterPattern.isRelativeTimeUnit(e.relativeUnit)?this.getTimeRangeRestatement(e,t,n,r):s.getDateRangeRestatement(n)},s.addMinutes=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+t,e.getSeconds())},s.addHours=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours()+t,e.getMinutes(),e.getSeconds())},s.addDays=function(e,t){return new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()+t))},s.addMonths=function(e,t){var r,i,n,a;return 0===t?e:(r=e.getUTCDate()-(0<t?1:-1),n=(i=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t,r))).getUTCDate(),0<r&&(n!==r&&0<t?i=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t+1,0)):t<0&&(a=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),r)),n===r&&a.getUTCMonth()===e.getUTCMonth()||(i=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+t+1,1))))),i)},s.addYears=function(e,t){return this.addMonths(e,12*t)},s.getDurationMax=function(e,t){if(e===o.Current)return 1;switch(t){case r.Year:case r.CalendarYear:return 100;case r.Month:case r.CalendarMonth:case r.CalendarWeek:case r.Week:return 1e3;default:case r.Day:case r.Hour:case r.Minute:return 1e4}},s.getCalendarWeek=function(e){var t=e.getUTCDay(),e=this.addDays(e,-t);return{min:e,max:this.addDays(e,6)}},s.getCalendarMonth=function(e){return{min:new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),1)),max:new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0))}},s.getCalendarYear=function(e){return{min:new Date(Date.UTC(e.getUTCFullYear(),0,1)),max:new Date(Date.UTC(e.getUTCFullYear(),11,31))}},e=s,a.RelativeDateRangeHelper=e})(powerbi=powerbi||{}),(function(c){var e,t,p,i,r,f,d,h,a;function n(e){t.allowFormatBeautificationTraced||(jsCommon.Trace.information("allowFormatBeautification used",void 0,{key:e}),t.allowFormatBeautificationTraced=!0)}function m(e,t){var r=(t=void 0===t?!1:t)?f.beautify(e):e;return{format:function(e){return null==e?f.null:x(e,r)}}}function o(e){e.column,e.formatStringPropId,this.options=e,this.columnFormatString=s(e.column,e.formatStringPropId,!1),this.isDateTimeColumn=e.column&&e.column.type&&e.column.type.dateTime,(null!=e.displayUnit&&1!==e.displayUnit||null!=e.precision)&&(this.displayUnitSystem=v(e.displayUnitSystemType),this.displayUnitSystem.update(e.displayUnit))}function v(e){if(null==e)return new c.DefaultDisplayUnitSystem(f.describe);switch(e){case c.DisplayUnitSystemType.Default:return new c.DefaultDisplayUnitSystem(f.describe);case c.DisplayUnitSystemType.WholeUnits:return new c.WholeUnitsDisplayUnitSystem(f.describe);case c.DisplayUnitSystemType.Verbose:return new c.NoDisplayUnitSystem;case c.DisplayUnitSystemType.DataLabels:return new c.DataLabelsDisplayUnitSystem(f.describe);default:return new c.DefaultDisplayUnitSystem(f.describe)}}function s(e,t,r){if(e){if(t){t=c.DataViewObjects.getValue(e.objects,t);if(t)return t}if(!r&&e.type)return u(e.type)}}function u(e){return e.dateTime?t.DefaultDateFormat:e.integer?e.temporal&&e.temporal.year?"0":t.DefaultIntegerFormat:e.numeric?t.DefaultNumericFormat:void 0}function l(e,t){if(void 0!==e)return e;if("g"!==t&&"G"!==t){if(t){e=c.NumberFormat.getComponents(t).positive,t=c.NumberFormat.getCustomFormatMetadata(e,!0);if(t.hasDots)return t.optionalPrecision?void 0:t.precision}return 0}}function y(e,t,r,i){e=c.DataViewObjects.getValue(e,r);return e||s(t,r,i)}function g(e,t){if(!e)return null;var r=e.length;if(0<r){s=e[0];for(var i=r-1,n=1,a=i;n<a;n++)var o=e[n],s=p.format(f.restatementComma,s,o);1<r&&(o=e[i],s=p.format(t,s,o))}else s=null;return s}function x(e,t,r){r=S(e,r||!1);return p.isNullOrUndefinedOrWhiteSpaceString(r)?c.formattingService.formatValue(e,t):r}function S(e,t){return null==e&&t?f.null:!0===e?f.true:!1===e?f.false:"number"==typeof e&&isNaN(e)?f.NaN:e===Number.NEGATIVE_INFINITY?f.negativeInfinity:e===Number.POSITIVE_INFINITY?f.infinity:""}e=c.visuals||(c.visuals={}),t=e.valueFormatter||(e.valueFormatter={}),p=jsCommon.StringExtensions,t.DefaultIntegerFormat="g",t.DefaultNumericFormat="#,0.00",t.DefaultDateFormat="d",i={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},r={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},t.beautifyTrace=n,t.allowFormatBeautificationTraced=!1,t.getLocalizedString=function(e){return i[e]},f={null:i.NullValue,true:i.BooleanTrue,false:i.BooleanFalse,NaN:i.NaNValue,infinity:i.InfinityValue,negativeInfinity:i.NegativeInfinityValue,beautify:function(e){return(t=r[e=e])&&(n(t),i[t])||e;var t},describe:function(e){var t=-1===(e=e)?"Auto":e.toString(),r=i["DisplayUnitSystem_E"+t+"_Title"],e=e<=0?"{0}":i["DisplayUnitSystem_E"+t+"_LabelFormat"];if(r||e)return{title:r,format:e}},restatementComma:i.RestatementComma,restatementCompoundAnd:i.RestatementCompoundAnd,restatementCompoundOr:i.RestatementCompoundOr},d=1e4,h=2,a={displayName:"",type:c.ValueType.fromPrimitiveTypeAndCategory(7)},t.getFormatMetadata=function(e){return c.NumberFormat.getCustomFormatMetadata(e)},t.setLocaleOptions=function(e){f=e,c.DefaultDisplayUnitSystem.reset(),c.WholeUnitsDisplayUnitSystem.reset()},t.createDefaultFormatter=m,t.create=function(e){var i,n,a,o,t,r,s,u,l=e.allowFormatBeautification?f.beautify(e.format):e.format;return (function(e){var t=e.value,r=e.value2,i=e.format,n=e.columnType;if(e.formatSingleValues&&i&&Math.abs(t)<d){e=!c.NumberFormat.isStandardFormat(i);if(e){if(c.NumberFormat.getCustomFormatMetadata(i,!0).precision<h)return}else if(c.Double.isInteger(t))return}if("number"==typeof t||"number"==typeof r)return!(n&&n.temporal&&n.temporal.year)})(e)?(i=v(e.displayUnitSystemType),n=!!e.formatSingleValues,i.update(Math.max(Math.abs(e.value||0),Math.abs(e.value2||0))),(a=null!=e.precision)?o=-e.precision:i.displayUnit&&1<i.displayUnit.value&&(o=-2),{format:function(e){var t,r=S(e,!0);return p.isNullOrUndefinedOrWhiteSpaceString(r)?((t=Number(e))&&!i.isScalingUnit()&&Math.abs(t)<1e3&&!a&&(e=c.Double.roundToPrecision(t)),n?i.formatSingleValue(t,l,o,a):i.format(t,l,o,a)):r},displayUnit:i.displayUnit,options:e}):(r=e.value,s=e.value2,u=e.tickCount,r instanceof Date&&s instanceof Date&&null!=u?(t=c.DateTimeSequence.getIntervalUnit(e.value,e.value2,e.tickCount),{format:function(e){return null==e?f.null:x(e,c.formattingService.dateFormatString(t))},options:e}):m(l))},t.format=function(e,t,r){return null==e?f.null:x(e,r?f.beautify(t):t)},t.formatVariantMeasureValueWithDataPointObjects=function(e,t,r,i,n){return!(r&&r.type&&r.type.dateTime)&&e instanceof Date?x(e,s(a,null,!1),n):x(e,y(t,r,i),n)},o.prototype.format=function(e,t){var r,i=this.options;return!this.isDateTimeColumn&&e instanceof Date?x(e,s(a,null,!1),i.nullsAreBlank):(r=this.columnFormatString,t&&null!=(t=c.DataViewObjects.getValue(t,i.formatStringPropId))&&(r=t),this.displayUnitSystem&&"number"==typeof e&&null!=e?(t=i.precision,i.defaultPrecisionForScaledValues&&null==(t=l(t,r))&&1<i.displayUnit&&(t=2),i.formatSingleValues?this.displayUnitSystem.formatSingleValue(e,r,t,i.trailingZeroes):this.displayUnitSystem.format(e,r,t,i.trailingZeroes)):x(e,r,i.nullsAreBlank))},t.VariantValueFormatter=o,t.createDisplayUnitSystem=v,t.getDisplayUnits=function(e){return void 0===e&&(e=!1),new c.DataLabelsDisplayUnitSystem(f.describe).getUnits(e)},t.getFormatString=s,t.getDefaultFormatString=u,t.getLabelPrecision=l,t.getFormatStringWithDataPointObjects=y,t.formatListAnd=function(e){return g(e,f.restatementCompoundAnd)},t.formatListOr=function(e){return g(e,f.restatementCompoundOr)}})(powerbi=powerbi||{}),(function(e){(e=e.DateTimeUnit||(e.DateTimeUnit={}))[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Week=2]="Week",e[e.Day=3]="Day",e[e.Hour=4]="Hour",e[e.Minute=5]="Minute",e[e.Second=6]="Second",e[e.Millisecond=7]="Millisecond"})(powerbi=powerbi||{}),(function(e){var r;function i(e){return void 0===e.source.index}function n(e){return _.some(e,i)}r=e.data||(e.data={}),(e=r.DynamicFormatStringUtils||(r.DynamicFormatStringUtils={})).isDynamicFormatValueColumn=i,e.hasDynamicFormatValues=n,e.removeDynamicFormatValues=function(e){var t;if(n(e))return(t=r.DataViewTransform.createValueColumns(e.filter((function(e){return!i(e)})),void 0,e.source)).grouped=e.grouped.bind(t),t}})(powerbi=powerbi||{}),(function(c){var p=c.data||(c.data={}),r=jsCommon.ArrayExtensions,i=(p.getDataSelectorComparer=function(e,t){return new(t?i:a)(e)},n.prototype.matches=function(e,t){return this.isWildcard?p.DataViewWildcard.matches(this.dataParts[0],!_.isEmpty(t)):e.length===this.dataParts.length&&!(_.isEmpty(t)&&this.totalIdentity||!_.isEmpty(t)&&!this.totalIdentity||this.totalIdentity&&!r.hasSameValues(this.totalIdentity.exprs,t,p.SQExpr.equals))&&(!(!_.isEmpty(e)||!_.isEmpty(this.dataParts))||(t=n.flattenDataParts(e),!_.isEmpty(t)&&r.hasSameValues(this.selectorDataExprs,t,n.isDataExprsMatch)))},n.prototype.matchesKeys=function(e,t){return this.isWildcard?e.length===t:(t=_.flatten(e),0!==this.keys.length&&0!==t.length&&this.keys.length===t.length&&r.hasSameValues(t,this.keys,p.SQExpr.equals))},n.flattenDataParts=function(e){for(var t=[],r=0,i=e;r<i.length;r++){var n=i[r];if(p.Selector.isScopeIdentity(n)){var a=new p.ScopeIdentityExtractor.ScopeIdKeysAndValuesExtractorImpl;n.expr.accept(a);for(var o=0;o<a.pairs.length;o++)t.push({value:a.values[o],key:a.keys[o]})}else if(p.Selector.isScopeWildcard(n))for(var s=0,u=n.exprs;s<u.length;s++){var l=u[s];t.push({key:l})}else if(!p.Selector.isScopeTotal(n))return n.kind.toString(),[]}return t},n.isDataExprsMatch=function(e,t){return e.value&&t.value?p.SQExpr.equals(e.key,t.key)&&p.SQExpr.equals(e.value,t.value):p.SQExpr.equals(e.key,t.key)},n);function n(e){var t;e.data,this.dataParts=e.data,p.Selector.isWildcardSelector(e)?this.isWildcard=!0:(t=_.last(e.data),this.totalIdentity=p.Selector.isScopeTotal(t)?t:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,e.data.length-1)),this.selectorDataExprs=n.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,(function(e){return e.key})),this.totalIdentity&&(t=this.keys).push.apply(t,this.totalIdentity.exprs||[]))}o.prototype.matches=function(e,t){var r=this.dataParts,i=r.length,n=e.length,a=!_.isEmpty(t);if(a&&n++,this.isWildcard)return p.DataViewWildcard.matches(r[0],a);if(i!==n)return!1;for(var o=0,s=e.length;o<s;o++){var u=r[o],l=e[o];if(p.Selector.isRoleWildcard(u))return!1;if(p.Selector.isScopeIdentity(u)){if(!c.DataViewScopeIdentity.equals(u,l))return!1}else{if(!p.Selector.isScopeWildcard(u))return p.Selector.isScopeTotal(u)?_.isEmpty(t):u.kind.toString(),!1;if(!p.DataViewScopeWildcard.matches(u,l))return!1}}return!!_.isEmpty(t)||(u=_.last(r),p.Selector.isScopeTotal(u)&&p.DataViewScopeTotal.matches(u,t))},o.prototype.matchesKeys=function(e,t){if(this.isWildcard)return e.length===t;var r=_.flatten(e),i=this.keys.length;if(0===i||0===r.length)return!1;if(i!==r.length)return!1;for(var n=0;n<i;n++)if(!p.SQExpr.equals(r[n],this.keys[n]))return!1;return!0},o.getDataRepetitionIdentityKeys=function(e){return p.Selector.isScopeIdentity(e)?p.ScopeIdentityExtractor.getKeys(e.expr):p.Selector.isScopeWildcard(e)||p.Selector.isScopeTotal(e)?e.exprs:void(p.Selector.isRoleWildcard(e)||p.Selector.isWildcard(e))};var a=o;function o(e){var t;if(this.selector=e,this.selector,this.selector.data,this.isWildcard=p.Selector.isWildcardSelector(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var r=0,i=this.dataParts;r<i.length;r++){var n=i[r],n=o.getDataRepetitionIdentityKeys(n);if(!n){this.keys=[];break}(t=this.keys).push.apply(t,n)}}})(powerbi=powerbi||{}),(function(e){var t,r;t=e.data||(e.data={}),r=e.Prototype.inheritSingle,(t=t.DataViewCategoricalUtils||(t.DataViewCategoricalUtils={})).getCategoriesDataViewObjects=function(e){return!_.isEmpty(e)&&e[0].objects},t.setCategoriesDataViewObjects=function(e,t){if(!_.isEmpty(e))return((e=r(e))[0]=r(e[0])).objects=t,e},t.getRowCount=function(e){return e=_.isEmpty(e.categories)?_.isEmpty(e.values)?0:e.values[0].values.length:e.categories[0].values.length}})(powerbi=powerbi||{}),(function(e){var t,c,p,a;function n(e){return _.isEmpty(e.children)}function o(e,t){if(e)if(a.isArrayOrInheritedArray(e))for(var r=0,i=e;r<i.length;r++){var n=i[r];n&&u(n,[],t)}else u(e,[],t)}function u(e,t,r){t.push(e);var i=r(e,t),n=null!=i&&0!==i;if(1===i){i=e.children;if(!_.isEmpty(i))for(var a=0,o=i;a<o.length;a++){var s=o[a];if(s&&!(n=u(s,t,r)))break}}return t.pop(),n}function r(e,r){var i=0;o(e,(function(e,t){return n(e)&&(r(e,i,t),i++),1}))}function i(e){return _.map(e,(function(e){e=e.sources;return{selectIndices:_.map(e,(function(e){return e.index}))}}))}t=e.data||(e.data={}),c=e.Prototype.inherit,p=e.Prototype.inheritSingle,a=jsCommon.ArrayExtensions,(e=t.DataViewMatrixUtils||(t.DataViewMatrixUtils={})).isLeafNode=n,e.forEachNodeDepthFirst=o,e.forEachLeafNode=r,e.forEachNodeAtLevel=function e(t,r,i){if(t.level===r)i(t);else{var n=t.children;if(n&&0<n.length)for(var a=0,o=n.length;a<o;a++)e(n[a],r,i)}},e.inheritMatrixNodeHierarchy=function e(t,r,i){var n=t,a=void 0===t.level;if(a||t.level<=r){var o=i?p:c,s=o(t);if((a||t.level<r)&&!_.isEmpty(t.children)){s.children=o(t.children);for(var u=0,l=s.children.length;u<l;u++)s.children[u]=e(s.children[u],r,i)}n=s}return n},e.containsCompositeGroup=function e(t){var r=!1;if(t)if("rows"in(i=t)&&"columns"in i&&"valueSources"in i)r=e(t.rows)||e(t.columns);else{var i=t.levels;if(!_.isEmpty(i))for(var n=0,a=i;n<a.length;n++){var o=a[n];if(o.sources&&2<=o.sources.length&&!o.sources[0].isMeasure){r=!0;break}}}return r},e.extractSelectIndices=function(e){var t=e.rows&&e.rows.levels,r=e.columns&&e.columns.levels,e=e.valueSources;return{primaryAxis:!_.isEmpty(t)&&i(t),secondaryAxis:!_.isEmpty(r)&&i(r),intersection:!_.isEmpty(e)&&_.map(e,(function(e){return e.index}))}},e.getRowGroupingLevelsCount=function(e){return e&&e.rows&&!_.isEmpty(e.rows.levels)?e.rows.levels.length:0},e.getColumnGroupingLevelsCount=function(e){return!e||_.isEmpty(e.levels)?0:e.levels.length-(t.DataViewMatrixMeasureHeaders.hasMeasureHeadersLevel(e.levels)?1:0)},e.getLeafNodesPath=function(e){var i;return null!=e&&e.children,!e||_.isEmpty(e.children)?[]:(i=[],r(e,(function(e,t,r){i.push(_.clone(r))})),i)},e.getScopedValueSources=function(e){if(e=e.valueSources)return e[0],e[0]},e.getNodeScopedValues=function(e){if(e.nodeValues,e.nodeValues)return e.nodeValues[0]}})(powerbi=powerbi||{}),(function(e){var n;function f(e,t){var r=e.roles;return!!r&&_.some(t,(function(e){return r[e]}))}n=e.data||(e.data={}),(e=n.DataViewMetadataColumnUtils||(n.DataViewMetadataColumnUtils={})).isForRole=function(e,t){return!!(e=e.roles)&&!!e[t]},e.isForAnyRole=f,e.isExactMatchRole=function(e,t){if(!e)return!1;if(!e[t])return!1;if(2<=_.size(e))for(var r in e)if(r!==t&&e[r])return!1;return!0},e.leftJoinMetadataColumnsAndProjectionOrder=function(e,t,r){var i=[];if(!_.isEmpty(e))for(var n=(function(e){for(var t={},r=0,i=e.length;r<i;r++){var n=e[r],a=t[n];(a=a||(t[n]=[])).push(r)}return t})(t),a=0,o=e.length;a<o;a++){var s=e[a];if(!r||f(s,r)){var u=n[s.index];if(_.isEmpty(u)){p={metadataColumn:s,sourceIndex:a,projectionOrderIndex:void 0};i.push(p)}else for(var l=0,c=u;l<c.length;l++){var p={metadataColumn:s,sourceIndex:a,projectionOrderIndex:c[l]};i.push(p)}}}return i},e.getHierarchyVariationProperty=function(e){if(e=_.find(e,(function(e){return e.expr&&n.SQExpr.isHierarchyLevel(e.expr)}))){e=e.expr.arg;if(n.SQExpr.isHierarchy(e)){e=e.arg;if(n.SQExpr.isPropertyVariationSource(e))return e.property}}},e.findExprColumn=function(t,e,r){var i;return n.SQExpr.isSelectRef(t)?(i=_.find(e,(function(e){return e.queryName===t.expressionName&&e.groupName===r})))?0!==t.attributeKind?i:i.formatSource&&i.formatSource.formatString?i.formatSource.formatString:void 0:void 0:_.find(e,(function(e){return n.SQExpr.equals(e.expr,t)&&e.groupName===r}))},e.getAggregate=function(e,t){var r=e.aggregates;if(r)switch(t){case 3:return r.min;case 4:return r.max;case 2:return r.count;case 1:return r.average;case 6:return r.median;default:return}}})(powerbi=powerbi||{}),(function(e){var a;(a=e.DataViewUtils||(e.DataViewUtils={})).areMetadataColumnsEquivalent=function(e,t){return!e&&!t||!(!e||!t)&&e.displayName===t.displayName&&e.queryName===t.queryName&&e.isMeasure===t.isMeasure&&e.type===t.type&&e.sort===t.sort},a.isMetadataEquivalent=function(e,t){if(e||t){if(!e||!t)return!1;var r=e.columns.length,i=t.columns.length;if(r!==i)return!1;for(var n=0;n<i;n++)if(!a.areMetadataColumnsEquivalent(e.columns[n],t.columns[n]))return!1}return!0},a.isDataViewValueColumnGroup=function(e){return e&&e.values&&e.values[0]&&!!e.values[0].values},a.isDataViewCategoryColumnList=function(e){return e&&void 0!==e.length},a.hasDataViewKind=function(e,t){return!(!e||!(1&t&&e.categorical)&&!(2&t&&e.matrix||4&t&&e.single||8&t&&e.table||16&t&&e.tree))}})(powerbi=powerbi||{}),(function(e){var h;function m(t,e,r){e=e[r];if(e)return r=e.all(),_.filter(_.map(r,(function(e){return i(t,e)})),(function(e){return e}))}function i(e,t){e=n(e,t);if(e)return e}function n(e,t){if(t)return e.select().withName(t.queryRef)}function v(t,r){var e=_.filter(_.map(r,(function(e){return n(t,e)})),(function(e){return e}));return _.map(e,(function(t){var e=null==(e=_.find(r,(function(e){return e.queryRef===t.name})))?void 0:e.hidden;return h.SQExprUtils.transformToVisualQueryField(t.expr,t.name,!1,t.nativeReferenceName,e)}))}h=e.data||(e.data={}),(e=h.ProjectionUtils||(h.ProjectionUtils={})).tryGetExprs=m,e.tryGetExprByProjection=i,e.tryGetFieldExprs=function(e,t,r){var i=t[r];if(i){var n=i.getFieldParameters();if(_.isEmpty(n))return t=m(e,t,r),_.map(t,(function(t){var e=null==(e=_.find(i.all(),(function(e){return e.queryRef===t.name})))?void 0:e.hidden;return h.SQExprUtils.transformToVisualQueryField(t.expr,t.name,!1,t.nativeReferenceName,e)}));for(var a=[],o=i.all()||[],s=0,u=0,l=0,c=_.sortBy(n,(function(e){return e.index}));l<c.length;l++){var p=c[l],f=s,d=p.index+u,f=o.slice(f,d),p=(a.push.apply(a,v(e,f)),a.push(h.SQExprUtils.transformToVisualQueryField(p.expr,void 0,!0)),null!=(f=p.length)?f:0);u+=p-1,s=d+p}r=o.slice(s,o.length);return a.push.apply(a,v(e,r)),a}},e.convertFieldIndexToProjectionIndexUsingParameters=function(t,e){for(var r,e=_.filter(e,(function(e){return e.index<t})),i=t,n=0,a=e;n<a.length;n++)i+=(null!=(r=a[n].length)?r:0)-1;return i}})(powerbi=powerbi||{}),(function(s){var c,e;function p(e,t){if(e){e=(e=c.VariationRewriter.run(e,t)).getTargetEntity();if(e)return t=c.SQExprUtils.getConceptualEntity(e,t),1===(t=_.filter(t.properties,(function(e){return e.type.temporal&&e.type.temporal.paddedDateTableDate}))).length?c.SQExprBuilder.columnRef(e,t[0].name):void 0}}(c=s.data||(s.data={})).scalarKeyMinPropertyIdentifier={objectName:"scalarKey",propertyName:"min"},(e=c.ScalarKeyUtils||(c.ScalarKeyUtils={})).getScalarKeys=function(e,t){var r;if(e&&(r=e.objects),!_.isEmpty(r)){for(var i=void 0,n=r.length,a=0;a<n;a++){var o=r[a],o=s.DataViewObjects.getValue(o,t);void 0!==o&&((i=i||{values:new Array(n)}).values[a]={min:o})}return i}},e.hasScalarKeys=function(e){var t,r=!1,i={visitRole:function(e){r=r||_.some(e.items,(function(e){return e.scalarKeyInfo&&e.scalarKeyInfo.hasScalarKey}))}};return e.categorical?(t=e.categorical.categories,c.CompiledDataViewMapping.visitCategoricalCategories(t,i)):e.matrix&&(t=e.matrix.rows,c.CompiledDataViewMapping.visitMatrixRows(t,i)),r},e.isScalarKeySupportedForRole=function(e,t,r,i){if(t=c.ProjectionUtils.tryGetExprs(t,r,i),_.isEmpty(t))return!1;if(!((null==(n=t[0])?void 0:n.expr)instanceof c.SQHierarchyLevelExpr))return!1;var n=null==(n=t[0])?void 0:n.expr;if(1!==c.SQExprGroupUtils.groupExprs(e,_.map(t,(function(e){return e.expr})),{}).length)return!1;var n=c.SQExprConverter.asFieldPattern(n,e);if(!(n=(n=c.SQHierarchyExprUtils.getConceptualHierarchyLevelFromExpr(e,n))&&n.column))return!1;if(!(n=n.type).temporal||!n.temporal.year)return!1;if(!p(null==(n=t[0])?void 0:n.expr,e))return!1;var a=r[i],o=a.getLastActiveQueryReference();if(o){var s=a.all(),u=_.findIndex(s,(function(e){return e.queryRef===o}));if(-1===u)return!1;for(var l=0;l<u;l++)if(!_.includes(a.activeProjectionRefs,s[l].queryRef))return!1}return!0},e.getScalarKeyExpr=p})(powerbi=powerbi||{}),(function(e){function o(e,t){e&&(h(e,t,"CategoricalCategory"),m(e,t,"CategoricalCategory"),a(e,t,"CategoricalCategory"),g(e,t))}function s(e,t){if(e){h(e,t,"CategoricalValue"),m(e,t,"CategoricalValue"),a(e,t,"CategoricalValue");e=e.group;if(e)for(var r=0,i=e.select;r<i.length;r++){var n=i[r];h(n,t,"CategoricalValueGroup"),m(n,t,"CategoricalValueGroup")}}}function u(e,t){e=e.rows;h(e,t,"TableField"),m(e,t,"TableField"),a(e,t,"TableField"),g(e,t)}function l(e,t){var r,i="MatrixRowsGroup";e&&(r=null==e?void 0:e.values,m(e,t,i),(function(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];h(a,t,r),m(a,t,r),v(a,t,r)}})(e,t,i),g(e,t),r)&&(m(r,t,"MatrixRowsScopedValue"),a(r,t,"MatrixRowsScopedValue"))}function c(e,t){r(e,t,"MatrixColumnsGroup")}function p(e,t){r(e,t,"MatrixIntersection")}function r(e,t,r){e&&(m(e,t,r),a(e,t,r),g(e,t))}function f(e,t){e&&(m(e,t,"TreeNode"),g(e,t))}function d(e,t){e&&m(e,t,"TreeValue")}function h(e,t,r){e=e.bind;e&&t.visitRole(e.to,r)}function m(e,t,r){e=e.for;e&&t.visitRole(e.in,r)}function v(e,t,r){var i=e.composite;if(i){t.enterComposite&&t.enterComposite(e);for(var n=0,a=i;n<a.length;n++){var o=a[n];h(o,t,r),m(o,t,r)}t.exitComposite&&t.exitComposite(e)}}function a(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];h(a,t,r),m(a,t,r)}}function y(e,t){e&&(e=e.group)&&(t.visitRole(e.by,"CategoricalSeries"),g(e,t))}function g(e,t){t.visitReduction&&(e=e.dataReductionAlgorithm)&&t.visitReduction(e)}(e=(e=e.data||(e.data={})).CompiledDataViewMapping||(e.CompiledDataViewMapping={})).visitMapping=function(e,t){var r,i,n=e.categorical,a=(n&&(r=t,o((n=n).categories,r),s(a=n.values,r),y(a,r),g(n,r)),e.table);a&&u(a,t),(n=e.matrix)&&(r=t,l((n=n).rows,r),c(n.columns,r),p(n.values,r)),(n=e.tree)&&(i=t,f((n=n).nodes,i),d(n.values,i)),(n=e.single)&&(i=n,t.visitRole(i.role))},e.visitCategoricalCategories=o,e.visitCategoricalValues=s,e.visitTable=u,e.visitMatrixRows=l,e.visitMatrixColumns=c,e.visitMatrixValues=p,e.visitTreeNodes=f,e.visitTreeValues=d,e.visitComposite=v,e.visitGrouped=y})(powerbi=powerbi||{}),(function(e){var o;function s(e,t,r,i,n,a,o,s,u,l){this.featureSwitches=e,this.warningType=t,this.propertyId=r,this.selector=i,this.objectDisplayNameGetter=n,this.propertyDisplayNameGetter=a,this.valueExpr=o,this.value=s,this.expectedValueType=u,this.columnExpr=l,1===this.warningType?(this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}e=e.data||(e.data={}),o=jsCommon.StringExtensions,Object.defineProperty(s.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:this.warningType}},enumerable:!1,configurable:!0}),s.prototype.getMessages=function(e,t){var r,i,n,a;if(t)return this.cachedMessage||(r=e.get("NamePattern_Colon"),i=[],n=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(e):this.propertyDisplayNameGetter,n=o.format(e.get(this.titleKey),n),a=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(e):this.objectDisplayNameGetter,this.featureSwitches.useModernFormatPane||(a=o.format(r,e.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),a),i.push(a)),(a=t(this.valueExpr))&&(a=o.format(r,e.get("Field_Source"),a),i.push(a)),void 0!==this.columnExpr&&(a=t(this.columnExpr),t=o.format(r,e.get("Field_Target"),a),i.push(t)),1===this.warningType&&this.expectedValueType&&(a=o.format(r,e.get("DataBoundExprWarning_ExpectedDataType"),s.getPrimitiveValueType(this.expectedValueType,e)),i.push(a)),0===this.warningType&&this.value&&(t=o.format(r,e.get("Value"),this.value.toString()),i.push(t)),a=e.get(this.hintKey),i.push(a),this.cachedMessage={title:n,message:a,detail:i.join("\n")}),this.cachedMessage},s.prototype.getTitle=function(e){var t=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(e):this.propertyDisplayNameGetter;return o.format(e.get(this.titleKey),t)},s.prototype.getMessage=function(e){return e.get(this.hintKey)},s.getPrimitiveValueType=function(e,t){switch(e.primitiveType){case 1:return t.get("Text");case 2:case 3:case 4:return t.get("ConditionalFormattingDialog_Number");case 5:return t.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return t.get("ConditionalFormattingDialog_Date")}},e.DataBoundExprWarning=s})(powerbi=powerbi||{}),(function(e){function o(e,t){e=e.roles;return e&&e[t]}(e=(e=e.data||(e.data={})).DataRoleHelper||(e.DataRoleHelper={})).getMeasureIndexOfRole=function(e,t){if(!_.isEmpty(e)){var r=e[0];if(r.values&&0<r.values.length)for(var i=0,n=r.values.length;i<n;++i){var a=r.values[i];if(a&&a.source&&o(a.source,t))return i}}return-1},e.getCategoryIndexOfRole=function(e,t){if(!_.isEmpty(e))for(var r=0,i=e.length;r<i;r++)if(o(e[r].source,t))return r;return-1},e.getCategoryIndexesOfRole=function(e,t){var r=[];if(!_.isEmpty(e))for(var i=0,n=e.length;i<n;i++)o(e[i].source,t)&&r.push(i);return r},e.hasRole=o,e.hasRoleInMetadataColumns=function(e,t){return _.some(e,(function(e){return o(e,t)}))},e.hasRoleInDataView=function(e,t){return null!=e&&null!=e.metadata&&e.metadata.columns&&_.some(e.metadata.columns,(function(e){return e.roles&&void 0!==e.roles[t]}))},e.hasRoleInValueColumn=function(e,t){return e&&e.source&&e.source.roles&&!0===e.source.roles[t]}})(powerbi=powerbi||{}),(function(E){var w,b,C;w=E.data||(E.data={}),b=jsCommon.StringExtensions,C=E.Prototype.inheritSingle,(w.DataViewHierarchyLevelBackfill||(w.DataViewHierarchyLevelBackfill={})).apply=function(e,t){var r=e.categorical;if(!r||_.isEmpty(r.categories))return e;var i,s,n=r.categories,a=w.ScalarKeyUtils.getScalarKeys(n[0],w.scalarKeyMinPropertyIdentifier);if(!a||_.isEmpty(a.values))return e;for(var u,l=[],o=0,c=n.length;o<c;o++)for(var p=n[o],f=p.source.type,d=p.values,h=void 0,m=void 0,v=0,y=_.size(d);v<y;v++){var g=d[v],x=a.values[v];null==g&&null!=x&&(i||(g=(i=C(e)).categorical=C(r),s=g.categories=C(n)),h||(m=(h=s[o]=C(p)).values=C(d)),g=(function(e,t,r){{var i;return _.isDate(e)&&t&&t.temporal?(e=e,t.temporal.year?e.getFullYear():t.temporal.quarter?(i=e,r=r,i=Math.floor((i.getMonth()+3)/3),b.format(r,i.toLocaleString())):t.temporal.month?(r=e,E.formattingService.formatValue(r,"MMMM")):t.temporal.day?e.getDate():void 0):null}})(x.min,f,t),m[v]=g,l[v]||(u=u||v,l[v]=[]),l[v][o]=w.SQExprBuilder.typedConstant(g,f))}for(var S=function(e,t){for(var r,i,n=s[e],a=u,o=_.size(n.identity);a<o;a++)i=void 0,(i=l[r=a])&&(n.identity[r]=w.createDataViewScopeIdentity(w.SQExprUtils.getDataViewScopeIdentityComparisonExpr(n.identityFields,i)))},o=0,c=_.size(s);o<c;o++)S(o);return i||e}})(powerbi=powerbi||{}),(function(m){var v,e,o,y,g;function s(e,t,r,i,n,a,o){void 0===o&&(o=!1);var s,u=i.length-1,l=_.filter(i,(function(e,t){return t===u||!_.includes(n,e.source.queryName)})),t=1===i.length?(o||(s=l[0].values),l[0].source.type):(o||(s=(function(e,t){for(var r=[],i=0,n=e;i<n.length;i++)for(var a=n[i],o=g.getFormatString(a.source,t),s=0,u=a.values.length;s<u;s++){var l=a.values&&a.values[s],l=g.format(l,o);r[s]=void 0===r[s]?l:r[s]+" "+l}return r})(l,t)),m.ValueType.fromDescriptor({text:!0})),r=x(r,_.map(l,(function(e){return e.source})),t,a),t=y(e);if(a=r,(c=y((p=t).metadata.columns)).push(a),(a=y(p.metadata)).columns=c,p.metadata=a,!o){for(var c=e.categorical,p=(function(e,t,r,i){t={source:t,values:r},r=e[0];r.identity&&(t.identity=r.identity);r.identityFields&&(t.identityFields=r.identityFields);i&&(t.objects=i);return t})(l,r,s,v.DataViewCategoricalUtils.getCategoriesDataViewObjects(c.categories)),f=_.last(i),a=_.findIndex(c.categories,(function(e){return e===f})),d=y(c.categories),h=(d.splice(a,0,p),d.length-1);0<=h;h--)!(function(t){_.find(i,(function(e){return e===d[t]}))&&d.splice(t,1)})(h);o=y(c);o.categories=d,t.categorical=o}return t}function x(e,t,r,i){if(i)var n=i+" "+_.last(t).displayName;else for(var a=0,o=t;a<o.length;a++){var s=o[a];n=null==n?s.displayName:n+" "+s.displayName}i={},i[e]=!0,e={displayName:n,roles:i,type:r},i=_.last(t);return void 0!==i.isMeasure&&(e.isMeasure=i.isMeasure),e.queryName=i.queryName,e}v=m.data||(m.data={}),o=m.Prototype.inherit,y=m.Prototype.inheritSingle,g=m.visuals.valueFormatter,(e=v.DataViewConcatenateCategoricalColumns||(v.DataViewConcatenateCategoricalColumns={})).detectAndApply=function(e,t,r,i,n){var a=e,o=e.categorical;return o&&(o=(function(e,t,r){var i,n=_.chain(t).filter((function(e){return!m.DataViewMapping.getRegressionUsage(e)})).map((function(e){return e.categorical})).value();{var a,o;!_.isEmpty(n)&&_.every(n,(function(e){return!!e}))&&(a=(function(e){e=m.DataViewMapping.getRolesIfSameInAllCategoricalMappings(e,m.DataViewMapping.getAllRolesInCategories);if(1===_.size(e))return _.head(e)})(n))&&r&&_.includes(r.roles,a)&&(function(t,e){return _.every(e,(function(e){return!_.isEmpty(e.conditions)&&_.every(e.conditions,(function(e){return e[t]&&1===e[t].max}))}))})(a,t)&&(o=_.filter(e.categories,(function(e){return e.source.roles&&!!e.source.roles[a]})),_.isEmpty(o)||_.every(o,(function(e){return e.values.length===o[0].values.length}))&&(i={roleName:a,categories:o}))}return i})(o,r,n),r=v.DataViewMetadataColumnUtils.getHierarchyVariationProperty(e.metadata.columns),o)&&(2<=o.categories.length||r)&&(n=_.chain(i&&i[o.roleName]).filter((function(e){return e.suppressConcat})).map((function(e){return e.queryRef})).value(),a=s(e,v.DataViewObjectDescriptors.findFormatString(t),o.roleName,o.categories,n,r)),a},e.concatenateCategoryColumnsForVisual=function(e,t,r,i,n){var a;return void 0===n&&(n=!1),!_.isEmpty(i.categories)&&2<=i.categories.length?(a=o(e.columns),s({metadata:o(e,(function(e){e.columns=a})),categorical:i},t,r,i.categories,[],void 0,n)):{metadata:e,categorical:i}},e.getUntransformedCategories=function(e){var t=Object.getPrototypeOf(e);return(t&&t.categories?t:e).categories},e.createConcatenatedColumnMetadata=x})(powerbi=powerbi||{}),(function(s){var u,e,a,l;function n(e,t,r,i){var n,a,o=new s.ValueRefVisitor;return u.DataViewObjectDefinitions.isObjectPropertySQExprWithContext(e)?((n=new l(t,r,i,e.context)).propertyVisitor=a,(a=new s.PropertyDefinitionVisitor(n,o)).visitExpr(e.value)):u.DataViewObjectDefinitions.isObjectPropertySQExpr(e)?(n=new l(t,r,i),a=new s.PropertyDefinitionVisitor(n,o),(n.propertyVisitor=a).visitExpr(e)):(n=new l(t,r,i),a=new s.PropertyDefinitionVisitor(n,o),n.propertyVisitor=a,s.StructuralObjectDefinition.accept(e,n)),{expressions:n.exprs,references:o.references}}function t(e,t,r,i){var n=a.call(this)||this;return n.selector=e,n.querySelects=t,n.context=i,n.exprs=[],n.inputExpr=n.resolveSelectRef(r),n}u=s.data||(s.data={}),(e=u.DataBoundExprExtractor||(u.DataBoundExprExtractor={})).getDataBoundExprs=function(e,t,r,i){return(e=n(e,t,r,i))&&e.expressions},e.getDataBoundExprsAndReferences=n,a=u.DefaultSQExprVisitorWithTraversal,__extends(t,a),t.prototype.resolveSelectRef=function(e){return e&&u.SQExpr.isSelectRef(e)?this.getSelectByRef(e):e},t.prototype.add=function(e){this.context&&(e.context=this.context),null!=this.relatedProjectionQueryName&&(e.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(e)},t.prototype.visitMeasureRef=function(e){e={expr:e,selector:this.selector};this.add(e)},t.prototype.visitArithmetic=function(e){e={expr:e,selector:this.selector};this.add(e)},t.prototype.visitAggr=function(e){var t;t=u.SQExpr.isSelectRef(e.arg)?{expr:this.getSelectByRef(e.arg),selector:this.selector,aggregates:this.getAggregates(e.func)}:{expr:e,selector:this.selector},this.add(t)},t.prototype.checkIfOrdinal=function(e){},t.prototype.getAggregates=function(e){switch(e){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0}}},t.prototype.visitPercentile=function(e){var t;t=u.SQExpr.isSelectRef(e.arg)?{expr:this.getSelectByRef(e.arg),selector:this.selector,aggregates:{percentiles:[{k:e.k,exclusive:e.exclusive}]}}:{expr:e,selector:this.selector},this.add(t)},t.prototype.visitColumnRef=function(e){e={expr:e,selector:this.selector};this.add(e)},t.prototype.visitContains=function(e){this.checkIfOrdinal(e),a.prototype.visitContains.call(this,e)},t.prototype.visitStartsWith=function(e){this.checkIfOrdinal(e),a.prototype.visitStartsWith.call(this,e)},t.prototype.visitCompare=function(e){this.checkIfOrdinal(e),a.prototype.visitCompare.call(this,e)},t.prototype.visitHierarchyLevel=function(e){e={expr:e,selector:this.selector};this.add(e)},t.prototype.visitNativeMeasure=function(e){e={expr:e,selector:this.selector};this.add(e)},t.prototype.visitSelectRef=function(e){var e=this.getSelectByRef(e);e&&(e={expr:e,selector:this.selector},this.add(e))},t.prototype.getSelectByRef=function(e){e=this.querySelects.withName(e.expressionName);return e&&e.expr},t.prototype.visitScopedEval=function(e){var t=e.decomposeGlobalAggregateOfScopedExpr();t=t?{expr:this.resolveSelectRef(t.source),selector:this.selector,aggregates:this.getAggregates(t.func)}:e.hasGlobalScope()?{expr:e.expression,selector:null}:{expr:e,selector:{data:[u.DataViewWildcard.create()]}},this.add(t)},t.prototype.visitFillRule=function(e){e.input.accept(this),this.inputExpr=this.resolveSelectRef(e.input),this.visitFillRuleDefinition(e.rule)},t.prototype.visitFillDefinition=function(e){s.FillDefinition.accept(e,this.propertyVisitor)},t.prototype.visitFillRuleDefinition=function(e){this.inputExpr;var t=e.linearGradient2||e.linearGradient3,r=(t.min,t.max,{});t.min.value||(r.min=!0),t.max.value||(r.max=!0),(r.min||r.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:r}),s.FillRuleDefinition.accept(e,this.propertyVisitor))},t.prototype.visitDataBarsDefinition=function(e){this.inputExpr;var t={};e.minValue||(t.min=!0),e.maxValue||(t.max=!0),(t.min||t.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:t}),s.DataBarsDefinition.accept(e,this.propertyVisitor))},t.prototype.visitIconDefinition=function(e){s.IconDefinition.accept(e,this.propertyVisitor)},t.prototype.visitParagraphs=function(e){s.ParagraphsDefinition.accept(e,this.propertyVisitor)},t.prototype.visitErrorRangeDefinition=function(e){this.relatedProjectionQueryName=this.selector.metadata,s.ErrorRangeDefinition.accept(e,this.propertyVisitor),this.relatedProjectionQueryName=void 0},l=t})(powerbi=powerbi||{}),(function(e){var r,i=jsCommon.ArrayExtensions,t=jsCommon.Errors.TypeAssertionError;function n(e){this.includeScopedValuesRoles=e,this.roleNames=[]}function a(e){return!!e&&!!e.group}function o(e){return!!e&&!!e.bind}function s(e){return!!e&&!!e.for}function u(e){return!!e&&!!e.composite}function l(e){return!!e&&!!e.select}function c(e){return!!e&&!!e.group}function p(e){return!!e&&!!e.bind}function f(e){return!!e&&!!e.for}function d(e){return!!e&&!!e.composite}function h(e){return!!e&&!!e.select}function m(e){return!!e&&!!e.scope}(r=e.DataViewMapping||(e.DataViewMapping={})).getRegressionUsage=function(e){return e&&e.usage&&e.usage.regression||void 0},n.prototype.visitRole=function(e,t){!this.includeScopedValuesRoles&&"MatrixRowsScopedValue"===t||this.roleNames.push(e)},n.fromMatrixRows=function(e,t){t=new this(t);return r.visitMatrixRows(e,t),t.roleNames},n.fromMatrixColumns=function(e){var t=new this;return r.visitMatrixRows(e,t),t.roleNames},n.fromMatrixValues=function(e){var t=new this;return r.visitMatrixValues(e,t),t.roleNames},r.RoleNamesCollector=n,r.isForecastDefined=function(e){return!!(e&&e.usage&&e.usage.forecast)},r.isAnomalyDefined=function(e){return!!(e&&e.usage&&e.usage.anomalyDetection)},r.getParameterColumns=function(e){var t=[];if(e&&e.metadata)for(var r=0,i=e.metadata.columns;r<i.length;r++){var n=i[r];n.parameter&&t.push(n)}return t},r.getRolesIfSameInAllCategoricalMappings=function(e,t){if(0!==_.size(e)){var e=_.map(e,(function(e){return t(e)})),r=e[0];if(!(2<=e.length)||_.every(e,(function(e){return i.sequenceEqual(e,r,(function(e,t){return e===t}))})))return r}},r.getAllRolesInCategories=function(e){var t;return e.categories?(t=[],r.visitCategoricalCategories(e.categories,{visitRole:function(e){t.push(e)}}),t):[]},r.targetDataViewKinds=function(e){if(!e)return 0;for(var t=0,r=0,i=e;r<i.length;r++){var n=i[r];n.categorical&&(t|=1),n.matrix&&(t|=2),n.single&&(t|=8),n.table&&(t|=8),n.tree&&(t|=16)}return t},r.getDataReductionType=function(e){if(e)return e.top?"top":e.window?"window":e.bottom?"bottom":e.binnedLineSample?"binnedLineSample":e.overlappingPointsSample?"overlappingPointsSample":e.sample?"sample":e.topNPerLevel?"topNPerLevel":void 0},r.isDataViewGroupedRoleMapping=a,r.isDataViewRoleBindMapping=o,r.isDataViewRoleForMapping=s,r.isDataViewRoleCompositeMapping=u,r.isDataViewListRoleMapping=l,r.assertsertDataViewGroupedRoleMapping=function(e){if(!a(e))throw new t("DataViewGroupedRoleMapping")},r.assertDataViewRoleBindMapping=function(e){if(!o(e))throw new t("DataViewRoleBindMapping")},r.assertDataViewRoleForMapping=function(e){if(!s(e))throw new t("DataViewRoleForMapping")},r.assertDataViewRoleCompositeMapping=function(e){if(!u(e))throw new t("DataViewRoleCompositeMapping")},r.assertDataViewListRoleMapping=function(e){if(!l(e))throw new t("DataViewListWithCompositeRoleMapping")},(e=(e=e.data||(e.data={})).CompiledDataViewMapping||(e.CompiledDataViewMapping={})).isCompiledDataViewGroupedRoleMapping=c,e.isCompiledDataViewRoleBindMapping=p,e.isCompiledDataViewRoleForMapping=f,e.isCompiledDataViewRoleCompositeMapping=d,e.isCompiledDataViewListRoleMapping=h,e.isCompiledDataViewMappingScopedAggregate=m,e.assertCompiledDataViewGroupedRoleMapping=function(e){if(!c(e))throw new t("CompiledDataViewGroupedRoleMapping")},e.assertCompiledDataViewRoleBindMapping=function(e){if(!p(e))throw new t("CompiledDataViewRoleBindMapping")},e.assertCompiledDataViewRoleForMapping=function(e){if(!f(e))throw new t("CompiledDataViewRoleForMapping")},e.assertCompiledDataViewRoleCompositeMapping=function(e){if(!d(e))throw new t("CompiledDataViewRoleCompositeMapping")},e.assertCompiledDataViewListRoleMapping=function(e){if(!h(e))throw new t("CompiledDataViewListWithCompositeRoleMapping")},e.assertCompiledDataViewMappingScopedAggregate=function(e){if(!m(e))throw new t("CompiledDataViewMappingScopedAggregate")},e.getRoleFromMapping=function(e){return p(e)?e.bind.to:f(e)?e.for.in:void 0},e.getRoleActiveItems=function(t){return _.isEmpty(t.items)?[]:_.isEmpty(t.activeItems)?t.items:_.filter(t.items,(function(e){return _.includes(t.activeItems,e.queryName)}))}})(powerbi=powerbi||{}),(function(e){function t(e,t){this.strategy=e,this.roles=t}function a(e,t,r){if(e||t||r)return!e||t||r?e||!t||r?e||t||!r?$.extend(e,t,r):r:t:e}e=e.data||(e.data={}),t.prototype.compileMapping=function(e){var t=this.compileMetadata(),r={metadata:t};return e.categorical&&(r.categorical=this.compileCategorical(e.categorical)),e.table&&(r.table=this.compileTable(e.table)),e.single&&(r.single=this.compileSingle(e.single)),e.tree&&(r.tree=this.compileTree(e.tree)),e.matrix&&(r.matrix=this.compileMatrix(e.matrix)),e.scriptResult&&(r.scriptResult=this.compileScriptResult(e.scriptResult,t)),e.usage&&(r.usage=this.compileUsage(e.usage)),r},t.prototype.compileMetadata=function(){return this.strategy.compileMetadata()},t.prototype.compileCategorical=function(e){var t,r,i={},n=(e.categories&&(i.categories=this.compileRoleMappingWithReduction(e.categories)),e.values);return n&&(t=this.compileGrouped(n),r=this.compileList(n),n=this.compileRoleMapping(n),i.values=a(t,r,n)),e.includeEmptyGroups&&(i.includeEmptyGroups=e.includeEmptyGroups),null!=e.dataVolume&&(i.dataVolume=e.dataVolume),e.dataReductionAlgorithm&&(i.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),i},t.prototype.compileTable=function(e){var t={rows:a(this.compileRoleMappingWithReduction(e.rows),this.compileListWithReduction(e.rows))};return null!=e.dataVolume&&(t.dataVolume=e.dataVolume),t},t.prototype.compileSingle=function(e){return{role:this.compileRole(e.role)}},t.prototype.compileScriptResult=function(e,t){return{dataInput:this.compileMapping(e.dataInput),script:this.compileScriptDefinition(e.script,t)}},t.prototype.compileScriptDefinition=function(e,t){return this.strategy.compileScriptDefinition(e,t)},t.prototype.compileTree=function(e){var t={};return e.nodes&&(t.nodes=this.compileForWithReduction(e.nodes)),e.values&&(t.values=this.compileFor(e.values)),null!=e.dataVolume&&(t.dataVolume=e.dataVolume),t},t.prototype.compileMatrix=function(e){var t,r,i={};return e.rows&&(t=this.compileForWithReduction(e.rows),r=this.compileListWithCompositeWithReduction(e.rows),i.rows=a(t,r)),e.columns&&(i.columns=this.compileForWithReduction(e.columns)),e.values&&(t=this.compileRoleMapping(e.values),r=this.compileList(e.values),i.values=a(t,r)),null!=e.dataVolume&&(i.dataVolume=e.dataVolume),e.includeEmptyGroups&&(i.includeEmptyGroups=e.includeEmptyGroups),i},t.prototype.compileUsage=function(e){if(e.regression||e.forecast||e.anomalyDetection)return e},t.prototype.compileListWithReduction=function(e){var t=this.compileList(e);if(t)return e.dataReductionAlgorithm&&(t.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),t},t.prototype.compileList=function(e){var t=this;if(e.select)return{select:_.map(e.select,(function(e){return t.compileRoleMapping(e)}))}},t.prototype.compileListWithCompositeWithReduction=function(e){var t,r=this.compileListWithComposite(e);if(r)return e.dataReductionAlgorithm&&(r.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),e.values&&(t=this.compileRoleMapping(e.values),e=this.compileList(e.values),r.values=a(t,e)),r},t.prototype.compileListWithComposite=function(e){var r=this;if(e.select)return{select:_.map(e.select,(function(e,t){return r.compileRoleMappingWithComposite(e,0===t)}))}},t.prototype.compileGrouped=function(e){var t,r=this;if(e.group)return t={group:{by:this.compileRole(e.group.by),select:_.map(e.group.select,(function(e){return r.compileRoleMapping(e)}))}},e.group.dataReductionAlgorithm&&(t.group.dataReductionAlgorithm=this.compileReduction(e.group.dataReductionAlgorithm)),t},t.prototype.compileRoleMapping=function(e){return a(this.compileBind(e),this.compileFor(e))},t.prototype.compileRoleMappingWithComposite=function(e,t){return a(this.compileBind(e),this.compileFor(e),this.compileComposite(e,t))},t.prototype.compileRoleMappingWithReduction=function(e){var t=this.compileRoleMapping(e),r=this.compileList(e);if(t||r)return(t=a(t,r))&&e.dataReductionAlgorithm&&(t.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),t},t.prototype.compileBind=function(e){if(e.bind)return{bind:{to:this.compileRole(e.bind.to,e.bind.aggregates)}}},t.prototype.compileForWithReduction=function(e){var t=this.compileFor(e);if(t)return e.dataReductionAlgorithm&&(t.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),t},t.prototype.compileFor=function(e){if(e.for)return{for:{in:this.compileRole(e.for.in)}}},t.prototype.compileComposite=function(e,t){var r,i=this;if(e.composite)return r={composite:_.map(e.composite,(function(e){return i.compileRoleMapping(e)}))},e.synchronized&&(r.synchronized=e.synchronized),e.dataReductionAlgorithm&&(r.dataReductionAlgorithm=this.compileReduction(e.dataReductionAlgorithm)),r},t.prototype.compileRole=function(e,t){return this.strategy.compileRole(e,t)},t.prototype.compileReduction=function(e){var t,r;if(e)return t={},e.top&&(t.top={},e.top.count)&&(t.top.count=e.top.count),e.bottom&&(t.bottom={},e.bottom.count)&&(t.bottom.count=e.bottom.count),e.sample&&(t.sample={},e.sample.count)&&(t.sample.count=e.sample.count),e.window&&(t.window={},e.window.count)&&(t.window.count=e.window.count),e.binnedLineSample&&(t.binnedLineSample={},e.binnedLineSample.count&&(t.binnedLineSample.count=e.binnedLineSample.count),e.binnedLineSample.warningCount)&&(t.binnedLineSample.warningCount=e.binnedLineSample.warningCount),e.overlappingPointsSample&&(r=e.overlappingPointsSample,t.overlappingPointsSample={},r.count&&(t.overlappingPointsSample.count=r.count),(r=this.getCompiledRoleForCartesianRoleKind(0))&&(t.overlappingPointsSample.x={role:r}),r=this.getCompiledRoleForCartesianRoleKind(1))&&(t.overlappingPointsSample.y={role:r}),e.topNPerLevel&&(t.topNPerLevel={count:e.topNPerLevel.count,fallbackTopCount:e.topNPerLevel.fallbackTopCount}),t},t.prototype.getCompiledRoleForCartesianRoleKind=function(t){var e=_.filter(this.roles,(function(e){return e.cartesianKind===t}));if(1===_.size(e))return this.compileRole(e[0].name)},e.DataViewMappingCompiler=t})(powerbi=powerbi||{}),(function(e){function n(e,t){i(e.categories,t);var r=e.values;a(r,t),v(r,t),y(e,t)}function i(e,t){e&&(d(e,t,"CategoricalCategory"),h(e,t,"CategoricalCategory"),m(e,t,"CategoricalCategory"),y(e,t))}function a(e,t){if(e){d(e,t,"CategoricalValue"),h(e,t,"CategoricalValue"),m(e,t,"CategoricalValue");e=e.group;if(e)for(var r=0,i=e.select;r<i.length;r++){var n=i[r];d(n,t,"CategoricalValueGroup"),h(n,t,"CategoricalValueGroup")}}}function o(e,t){e=e.rows;d(e,t,"TableField"),h(e,t,"TableField"),m(e,t,"TableField"),y(e,t)}function s(e,t){r(e.rows,t),u(e.columns,t),l(e.values,t)}function r(e,t){var r;t=t,r="MatrixRowsGroup",(e=e)&&(h(e,t,r),(function(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r),!(function(e,t,r){e=e.composite;if(e){t.enterComposite&&t.enterComposite();for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r)}t.exitComposite&&t.exitComposite()}})(a,t,r)}})(e,t,r),y(e,t),r=e.values)&&(h(r,t,"MatrixRowsScopedValue"),m(r,t,"MatrixRowsScopedValue"))}function u(e,t){c(e,t,"MatrixColumnsGroup")}function l(e,t){c(e,t,"MatrixIntersection")}function c(e,t,r){e&&(h(e,t,r),m(e,t,r),y(e,t))}function p(e,t){e&&(h(e,t,"TreeNode"),y(e,t))}function f(e,t){e&&h(e,t,"TreeValue")}function d(e,t,r){e=e.bind;e&&t.visitRole(e.to,r)}function h(e,t,r){e=e.for;e&&t.visitRole(e.in,r)}function m(e,t,r){e=e.select;if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];d(a,t,r),h(a,t,r)}}function v(e,t){e&&(e=e.group)&&(t.visitRole(e.by,"CategoricalSeries"),y(e,t))}function y(e,t){t.visitReduction&&(e=e.dataReductionAlgorithm)&&t.visitReduction(e)}(e=e.DataViewMapping||(e.DataViewMapping={})).visitMapping=function(e,t){var r,i=e.categorical;i&&n(i,t),(i=e.table)&&o(i,t),(i=e.matrix)&&s(i,t),(i=e.tree)&&(r=t,p((i=i).nodes,r),f(i.values,r)),(i=e.single)&&(r=i,t.visitRole(r.role,"SingleField"))},e.visitCategorical=n,e.visitCategoricalCategories=i,e.visitCategoricalValues=a,e.visitTable=o,e.visitMatrix=s,e.visitMatrixRows=r,e.visitMatrixColumns=u,e.visitMatrixValues=l,e.visitTreeNodes=p,e.visitTreeValues=f,e.visitGrouped=v})(powerbi=powerbi||{}),(function(c){var e,a;function r(e,t,r){if(!_.isEmpty(t)&&!_.isEmpty(r)){for(var i,n=K(e.metadata.columns,r),a=z(e.metadata.columns,r),o={},s=0,u=t;s<u.length;s++){var l=u[s];l.table&&e.table&&(o.table=!0),l.matrix&&e.matrix&&(o.matrix=!0),l.categorical&&e.categorical&&(o.categorical=!0),l.tree&&e.tree&&(o.tree=!0),l.single&&e.single&&(o.single=!0)}if(o.categorical){var c=e.categorical,q=n,O=a;if(c=c&&c.values){c=c.grouped();if(c)for(var p=0,f=c;p<f.length;p++)for(var U=f[p].values,d=0,h=U;d<h.length;d++){var m=h[d],v=m.source.index;if(q(v))for(var y=0,j=m.values.length;y<j;y++)m.values=Y(m.values,y,v,O)}}}if(o.table){var c=e.table,k=n,B=a,g=c&&c.columns;if(g){for(var x=[],S=0,E=g;S<E.length;S++){var w=E[S];k(w.index)&&x.push(w.index)}for(var b=c.rows,C=0,L=b.length;C<L;C++)for(var D=0,V=x;D<V.length;D++){var R=V[D];b[C]=Y(b[C],R,R,B)}}}if(o.tree&&!(function e(t,r,i){if(t.values)for(var n in t.values)r(n)&&("object"==typeof t.values[n]&&"value"in t.values[n]?t.values[n]=Y(t.values[n],"value",n,i):t.values=Y(t.values,+n,+n,i));else if(t.children)for(var a=0,o=t.children;a<o.length;a++){var s=o[a];e(s,r,i)}})(e.tree.root,n,a),o.matrix&&(g=e.matrix,n=n,i=a,F=g&&g.rows&&g.rows.root)&&(function e(t,r,i,n){if(r.values)for(var a in r.values){var o=r.values[a],s=o.valueSourceIndex||0,s=t.valueSources[s].index;_.isNumber(s)&&i(s)&&(r.values[a]=Y(o,"value",s,n))}else if(r.children)for(var u=0,l=r.children;u<l.length;u++){var c=l[u];e(t,c,i,n)}})(g,F,n,i),o.single){var T=e,F=t,n=r,H=a;if(T.single){for(var M=[],P=0,N=n;P<N.length;P++){var A=N[P];A.name&&M.push(A.name)}for(var G=T.metadata.columns,Q=0,W=F;Q<W.length;Q++){var I=W[Q].single.role;if(-1!==M.indexOf(I))return void!((I=(function(e,t){for(var r=0,i=e;r<i.length;r++){var n=i[r],a=n&&n.roles;if(a&&a[t])return n}})(G,I))&&(T.single=Y(T.single,"value",I.index,H)))}}}}}function K(e,t){if(!e||!t)return function(){return!1};for(var r={},i=0,n=e;i<n.length;i++){var a=n[i],o=a.roles;if(o)for(var s=0,u=t;s<u.length;s++)if(o[u[s].name]){r[a.index]=!0;break}}return function(e){return!isNaN(e)&&!!r[e]}}function z(e,t){if(!e||!t)return function(){return!0};for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i],o=(function(e,t){var a=s(e,t);if(!_.isEmpty(a))return function(e){for(var t=e,r=0,i=a;r<i.length;r++){var n=i[r];if(n.numeric||n.integer)return"number"==typeof t}return!1}})(a,t);o&&(r[a.index]=o)}return function(e,t){return!r[e]||r[e](t)}}function s(e,t){var r=[],i=e&&e.roles;if(i)for(var n=0,a=t;n<a.length;n++){var o=a[n];if(i[o.name])for(var s=0,u=o.requiredTypes;s<u.length;s++){var l=u[s],l=c.ValueType.fromDescriptor(l);r.push(l)}}return r}function Y(e,t,r,i){var n;if(e)return null===(n=e[t])||i(r,n)||((e=a(e))[t]=null),e}e=c.data||(c.data={}),a=c.Prototype.inheritSingle,(e=e.DataViewNormalizeValues||(e.DataViewNormalizeValues={})).apply=function(e){var t=_.filter(e.dataRoles,(function(e){return!_.isEmpty(e.requiredTypes)}));r(e.dataview,e.dataViewMappings,t)},e.filterVariantMeasures=r,e.generateMetadataColumnFilter=K,e.generateValueFilter=z,e.getColumnRequiredTypes=s,e.normalizeVariant=Y})(powerbi=powerbi||{}),(function(e){(e.DataViewObjectProperty||(e.DataViewObjectProperty={})).propertyIdentifiersEqual=function(e,t){return e===t||null!=e&&null!=t&&e.objectName===t.objectName&&e.propertyName===t.propertyName}})(powerbi=powerbi||{}),(function(n){var e;function a(e,t,r,i){return e?(e=e[t.objectName],n.DataViewObject.getValue(e,t.propertyName,r,i)):r}function r(e,t,r){return e&&e[t]?e[t]:r}(e=n.DataViewObjects||(n.DataViewObjects={})).getValue=a,e.getObject=r,e.getUserDefinedObjects=function(e,t){if(e=r(e,t))return e.$instances},e.getGradientRuleOfDataView=function(e,t){return!t||null==(e=null==(e=null==(e=null==(e=null==e?void 0:e.metadata)?void 0:e.objectsRules)?void 0:e[t.objectName])?void 0:e[t.propertyName])?void 0:e.gradient},e.getFillColor=function(e,t,r,i){return(e=a(e,t,void 0,i))&&e.solid&&void 0!==e.solid.color?e.solid.color:r},e.hasFillColor=function(e,t,r){return!!((e=a(e,t,void 0,r))&&e.solid&&e.solid.color)},e.mergeObjects=function(e,t,r){for(var i in t){var n,a=t[i];null!=a&&((n=e[i])?(function e(t,r,i){if(i){var n=t.$instances,a=(n=null==n?t.$instances={}:n)[i];a=a||(n[i]={}),e(a,r,null)}else for(var o in r)"$instances"!==o&&null!=r[o]&&(t[o]=r[o])})(n,a,r):e[i]=null==r?a:{$instances:((n={})[r]=a,n)})}}})(powerbi=powerbi||{}),(function(e){function a(e,t,r,i){if(!e)return r;if(i){var n=e.$instances;if(!n)return r;n=n[i];if(!n)return r;e=n}i=e[t];return void 0===i?r:i}(e=e.DataViewObject||(e.DataViewObject={})).getValue=a,e.getFillColorByPropertyName=function(e,t,r,i,n){return(e=a(e,t,void 0,i))&&e.solid&&(e.solid.color||n&&null===e.solid.color)?e.solid.color:r}})(powerbi=powerbi||{}),(function(x){var S,n,r;function o(e,t,r){var i=e[t];i||(e[t]=[],i=e[t]);for(var n=0,a=i.length;n<a;n++){var o=i[n];if(S.Selector.equals(o.selector,r))return o}e={selector:r,properties:{}};return i.push(e),e}function m(e,t){for(var r in t){var i=t[r];!i||e[r]||(e[r]=i)}}function s(e,t,r,i){e=c(e,t,r);return _.sumBy(e,(function(e){return S.DataViewObjectDefinition.deleteSingleProperty(e,i)?1:0}))}function a(e,t,r,i){o(e,t.objectName,r).properties[t.propertyName]=i}function u(e,t,r){e=i(e,t,r);if(e)return e[t.propertyName]}function i(e,t,r){e=c(e,t.objectName,r);if(e)for(var i=0,n=e;i<n.length;i++){var a=n[i];if(a.properties[t.propertyName])return a.properties}}function l(e,t,r){if(e){var i=e[t];if(i)for(var n=0,a=i.length;n<a;n++){var o=i[n];if(S.Selector.equals(o.selector,r))return o}}}function c(e,t,r){return(e=e&&e[t])?_.filter(e,(function(e){return S.Selector.equals(e.selector,r)})):[]}function p(e,t){e=S.DataViewObjectDescriptors.findPropertyById(e,t);if(e)return e.formatStringProperty}function f(e,t){return e===t||(e instanceof S.SemanticFilter&&t instanceof S.SemanticFilter?S.SemanticFilter.isSameFilter(e,t):(e instanceof S.SQExpr&&t instanceof S.SQExpr?S.SQExpr:r).equals(e,t))}function d(e){for(var t,r=[],i=0,n=e;i<n.length;i++){var a=n[i];r.push({properties:(t=a.properties,_.clone(t)),selector:a.selector})}return r}S=x.data||(x.data={}),r=jsCommon.JsonComparer,(n=S.DataViewObjectDefinitions||(S.DataViewObjectDefinitions={})).ensure=o,n.updateSelector=function(e,t,r,i){(e=_.find(e[t],(function(e){return S.Selector.equals(e.selector,r)})))&&(e.selector=i)},n.deleteObjectDefinition=function(e,t,r){var i,n=e[t];return!!n&&(i=0<_.remove(n,(function(e){return S.Selector.equals(e.selector,r)})).length,_.isEmpty(n)&&delete e[t],i)},n.deleteProperties=function(e,t){if(e&&t)for(var r in t)for(var i=0,n=t[r];i<n.length;i++){var a,o=n[i];for(a in o.properties)s(e,r,o.selector,a)}},n.extend=function(e,t,r){if(e&&t)for(var i in t){var n=t[i];if(n){var a,o=(o=e[i])||(e[i]=[]),s=(p=h=d=f=c=l=u=a=i=s=void 0,o),i=n;if(r)s.splice.apply(s,__spreadArray([0,0],i||[],!1));else for(var u=0,l=i;u<l.length;u++){var c=l[u];a=!1;for(var p,f=0,d=s;f<d.length;f++){var h=d[f];if(S.Selector.equals(h.selector,c.selector)){m(h.properties,c.properties),a=!0;break}}a||(m((p={selector:c.selector,properties:{}}).properties,c.properties),s.push(p))}}}},n.moveProperty=function(e,t,r,i,n){var a;(t=l(e,t,r))&&(a=t.properties[i])&&(o(e,n,r).properties[i]=a,delete t.properties[i])},n.deleteProperty=s,n.setValue=a,n.setValueFormatting=function(e,t,r,i,n){(t=p(t,r))&&(n?a(e,t,i,n):s(e,t.objectName,i,t.propertyName))},n.getValue=u,n.getPropertyContainer=i,n.getValueFormatting=function(e,t,r,i){return(t=p(t,r))&&(r=u(e,t,i))&&n.isObjectPropertySQExpr(r)&&S.SQExpr.isConstantText(r)?r:void 0},n.getObjectDefinition=l,n.getObjectDefinitions=c,n.propertiesAreEqual=f,n.allPropertiesAreEqual=function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(!f(e[r],t[r]))return!1;return!0},n.getUnequalProperties=function(e,t){var r,i=[];for(r in e)f(e[r],t[r])||i.push(r);for(r in t)_.includes(i,r)||f(e[r],t[r])||i.push(r);return i},n.encodePropertyValue=function e(t,r){var i=r;if(i.bool||i.operations&&i.operations.searchEnabled)return"boolean"!=typeof t&&(t=!1),S.SQExprBuilder.boolean(!!t);if(i.text||i.duration||i.scripting&&i.scripting.source)return S.SQExprBuilder.text(t?t.toString():"");if(i.numeric){if($.isNumeric(t))return S.SQExprBuilder.double(+t)}else if(i.integer){if($.isNumeric(t))return S.SQExprBuilder.integer(Math.floor(+t))}else if(r.fill){if(t)return null==(n=t).id||null==n.shade?{solid:{color:S.SQExprBuilder.text((n.value||t).toString())}}:{solid:{color:S.SQExprBuilder.themeDataColor(n.id,n.shade)}};if(null===t&&r.fill.solid&&r.fill.solid.color){var n=!1,a=r.fill.solid.color;if(n="boolean"!=typeof a?a.nullable:n)return{solid:{color:S.SQExprBuilder.nullConstant()}}}}else if(i.formatting){if(!(i.formatting.labelDisplayUnits||i.formatting.displayUnitsWithoutAuto||i.formatting.fontSize))return S.SQExprBuilder.text(t?t.toString():"");if(null!=t)return S.SQExprBuilder.double(+t)}else{if(i.enumeration||i.flagsEnumeration)return $.isNumeric(t)?S.SQExprBuilder.double(+t):S.SQExprBuilder.text(t?t.toString():"");if(i.misc)t=t?S.SQExprBuilder.text(t.toString()):null;else if(i.dateTime)t=t?S.SQExprBuilder.dateTime(t):null;else if(!i.variant)if(r.image){if(t)return a=t,n={name:S.SQExprBuilder.text(a.name.toString()),url:S.SQExprBuilder.text(a.url.toString())},a.scaling&&(n.scaling=S.SQExprBuilder.text(a.scaling.toString())),n}else if(r.geoJson){if(t)return a=t,{type:S.SQExprBuilder.text(a.type.toString()),name:S.SQExprBuilder.text(a.name.toString()),content:a.content?S.SQExprBuilder.text(a.content.toString()):S.SQExprBuilder.nullConstant()}}else if(i.reference)(i.reference.bookmark||i.reference.section||i.reference.perspective||i.reference.bookmarkGroup||i.reference.rowRefText)&&(t=S.SQExprBuilder.text(t?t.toString():""));else if(!r.filter){if(r.paragraphs){var n=t,o=[];if(!_.isEmpty(n))for(var s=0,u=n;s<u.length;s++){var l=u[s],c=__assign(__assign({},l),{textRuns:[]});if(!_.isEmpty(l.textRuns))for(var p=0,f=l.textRuns;p<f.length;p++){var d=f[p];if(x.ParagraphsDefinition.isTextRunDefinitionGeneric(d))c.textRuns.push(d);else if(x.ParagraphsDefinition.isConditionalDefinitionGeneric(d)){var h=void 0,m=(_.isNumber(d.expression)?h=e(d.expression,{integer:!0}):x.isValueRef(d.expression)?h=d.expression:d.expression,{cases:[],defaultCase:d.defaultCase,expression:h});if(!_.isEmpty(d.cases))for(var v=0,y=d.cases;v<y.length;v++){var g=y[v],g={pattern:e(g.pattern,{integer:!0}),textRuns:g.textRuns};m.cases.push(g)}c.textRuns.push(m)}}o.push(c)}return o}if(!r.queryTransform&&r.exprList)return a=t,(i={exprs:[],kind:"ExprList"}).exprs=_.map(a.exprs,(function(e){return e})),i}}return t},n.clone=function(e){var t,r={};for(t in e){var i=e[t];_.isEmpty(i)||(r[t]=d(i))}return r},n.isEmpty=function(e){if(!_.isEmpty(e))for(var t in e){t=e[t];if(!_.isEmpty(t))for(var r=0,i=t;r<i.length;r++){var n=i[r];if(!_.isEmpty(n.properties))return!1}}return!0},n.cloneDefinitions=d,n.getDataBoundExprs=function(e,t,r,i){return S.DataBoundExprExtractor.getDataBoundExprs(e,t,r,i)},n.getDataBoundExprsAndValueRef=function(e,t,r,i){return S.DataBoundExprExtractor.getDataBoundExprsAndReferences(e,t,r,i)},n.isPropertyDefinition=function(e){return!!e&&!!((e=e)instanceof S.SQExpr||x.StructuralObjectDefinition.isStructuralObjectDefinition(e))},n.visitPropertyDefinitions=function(e,t,r){for(var i in e){var n=e[i],a=t&&t[i];if(n&&(!t||a))for(var o=0,s=n;o<s.length;o++){var u,l=s[o];for(u in l.properties){var c=l.properties[u],p=a&&a.properties[u];!c||t&&!p||r(l.properties,u,l.selector,i,a)}}}},n.visitPropertyExprs=function(e){var t,r=e.definitions,i=e.descriptors,o=e.visitor,s=e.structuralObjectVisitor,u=[],l={stopVisiting:!1};for(t in r){var n=i&&i[t];if(!_.isEmpty(r[t])&&(n||!i))for(var a=0,c=r[t];a<c.length;a++){var p=c[a].properties;if(p)for(var f in p){if(l.stopVisiting)return;var d=n&&n.properties[f];!d&&i||!(function e(t,r,i){var n=t[r];if(o&&n instanceof S.SQExpr)o(n,t,r,i,u,l);else if("object"==typeof n&&(s&&s(n,t,r,i,u,l),o))for(var a in n){if(l.stopVisiting)return;u.push(a),e(n,a,i),u.pop()}})(p,f,d&&d.type)}}}},n.reduce=function(e){if(!_.isEmpty(e)){for(var t in e)if(e[t]){for(var r=[],i=0,n=e[t];i<n.length;i++){var a=n[i],a=S.DataViewObjectDefinition.reduce(a);a&&r.push(a)}_.isEmpty(r)?delete e[t]:e[t]=r}else delete e[t];return _.isEmpty(e)?void 0:e}},n.isObjectPropertySQExpr=function(e){return e instanceof S.SQExpr},n.isObjectPropertySQExprWithContext=function(e){return e&&"ExprWithContext"===e.propertyDefinitionKind}})(powerbi=powerbi||{}),(function(e){function i(e,t){if(t in e.properties)return delete e.properties[t],!0}(e=(e=e.data||(e.data={})).DataViewObjectDefinition||(e.DataViewObjectDefinition={})).deleteSingleProperty=i,e.isValidPropertyName=function(e){return!_.startsWith(e,"$")},e.reduce=function(e){var t=e&&e.properties;if(t){for(var r in t)_.isEmpty(t[r])&&i(e,r);return _.isEmpty(t)?void 0:e}}})(powerbi=powerbi||{}),(function(t){var e;function r(e){e=e&&e.type;return e&&e.filter&&e.filter.selfFilter}function i(e,t){if(e)for(var r in e){var i,n=e[r].properties;for(i in n)if(t(n[i]))return{objectName:r,propertyName:i}}}(e=(e=t.data||(t.data={})).DataViewObjectDescriptors||(e.DataViewObjectDescriptors={})).findFormatString=function(e){return i(e,(function(e){e=t.ValueType.fromDescriptor(e.type).formatting;return e&&e.formatString}))},e.findFilterOutput=function(e){return i(e,(function(e){e=e.type;return e&&e.filter&&!e.filter.selfFilter}))},e.findSelfFilter=function(e){return i(e,r)},e.isSelfFilter=r,e.findSelfFilterEnabled=function(e){return i(e,(function(e){e=e.type;return e&&e.operations&&e.operations.searchEnabled}))},e.findDefaultValue=function(e){return i(e,(function(e){e=e.type;return e&&!!e.expression&&e.expression.defaultValue}))},e.findPropertyById=function(e,t){if(!_.isEmpty(e)){e=e[t.objectName];if(e&&!_.isEmpty(e.properties))return e.properties[t.propertyName]}}})(powerbi=powerbi||{}),(function(p){var y,e;function g(e,t,r,i){var n=(function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(y.Selector.equals(n.selector,t))return n}})(e=r?e.metadata||(e.metadata=[]):e.metadataOnce||(e.metadataOnce=[{selector:r,objects:[]}]),r);if(n){var a,n=n.objects;if(a=(function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n.name===t)return n}})(n,t.objectName)){if(a.properties[t.propertyName])return}else a={name:t.objectName,properties:{}},n.push(a)}else a={name:t.objectName,properties:{}},e.push({selector:r,objects:[a]});a.properties[t.propertyName]=i}y=p.data||(p.data={}),(e=y.DataViewObjectEvaluationUtils||(y.DataViewObjectEvaluationUtils={})).evaluateDataViewObjects=function(e,t,r,i,n){for(var a,o,s=0,u=i;s<u.length;s++){var l=u[s],c=l.name,l=(n&&(n.objectName=c),e.run(c,t,r[c],l.properties,n));l&&((o=o||{})[c]?p.DataViewObjects.mergeObjects(o,((a={})[c]=l,a)):o[c]=l)}return o},e.groupObjectsBySelector=function(e){var t={data:[]};if(e)for(var r in e)for(var i=e[r],n=0,a=i.length;n<a;n++){var o=i[n];!(function(e,t){e=t&&t.data?e.data:t&&t.metadata?(e.metadata||(e.metadata=[]),e.metadata):(e.metadataOnce||(e.metadataOnce=[]),e.metadataOnce);for(var r=0,i=e;r<i.length;r++){var n=i[r];if(y.Selector.equals(t,n.selector))return n}var a={selector:t,objects:[]};return e.push(a),a})(t,o.selector).objects.push({name:r,properties:o.properties})}return t},e.addImplicitObjects=function(e,t,r,i){if(i){var n=e,a=t,o=r,s=i,u=y.DataViewObjectDescriptors.findFormatString(a);if(u)for(var l=0,c=s.length;l<c;l++){var p=s[l];p&&(p.queryName,(function(e,t,r,i){i&&g(e,t,{metadata:r},y.SQExprBuilder.text(i))})(n,u,p.queryName,p.format||(function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n&&n.index===t)return n.format}})(o,l)))}var f=e,r=t,a=i,d=y.DataViewObjectDescriptors.findDefaultValue(r);if(d)for(var h=0,m=a;h<m.length;h++){var v=m[h];v&&(v.queryName,(function(e,t,r,i){i&&g(e,t,{metadata:r},i)})(f,d,v.queryName,v.defaultValue))}}}})(powerbi=powerbi||{}),(function(s){var u=s.data||(s.data={}),n=jsCommon.Color,l=u.DataBoundExprWarning,i=jsCommon.StringExtensions,r=s.visuals,a=s.visuals.visualStyles,o=(u.createDataViewObjectEvaluator=function(e,t){return new o(e,t)},c.prototype.getObjectsRules=function(){return this.objectsRules},c.prototype.run=function(e,t,r,i,n){if(r){var a,o,s=r.properties;for(o in i){this.propertyId={objectName:e,propertyName:o};var u=i[o],l=s[o];l&&(n&&(n.objectDescriptor=r,n.propertyName=o),void 0!==(l=this.evaluateProperty(t,l,u)))&&((a=a||{})[o]=l)}return this.propertyId=void 0,a}},c.prototype.evaluateProperty=function(e,t,r,i){var n,a,o=t.type;return o&&o.expression?r:void 0!==(n=this.evaluateValue(e,r,s.ValueType.fromDescriptor(t.type)))||r instanceof u.RuleEvaluation?n:(o.fillRule?a=this.evaluateFillRule(r):null!=(n=null==(n=o.fill)?void 0:n.solid)&&n.color&&null!=(n=null==r?void 0:r.solid)&&n.color?(n=o.fill.solid.color.nullable,a=this.evaluateSolidColorFill(e,r,n)):o.dataBars&&(a=this.evaluateDataBars(e,r)),a?(i&&a.error&&i.warnings.push(new l(this.featureSwitches,0,{objectName:i.objectName,propertyName:i.propertyName},i.selector,i.objectDescriptor.displayName,t.displayName,a.error.expr,a.error.value,null,i.targetExpr)),a.value):o.image?this.evaluateImage(e,r):o.paragraphs?this.evaluateParagraphs(e,r):o.geoJson?this.evaluateGeoJson(e,r):o.filter?this.evaluateSemanticFilter(r):o.icon?this.evaluateIcon(e,r):o.exprList?this.evaluateExprList(r):o.errorRange?this.evaluateErrorRange(e,r):void 0)},c.prototype.evaluateSemanticFilter=function(e){return e},c.prototype.evaluateSolidColorFill=function(e,t,r){var i;if(null!=(i=null==t?void 0:t.solid)&&i.color)return(i=this.evaluateColor(e,t.solid.color,r)).error?i:(e=i.value)||null===e&&r?{value:{solid:{color:e}}}:void 0},c.prototype.ensureColorAllocator=function(e,t){var r=this.colorAllocatorCache.get(e);return void 0===r&&(r=this.createColorAllocator(e,t),this.colorAllocatorCache.register(e,r,this.propertyId),this.propertyId&&r)&&this.addObjectRule(r),r},c.prototype.addObjectRule=function(e){this.objectsRules||(this.objectsRules={}),(this.objectsRules[this.propertyId.objectName]||(this.objectsRules[this.propertyId.objectName]={}))[this.propertyId.propertyName]={gradient:{options:e.getRule(),source:e.getSource()}}},c.prototype.createColorAllocator=function(e,t){t=t.getExprColumn(e.input,this.featureSwitches.categoricalSecondaryCF);return t&&(e=this.evaluateFillRule(e.rule).value)?r.createColorAllocatorFactory().fromFillRule(e,t):null},c.prototype.evaluateFillRule=function(e){var t=u.createEmptyEvalContext();if(e.linearGradient2){var r=e.linearGradient2;if((a=this.evaluateColorStop(t,r.min)).error)return a;if((o=this.evaluateColorStop(t,r.max)).error)return o;var i={linearGradient2:{min:a.value,max:o.value}};if(s=this.evaluateNullStrategy(t,r.nullColoringStrategy)){if(s.error)return s;var n=s.value;i.linearGradient2.nullColoringStrategy=n}}else if(e.linearGradient3){var a,r=e.linearGradient3;if((a=this.evaluateColorStop(t,r.min)).error)return a;var o,s,e=this.evaluateColorStop(t,r.mid);if(e.error)return e;if((o=this.evaluateColorStop(t,r.max)).error)return o;if(i={linearGradient3:{min:a.value,mid:e.value,max:o.value}},s=this.evaluateNullStrategy(t,r.nullColoringStrategy)){if(s.error)return s;n=s.value;i.linearGradient3.nullColoringStrategy=n}}return{value:i}},c.prototype.evaluateColorStop=function(e,t){var r=this.evaluateColor(e,t.color,!1);return r.error?r:(r={color:r.value},null!=(e=this.evaluateValue(e,t.value,c.numericType))&&(r.value=e),{value:r})},c.prototype.evaluateColor=function(e,t,r){var e=this.evaluateValue(e,t,c.colorValueType),i=null!=e?a.getThemeColor(this.visualStyle,e):e;return null!=i?{value:i}:null===e&&r?{value:null}:e?((i=e.toString())&&(i=i.replace(/\s+/g,""),i=n.isValidCssString(i)?i:n.getWebColorValue(i)),void 0===i?{error:{expr:t,value:e}}:{value:i}):{value:void 0}},c.prototype.evaluateNullStrategy=function(e,t){if(t){t.strategy;var r={strategy:this.evaluateValue(e,t.strategy,c.nullStrategyType)};if(t.color){e=this.evaluateColor(e,t.color,!1);if(e.error)return e;r.color=e.value}return{value:r}}},c.prototype.evaluateImage=function(e,t){var r;if(t)return r={name:this.evaluateValue(e,t.name,c.textType),url:this.evaluateValue(e,t.url,s.ValueType.fromDescriptor(s.ImageDefinition.urlType))},t.scaling&&(r.scaling=this.evaluateValue(e,t.scaling,c.textType)),r},c.prototype.evaluateParagraphs=function(e,t){var r=this;if(t)return this.evaluateArrayCopyOnChange(e,t,(function(e,t){return r.evaluateParagraph(e,t)}))},c.prototype.evaluateParagraph=function(e,t){var r,i=this,n=t.textRuns,e=this.evaluateArrayCopyOnChange(e,n,(function(e,t){return i.evaluateTextRun(e,t)}));return n!==e&&((r=_.clone(t)).textRuns=e),r||t},c.prototype.evaluateTextRun=function(e,t){return s.ParagraphsDefinition.isTextRunDefinition(t)?this.evaluateTextRunDefinition(e,t):s.ParagraphsDefinition.isTextRunConditionalDefinition(t)?this.evaluateTextRunConditional(e,t):void 0},c.prototype.evaluateTextRunDefinition=function(e,t){var r,e=t.value instanceof u.SQExpr?(r=t.value,this.evaluateValue(e,t.value,c.textType)):t.value,e={value:e};return t.textStyle&&(e.textStyle=t.textStyle),t.url&&(e.url=t.url),t.mentionEmail&&(e.mentionEmail=t.mentionEmail),r&&(e.valueExpr=r),e},c.prototype.evaluateTextRunConditional=function(e,t){var r=this;return{cases:this.evaluateArrayCopyOnChange(e,t.cases,(function(e,t){return r.evaluateTextRunConditionalCase(e,t)})),defaultCase:this.evaluateTextRunCaseValue(e,t.defaultCase),expression:this.evaluateTextRunConditionalExpression(e,t.expression)}},c.prototype.evaluateTextRunConditionalCase=function(e,t){return __assign({pattern:this.evaluateValue(e,t.pattern,c.textType)},this.evaluateTextRunCaseValue(e,t))},c.prototype.evaluateTextRunCaseValue=function(e,t){var r=this;return{textRuns:this.evaluateArrayCopyOnChange(e,t.textRuns,(function(e,t){return r.evaluateTextRunDefinition(e,t)}))}},c.prototype.evaluateTextRunConditionalExpression=function(e,t){return t instanceof u.SQExpr?this.evaluateValue(e,t,c.textType):s.isValueRef(t)?t:void 0},c.prototype.evaluateGeoJson=function(e,t){if(t)return{name:this.evaluateValue(e,t.name,c.textType),type:this.evaluateValue(e,t.type,c.textType),content:this.evaluateValue(e,t.content,c.textType)}},c.prototype.evaluateDataBars=function(e,t){var r,i,n=this.evaluateSolidColorFill(e,t.positiveColor,!1);return n.error?{error:n.error}:(r=this.evaluateSolidColorFill(e,t.negativeColor,!1)).error?{error:r.error}:(i=this.evaluateSolidColorFill(e,t.axisColor,!1)).error?{error:i.error}:{value:{minValue:this.evaluateValue(e,t.minValue,c.numericType),maxValue:this.evaluateValue(e,t.maxValue,c.numericType),positiveColor:n.value,negativeColor:r.value,axisColor:i.value,reverseDirection:this.evaluateValue(e,t.reverseDirection,c.boolType),hideText:this.evaluateValue(e,t.hideText,c.boolType)}}},c.prototype.evaluateIcon=function(e,t){var r,i;if(s.StructuralObjectDefinition.isIconDefinition(t))return r={kind:"Icon"},t.layout&&(r.layout=this.evaluateValue(e,t.layout,c.textType)),t.verticalAlignment&&(r.verticalAlignment=this.evaluateValue(e,t.verticalAlignment,c.textType)),t.value&&(null==(e=this.evaluateValue(e,t.value,c.textType))?r.value=null:(t=a.getThemeIcon(this.visualStyle,e))?t.svgId?(i=null==(i=t.description)?void 0:i.resourceKey,r.value={svgId:t.svgId},i&&(r.value.descriptionKey=i)):t.url&&(r.value={url:t.url}):r.value={url:e}),r},c.prototype.evaluateThemeDataColor=function(e){return a.getThemeDataColor(this.visualStyle,e)},c.prototype.evaluateExprList=function(e){if(s.StructuralObjectDefinition.isExprListDefinition(e))return{exprs:e.exprs,kind:"ExprList"}},c.prototype.evaluateArrayCopyOnChange=function(e,t,r){for(var i,n=0,a=t.length;n<a;n++){var o=t[n],s=r(e,o);(i=i||o===s?i:_.take(t,n))&&i.push(s)}return i||t},c.prototype.evaluateErrorRange=function(e,t){if(s.StructuralObjectDefinition.isErrorRangeDefinition(t))return t.explicit?this.evaluateExplicitErrorRange(e,t.explicit):t.symmetricalExplicit?this.evaluateSymmetricalErrorRange(e,t.symmetricalExplicit):t.standardDeviation?this.evaluateStandardDeviationErrorRange(e,t.standardDeviation):t.percentage?this.evaluatePercentageErrorRange(e,t.percentage):t.percentile?this.evaluatePercentileErrorRange(e,t.percentile):void 0},c.prototype.evaluateExplicitErrorRange=function(e,t){var r={isRelative:!0===this.evaluateValue(e,t.isRelative,c.boolType)};return t.lowerBound&&(r.lowerBound=this.evaluateValue(e,t.lowerBound,c.numericType)),t.upperBound&&(r.upperBound=this.evaluateValue(e,t.upperBound,c.numericType)),{explicit:r}},c.prototype.evaluateSymmetricalErrorRange=function(e,t){return{symmetricalExplicit:{delta:this.evaluateValue(e,t.delta,c.numericType)}}},c.prototype.evaluateStandardDeviationErrorRange=function(e,t){return{standardDeviation:{value:this.evaluateValue(e,t.value,c.numericType),multiplier:this.evaluateValue(e,t.multiplier,c.numericType)}}},c.prototype.evaluatePercentageErrorRange=function(e,t){return{percentage:{lowerBoundDelta:this.evaluateValue(e,t.lowerBoundDelta,c.numericType),upperBoundDelta:this.evaluateValue(e,t.upperBoundDelta,c.numericType)}}},c.prototype.evaluatePercentileErrorRange=function(e,t){return{percentile:{lowerBound:this.evaluateValue(e,t.lowerBound,c.numericType),upperBound:this.evaluateValue(e,t.upperBound,c.numericType)}}},c.prototype.evaluateValue=function(e,t,r){return t instanceof u.SQExpr?this.expressionEvaluator.evaluate(t,e):t instanceof u.RuleEvaluation?t.evaluate(e):void 0},c.boolType=s.ValueType.fromDescriptor({bool:!0}),c.colorValueType=s.ValueType.fromDescriptor({formatting:{color:!0}}),c.numericType=s.ValueType.fromDescriptor({numeric:!0}),c.textType=s.ValueType.fromDescriptor({text:!0}),c.nullStrategyType=s.ValueType.fromDescriptor({enumeration:s.NullStrategy.type}),c);function c(e,t){var r=this;this.featureSwitches=e,this.visualStyle=t,this.featureSwitches,this.colorAllocatorCache=u.createColorAllocatorCache(),this.expressionEvaluator=new f(function(e){return r.evaluateThemeDataColor(e)},function(e,t){return r.ensureColorAllocator(e,t)})}u.DataViewObjectEvaluator=o,p=u.DefaultSQExprVisitorWithArg,__extends(e,p),e.prototype.evaluate=function(e,t){if(null!=e)return e.accept(this,t)},e.prototype.visitColumnRef=function(e,t){return t.getExprValue(e)},e.prototype.visitConstant=function(e,t){return e.value},e.prototype.visitMeasureRef=function(e,t){return t.getExprValue(e)},e.prototype.visitArithmetic=function(e,t){return t.getExprValue(e)},e.prototype.visitNativeMeasure=function(e,t){return t.getExprValue(e)},e.prototype.visitAggr=function(e,t){return t.getExprValue(e)},e.prototype.visitScopedEval=function(e,t){return t.getScopedEvalExprValue(e)},e.prototype.visitFillRule=function(e,t){var r=this.colorAllocatorGetter(e,t);if(r){e=this.evaluate(e.input,t);if(void 0!==e)return r.color(e)}},e.prototype.visitPercentile=function(e,t){return t.getExprValue(e)},e.prototype.visitRangePercent=function(e,t){var r=this.evaluate(e.min,t);if(_.isFinite(r)){t=this.evaluate(e.max,t);if(_.isFinite(t))return 0===(e=e.percent)?r:1===e?t:r+e*(t-r)}},e.prototype.visitSelectRef=function(e,t){return t.getExprValue(e)},e.prototype.visitThemeDataColor=function(e,t){var r=this.dataColorEvaluator(e.colorId);if(r)return n.shadeColor(r,e.percent)},e.prototype.visitNot=function(e,t){return!this.evaluate(e.arg,t)},e.prototype.visitAnd=function(e,t){return e.left.accept(this,t)&&e.right.accept(this,t)},e.prototype.visitContains=function(e,t){var r;return!!e.isOrdinalEvaluation()&&(r=this.getExprString(e.left,t),e=this.getExprString(e.right,t),!!_.isString(r))&&i.contains(r,e)},e.prototype.visitStartsWith=function(e,t){var r;return!!e.isOrdinalEvaluation()&&(r=this.getExprString(e.left,t),e=this.getExprString(e.right,t),!!_.isString(r))&&i.startsWith(r,e)},e.prototype.getExprString=function(e,t){var r;if(null!==e)return null!=(r=u.SQExprInfo.getValueIfStringConstant(e))?r:this.evaluate(e,t)},e.prototype.visitCompare=function(e,t){var r=this.evaluate(e.left,t);if(_.isNaN(r))return!1;var i=this.evaluate(e.right,t);if(_.isNaN(i))return!1;t=e.comparison;if(e.isOrdinalEvaluation())return 0===t&&r===i;if(null===i||null===r)return i===r&&(0===t||2===t||4===t);switch(t){case 0:return r===i;case 1:return i<r;case 2:return i<=r;case 3:return r<i;case 4:return r<=i}},e.prototype.visitConditional=function(e,t){var r=e.cases;if(!_.isEmpty(r))for(var i=0,n=r;i<n.length;i++){var a=n[i],o=a.condition,a=a.value;if(!0===this.evaluate(o,t))return this.evaluate(a,t)}return this.evaluate(e.defaultValue,t)};var p,f=e;function e(e,t){var r=p.call(this)||this;return r.dataColorEvaluator=e,r.colorAllocatorGetter=t,r}})(powerbi=powerbi||{}),(function(e){var l,c;l=e.data||(e.data={}),c=e.Prototype.inheritSingle,(l.DataViewCategoricalEvalGrouped||(l.DataViewCategoricalEvalGrouped={})).apply=function(e){var r=e.values;if(r){if(!!r.source){var i=c(r.grouped()),t=0===l.DataViewCategoricalUtils.getRowCount(e),t=1<=r.length&&(t||void 0!==_.head(r).identity);if(!_.isEmpty(r)&&t)for(var n,a=0,o=0,s=r.length;o<s;o++)!(function(e){var t,e=r[e];if(l.DynamicFormatStringUtils.isDynamicFormatValueColumn(e))return;n&&e.identity===n.identity||(t=i[a],n=t?c(t):t=i[a]={values:null},(i[a]=n).values=[],a++),n.values.push(e)})(o);else for(o=0,s=i.length;o<s;o++){var u=i[o];_.isEmpty(u.values)||(i[o]=u=c(u),u.values=[])}}else i=[{values:r}];r.grouped=function(){return i},e.values=r}}})(powerbi=powerbi||{}),(function(e){var E,c,r,w,a;function u(e,t,r){return _.isEmpty(r)||(t=a.fromMatrixValues(t),_.isEmpty(t))?[]:(e=l(e,t),r=E.DataViewMetadataColumnUtils.leftJoinMetadataColumnsAndProjectionOrder(r,e,t),_.chain(r).filter((function(e){return void 0!==e.projectionOrderIndex})).sortBy((function(e){return e.projectionOrderIndex})).value())}function o(e,t,r,i){var n=e.valueSources,a=u(r,t.values,n);return p(n,a)?e:(r=[],0<(n=(t=w(e)).columns.levels).length&&(r=n[0].sources.filter((function(t){return t.isMeasure&&null!=t.index&&!_.isEmpty(t.roles)&&!_.find(a,(function(e){return e.metadataColumn===t}))}))),t.rows=f(t.rows,t.valueSources,a,r),e=_.map(a,(function(e){return e.metadataColumn})),t.valueSources=e,t.valueSources=t.valueSources.concat(r),t.columns=c.update(t.columns,__spreadArray([],e||[],!0),r,a),i.hierarchyTreesRewritten=!0,t)}function s(e,t,r,i){for(var n=e,a=0;a<e.rows.levels.length;a++){var o,s=e.rows.levels[a],s=E.DataViewMatrixUtils.getScopedValueSources(s);_.isEmpty(s)||(o=[],p(s,o=a===e.rows.levels.length-1?u(r,t,s):o))||((n=w(n)).rows=f(n.rows,s,o,[],a),n.rows.levels=w(n.rows.levels),s=n.rows.levels[a]=w(n.rows.levels[a]),0<o.length?s.valueSources={0:_.map(o,(function(e){return e.metadataColumn}))}:s.valueSources=void 0,i.hierarchyTreesRewritten=!0)}return n}function l(e,t){for(var r=[],i=0,n=t;i<n.length;i++){var a=e[n[i]];_.isEmpty(a)||r.push.apply(r,a||[])}return r}function p(e,t){return r.sequenceEqual(e,t,(function(e,t){return e===t.metadataColumn}))}function f(e,t,m,v,r){function i(e,t){var r=t?e.values:E.DataViewMatrixUtils.getNodeScopedValues(e);if(r&&0!==x){if(!g){g=0;var i,n={};for(i in r)g++,n[r[i].valueSourceIndex||0]=!0;x=Object.keys(n).length}if(void 0===y){if(S<x&&0<v.length&&(x-=v.length,0===(g-=v.length)))return;y=g/x}if(0<S){for(var a={},o=0;o<y;o++)for(var s=o*x,u=o*S,l=0;l<S;l++)l!==((c=r[s+m[l].sourceIndex]).valueSourceIndex||0)&&((c=w(c)).valueSourceIndex=l||void 0),a[u+l]=c;for(var c,p=S,f=Object.keys(a).length,d=g+v.length,h=g;h<d;h++)(c=r[h]).valueSourceIndex=p++||void 0,a[f++]=c}else a=void 0;t?e.values=a:e.nodeValues=a?{0:a}:void 0}}var y,g,x=t.length,S=m.length,t=w(e);return t.root=void 0===r?E.DataViewPivotMatrix.cloneTreeExecuteOnLeaf(t.root,(function(e){return i(e,!0)})):E.DataViewPivotMatrix.cloneTreeAndProcessNodes(t.root,{nodeProcessor:function(e){e.level===r&&i(e,!1)},skipChildren:function(e){return e.level>=r}}),t}function d(e,t){var r,i=e.levels,n=_.chain(i).map((function(e,t){return t})).filter((function(e){e=i[e];return 2<=_.size(e.sources)&&!c.isMeasureHeadersLevel(e)})).value();if(!_.isEmpty(n)){for(var a=_.uniq(t),o=n.length-1;0<=o;o--){var s=n[o],u=e.levels[s],l=(function(e,t){var r,e=e.sources;e&&2<=e.length&&(e=E.DataViewMetadataColumnUtils.leftJoinMetadataColumnsAndProjectionOrder(e,t),t=_.sortBy(e,(function(e){return e.projectionOrderIndex})),r=_.map(t,(function(e,t){return{originalSourceIndex:e.sourceIndex,newSourceIndex:t}})));return r})(u,a);_.isEmpty(l)||(void 0===r&&((r=w(e)).levels=w(e.levels),r.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(e.root,s,!0)),u=w(u),r.levels[s]=(function(t,e){for(var r=t.sources,i=(t.sources=r.slice(0),0),n=e;i<n.length;i++)!(function(e){t.sources[e.newSourceIndex]=r[e.originalSourceIndex]})(n[i]);return t})(u,l),(function(e,t,r){var s=_.reduce(r,(function(e,t){return e[t.originalSourceIndex]=t,e}),{});E.DataViewMatrixUtils.forEachNodeAtLevel(e,t,(function(e){var t=e.levelValues;if(!_.isEmpty(t)){for(var r=_.sortBy(t,(function(e){e=s[e.levelSourceIndex];return e&&e.newSourceIndex})),i=0,n=r.length;i<n;i++){var a=w(r[i]),o=s[a.levelSourceIndex];a.levelSourceIndex=o&&o.newSourceIndex,r[i]=a}e.levelValues=r;t=_.last(r);e.value!==t.value&&(e.value=t.value),(e.levelSourceIndex||0)!==t.levelSourceIndex&&(e.levelSourceIndex=t.levelSourceIndex)}}))})(r.root,s,l))}return r}}function h(e){return!_.isEmpty(e)&&t(_.last(e))}function t(e){return e&&_.every(e.sources,(function(e){return e.isMeasure}))}function m(e,t){e=e.children;return!_.isEmpty(e)&&e[0].level===t}function v(e,t,r,i){for(var n=new Array(t),a=0,o=t;a<o;a++){var s=void 0,u=i&&i[a].sourceIndex,u=(s=null!=u?r.children&&r.children[u]:s)?w(s):{};u.level=e,r.isSubtotal&&(u.isSubtotal=!0),u.levelSourceIndex=0<a?a:void 0,n[a]=u}return n}E=e.data||(e.data={}),r=jsCommon.ArrayExtensions,w=e.Prototype.inheritSingle,a=e.DataViewMapping.RoleNamesCollector,(e=E.DataViewMatrixProjectionOrder||(E.DataViewMatrixProjectionOrder={})).apply=function(e,t,r,i,n){return r&&(e=(function(e,t,r){var i,n=a.fromMatrixRows(t.rows),n=l(r,n),n=d(e.rows,n),t=a.fromMatrixColumns(t.columns),r=l(r,t),t=d(e.columns,r);(n||t)&&((i=w(e)).rows=n||i.rows,i.columns=t||i.columns);return i||e})(e=o(e,t,r,i),t,r),n.comboMultiples)&&(t=null==(n=t.rows)?void 0:n.values,_.isEmpty(t)||(e=s(e,t,r,i))),e},e.projectMeasures=o,e.projectScopedMeasures=s,(e=c=E.DataViewMatrixMeasureHeaders||(E.DataViewMatrixMeasureHeaders={})).update=function(e,t,r,i){var n,a,o,s,u,l,c,p,f=h(d=e.levels),d=(f?2<=_.size(d):1<=_.size(d))?2<=t.length:1<=t.length;return d=f?d?(s=t,u=r,l=i,f=w(f=e),r=f.levels=w(f.levels),c=r.length-1,(p=r[c]=w(r[c])).sources=s,f.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(f.root,c,!0),E.DataViewMatrixUtils.forEachNodeDepthFirst(f.root,(function(e){var t;if(m(e,c)){var r=v(c,s.length,e,l);if(0==c&&0<u.length){for(var i=p.sources.length,n=0;n<u.length;n++)r.push({level:0,levelSourceIndex:i+n});e.children=r,(t=p.sources).push.apply(t,u||[])}else e.children=r;return 2}return 1})),f):(i=w(i=e),r=i.levels=w(i.levels),o=r.length-1,r.splice(o,1),i.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(i.root,o,!0),E.DataViewMatrixUtils.forEachNodeDepthFirst(i.root,(function(e){return m(e,o)?(e.children=void 0,2):1})),i):d?(n=t,f=w(f=e),r=f.levels=w(f.levels),i={sources:n},r.push(i),a=r.length-1,f.root=E.DataViewMatrixUtils.inheritMatrixNodeHierarchy(f.root,a,!0),E.DataViewMatrixUtils.forEachNodeDepthFirst(f.root,(function(e){return E.DataViewMatrixUtils.isLeafNode(e)?(e.children=v(a,n.length,e),2):1})),f):e},e.hasMeasureHeadersLevel=h,e.isMeasureHeadersLevel=t})(powerbi=powerbi||{}),(function(e){var g,x,S;function t(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}g=e.data||(e.data={}),x=e.Prototype.inherit,(g.DataViewPivotCategorical||(g.DataViewPivotCategorical={})).apply=function(e){var t=e.categorical;if(!t)return null;var r=t.categories;if(!r||1!==r.length)return null;var i=t.values;if(_.isEmpty(i)||i.source)return null;for(var n=(t=r[0]).identity,a=t.values,o=[],s=[],u=new S,l=0,c=a.length;l<c;l++)for(var p=a[l],f=n[l],d=0,h=i.length;d<h;d++){var m=i[d],v=u.getPivotedDynamicFormatColumn(m.source,l);if(void 0===v&&(v=x(m.source)),m.identity)return null;v.groupName=p,v.rootSource=m.source,null!=(y=v.formatSource)&&y.formatString&&(y=v.formatSource.formatString,u.trackOriginalDynamicFormatColumn(d,y),y=x(y),v.formatSource={formatString:y},u.addPivotedDynamicFormatColumn(d,l,y));var y={source:v,values:[m.values[l]],identity:f,min:m.min,max:m.max,subtotal:m.subtotal},m=m.highlights;m&&(y.highlights=[m[l]]),o.push(v),s.push(y)}return(r=x(e.metadata)).columns=o,{metadata:r,categorical:{values:i=g.DataViewTransform.createValueColumns(s,t.identityFields,t.source)},matrix:e.matrix}},t.prototype.trackOriginalDynamicFormatColumn=function(e,t){this.originalDynamicFormatColumns.push({valueColumnIndex:e,dynamicFormatStringColumn:t})},t.prototype.addPivotedDynamicFormatColumn=function(e,t,r){void 0===this.categoryIndexToDynamicFormatColumn[e]&&(this.categoryIndexToDynamicFormatColumn[e]=[]),"categoryIndexToDynamicFormatColumn[".concat(e,"][").concat(t,"] === undefined"),this.categoryIndexToDynamicFormatColumn[e][t]=r},t.prototype.getPivotedDynamicFormatColumn=function(e,t){e=this.getValueColumnIndex(e);if(void 0!==e)return this.categoryIndexToDynamicFormatColumn[e][t],"categoryIndexToDynamicFormatColumn[".concat(e,"][").concat(t,"]"),this.categoryIndexToDynamicFormatColumn[e][t]},t.prototype.getValueColumnIndex=function(t){var e=_.find(this.originalDynamicFormatColumns,(function(e){return e.dynamicFormatStringColumn===t}));if(e)return e.valueColumnIndex},S=t})(powerbi=powerbi||{}),(function(c){var e;function p(e){return f(e)}function f(e,t){var r={};return t&&(r.nodeProcessor=function(e){_.isEmpty(e.children)&&t(e)}),u(e,r)}function u(e,t){var r,i=c.Prototype.inherit(e),n=e.children;if((t.nodeProcessor&&t.nodeProcessor(i),!_.isEmpty(n))&&!(null!=(r=null==(r=t.skipChildren)?void 0:r.call(t,e))&&r))for(var a=n.length,o=i.children=new Array(a),s=0;s<a;s++)o[s]=u(n[s],t);return i}(e=(e=c.data||(c.data={})).DataViewPivotMatrix||(e.DataViewPivotMatrix={})).apply=function(e,t){t.columnHierarchyRewritten||(e.columns=c.Prototype.inherit(e.columns));var a,o,s,u,l,r,i=e.columns,n=(t.rowHierarchyRewritten||(e.rows=c.Prototype.inherit(e.rows)),e.rows);1<i.levels.length||(a={level:0},o=i.root.children,s=_.size(o),u=n.levels.length,0<s?(l=0,r=function(e){if(e.values){a.values||(a.values={});for(var t=0;t<s;t++)a.values[l++]=e.values[t];e.values=void 0}if(1<s){e.children||(e.children=[]);for(var r=0;r<s;r++){var i={level:u},n=o[r];i.levelSourceIndex=n.levelSourceIndex,e.isSubtotal&&(i.isSubtotal=!0),e.children.push(i)}}},t.hierarchyTreesRewritten?(function e(t,r){var i=t.children;if(i&&0<i.length){for(var n=0,a=i.length;n<a;n++)e(i[n],r);return}r(t)})(n.root,r):e.columns.root=f(n.root,r)):t.hierarchyTreesRewritten||(e.columns.root=p(n.root)),1<s&&(r={sources:i.levels[0].sources},n.levels.push(r),i.levels.length=0),t.hierarchyTreesRewritten?(e.columns.root=n.root,e.rows.root={children:[a]}):((r=c.Prototype.inherit(e.rows.root)).children=[a],e.rows.root=r),e.columns.levels=n.levels,e.rows.levels=[])},e.cloneTree=p,e.cloneTreeExecuteOnLeaf=f,e.cloneTreeAndProcessNodes=u})(powerbi=powerbi||{}),(function(w){var n,b;n=w.data||(w.data={}),b=w.DataViewMapping.RoleNamesCollector,(n.DataViewPivotMatrixToPrimaryGroups||(n.DataViewPivotMatrixToPrimaryGroups={})).pivot=function(e,t,r,i){return (function(e,t,r,i){if(_.isEmpty(t)||!e||_.isEmpty(r))return;e=e.matrix;if(!e)return;if(!e.rows||_.isEmpty(e.rows.levels)||!e.columns||_.isEmpty(e.columns.levels))return;for(var n=[],a=0,o=e.columns.levels;a<o.length;a++)for(var s=o[a],u=0,l=s.sources;u<l.length;u++)(x=l[u]).isMeasure||n.push(x);for(var c=[],p=0,f=e.rows.levels;p<f.length;p++)for(var s=f[p],d=0,h=s.sources;d<h.length;d++)(x=h[d]).isMeasure||c.push(x);for(var m,v=[],y=0,g=e.rows.levels;y<g.length;y++)for(var x,s=g[y],S=0,E=s.sources;S<E.length;S++)(x=E[S]).isMeasure&&v.push(x);return _.isEmpty(v)&&!(1!==n.length||c.length<1)&&1===(e=_.filter(r,(function(e){return!w.DataViewMapping.getRegressionUsage(e)}))).length&&2===w.DataViewMapping.targetDataViewKinds(e)&&!!(r=e[0].matrix)&&(e=b.fromMatrixRows(r.rows),r=b.fromMatrixColumns(r.columns),!(_.size(e)<2||0!==_.size(r)))&&(r=_.uniq([].concat.apply([],_.map(c,(function(e){return Object.keys(t[e.index].roles)})))),m=_.uniq([].concat.apply([],_.map(n,(function(e){return Object.keys(t[e.index].roles)})))),_.isEqual(e,[].concat(m,r)))&&_.isEqual(i,r)})(e,t,i,r)?(t={metadata:{columns:__spreadArray([],e.metadata.columns||[],!0)}},e.single&&(t.single=e.single),e.table&&(t.table=e.table),e.matrix&&(i=(function(e){var t=e.rows,r=e.columns,i=t.root,n=i.children,a={levels:[],root:{children:[]}},o={rows:a,columns:{levels:[],root:{children:[]}},valueSources:e.valueSources},s=a.root.children;a.levels.push(r.levels[0]),a.root.childIdentityFields=r.root.childIdentityFields;for(var u=0,l=r.root.children;u<l.length;u++){var c=l[u];void 0!==c.levelValues&&void 0!==c.value&&s.push({children:[],value:c.value,levelValues:c.levelValues,identity:c.identity,level:0})}var p=_.size(e.valueSources);if(a.levels.push(t.levels[0]),!_.isEmpty(s))for(var f in n){var d,h=n[f];for(d in h.values){var m,v=Math.floor(d/p),v=s[v],y=(v.childIdentityFields||(v.childIdentityFields=i.childIdentityFields),h.values[d]);null!=y&&((m=v.children[f])||(m={level:v.level+1,value:h.value,levelValues:h.levelValues,values:{},identity:h.identity},v.children.push(m)),m.values[d%p]=y)}}return o})(e.matrix),_.isEmpty(i.valueSources)||n.DataViewMatrixUtils.containsCompositeGroup(i.columns)||(t.matrix=i)),t):e}})(powerbi=powerbi||{}),(function(s){var f;function o(e,t,r){for(var i=s.Prototype.inherit(e),n=0,a=r;n<a.length;n++){var o=a[n];i[o]=t[o]}return i}((f=s.data||(s.data={})).DataViewSelfCrossJoin||(f.DataViewSelfCrossJoin={})).apply=function(e,t){if(e.categorical&&t){var r=e.categorical;if(!(_.isEmpty(r.categories)||r.values&&r.values.source)){var i=(function(e,t){var r=t.source.identityExprs;if(r)return r;if(1===e.categories.length)return t.identityFields})(r,t);if(!_.isEmpty(i)){var e=e.metadata,n=(r.categories,t.values.length);if(0!==n){var a=r.values?r.values.grouped()[0].values:[],t=(function(e,t,i,r){var n,a=(function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=null;return t})(t),t=(function(e,t){_.isEmpty(t);for(var r=e.identity,i=e.values,n=[],a={},o=0,s=_.size(r);o<s;o++){var u=r[o],u=f.ScopeIdentityExtractor.getSubset(u.expr,t),u=u&&f.createDataViewScopeIdentity(u),l=u&&u.key,c=a[l],p=void 0;void 0===c?(p={identity:u,groupValue:i[o],groupIndex:n.length,valueRowIndices:[]},n.push(p),a[l]=p.groupIndex):p=n[c],p.valueRowIndices.push(o)}return n})(e,r);if(!_.isEmpty(t))return n=_.map(t,(function(e){var r=e.valueRowIndices;return _.map(i,(function(e){var t={values:o(a,e.values,r)};return e.highlights&&(t.highlights=o(a,e.highlights,r)),t}))})),{groupColumn:{source:e.source,identityFrom:{fields:r,identities:_.map(t,(function(e){return e.identity}))},values:_.map(t,(function(e){return e.groupValue}))},valueColumns:_.map(i,(function(e){return{source:e.source}})),data:n}})(t,n,a,i);if(t)return n=f.createCategoricalDataViewBuilder().withCategories(r.categories).withGroupedValues(t).build(),(e=s.Prototype.inherit(e)).columns=n.metadata.columns,{metadata:e,categorical:n.categorical}}}}}}})(powerbi=powerbi||{}),(function(d){var a,e,o,s,F;function u(e){return e&&e.Groupings&&1===e.Groupings.length&&!_.isEmpty(e.Groupings[0].Projections)&&!e.Groupings[0].Subtotal&&_.isEmpty(e.Groupings[0].SuppressedProjections)}a=d.data||(d.data={}),o=jsCommon.ArrayExtensions,s=d.data.DataShapeBindingDataReduction,F=d.Prototype.inheritSingle,(e=a.DataViewPivotCategoricalToPrimaryGroups||(a.DataViewPivotCategoricalToPrimaryGroups={})).pivotBinding=function(e,t,r,i,n,a){t&&1===t.length&&r.categorical&&r.categorical.dataReductionAlgorithm&&e&&u((t=e).Primary)&&!(!u(t.Secondary)||1!==t.Secondary.Groupings[0].Projections.length||t.DataReduction&&(t.DataReduction.Primary||t.DataReduction.Secondary||t.DataReduction.Intersection))&&(e.Primary.Groupings=[e.Secondary.Groupings[0],e.Primary.Groupings[0]],e.Secondary=void 0,e.DataReduction={Primary:s.createFrom(r.categorical.dataReductionAlgorithm,i),DataVolume:a||r.categorical.dataVolume||n})},e.unpivotResult=function(e,t,r,i,n){return (function(e,t,a,o,r){if(_.isEmpty(t)||!e||_.isEmpty(r))return;t=_.filter(r,(function(e){return!d.DataViewMapping.getRegressionUsage(e)}));if(1!==t.length)return;r=t[0].categorical;if(!r)return;t=e.matrix;if(!t)return;if(!t.rows||!t.rows.levels||2!==t.rows.levels.length)return;function i(e,t){if(e=o[e])for(var r=0,i=e.all();r<i.length;r++){var n=i[r];a[n.queryRef]===d.VisualDataRoleKind.Grouping&&t.push(n.queryRef)}}var n=[],s=[];if(d.DataViewMapping.visitCategoricalCategories(r.categories,{visitRole:function(e){i(e,n)}}),d.DataViewMapping.visitGrouped(r.values,{visitRole:function(e){i(e,s)}}),d.DataViewMapping.visitCategoricalValues(r.values,{visitRole:function(e){i(e,s)}}),_.isEmpty(n)||_.isEmpty(s))return;for(var u=0,l=t.columns.levels;u<l.length;u++)for(var c=l[u],p=0,f=c.sources;p<f.length;p++)if(!f[p].isMeasure)return;return 1})(e,t,r,i,n)?(t={metadata:{columns:o.copy(e.metadata.columns)}},e.single&&(t.single=e.single),e.table&&(t.table=e.table),e.matrix&&(r=(function(e){var t=e.rows,r=t.root,i=r.children,n=[],a=t.levels[0],r=r.childIdentityFields,o={},s=[],t=t.levels[1],u=_.isEmpty(i)?void 0:i[0].childIdentityFields,l=e.valueSources.length;if(i)for(var c=0,p=i;c<p.length;c++){var f=p[c];n.push(f);for(var d=0,h=f.children;d<h.length;d++)!(function(e){var t=e.identity.key;void 0===o[t]&&(o[t]=s.length,s.push(e))})(x=h[d])}for(var m=new Array(s.length),v=0;v<n.length;++v)for(var f=i[v],y=0,g=f.children;y<g.length;y++){var x,S=(function(e){e=o[e.key];return e})((x=g[y]).identity);m[S]||(m[S]=new Array(n.length)),m[S][v]=x.values}r={root:{children:_.map(n,(function(e){e=F(e);return e.level=0,e.children=void 0,e.childIdentityFields=void 0,e})),childIdentityFields:r},levels:[a]};if(0<l){for(var E=_.map(e.columns.root.children,(function(e){var t={level:1};return e.levelSourceIndex&&(t.levelSourceIndex=e.levelSourceIndex),t})),w=0,b=r.root.children;w<b.length;w++)b[w].children=E;r.levels.push(e.columns.levels[0])}var C={root:{children:_.map(s,(function(e){e=F(e);return e.level=0,e.children=void 0,e.childIdentityFields=void 0,e})),childIdentityFields:u},levels:[t]};if(0<l)for(S=0;S<s.length;++S){for(var D=C.root.children[S],V={},v=0;v<n.length;++v)for(var R=m[S]&&m[S][v],T=0;T<l;++T)V[v*l+T]=R?R[T]:0===T?{value:null}:{value:null,valueSourceIndex:T};D.values=V}return{rows:C,columns:r,valueSources:e.valueSources}})(e.matrix),_.isEmpty(r.valueSources)||a.DataViewMatrixUtils.containsCompositeGroup(r.columns)||(t.categorical=(function(e,t){for(var r=e.columns.root.children.length,i=e.valueSources,n=i.length,a=(function(e){for(var t=_.map(e.rows.root.children,(function(e){return e.identity})),r=e.rows.root.childIdentityFields,i=e.rows.levels[0].sources,n=[],a=0,o=i.length;a<o;a++){var s=_.map(e.rows.root.children,(function(e){e=e.levelValues;if(void 0!==e)return e[a].value}));n.push({source:i[a],values:s,identity:t,identityFields:r})}return n})(e),o=[],s=0;s<r;++s){var u=e.columns.root.children[s],l={values:[],identity:u.identity,name:null!=u.value?u.value:null};o.push(l);for(var c=0;c<n;++c)for(var p=i[c],p=__assign({},p),f=(p.groupName=l.name,t.push(p),{source:p,values:[],identity:l.identity}),d=(l.values.push(f),c+s*n),h=0,m=e.rows.root.children;h<m.length;h++){var v=m[h].values[d].value;f.values.push(v)}}for(var y=[],g=0,x=o;g<x.length;g++)for(l=x[g],c=0;c<n;++c)y.push(l.values[c]);return y.grouped=function(){return o},y.identityFields=e.columns.root.childIdentityFields,y.source=e.columns.levels[0].sources[0],{categories:a,values:y}})(r,t.metadata.columns))),t):e}})(powerbi=powerbi||{}),(function(h){var m,v;m=h.data||(h.data={}),v=h.DataViewMapping,(m.DataViewTransformContext||(m.DataViewTransformContext={})).create=function(e,t,r,i,n,a,o,s,u,l){var c=o.selects,p=o.roles&&o.roles.activeItems,f=_.isEmpty(c)?{}:m.DataViewSelectTransform.createRoleKindFromMetadata(c,e),d=m.DataViewSelectTransform.projectionsFromSelects(c,p),l=h.DataViewAnalysis.chooseDataViewMappings(d,r,f,l,t,o.objects).supportedMappings;return{queryDataViewMetadata:e,objectDescriptors:t,dataRoles:i,drillCapabilities:n,expandCollapseCapabilities:a,transforms:o,selectTransforms:c,projectionOrdering:o.roles&&o.roles.ordering,projectionActiveItems:p,roleKindByQueryRef:f,queryProjectionsByRole:d,visualCapabilitiesRoleMappings:r,visualCapabilitiesDataViewKinds:v.targetDataViewKinds(r),applicableRoleMappings:l,applicableDataViewKinds:v.targetDataViewKinds(l),visualStyle:s,visualCapabilitiesKeepAllMetadataColumns:u}}})(powerbi=powerbi||{}),(function(s){var u,r,l,c;function f(e,t){t=l.leftJoinMetadataColumnsAndProjectionOrder(e,t),t=_.chain(t).filter((function(e){return void 0!==e.projectionOrderIndex})).sortBy((function(e){return e.projectionOrderIndex})).value();if(!r.sequenceEqual(e,t,(function(e,t){return e.index===t.metadataColumn.index})))return t}function p(e){if(!_.isEmpty(e))return e=e[0],_.chain(e.values).map((function(e){return e.source})).filter((function(e){return void 0!==e.index})).value()}u=s.data||(s.data={}),r=jsCommon.ArrayExtensions,l=s.data.DataViewMetadataColumnUtils,c=s.Prototype.inheritSingle,(u.DataViewCategoricalProjectionOrder||(u.DataViewCategoricalProjectionOrder={})).apply=function(e,t,r,i,n){var a,o,t=_.chain(t).filter((function(e){return e.categorical&&!s.DataViewMapping.getRegressionUsage(e)})).map((function(e){return e.categorical})).value();return e.categorical&&1<=t.length&&(t=(function(e,t,r,i){var n=e.values;if(n){var a=u.DynamicFormatStringUtils.removeDynamicFormatValues(n),o=(function(e){var t,r,i,n,a=e.source,o=e.grouped();{var s,u;a?(r=p(o),t=o.length,s=_.size(r),s=t*s,0<(u=e.length-s)&&(i=s,n=_.chain(e).takeRight(u).map((function(e){return e.source})).value())):(i=0,n=p(o))}return{secondaryAxisSource:a,dynamicSeriesGroupCount:t,dynamicSeriesMeasureSources:r,staticSeriesMeasureStartingIndex:i,staticSeriesMeasureSources:n}})(a||n),t=(function(e,t,r,i){var n,a,o;return(r?(n=_.reduce(t,(function(e,t,r){t=t.name;return void 0===e[t]&&(e[t]=r),e}),{}),t=e.dynamicSeriesMeasureSources||[],o=e.staticSeriesMeasureSources||[],t=t.concat(o),o=_.chain(t).filter((function(e){return!i||!!i[e.index]})).uniqBy((function(e){return e.index})).map((function(e){var t=e.roles;return t?_.filter(Object.keys(t),(function(e){return t[e]})):[]})).flatten().uniq().sortBy((function(e){return n[e]})).value(),_.chain(o).map((function(e){return r[e]||[]})).flatten().filter((function(e){return!i||!!i[e]}))):(a=i,o=(t=e).dynamicSeriesMeasureSources||[],t=t.staticSeriesMeasureSources||[],o=o.concat(t),_.chain(o).filter((function(e){return!a||!!a[e.index]})).map((function(e){return e.index})))).uniq().value()})(o,t,r,i);if(a=(function(e,t){if(t&&e.source)if(!t[e.source.index])return(t=c(e)).source=void 0,t.identityFields=void 0,t})((a=(function(e,t,r){var i=(function(e,t,r){if(t.dynamicSeriesGroupCount&&!_.isEmpty(t.dynamicSeriesMeasureSources)){var i=f(t.dynamicSeriesMeasureSources,r);if(i){var n=i.length;if(0===n)return[];for(var a=t.dynamicSeriesMeasureSources.length,o=t.dynamicSeriesGroupCount,s=[],u=0;u<o;u++)for(var l=u*a,c=0;c<n;c++){var p=i[c].sourceIndex,p=e[l+p];s.push(p)}return s}}})(e,t,r),r=(function(e,t,r){if(!_.isEmpty(t.staticSeriesMeasureSources)){var i=f(t.staticSeriesMeasureSources,r);if(i){var n=i.length;if(0===n)return[];for(var a=t.staticSeriesMeasureStartingIndex,o=[],s=0;s<n;s++){var u=i[s].sourceIndex,u=e[a+u];o.push(u)}return o}}})(e,t,r);{var n;if(i||r)return e=c(e),i?r?(e.splice(0,e.length),e.push.apply(e,i||[]),e.push.apply(e,r||[])):(t.dynamicSeriesGroupCount,t.dynamicSeriesMeasureSources,n=t.dynamicSeriesMeasureSources.length*t.dynamicSeriesGroupCount,e.splice.apply(e,__spreadArray([0,n],i||[],!1))):r&&(t.staticSeriesMeasureSources,t.staticSeriesMeasureStartingIndex,n=t.staticSeriesMeasureSources.length,e.splice.apply(e,__spreadArray([t.staticSeriesMeasureStartingIndex,n],r||[],!1))),e}})(a||n,o,t)||a)||n,i)||a)return r=!!a.source,o=0<a.length,t=c(e),r||o?(t.values=a,u.DataViewCategoricalEvalGrouped.apply(t)):t.values=void 0,t}})(function(e,t,r,i){if(!_.isEmpty(e.categories)){t=s.DataViewMapping.getRolesIfSameInAllCategoricalMappings(t,s.DataViewMapping.getAllRolesInCategories);if(t){r=(function(e,r,i){if(debug.assertValue(e,"roles"),debug.assertAnyValue(r,"projectionOrdering"),debug.assertAnyValue(i,"splitSelects"),r)return _.reduce(e,(function(e,t){t=_.filter(r[t],(function(e){return!i||i[e]}));return e.push.apply(e,t||[]),e}),[])})(t,r,i);if(r)return (function(e,t,r){var i,n=e.categories;if(!_.isEmpty(n)&&!(function(r,e){return r.length===e.length&&_.every(e,(function(e,t){return r[t].source.index===e}))})(n,t))return i=_.map(n,(function(e){return e.source})),i=l.leftJoinMetadataColumnsAndProjectionOrder(i,t,r),t=_.chain(i).filter((function(e){return void 0!==e.projectionOrderIndex})).sortBy((function(e){return e.projectionOrderIndex})).value(),r=_.map(t,(function(e){return n[e.sourceIndex]})),i=c(e),_.isEmpty(r)?i.categories=void 0:((t=u.DataViewCategoricalUtils.getCategoriesDataViewObjects(n))&&(r=u.DataViewCategoricalUtils.setCategoriesDataViewObjects(r,t)||r),i.categories=r),i})(e,r,t)}}}(o=e.categorical,t,i,n)||o,r,i,n))&&((a=c(e)).categorical=t),a||e}})(powerbi=powerbi||{}),(function(u){var c,e,l,p,f,d;function h(e,t,r,i){for(var n=0,a=e.length,o=0,s=i;o<s.length;o++){var u=s[o];if(a<=n)return;var l=(function(e,t,r){for(var i=0,n=0,a=e;n<a.length;n++){var o=a[n],o=t[o]&&t[o].roles;if(c.DataViewMetadataColumnUtils.isExactMatchRole(o,r))i++;else if(0<i)break}return i})(e,t,u);if(0===l)return;if(2<=l&&!_.includes(r,u))return;n+=l}return!(n<a)}c=u.data||(u.data={}),f=jsCommon.ArrayExtensions,d=u.Prototype,e=c.DataViewUpgradeFromCY16SU09Map||(c.DataViewUpgradeFromCY16SU09Map={}),l=["Series","Category"],p=["Series","X","Y"],e.detectAndApply=function(e,t,r,i){var n,a,o,s;return _.isEmpty(t.splits)&&(n=e.matrix)&&1===(r=_.chain(r).map((function(e){if((e=e.matrix)&&e.rows&&!e.columns&&!e.values){e=u.DataViewMapping.RoleNamesCollector.fromMatrixRows(e.rows);if(f.sequenceEqual(e,l,(function(e,t){return e===t}))||f.sequenceEqual(e,p,(function(e,t){return e===t})))return{primaryAxisRoles:e.slice(1),secondaryAxisRole:e[0]}}})).filter((function(e){return!!e})).value()).length&&(a=a=c.DataViewMatrixUtils.extractSelectIndices(n),t=t,i=i,r=r[0],s=a.primaryAxis,o=a.secondaryAxis,_.isEmpty(a.intersection))&&1===_.size(s)&&1===_.size(o)&&(a=t.selects,h(s[0].selectIndices,a,i,r.primaryAxisRoles))&&h(o[0].selectIndices,a,i,[r.secondaryAxisRole])?(t=(function(e){var t=d.inheritSingle(e),r=t.rows=d.inheritSingle(e.rows),i=t.columns=d.inheritSingle(e.columns),n=(i.levels=d.inheritSingle(i.levels)).splice(0,1)[0],a=((r.levels=d.inheritSingle(r.levels)).splice(0,0,n),e.rows.root),n=r.root=d.inheritSingle(i.root),e=(i.root={children:[]},d.overrideArray(n.children,(function(e){var t,e=d.inheritSingle(e);return e.childIdentityFields=a.childIdentityFields,e.children=(t=a.children)&&(d.overrideArray(t,(function(e){e=d.inherit(e);return e.level+=1,e}))||d.inherit(t)),e})));e&&(n.children=e);return t})(n),(s=d.inheritSingle(e)).matrix=t,s):e}})(powerbi=powerbi||{}),(function(fe){var de,e,m,v,he,y,pe;function p(e,t,r,i,n,a,o){var s=v(e),e=(s.metadata=v(e.metadata),s=(function(e,t){if(pe.getBitCount(t.visualCapabilitiesDataViewKinds)<=1)return e;t=t.applicableDataViewKinds;if(0===pe.getBitCount(t))return e;e=he(e);e.categorical&&!pe.hasFlag(t,1)&&(e.categorical=void 0);e.matrix&&!pe.hasFlag(t,2)&&(e.matrix=void 0);e.table&&!pe.hasFlag(t,8)&&(e.table=void 0);e.tree&&!pe.hasFlag(t,16)&&(e.tree=void 0);e.single&&!pe.hasFlag(t,4)&&(e.single=void 0);return e})(s,t),t.visualCapabilitiesDataViewKinds),u=t.visualCapabilitiesRoleMappings,l=t.selectTransforms,c=t.expandCollapseCapabilities,p=t.objectDescriptors,f=t.visualStyle,d={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},h=[];return b(s=(function(e,t,r,i,n,a,o,s,u){u=new de.DataViewObjectEvaluator(u,o);n.length=0,i&&(e.metadata.columns=(function(n,a,o,e){if(!a)return n;for(var s=v(n),u={},t=0,r=n.length;t<r;t++)!(function(e){var t=n[e],r=a[t.index],i=(u[t.index]=!0,t);if(r)i=s[e]=g(t,r);else if(!_.some(n,(function(e){return e.formatSource&&e.formatSource.formatString===t})))return;o.push({from:t,to:i})})(t);if(e)for(var i,t=0;t<a.length;t++)u[t]||(i=a[t],f={displayName:i.displayName,index:t,identityExprs:i.identityExprs},f=x(i,f),s.push(f));for(var l={},c=0,p=s;c<p.length;c++){var f;if((f=p[c]).roles&&!f.groupName&&f.index)for(var d in f.rolesIndex||(f.rolesIndex={}),f.roles)void 0===l[d]&&(l[d]=0),f.roles[d]&&(f.rolesIndex[d]=[l[d]++])}return s})(e.metadata.columns,i,n,s),(function(e,t,r){if(debug.assertValue(e,"dataView"),debug.assertAnyValue(r,"selects"),r)for(var i,n=e.metadata.columns,a=0,o=r.length;a<o;a++){var s,u,l=r[a],c=l&&l.aggregateSources;c&&(i=i||de.createStaticEvalContext(e,r),l=(function(e,t,r){for(var i=0,n=e;i<n.length;i++){var a=n[i];if(a.index===t&&void 0===a.groupName)return a}r=g({displayName:r.displayName},r);return e.push(r),r})(n,a,l),s=l.aggregates={},l=fe.ValueType.fromDescriptor(l.type),void 0!==(u=S(t,i,r,l,c.min))&&(s.min=u),void 0!==(u=S(t,i,r,l,c.max)))&&(s.max=u)}})(e,u,i));e.categorical&&pe.hasFlag(t,1)&&(e.categorical=(function(e,i){var t=v(e);function r(e){var t=(function(e,t){for(var r={},i=e.source,n=e.source.rootSource,a=0,o=t;a<o.length;a++){var s=o[a];s.from===i&&(r.source=s.to),s.from===n&&(r.rootSource=s.to)}return r})(e,i),r=t.source,t=t.rootSource;if(r)return(e=v(e)).source=r,t&&(e.source.rootSource=t),e}var n=fe.Prototype.overrideArray(e.categories,r);n&&(t.categories=n);e.values&&(n=fe.Prototype.overrideArray(e.values,r)||he(e.values),(t.values=n).source)&&(e=E(n.source,i))&&(n.source=e);return de.DataViewCategoricalEvalGrouped.apply(t),t})(e.categorical,n),e=(function(e,t){var r,i=(function(e,u){if(e&&!_.isEmpty(u)){var l=e.categories;if(!_.isEmpty(l)){e=e.values;if(!_.isEmpty(e)&&!e.grouped().some((function(e){return!!e.identity})))for(var t=function(e,t){var r=u[e].categorical;if(!r)return"continue";for(var i=0,n=l;i<n.length;i++){var a=n[i],o=a.source.roles;if(V(o,r.values)){var s=r.categories;if(function(e,t){if(e&&t&&t.bind)return e[t.bind.to]}(o,s)||D(o,s))return{value:{type:2,selfCrossJoinCategory:a}};if(1===l.length)return{value:{type:1}}}}},r=0,i=u.length;r<i;r++){var n=t(r);if("object"==typeof n)return n.value}}}})(e.categorical,t);if(i)switch(i.type){case 1:r=de.DataViewPivotCategorical.apply(e);break;case 2:i.selfCrossJoinCategory,r=de.DataViewSelfCrossJoin.apply(e,i.selfCrossJoinCategory)}return r||e})(e,r));e.matrix&&pe.hasFlag(t,2)&&(e.matrix=(function(e,t,r){function n(e){return E(e,t)}e=v(e);function i(e){var t=null,r=fe.Prototype.overrideArray(e.levels,(function(e){var t,r=null,i=fe.Prototype.overrideArray(e.sources,n);return i&&(r=w(r,e,(function(e){return e.sources=i}))),r=e.valueSources&&(e.valueSources[0],t=fe.Prototype.overrideArray(e.valueSources[0],n))?w(r,e,(function(e){return e.valueSources={0:t}})):r}));return t=r?w(t,e,(function(e){return e.levels=r})):t}var a=i(e.rows);a&&(e.rows=a,r.rowHierarchyRewritten=!0);a=i(e.columns);a&&(e.columns=a,r.columnHierarchyRewritten=!0);a=fe.Prototype.overrideArray(e.valueSources,n);a&&(e.valueSources=a);return e})(e.matrix,n,a));e.table&&pe.hasFlag(t,8)&&(e.table=(function(e,t){var r=v(e),e=fe.Prototype.overrideArray(e.columns,(function(e){return E(e,t)}));e&&(r.columns=e);return r})(e.table,n));e.single&&pe.hasFlag(t,4)&&(e.single=(function(e,t){t=E(e.column,t);t&&((e=he(e)).column=t);return e})(e.single,n));return e})(s,e,u,l,h,d,f,t.visualCapabilitiesKeepAllMetadataColumns,r),t.visualCapabilitiesDataViewKinds,p,t.transforms.objects,l,f,r,i,o),s=C(s=(function(e,t,r,i,n,a){var o=t.projectionOrdering,s=t.applicableRoleMappings,e=he(e);(function(e,t,r){if(t){for(var i=new Array(r.length),n=0,a=e;n<a.length;n++)if(void 0!==(l=a[n]).index&&void 0!==l.roles&&null==l.groupName)for(var o in(i[l.index]=l).rolesIndex=l.rolesIndex||{},l.roles)l.roles[o]&&(l.rolesIndex[o]=[]);for(o in t)for(var s=t[o],u=0;u<s.length;u++){var l,c=s[u];(l=i[c])&&l.rolesIndex[o].push(u)}}})(e.metadata.columns,o,r),e.table&&pe.hasFlag(t.applicableDataViewKinds,8)&&(function(e,t,r){var n,i;t&&(n=(function(e,t){var r=Object.keys(e);if(1===r.length){r=r[0],t=_.map(t,(function(e){return e.from.index})),e=e[r];var i=t,n=e;if(!y.sequenceEqual(i,n,(function(e,t){return e===t}))){for(var a=[],o=0,s=n.length;o<s;++o){var u=n[o];a[o]=i.indexOf(u)}return a}}})(t,r))&&(i=function(e){for(var t=n.length,r=new Array(t),i=0;i<t;i++)r[i]=e[n[i]];return r},(e=he(e)).columns=i(e.columns),_.isEmpty(e.rows)||(e.rows=fe.Prototype.overrideArray(e.rows,(function(e){var t=i(e);return e.objects&&(t.objects=i(e.objects)),t}))),e.totals)&&(t=i(e.totals),e.totals.objects&&(t.objects=i(e.totals.objects)),e.totals=t)})(e.table,o,r);e.matrix&&pe.hasFlag(t.applicableDataViewKinds,2)&&((r=_.filter(s,(function(e){return!!e.matrix}))).length,r.length,e.matrix=de.DataViewMatrixProjectionOrder.apply(e.matrix,r[0].matrix,o,i,a),(function(e,t){if(e&&!_.isEmpty(t)){var r=e.rows.levels;if(!(r.length<1)){e=e.rows.root.children;if(e&&0!==e.length)for(var i=r[0].sources[0].roles,n=0,a=t.length;n<a;n++){var o=t[n].matrix;if(o&&(!D(i,o.rows)&&D(i,o.columns)))return 1}}}})(e.matrix,s))&&de.DataViewPivotMatrix.apply(e.matrix,i);return e=de.DataViewCategoricalProjectionOrder.apply(e,s,t.dataRoles,o,n)})(s,t,h,d,n,r),e,u,l,c,t.transforms.expansionStates),s=de.DataViewHierarchyLevelBackfill.apply(s,m.quarterPrefix),(i=(f=s).table)&&1===i.columns.length&&i.columns[0].isMeasure&&1===i.rows.length&&1===i.rows[0].length&&(o=i.columns[0],i=i.rows[0],o={column:o,value:i[0]},f.single=o,i.objects)&&(f.single.objects=i.objects[0]),s=f,a||(s=de.DataViewConcatenateCategoricalColumns.detectAndApply(s,p,t.applicableRoleMappings,t.projectionActiveItems,t.drillCapabilities)),de.DataViewNormalizeValues.apply({dataview:s,dataViewMappings:u,dataRoles:t.dataRoles}),s.metadata&&null!=(h=null==t?void 0:t.transforms)&&h.isDataFilterApplied&&(s.metadata.isDataFilterApplied=!0),null!=(n=null==(d=null==t?void 0:t.transforms)?void 0:d.roles)&&n.drillableRoles&&s.metadata&&(s.metadata.dataRoles||(s.metadata.dataRoles={}),s.metadata.dataRoles.drillableRoles=null==(e=null==(r=null==t?void 0:t.transforms)?void 0:r.roles)?void 0:e.drillableRoles),s}function g(e,t){return x(t,v(e))}function x(e,t){var r;return e.roles&&(t.roles=e.roles),e.type&&(t.type=e.type),t.format=(r=t,e.format||r.format),e.displayName&&(t.displayName=e.displayName),e.queryName&&(t.queryName=e.queryName),e.expr&&(t.expr=e.expr),e.kpi&&e.kpi.graphic&&(t.kpi=e.kpi),e.sort&&(t.sort=e.sort),null!=e.sortOrder&&(t.sortOrder=e.sortOrder),e.discourageAggregationAcrossGroups&&(t.discourageAggregationAcrossGroups=e.discourageAggregationAcrossGroups),e.parameter&&(t.parameter=e.parameter),e.relatedObjects&&(t.relatedObjects=e.relatedObjects),t}function S(e,t,r,i,n){r=r[n.index];if(r)return e.evaluateValue(t,r.expr,i)}function E(t,e){e=_.find(e,(function(e){return e.from===t}));if(e)return e.to}function w(e,t,r){return e=e||v(t),r&&r(e),e}function me(e,r,i){return _.chain(e).map((function(t){return __assign(__assign({},t),{properties:_.pickBy(t.properties,(function(e){return r(t.name,e,i)}))})})).filter((function(e){return!_.isEmpty(Object.keys(e.properties))})).value()}function b(e,t,r,i,n,a,o,s,u){if(r){var l=(function(e,t,r){var i=de.DataViewObjectDescriptors.findFormatString(t);if(i&&e.metadata&&!_.isEmpty(e.metadata.columns)){for(var n,a=!1,o=0,s=e.metadata.columns;o<s.length;o++){var u=s[o],l=u.queryName;u.formatSource&&(a||(n=r?he(r):{},a=!0),u={metadata:u.queryName,data:[de.DataViewWildcard.create()],highlightMatching:1},l=de.SQExprBuilder.selectRef(l,0),de.DataViewObjectDefinitions.setValue(n,i,u,l))}return n}})(e,r,i),l=de.DataViewObjectEvaluationUtils.groupObjectsBySelector(i=l?l:i),i=(de.DataViewObjectEvaluationUtils.addImplicitObjects(l,r,e.metadata.columns,n),l.metadataOnce),c=l.data;if(i)for(var p=e,f=n,d=r,h=c,m=a,v=o,q=s,O=new de.DataViewObjectEvaluator(v,m),y=0,U=i;y<U.length;y++){var g=U[y],j=g.selector&&g.selector.id,k=g.objects,B=(_.isEmpty(k),de.createStaticEvalContext(p,f)),L=void 0,x=(q&&(L={warnings:q,selector:g.selector,targetExpr:de.Selector.getSelectorTargetExpr(g.selector,f)}),de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(O,B,d,k,L));if(x){var S,g=p.metadata.objects;for(S in g=g||(p.metadata.objects={}),fe.DataViewObjects.mergeObjects(g,x,j),x){var E,H=x[S],G=d[S];for(E in H){var W=G.properties[E],w=W.rule;w&&(w=(function(e,t,r,i,n){var a=t.output;if(a){a=(function(e){return[{data:[de.DataViewRoleWildcard.fromRoles(e)]}]})(a.selector);if(n.fillRule)return (function(e,t,r,i,n){e=(function(e,t,r){var i=e.metadata.columns;switch(r){case 1:return _.find(i,(function(e){return e.roles&&e.roles[t]}));case 0:return _.find(i,(function(e){return e.queryName===t&&void 0===e.groupName}))}})(e,t.inputRole,1);if(e){n=fe.visuals.createColorAllocatorFactory().fromFillRule(n,e);if(n){for(var a=new de.ColorRuleEvaluation(t.inputRole,n),o={},s=(o[t.output.property]={solid:{color:a}},[]),u=0,l=r.length;u<l;u++)s.push({selector:r[u],rules:[a],objects:[{name:i,properties:o}]});return s}}})(e,t,a,r,i)}})(p,w,S,H[E],W.type),_.isEmpty(w)||h.push.apply(h,w||[]))}}}}v=l.metadata;if(!_.isEmpty(v))for(var K=e,z=n,Y=r,m=v,i=a,l=o,J=s,Z=new de.DataViewObjectEvaluator(l,i),b=0,$=m;b<$.length;b++)for(var X=$[b],C=X.selector,ee=X.objects,te=K.metadata.columns,re=C.metadata,ie=de.createStaticEvalContext(K,z),D=0,ne=te.length;D<ne;D++){var V,R=te[D];R.queryName===re&&(V=void 0,J&&(V={warnings:J,selector:C,targetExpr:de.Selector.getSelectorTargetExpr(C,z)}),V=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(Z,ie,Y,ee,V))&&(R.objects||(R.objects={}),fe.DataViewObjects.mergeObjects(R.objects,V,C.id))}if(!_.isEmpty(c)){l=e,i=t,e=n,t=r,n=c,r=a,c=u,a=o,u=s;if(r=new de.DataViewObjectEvaluator(a,r),l.categorical&&pe.hasFlag(i,1)){I=u&&{warnings:u};{var T=l.categorical;var ae=e;var F=t;o=n;var oe=c;var M=r;var P=I;var se=a;for(var N=0,ue=o;N<ue.length;N++){var A=ue[N],Q=A.selector,A=(A.rules,A.objects),le=de.Selector.containsWildcard(Q),ce=(Q=(function(a,e){de.Selector.hasRoleWildcard(e)&&(e=ve(e,(function(e){var t=e,e=a;if(e.categories)for(var r=0,i=e.categories;r<i.length;r++){var n=i[r];if(n.source&&ge([n.source],t))return[n.identityFields]}})));return e})(T,Q),de.getDataSelectorComparer(Q,oe));P&&(P.selector=Q,P.targetExpr=de.Selector.getSelectorTargetExpr(Q,ae)),!(function(e,t,r,i,n,a,o,s){if(debug.assertValue(e,"dataViewCategorical"),debug.assertValue(t,"objectDescriptors"),debug.assertValue(r,"selector"),debug.assertValue(i,"containsWildcard"),debug.assertValue(n,"objectDefns"),e.categories&&0!==e.categories.length){var u=(function(e,t,r){e.categories[0];for(var i=e.categories[0].identity,n=[],a=0,o=e.categories;a<o.length;a++){var s=o[a];if(!s.identityFields)return;if(!r.matchesKeys([s.identityFields],1))return;n.push(s)}var u=t.metadata;if(u){var l=e.values;if(l)for(var c=0,p=l.length;c<p;c++){var f=l[c];if(f.source.queryName===u){n=[f];break}}}return{columns:n,identities:i}})(e,r,a);if(u){var l,c=(function(e){return _.some(e.values,(function(e){return!!e.highlights}))})(e),p=u.identities,f=de.createCategoricalEvalContext(e);if(p){for(var d,h,m=0,v=p.length;m<v;m++){var y=p[m];if(i||a.matches([y])){switch(f.setCurrentRowIndex(m),r.highlightMatching){case void 0:case 0:h=!(d=!0);break;case 1:d=!0,h=c;break;case 2:d=!c,h=c;break;default:r.highlightMatching}if(d){f.useHighlights(!1);var g=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(o,f,t,n,s);if(g)for(var x=0,S=u.columns;x<S.length;x++){var E=(D=S[x]).objects;(E=E||(D.objects=new Array(v)))[m]||(E[m]={}),fe.DataViewObjects.mergeObjects(E[m],g,r.id)}l=!0}if(h){f.useHighlights(!0);var w=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(o,f,t,n,s);if(w)for(var b=0,C=u.columns;b<C.length;b++){var D,V=(D=C[b]).highlightObjects;(V=V||(D.highlightObjects=new Array(v)))[m]||(V[m]={}),fe.DataViewObjects.mergeObjects(V[m],w,r.id)}l=!0}if(!i)return}}}}}})(T,F,Q,le,A,ce,M,P),!(function(e,t,r,i,n,a,o,s,u){var l=e.values;if(l&&l.identityFields&&a.matchesKeys([l.identityFields],1)){var c=l.grouped();if(c){for(var p,f=de.createCategoricalEvalContext(e),d=r.metadata,h=me(n,xe,u),m=0,v=c;m<v.length;m++){var y=v[m];if(void 0!==y.name){_.isEmpty(h)||(f.setCurrentColumnGroupName(y.name),(function(e,t,r,i,n,a,o,s){if(debug.assertValue(e,"objectDescriptors"),debug.assertValue(t,"selector"),debug.assertValue(r,"objectDefns"),debug.assertValue(a,"evalContext"),debug.assertValue(o,"valueGrouping"),de.Selector.isWildcardSelector(t))for(var s=(function(e,t,r){if(void 0===(null==t?void 0:t.metadata)&&r.categoricalSecondaryCF)return e;return _.filter(e,(function(e){return e.source.queryName===t.metadata}))})(o.values,t,s),u=0,l=s;u<l.length;u++)for(var c=l[u],p=(c.source.groupName,o.name,c.values.length),f=0;f<p;f++){a.setCurrentRowIndex(f),a.useHighlights(!1);var d,h=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(i,a,e,r,n);h&&((d=(d=c.objects)||(c.objects=new Array(p)))[f]||(d[f]={}),fe.DataViewObjects.mergeObjects(d[f],h,t.id)),null!=c.highlights&&(a.useHighlights(!0),d=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(i,a,e,r,n))&&((h=(h=c.highlightObjects)||(c.highlightObjects=new Array(p)))[f]||(h[f]={}),fe.DataViewObjects.mergeObjects(h[f],d,t.id)),a.resetCurrentRowIndex()}})(t,r,h,o,s,f,y,u));var g=y.values;if(i||a.matches([y.identity])){var x=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(o,f,t,n,s);if(x)if(d)for(var S=0,E=g.length;S<E;S++){var w=g[S],b=w.source;if(b.queryName===d){var b=fe.Prototype.inherit(b),C=b.objects;C=C||(b.objects={}),fe.DataViewObjects.mergeObjects(C,x,r.id),w.source=b,p=!0;break}}else{var D=y.objects;D=D||(y.objects={}),fe.DataViewObjects.mergeObjects(D,x,r.id),_e(l,c),p=!0}if(!i)return}}}}}})(T,F,Q,le,A,ce,M,P,se),!(function(e,t,r,i,n,a,o){var s,u;!_.isEmpty(e.categories)||(s=e.values)&&!_.isEmpty(s.identityFields)||(s=(function(e,t){var r=t.metadata;if(void 0!==r&&e)return _.find(e,(function(e){return e.source.queryName===r}))})(e.values,r))&&(e=de.createCategoricalEvalContext(e),u=de.Selector.isWildcardSelector(r),i=me(i,xe,o),_.isEmpty(i)||u&&(e.setCurrentRowIndex(0),o=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(n,e,t,i,a))&&((u=(u=s.objects)||(s.objects=[]))[0]||(u[0]={}),fe.DataViewObjects.mergeObjects(u[0],o,r.id)))})(T,F,Q,A,M,P,se)}}}var I=l.matrix;I&&pe.hasFlag(i,2)&&(I=(function(l,c,p,e,f,d,h,m){for(var v=l.valueSources,y=v.length,g=de.createMatrixEvalContext(l,d),x=l.rows.levels,S=Se(x),E=Se(l.columns.levels),w=[],b=(w.push.apply(w,S||[]),w.push.apply(w,E||[]),!1),C=he(l),t=function(e){e.selector,e.rules;var t=e.objects,r=(function(i,e){de.Selector.hasRoleWildcard(e)&&(e=ve(e,(function(e){var t,r=i;if(r)return(t=[]).push.apply(t,ye(e,r.rows)||[]),t.push.apply(t,ye(e,r.columns)||[]),t})));return e})(l,e.selector),e=de.getDataSelectorComparer(r,f),i=de.Selector.containsWildcard(r),n=de.Selector.isWildcardSelector(r),a=null==r.metadata&&Ee(S,e),o=d.comboMultiples&&(function(e,t,r,i){if(!_.isEmpty(e)&&i)for(var n=0;n<e.length;n++)if(r.matchesKeys(_.take(t,n+1),n+1)){var a=de.DataViewMatrixUtils.getScopedValueSources(e[n]);if(!_.isEmpty(a)&&_.find(a,(function(e){return e.queryName===i})))return!0}return!1})(x,S,e,r.metadata),s=(1<y||y<=1&&null==r.metadata)&&Ee(E,e),u=null!=r.metadata&&0<y&&_.some(v,(function(e){return e.queryName===r.metadata}))&&e.matchesKeys(w,w.length),e={selector:r,selectorComparer:e,containsWildcard:i,isWildcard:n,canMatchColumnNode:s,canMatchRowNode:a,canMatchIntersection:u,canMatchScopedValue:o},i=void 0,n=void 0;s&&(n=we("Columns",g,c,C.columns,p,t,e,h,m)),((i=u||o||a?we("Rows",g,c,C.rows,p,t,e,h,m):i)||n)&&(b=!0,i&&(C.rows=i),n)&&(C.columns=n)},r=0,i=e;r<i.length;r++){var n=i[r];t(n)}if(b)return C})(I,e,t,n,c,a,r,u))&&(l.matrix=I),(a=l.table)&&pe.hasFlag(i,8)&&(I=(function(e,t,r,i,n,a,o){for(var s=!1,u=0,l=i;u<l.length;u++){var c=l[u],p=c.selector,c=c.objects,f=de.Selector.containsWildcard(p),d=(p=(function(o,e){de.Selector.hasRoleWildcard(e)&&(e=ve(e,(function(e){var t=e,e=o;if(!t)return[];for(var r=[],i=0,n=e.columns;i<n.length;i++){var a=n[i];a.identityExprs&&ge([a],t)&&r.push(__spreadArray([],a.identityExprs||[],!0))}return r})));return e})(e,p),de.getDataSelectorComparer(p,n)),h=de.createTableEvalContext(e,t),m=void 0,f=(_.isEmpty(e.rows)||(m=(function(e,t,r,i,n,a,o,s,u,l,c,p,f){if(s.metadata&&!_.isEmpty(s.data)){var d,h=_.findIndex(r,(function(e){return e.queryName===s.metadata}));if(!(h<0)&&c.matchesKeys([a],1)){if(_.every(r,(function(e){return e.isMeasure}))){a=Ve(e,t,r,i[0],a,o,s,l,c,p,f);a&&((d=he(i))[0]=a)}else{if(_.some(s.data,(function(e){return de.Selector.isWildcard(e)&&2===e.matchingOption})))return;for(var m=r.length,v=0,y=n.length;v<y;v++){var g=n[v];if(u||c.matches([g])){e.setCurrentRow(i[v]);var x,S,g=void 0,g=(f&&(g={warnings:f,selector:s,targetExpr:de.Selector.getSelectorTargetExpr(s,t)}),de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(p,e,o,l,g));if(g&&(x=(d=d||he(i))[v]=he(d[v]),(S=x.objects)||(x.objects=S=new Array(m)),S[h]||(S[h]={}),fe.DataViewObjects.mergeObjects(S[h],g,s.id)),!u)break}}}return d}}})(h,t,e.columns,e.rows,e.identity,e.identityFields,r,p,f,c,d,a,o)),void 0);e.totals&&(f=Ve(h,t,e.columns,e.totals,e.identityFields,r,p,c,d,a,o)),(m||f)&&(s=!0,e=he(e),m&&(e.rows=m),f)&&(e.totals=f)}if(s)return e})(a,e,t,n,c,r,u))&&(l.table=I),(I=l.single)&&a&&pe.hasFlag(i,4)&&(I=(function(e,t,r,i,n,a,o){for(var s,u=de.createStaticEvalContext(e,t),l=0,c=i;l<c.length;l++){var p=c[l],f=p.selector,p=p.objects,d=de.getDataSelectorComparer(f,n);f.metadata===e.single.column.queryName&&d.matches([])&&(d=void 0,o&&(d={warnings:o,selector:f,targetExpr:de.Selector.getSelectorTargetExpr(f,t)}),p=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(a,u,r,p,d))&&((s=s||he(e.single)).objects||(s.objects={}),fe.DataViewObjects.mergeObjects(s.objects,p,f.id))}return s})(l,e,t,n,c,r,u))&&(l.single=I),l.metadata.objectsRules=r.getObjectsRules()}}}function ve(e,t){for(var r={data:[],id:e.id,metadata:e.metadata},i=0,n=e.data;i<n.length;i++){var a=n[i];if(de.Selector.isRoleWildcard(a)){var o=t(a.roles);if(!_.isEmpty(o))for(var s=0,u=o;s<u.length;s++){var l=u[s];r.data.push(de.DataViewScopeWildcard.fromExprs(l))}}else r.data.push(a)}return r}function ye(e,t){if(!e||!t)return[];for(var r=[],i=0,n=t.levels;i<n.length;i++){for(var a=[],o=0,s=n[i].sources;o<s.length;o++){var u=s[o];u.identityExprs&&ge([u],e)&&a.push.apply(a,u.identityExprs||[])}_.isEmpty(a)||r.push(a)}return r}function ge(e,t){for(var r=0,i=e;r<i.length;r++){var n=i[r].roles;if(!n||!_.some(t,(function(e){return n[e]})))return}return 1}function xe(e,t,r){return!!(t instanceof de.SQExpr&&de.SQExpr.isSelectRef(t)&&0===t.attributeKind)||(i=e,n=t,r.measureDrivenDataLabels&&"labels"===i&&null!=n)||fe.StructuralObjectDefinition.isErrorRangeDefinition(t)||(i=e,n=null==(n=null==(n=(n=t).solid)?void 0:n.color)?void 0:n.kind,r.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(i)&&(24===n||42===n||4===n||3===n));var i,n}function Se(e){if(_.isEmpty(e))return[];for(var t=[],r=0,i=e;r<i.length;r++){for(var n=[],a=0,o=i[r].sources;a<o.length;a++){var s=o[a];s.identityExprs&&n.push.apply(n,s.identityExprs||[])}_.isEmpty(n)||t.push(n)}return t}function Ee(e,t){for(var r=[],i=e.length,n=0;n<i;n++)if(r.push(e[n]),t.matchesKeys(r,i))return!0;return!1}function we(e,t,r,i,n,a,o,s,u){var l;return i&&(l=i.root)&&(e=be(e,t,r,[l],n,a,o,s,u))?((t=he(i)).root=e,t):void 0}function be(e,q,O,t,U,j,r,k,B){var i=_.last(t);if(!de.DataViewMatrixUtils.isLeafNode(i)){var n,a,o,L=e,s=q,H=O,u=t,G=U,W=j,l=r,K=k,c=B,p=l.selector,f=l.selectorComparer,d=s.getDataView(),i=(u[0]===d.rows.root?n=d.rows:u[0]===d.columns.root&&(n=d.columns),_.last(u)),h=i.children,m=!1,v=!1,z=i.childIdentityFields,y=[],g=h[0].level,x=1<d.valueSources.length&&n===d.columns,Y=x&&g===n.levels.length-1;_.isEmpty(n.levels)||(g=n.levels[g],o=g.sources,Y?(y=s.getValueSourcesQueryNames(),P=_.compact(_.map(u,(function(e){return e.identity}))),a=void 0,i.isSubtotal&&1<u.length&&(a=u[u.length-2].childIdentityFields),m=null!=l.selector.metadata&&_.some(y,(function(e){return e===p.metadata}))&&f.matches(P,a),v=!1):_.isEmpty(z)||(y=_.map(o,(function(e){return e.queryName})),P=_.map(u,(function(e){return e.childIdentityFields})),a=n.levels.length-(x?1:0),m=null==p.metadata&&f.matchesKeys(P,a),o=de.DataViewMatrixUtils.getScopedValueSources(g),v=o&&null!=p.metadata&&null!=_.find(o,(function(e){return e.queryName===p.metadata}))));for(var J=!1,Z=De(i),S=0,$=h.length;S<$;S++){var E=!1,w=h[S],b=De(w),C=u.concat(b),X=!1;if(m||v){n===d.rows?m&&s.setAsRowNode(C):n===d.columns&&s.setAsColumnNode(C);for(var ee=[],D=0,te=C;D<te.length;D++){var re=te[D];re.identity&&ee.push(re.identity)}var V=void 0,R=(_.isEmpty(y)||(V=y[w.levelSourceIndex||0]),void 0);w.isSubtotal&&(Y?1<u.length&&(R=u[u.length-2].childIdentityFields):R=z),(null==p.metadata||p.metadata===V&&!l.isWildcard)&&f.matches(ee,R)&&(X=!0,w=void 0,c&&(w={warnings:c,selector:p,targetExpr:de.Selector.getSelectorTargetExpr(p,H)}),V=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(K,s,G,W,w))&&(E=!0,b.objects||(b.objects={}),fe.DataViewObjects.mergeObjects(b.objects,V,p.id))}if(X&&!l.isWildcard||be(L,s,H,C,G,W,l,K,c)&&(E=!0),E&&(J=!0,Z.children[S]=b,!l.containsWildcard))break}return J?Z:void 0}if("Rows"===e&&(r.canMatchScopedValue||r.canMatchIntersection)){var T=q,ie=O,F=t,ne=U,ae=j,M=r,oe=k,se=B,x=_.last(F),P=he(x),N=M.canMatchScopedValue,A=M.selector,Q=N?de.DataViewMatrixUtils.getNodeScopedValues(x):x.values,ue=N?T.getScopedValueSourcesQueryNames(x.level)||[]:T.getValueSourcesQueryNames(),le=(N?ue:T.columnLeavesPath).length;if(!_.isEmpty(Q)){Q=he(Q);for(var ce=!1,pe=function(i){var n=Q[i];if(!n)return"continue";var a,o=N?void 0:T.columnLeavesPath[i],e=ue[n.valueSourceIndex||0];if(!(function(e,t,r,i,n,a){if(t!==e.metadata)return;for(var o=[],t=[],s=0,u=r;s<u.length;s++)(l=u[s]).identity&&o.push(l.identity);if(!n){for(var l,c=0,p=i;c<p.length;c++)(l=p[c]).identity&&o.push(l.identity);_.last(i).isSubtotal&&t.push.apply(t,Ce(i)||[])}_.last(r).isSubtotal&&t.push.apply(t,Ce(r)||[]);_.isEmpty(t)&&(t=void 0);return a.matches(o,t)})(M.selector,e,F,o,N,M.selectorComparer))return"continue";se&&(a={warnings:se,selector:A,targetExpr:de.Selector.getSelectorTargetExpr(A,ie)});function t(e){N?T.setAsScopedValue(n,F,i,e):T.setAsIntersection(n,F,o,i,e);var t,r=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(oe,T,ne,ae,a);r&&(t=he(n),e&&!t.highlightObjects?t.highlightObjects={}:e||t.objects||(t.objects={}),fe.DataViewObjects.mergeObjects(e?t.highlightObjects:t.objects,r,A.id),ce=!0,n=Q[i]=t)}var r=void 0!==n.highlight;switch(A.highlightMatching){case void 0:case 0:t(!1);break;case 1:t(!1),r&&t(!0);break;case 2:t(r);break;default:A.highlightMatching}},I=0;I<le;I++)pe(I);if(ce)return N?P.nodeValues={0:Q}:P.values=Q,P}}}function Ce(e){e=_.findLast(e,(function(e){return null!=e.childIdentityFields}));return e?e.childIdentityFields:[]}function De(e){var t;return Object.getPrototypeOf(e)!==Object.prototype?e:(t=he(e),e.children&&(t.children=he(e.children)),t)}function Ve(e,t,r,i,n,a,o,s,u,l,c){n=_.isEmpty(n)?void 0:n;if(o.metadata&&u.matches([],n)){var p,f,u=_.findIndex(r,(function(e){return e.queryName===o.metadata}));if(!(u<0))return n=r.length,e.setCurrentRow(i),c&&(p={warnings:c,selector:o,targetExpr:de.Selector.getSelectorTargetExpr(o,t)}),(r=de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(l,e,a,s,p))&&((c=(f=he(i)).objects)||(f.objects=c=new Array(n)),c[u]||(c[u]={}),fe.DataViewObjects.mergeObjects(c[u],r)),f}}function C(e,t,r,i,n,a){var o,s;return _.isEmpty(r)||!n||(o=n&&n.roles,_.isEmpty(o))||!0===((s=n.addDataViewFlags).propertyIdentifier?fe.DataViewObjects.getValue(e.metadata.objects,s.propertyIdentifier,s.defaultValue):s.defaultValue)&&(r=(s=_.find(r,(function(e){return e.matrix})))&&s.matrix)&&e.matrix&&pe.hasFlag(t,2)&&(s=(function(e,t,r,i,n,a,o){t=fe.DataViewMapping.RoleNamesCollector.fromMatrixRows(t.rows),n=n&&de.ExpansionState.findExpansionState(n,t),t=(function(e,r,t,i,n,a,o){if(!_.some(r,(function(e){return!_.includes(i,e)}))){for(var s=0,u=0,l=t;u<l.length;u++)!(function(t){_.some(r,(function(e){return t.roles[e]}))&&s++})(l[u]);if(0<s){(e=he(e)).levels=he(e.levels),e.levels;for(var c=0;c<e.levels.length;c++)c<s-1&&(e.levels[c]=he(e.levels[c]),e.levels[c].canBeExpanded=!0);t=(function n(a,o,s,u,l){if(a.isSubtotal||a.level===l-1)return;var c=!1;{var e,t;void 0!==a.level&&(a=he(a),u?(e=Number(!(!s||!s.isToggled)),t=u[a.level],t=Number(!(!t||!t.isCollapsed)),a.isCollapsed=!!(t^e)):a.isCollapsed=_.isEmpty(a.children)||1===a.children.length&&!!a.children[0].isSubtotal,c=!0)}if(!_.isEmpty(a.children))for(var r=function(e){var t=a.children[e],r=t.identity,i=r&&de.ScopeIdentityExtractor.getValues(r.expr),r=i&&_.find(s&&s.children,(function(e){return jsCommon.ArrayExtensions.sequenceEqual(e.identityValues,i,de.SQExpr.equals)})),t=n(t,o,r,u,l);t&&((a=he(a)).children=he(a.children),a.children[e]=t,c=!0)},i=0;i<a.children.length;i++)r(i);if(c)return a})(e.root,e.levels,n&&n.root,n&&n.levels,s);return t&&(e.root=t),o&&n&&f(e,a,n),e}}})(e.rows,t,r,i,n,a,o);if(t)return(e=he(e)).rows=t,e})(e.matrix,r,i,o,a,e.metadata.columns,n.addDataViewExpansionState))&&((e=he(e)).matrix=s),e}function f(e,t,r){var i=r.levels;if(!_.isEmpty(i)){for(var n={},a=0,o=t;a<o.length;a++){var s=o[a];n[s.queryName]=s}for(var u=new Array(i.length),l=e.levels,c=0,p=0,f=i;p<f.length;p++){var d=f[p],h=(v=m=h=void 0,d.queryRefs);if(!_.isEmpty(h)&&!_.isEmpty(l)&&l[c]){l[c].sources;for(var m=0,v=h;m<v.length;m++)v[m]}u[c++]={isCollapsed:d.isCollapsed,isPinned:d.isPinned,isLocked:d.isLocked,AIInformation:_.cloneDeep(d.AIInformation),sources:_.map(h,(function(e){return n[e]}))}}t=(function e(t,r,i,n){if(!t)return;var a=t.identityValues;var o;_.isEmpty(a)||(o=_.map(a,n));var s;if(!_.isEmpty(t.children))for(var a=t.children,u=(s=new Array(a.length),0),l=0,c=a;l<c.length;l++){var p=c[l],p=e(p,r,void 0===i?0:i+1,n);s[u++]=p}return{isExpanded:void 0===i?void 0:!!r[i].isCollapsed==!!t.isToggled,values:o,children:s}})(r.root,u,void 0,fe.data.SQExprUtils.getPrimitiveValuesFromSQConstantExpr);e.expansionStates=[{levels:u,root:t}]}}function _e(s,e){s.grouped=e?function(){return e}:function(){for(var e,t=s,r=[],i=0,n=t.length;i<n;i++){var a,o=t[i];e&&e.identity===o.identity||(e={values:[]},o.identity&&(e.identity=o.identity,void 0!==(a=o.source).groupName?e.name=a.groupName:a.displayName&&(e.name=a.displayName)),r.push(e)),e.values.push(o)}return r}}function D(e,t){if(e&&t&&t.for)return e[t.for.in]}function V(e,t){if(e&&t&&t.group)return e[t.group.by]}de=fe.data||(fe.data={}),v=fe.Prototype.inherit,he=fe.Prototype.inheritSingle,y=jsCommon.ArrayExtensions,pe=jsCommon.EnumExtensions,e=de.DataViewTransform||(de.DataViewTransform={}),m={quarterPrefix:"Qtr {0}"},e.setLocalizationOptions=function(e){m=e},e.apply=function(e){var t,r,i,n,a,o=e.prototype,s=e.objectDescriptors,u=e.transforms,l=e.visualStyle,c=e.withWarnings?[]:void 0;return o?u?(t=de.DataViewTransformContext.create(o.metadata,s,e.dataViewMappings,e.dataRoles,e.drillCapabilities,e.expandCollapseCapabilties,u,l,e.keepAllMetadataColumnsCapability,e.featureSwitches),r=o,a=(i=t).transforms,n=i.applicableRoleMappings,r=de.DataViewPivotCategoricalToPrimaryGroups.unpivotResult(r,i.selectTransforms,i.roleKindByQueryRef,i.queryProjectionsByRole,n),r=de.DataViewUpgradeFromCY16SU09Map.detectAndApply(r,a,n,i.drillCapabilities&&i.drillCapabilities.roles),r=de.DataViewPivotMatrixToPrimaryGroups.pivot(r,i.selectTransforms,i.drillCapabilities&&i.drillCapabilities.roles,n),a=(function(e,t,r,i,n,a){var o=[],s=t.transforms.splits;if(_.isEmpty(s))o.push(p(e,t,r,i,null,n,a));else for(var u=0,l=s;u<l.length;u++){var c=l[u],c=p(e,t,r,i,c.selects,null,a);o.push(c)}return o})(r,t,e.featureSwitches,c,e.bypassConcatenation,e.orderIndependentSelectorMatching),{dataViews:a=de.DataViewRegression.run({visualDataViews:a,dataRoles:t.dataRoles,objectDescriptors:s,objectDefinitions:u.objects,transformSelects:u.selects,applicableDataViewMappings:t.applicableRoleMappings,roleKindByQueryRef:t.roleKindByQueryRef,queryProjectionsByRole:t.queryProjectionsByRole,visualStyle:t.visualStyle,featureSwitches:e.featureSwitches}),warnings:c}):{dataViews:[o]}:{dataViews:(function(e,t,r,i){{var n;if(t&&t.objects)return b(n={metadata:{columns:[]}},0,e,t.objects,t.selects,r,i),[n]}return[]})(s,u,l,e.featureSwitches)}},e.transformObjects=b,e.evaluateMetadataOnceDataViewObjectDefinitions=function(e,t,r,i,n,a,o){var s,e=de.DataViewObjectEvaluationUtils.groupObjectsBySelector(e);if(_.isEmpty(e.metadataOnce))return{dataViewObjects:void 0};for(var u=new de.DataViewObjectEvaluator(i,r),l=a&&o?de.createStaticEvalContext(a,o):de.createEmptyEvalContext(),c=n?{warnings:[]}:void 0,p=0,f=e.metadataOnce;p<f.length;p++){var d=f[p],h=d.selector&&d.selector.id,d=(c&&(c.selector=d.selector),de.DataViewObjectEvaluationUtils.evaluateDataViewObjects(u,l,t,d.objects,c));d&&fe.DataViewObjects.mergeObjects(s=s||{},d,h)}return c&&!_.isEmpty(c.warnings)?{dataViewObjects:s,warnings:c.warnings}:{dataViewObjects:s}},e.applyExpansionStates=C,e.addExpansionStateToDataViewHierarchy=f,e.createValueColumns=function(e,t,r){return _e(e=void 0===e?[]:e),t&&(e.identityFields=t),r&&(e.source=r),e},e.setGrouped=_e})(powerbi=powerbi||{}),(function(e){var n;function a(e,t){if(!_.isEmpty(e)){switch(t){case 1:var r=_.findIndex(e,(function(e){return e&&!e.isSubtotal&&e.identity})),i=e[r],n=e[r+1];break;case 2:r=_.findLastIndex(e,(function(e){return e&&!e.isSubtotal&&e.identity}));i=e[r],n=e[r-1]}return i&&i.restartKind===t?i:n&&n.restartKind===t?n:void 0}}function o(e){return{restartValues:e.restartValues,identityValues:n.ScopeIdentityExtractor.getValues(e.identity.expr),windowKind:(function(e){switch(e){case 1:return 2;case 2:return 1}})(e.restartKind)}}((n=e.data||(e.data={})).WindowExpansionStateBuilder||(n.WindowExpansionStateBuilder={})).fromDataview=function(e){if(e&&e.matrix&&e.matrix.rows&&e.matrix.rows.root&&!_.isEmpty(e.matrix.rows.levels))return{levels:_.map(e.matrix.rows.levels,(function(e){return{identityKeys:e.sources[0].identityExprs}})),root:(function t(e){var r=[];var i=a(e.children,1);i&&r.push(o(i));i=a(e.children,2);i&&r.push(o(i));i=_.filter(e.children,(function(e){return _.some(e.children,(function(e){return e.identity&&!e.isSubtotal}))}));return{identityValues:e.identity&&e.identity.expr&&n.ScopeIdentityExtractor.getValues(e.identity.expr),children:_.map(i,(function(e){return t(e)})),windowValues:r}})(e.matrix.rows.root)}}})(powerbi=powerbi||{}),(function(e){(e=e.data||(e.data={})).createDisplayNameGetter=function(t){return function(e){return e.get(t)}},e.getDisplayName=function(e,t){return"function"==typeof e?e(t):"string"==typeof e?e:void 0}})(powerbi=powerbi||{}),(function(e){var t;e=e.data||(e.data={}),(t=e.InteractiveQueryCachingSettings||(e.InteractiveQueryCachingSettings={}))[t.Default=0]="Default",t[t.BypassCache=1]="BypassCache",(t=e.CacheOptions||(e.CacheOptions={}))[t.None=0]="None",t[t.AllowCache=1]="AllowCache",t[t.AllowQuery=2]="AllowQuery",t[t.CacheResult=4]="CacheResult",t[t.PreventRefresh=8]="PreventRefresh"})(powerbi=powerbi||{}),(function(e){var o,r,i,a;function t(){}function n(e){this.schema=e}(o=e.data||(e.data={})).isFilterComparisonPattern=function(e){return void 0!==e.arg},(o.SQFilterBuilder||(o.SQFilterBuilder={})).fromFilter=function(e){var t={condition:r.visit(e,i.instance)};return _.isEmpty(e.target)||(t.target=_.map(e.target,(function(e){return o.SQExprBuilder.fieldExpr(e)}))),t},t.prototype.visitIn=function(e){return o.SQExprBuilder.inValues(_.map(e.args,(function(e){return o.SQExprBuilder.fieldExpr(e)})),_.map(e.values,(function(e){return _.map(e,(function(e){return o.SQExprBuilder.typedConstant(e.value,e.type)}))})))},t.prototype.visitBetween=function(e){var t,r;if(e&&e.lower&&e.upper)return t=o.SQExprBuilder.dateSpan(e.lower.unit,o.SQExprBuilder.dateTime(e.lower.value)),r=o.SQExprBuilder.dateSpan(e.upper.unit,o.SQExprBuilder.dateTime(e.upper.value)),o.SQExprBuilder.between(o.SQExprBuilder.fieldExpr(e.arg),t,r)},t.prototype.visitRelativeDateRange=function(e){return o.RelativeDateFilterPattern.buildFilterCondition({field:o.SQExprBuilder.fieldExpr(e.arg),options:e.options})},t.prototype.visitComposite=function(e){return null},t.prototype.visitTopN=function(e){return null},t.prototype.visitComplex=function(e){},t.prototype.visitAdvanced=function(e){},t.prototype.visitCompare=function(e){},t.prototype.visitHierarchical=function(e){},t.instance=new t,i=t,(o.SQFilterConverter||(o.SQFilterConverter={})).asFilterPattern=function(e,t){if(e){var r,i,n=e.where();if(n)return r=new a(t),i=e.from(),n.map((function(e){var t=r.tryMatchPattern(e,i);if(t)return t={condition:t},_.isEmpty(e.target)||(t.target=_.map(e.target,(function(e){return o.SQExprConverter.asFieldPattern(e)}))),t}))}},n.prototype.tryMatchPattern=function(e,t){var r;return(r=this.matchTopN(e,t))||(r=e&&e.condition)&&(this.tryMatchExpr(r,2)||this.tryMatchComplex(e,t))||void 0},n.prototype.tryMatchExpr=function(e,t){var r;return(r=(r=(r=this.matchBasicFilter(e))||((r=(r=this.matchRelativeRange(e,o.RelativeFilterType.Date))||((r=this.matchRelativeRange(e,o.RelativeFilterType.Time))||this.matchDateRange(e)))||this.matchAdvanced(e)))||this.matchCompareOperator(e))||(1!==t&&(r=this.tryMatchHierarchical(e))?r:(r=this.matchComposite(e,t))||void 0)},n.prototype.tryMatchComplex=function(e,t){e=o.PassthroughFilterPattern.extractParametersFromFilter(e,t);if(e)return{complex:{args:_.map(e.fieldsBeingFiltered,(function(e){return o.SQExprConverter.asFieldPattern(e)}))}}},n.prototype.matchBasicFilter=function(e){var t=!1;if(o.SQExpr.isNot(e)&&(t=!0,e=e.arg),o.SQExpr.isIn(e)&&!e.table&&e.values)return{in:{args:_.map(e.args,(function(e){return o.SQExprConverter.asFieldPattern(e)})),values:_.map(e.values,(function(e){return _.map(e,(function(e,t){return{value:e.value,type:e.type}}))})),not:t}}},n.prototype.matchDateRange=function(e){return o.SQExpr.isBetween(e)&&o.SQExpr.isDateSpan(e.lower)&&o.SQExpr.isDateSpan(e.upper)?{between:{arg:o.SQExprConverter.asFieldPattern(e.arg),lower:{value:e.lower.arg.value,unit:e.lower.unit},upper:{value:e.upper.arg.value,unit:e.upper.unit}}}:void 0},n.prototype.matchTopN=function(e,t){if(e&&t){e=o.TopNFilterPattern.extractParametersFromFilter(e,t);if(e)return{topN:{fieldBeingFiltered:o.SQExprConverter.asFieldPattern(e.fieldBeingFiltered),isTop:e.isTop,itemCount:e.itemCount,orderByField:o.SQExprConverter.asFieldPattern(e.orderByField)}}}},n.prototype.matchRelativeRange=function(e,t){e=o.RelativeDateFilterPattern.extractParametersFromCondition(e,t);if(e)return{relativeDateRange:{arg:o.SQExprConverter.asFieldPattern(e.field),options:e.options}}},n.prototype.matchCompareOperator=function(e){var t=e,r=!1;if(o.SQExpr.isNot(e)&&(t=e.arg,r=!0),o.SQExpr.isCompare(t)||o.SQExpr.isContains(t)||o.SQExpr.isStartsWith(t)){e=this.getValuePattern(t.left,t.right);if(e)return{compareOperator:{arg:o.SQExprConverter.asFieldPattern(t.left),filterOperator:this.mapFromSQExprKindToFilterOperator(t,r),condition:e}}}},n.prototype.getValuePattern=function(e,t){if(o.SQExpr.isDateSpan(t)){var r=t.arg;if(o.SQExpr.isConstant(r))return{dateSpan:{value:r.value,unit:t.unit}}}return o.SQExpr.isConstant(t)?{constant:{value:t.value,type:t.type}}:o.SQExpr.isDefaultValue(t)?{defaultValue:{value:(r=o.SQExprUtils.getDefaultValue(e,this.schema)).value,type:r.type}}:o.SQExpr.isAnyValue(t)?{anyValue:{}}:void 0},n.prototype.matchAdvanced=function(e){if(o.SQExpr.isAnd(e)||o.SQExpr.isOr(e)){var t=o.SQExpr.isAnd(e)?0:1,r=this.matchAdvanced(e.left)||this.matchCompareOperator(e.left);if(r){e=this.matchAdvanced(e.right)||this.matchCompareOperator(e.right);if(e)return{advancedOperator:{logicalOperator:t,left:r.advancedOperator||r.compareOperator,right:e.advancedOperator||e.compareOperator}}}}},n.prototype.mapFromSQExprKindToFilterOperator=function(e,t){var r=0;switch(e.kind){case 12:r=t?6:5;break;case 14:r=t?8:7;break;case 13:var i=e;0===i.comparison?r=o.SQExpr.isConstant(i.right)&&null==i.right.value?t?12:11:o.SQExpr.isConstant(i.right)&&""===i.right.value?t?14:13:t?10:9:1===i.comparison?r=3:2===i.comparison?r=4:3===i.comparison?r=1:4===i.comparison&&(r=2);break;default:r=0}return r},n.prototype.tryMatchHierarchical=function(e){var t,r,i=[],n=[],a={hierarchical:{included:i,excluded:n}};if(e instanceof o.SQAndExpr){if(t=this.tryGetHierarchicalNode(e.left,!1)||this.tryGetHierarchicalNode(e.right,!1),r=this.tryGetHierarchicalNode(e.left,!0)||this.tryGetHierarchicalNode(e.right,!0),!t||!r)return}else if(t=this.tryGetHierarchicalNode(e,!1),r=this.tryGetHierarchicalNode(e,!0),!t&&!r)return;return(!t||this.matchHierarchicalNode(t,!1,i))&&(!r||this.matchHierarchicalNode(r,!0,n))?a:void 0},n.prototype.tryGetHierarchicalNode=function(e,t){if(t){if(e instanceof o.SQNotExpr){if(e.arg instanceof o.SQInExpr||e.arg instanceof o.SQAndExpr)return e.arg}else if(e instanceof o.SQAndExpr)return e}else if(e instanceof o.SQOrExpr||e instanceof o.SQInExpr)return e},n.prototype.matchHierarchicalNode=function(e,t,r){return e instanceof o.SQInExpr?this.matchHierarchicalExpr(e,t,r):!!(e=this.tryGetHierarchicalNode(e,t))&&this.matchHierarchicalExpr((e=e).left,t,r)&&this.matchHierarchicalExpr(e.right,t,r)},n.prototype.matchHierarchicalExpr=function(e,t,r){var i;return e instanceof o.SQInExpr?!!(i=this.matchBasicFilter(e))&&(r.push(i.in),i.in.not=t,!0):this.matchHierarchicalNode(e,t,r)},n.prototype.matchComposite=function(e,t){var r=!1,i=(o.SQExpr.isNot(e)&&(r=!0,e=e.arg),o.SQExpr.isOr(e));if((!i||0!==t)&&(o.SQExpr.isOr(e)||o.SQExpr.isAnd(e))){t=i?1:0,i=this.tryMatchExpr(e.left,t),e=this.tryMatchExpr(e.right,t);if(i&&e)return{composite:{not:r,operator:t,filters:[i,e]}}}},a=n,(r=o.FilterPattern||(o.FilterPattern={})).visit=function(e,t){var r,i,n,a;return(e=e.condition).in?(r=e.in,t.visitIn(r)):e.between?(r=e.between,t.visitBetween(r)):e.relativeDateRange?(i=e.relativeDateRange,t.visitRelativeDateRange(i)):e.compareOperator?(i=e.compareOperator,t.visitCompare(i)):e.advancedOperator?(n=e.advancedOperator,t.visitAdvanced(n)):e.composite?(n=e.composite,t.visitComposite(n)):e.topN?(a=e.topN,t.visitTopN(a)):e.complex?(a=e.complex,t.visitComplex(a)):e.hierarchical?(e=e.hierarchical,t.visitHierarchical(e)):void 0}})(powerbi=powerbi||{}),(function(e){var r,i,n,a=e.data||(e.data={});function t(e){return i.aggregate(o(e),e.aggregate)}function o(e){return i.columnRef(l(e),e.name)}function s(e){return i.aggregate(i.groupRef(e.name,l(e),U(e.groupedColumns)),e.aggregate)}function u(e){return i.groupRef(e.name,l(e),U(e.groupedColumns))}function l(e){return i.entity(e.schema,e.entity,e.entityVar)}function c(e){return i.aggregate(l(e),e.aggregate)}function p(e){var t=l(e.source),t=i.propertyVariationSource(t,e.variationName,e.source.name);return i.hierarchy(t,e.hierarchy.name)}function f(e){var t=l(e.source),t=i.propertyVariationSource(t,e.variationName,e.source.name),t=i.hierarchy(t,e.level.name);return i.hierarchyLevel(t,e.level.level)}function d(e){return e.subqueryRef?i.columnRef(i.subqueryRef(e.subqueryRef),e.name):e.subquery?i.columnRef(i.subqueryRef(e.subquery),e.name):void 0}function h(e){return i.aggregate(i.columnRef(i.subqueryRef(e.subqueryRef),e.name),e.aggregate)}function m(e){return i.columnRef(i.transformTableRef(e.transformTable.name),e.name)}function v(e){return i.aggregate(y(e),e.aggregate)}function y(e){return i.hierarchyLevel(g(e),e.level)}function g(e){return i.hierarchy(l(e),e.name)}function x(e){return i.arithmetic(i.fieldExpr(e.left),i.fieldExpr(e.right),e.operator)}function S(e){return i.typedConstant(e.value,e.type)}function q(e){return i.sparklineData(i.fieldExpr(e.measure),_.map(e.grouping,(function(e){return i.fieldExpr(e)})))}function O(e){return new a.SQNativeVisualCalcExpr(e.name,e.language,e.expression)}function U(e){return _.map(e,(function(e){return i.fieldExpr(e)}))}function E(){}(i=r=a.SQExprBuilder||(a.SQExprBuilder={})).fromColumnAggr=t,i.fromColumn=o,i.fromGroupingColumnAggr=s,i.fromGroupingColumn=u,i.fromEntity=l,i.fromEntityAggr=c,i.fromColumnHierarchyVariation=p,i.fromColumnHierarchyLevelVariation=f,i.fromColumnSubquery=d,i.fromColumnAggrSubquery=h,i.fromColumnTransformRef=m,i.fromHierarchyLevelAggr=v,i.fromHierarchyLevel=y,i.fromHierarchy=g,i.fromArithmetic=x,i.fromConstant=S,i.fromSparklineData=q,i.fromNativeVisualCalc=O,E.prototype.visitColumn=o,E.prototype.visitColumnAggr=t,E.prototype.visitGroupingColumn=u,E.prototype.visitGroupingColumnAggr=s,E.prototype.visitColumnHierarchyVariation=p,E.prototype.visitColumnHierarchyLevelVariation=f,E.prototype.visitColumnSubquery=d,E.prototype.visitColumnAggrSubquery=h,E.prototype.visitColumnTransformRef=m,E.prototype.visitEntity=l,E.prototype.visitEntityAggr=c,E.prototype.visitHierarchy=g,E.prototype.visitHierarchyLevel=y,E.prototype.visitHierarchyLevelAggr=v,E.prototype.visitMeasure=function(e){return i.measureRef(this.visitEntity(e),e.name)},E.prototype.visitPercentile=function(e){var t=i.fieldExpr(e.arg);return i.percentile(t,e.k,e.exclusive)},E.prototype.visitPercentOfGrandTotal=function(e){e=i.fieldExpr(e.baseExpr);return i.arithmetic(e,i.scopedEval(e,[]),3)},E.prototype.visitPercentOfRoleTotal=function(e){var t=i.fieldExpr(e.baseExpr);return i.arithmetic(t,i.scopedEval(t,_.map(e.roles,(function(e){return i.roleRef(e)}))),3)},E.prototype.visitSelectRef=function(e){return i.selectRef(e.expressionName)},E.prototype.visitTransformOutputRoleRef=function(e){return i.transformOutputRoleRef(e.expressionName)},E.prototype.visitFilteredEval=function(e){return i.filteredEval(i.fieldExpr(e.baseExpr),_.map(e.filters,(function(e){return a.SQFilterBuilder.fromFilter(e)})))},E.prototype.visitArithmetic=x,E.prototype.visitConstant=S,E.prototype.visitSparklineData=q,E.prototype.visitNativeVisualCalc=O,E.instance=new E,i.FieldExprToSQExprVisitor=E,(n=a.SQExprConverter||(a.SQExprConverter={})).asFieldPattern=function(e,t){return e.accept(new j(t))},w=a.DefaultSQExprVisitor,__extends(b,w),b.prototype.visitColumnRef=function(e){var t,r=e.source.accept(D.instance);if(r)return r.entity?((t=r.entity).name=e.ref,{column:t}):r.subquery?r.subquery.variable?{columnSubquery:{name:e.ref,subqueryRef:r.subquery.variable}}:{columnSubquery:{name:e.ref,subquery:r.subquery.query}}:r.transform?{columnTransformRef:{name:e.ref,transformTable:r.transform}}:void 0},b.prototype.visitMeasureRef=function(e){var t=e.source.accept(D.instance);return t&&t.entity?((t=t.entity).name=e.ref,{measure:t}):void 0},b.prototype.visitEntity=function(e){var t={schema:e.schema,entity:e.entity};return e.variable&&(t.entityVar=e.variable),{entity:t}},b.prototype.visitAggr=function(e){var t=e.arg.accept(this);if(t){if(t.column)return(r=t.column).aggregate=e.func,{columnAggr:r};if(t.columnAggr)return(r=t.columnAggr).aggregate=e.func,{columnAggr:r};if(t.groupingColumn)return(r=t.groupingColumn).aggregate=e.func,{groupingColumnAggr:r};if(t.groupingColumnAggr)return(r=t.groupingColumnAggr).aggregate=e.func,{groupingColumnAggr:r};if(t.hierarchyLevel)return(r=t.hierarchyLevel).aggregate=e.func,{hierarchyLevelAggr:r};if(t.columnHierarchyLevelVariation)return(r=t.columnHierarchyLevelVariation.level).aggregate=e.func,{hierarchyLevelAggr:r};if(t.columnSubquery)return(r=t.columnSubquery).aggregate=e.func,{columnAggrSubquery:r}}var r,t=e.arg.accept(D.instance);if(t&&t.entity)return(r=t.entity).aggregate=e.func,{entityAggr:r}},b.prototype.visitPercentile=function(e){return{percentile:{arg:e.arg.accept(this),k:e.k,exclusive:e.exclusive}}},b.prototype.visitGroupRef=function(e){var t=e.source.accept(D.instance);if(t&&t.entity){var r=t.entity;r.name=e.ref,r.groupedColumns=[];for(var i=0,n=e.groupedExprs;i<n.length;i++){var a=n[i].accept(this);(a.column||a.groupingColumn||a.hierarchyLevel)&&r.groupedColumns.push(a)}return{groupingColumn:r}}},b.prototype.visitHierarchy=function(e){var t=e.arg.accept(D.instance);if(t){if(t.entity)return{hierarchy:{entity:t.entity.entity,name:e.hierarchy,schema:t.entity.schema}};if(t.variation&&t.variation.column){var r=t.variation;if(a.SQExpr.isPropertyVariationSource(e.arg)){var i=e.arg;if(a.SQExpr.isEntity(i.arg)){i=i.arg,i=this.schema.schema(r.column.schema).findTargetEntityOfVariation(i.entity,r.column.name,r.variationName);if(i)return{columnHierarchyVariation:{source:__assign({},r.column),hierarchy:{schema:r.column.schema,entity:i.name,name:e.hierarchy},variationName:t.variation.variationName}}}}}}},b.prototype.visitHierarchyLevel=function(e){var t,r=e.arg.accept(k.instance);if(r)return r.hierarchy&&(t={entity:r.hierarchy.entity,schema:r.hierarchy.schema,name:r.hierarchy.name,level:e.level}),r.variation?(this.schema&&(e=r.variation,e=this.schema.schema(r.variation.column.schema).findTargetEntityOfVariation(t.entity,e.column.name,e.variationName))&&(t.entity=e.name),{columnHierarchyLevelVariation:{source:{entity:r.variation.column.entity,schema:r.variation.column.schema,name:r.variation.column.name},level:t,variationName:r.variation.variationName}}):{hierarchyLevel:t}},b.prototype.visitArithmetic=function(e){var t;return a.SQExpr.isScopedEval(e.right)?(t={percentOfGrandTotal:{baseExpr:e.left.accept(this)}},a.SQExpr.equals(e,r.fieldExpr(t))?t:(t=e.right.scope,!_.isEmpty(t)&&_.every(t,(function(e){return a.SQExpr.isRoleRef(e)}))?{percentOfRoleTotal:{baseExpr:e.left.accept(this),roles:_.map(t,(function(e){return e.role}))}}:void 0)):{arithmetic:{left:e.left.accept(this),right:e.right.accept(this),operator:e.operator}}},b.prototype.visitSelectRef=function(e){return{selectRef:{expressionName:e.expressionName}}},b.prototype.visitTransformOutputRoleRef=function(e){return{transformOutputRoleRef:{expressionName:e.role}}},b.prototype.visitFilteredEval=function(e){var t=this,r=_.map(e.filters,(function(e){e=a.SQFilterConverter.asFilterPattern(a.SemanticFilter.fromSQFromAndSQFilters(new a.SQFrom,[e]),t.schema);if(e)return e[0]}));return{filteredEval:{baseExpr:e.expression.accept(this),filters:r}}},b.prototype.visitConstant=function(e){return{constant:{value:e.value,type:e.type}}},b.prototype.visitSparklineData=function(e){var t=this;return{sparklineData:{measure:e.measure.accept(this),grouping:_.map(e.grouping,(function(e){return e.accept(t)}))}}},b.prototype.visitNativeVisualCalc=function(e){return{nativeVisualCalc:{name:e.name,language:e.language,expression:e.expression}}};var w,j=b;function b(e){var t=w.call(this)||this;return t.schema=e,t}C=a.DefaultSQExprVisitor,__extends(V,C),V.prototype.visitEntity=function(e){var t={schema:e.schema,entity:e.entity};return e.variable&&(t.entityVar=e.variable),{entity:t}},V.prototype.visitPropertyVariationSource=function(e){var t,r=e.arg;if(r instanceof a.SQEntityExpr)return t={schema:r.schema,entity:r.entity,name:e.property},r.variable&&(t.entityVar=r.variable),{variation:{column:t,variationName:e.name}}},V.prototype.visitSubqueryRef=function(e){return e.variable?{subquery:{variable:e.variable}}:{subquery:{query:e.query}}},V.prototype.visitTransformTableRef=function(e){return e.source,{transform:{name:null==e?void 0:e.source}}},V.instance=new V;var C,D=V;function V(){return null!==C&&C.apply(this,arguments)||this}R=a.DefaultSQExprVisitor,__extends(T,R),T.prototype.visitHierarchy=function(e){var t,r,i=e.arg.accept(D.instance);return i.variation?(t={name:e.hierarchy,schema:i.variation.column.schema,entity:i.variation.column.entity},r=i.variation):t={name:e.hierarchy,schema:i.entity.schema,entity:i.entity.entity},{hierarchy:t,variation:r}},T.instance=new T;var R,k=T;function T(){return null!==R&&R.apply(this,arguments)||this}var F=a.FieldExprPattern||(a.FieldExprPattern={});function M(e,t,r){r=e instanceof a.SQExpr?n.asFieldPattern(e,r):e;return r.column?(e=r.column,t.visitColumn(e)):r.columnAggr?(e=r.columnAggr,t.visitColumnAggr(e)):r.groupingColumn?(e=r.groupingColumn,t.visitGroupingColumn(e)):r.groupingColumnAggr?(e=r.groupingColumnAggr,t.visitGroupingColumnAggr(e)):r.columnHierarchyVariation?(e=r.columnHierarchyVariation,t.visitColumnHierarchyVariation(e)):r.columnHierarchyLevelVariation?(e=r.columnHierarchyLevelVariation,t.visitColumnHierarchyLevelVariation(e)):r.columnSubquery?(e=r.columnSubquery,t.visitColumnSubquery(e)):r.columnAggrSubquery?(e=r.columnAggrSubquery,t.visitColumnAggrSubquery(e)):r.columnTransformRef?(e=r.columnTransformRef,t.visitColumnTransformRef(e)):r.entity?(e=r.entity,t.visitEntity(e)):r.entityAggr?(e=r.entityAggr,t.visitEntityAggr(e)):r.hierarchy?(e=r.hierarchy,t.visitHierarchy(e)):r.hierarchyLevel?(e=r.hierarchyLevel,t.visitHierarchyLevel(e)):r.hierarchyLevelAggr?(e=r.hierarchyLevelAggr,t.visitHierarchyLevelAggr(e)):r.measure?(e=r.measure,t.visitMeasure(e)):r.percentile?(e=r.percentile,t.visitPercentile(e)):r.percentOfGrandTotal?(e=r.percentOfGrandTotal,t.visitPercentOfGrandTotal(e)):r.percentOfRoleTotal?(e=r.percentOfRoleTotal,t.visitPercentOfRoleTotal(e)):r.selectRef?(e=r.selectRef,t.visitSelectRef(e)):r.transformOutputRoleRef?(e=r.transformOutputRoleRef,t.visitTransformOutputRoleRef(e)):r.filteredEval?(e=r.filteredEval,t.visitFilteredEval(e)):r.arithmetic?(e=r.arithmetic,t.visitArithmetic(e)):r.constant?(e=r.constant,t.visitConstant(e)):r.sparklineData?(e=r.sparklineData,t.visitSparklineData(e)):r.nativeVisualCalc?(e=r.nativeVisualCalc,t.visitNativeVisualCalc(e)):void 0}function B(e){e=F.visit(e,W.instance);return null==e?void 0:e[0]}function L(e){e=F.visit(e,A.instance);return null==e?void 0:e[0]}F.visit=M,F.toColumnRefSQExpr=function(e){return r.columnRef(r.entity(e.schema,e.entity,e.entityVar),e.name)},F.getAggregate=function(e,t){return M(e,H.instance,t)},F.getBaseSQExpr=function(e,t){return M(e,G.instance,t)},F.hasFieldExprName=function(e){return void 0!==(e.column||e.columnAggr||e.groupingColumn||e.groupingColumnAggr||e.measure)},F.getPropertyName=B,F.getPropertyNames=function(e){return F.visit(e,W.instance)},F.getHierarchyName=function(e){if(e=e.hierarchy)return e.name},F.getProperty=function(e){return e.columnHierarchyLevelVariation?e.columnHierarchyLevelVariation.source:e.column||e.groupingColumn||e.groupingColumnAggr||e.measure||e.columnAggr},F.getFieldExprName=function(e){var t=B(e);return t||L(e).entity},F.getSchema=function(e){return null==(e=F.getSchemas(e))?void 0:e[0]},F.getSchemas=function(e){return e=F.toFieldExprEntityItemPatterns(e),_.isEmpty(e)?void 0:_.map(e,(function(e){return e.schema}))},F.toFieldExprEntityPattern=function(e){return null==(e=F.visit(e,A.instance))?void 0:e[0]},F.toFieldExprEntityPatterns=function(e){return F.visit(e,A.instance)},F.toFieldExprEntityItemPattern=L,F.toFieldExprEntityItemPatterns=function(e){return F.visit(e,A.instance)},F.isPercentRoleTotalExpr=function(e){return a.SQExpr.isArithmetic(e)&&a.SQExpr.isScopedEval(e.right)&&!_.isEmpty(e.right.scope)&&_.every(e.right.scope,(function(e){return a.SQExpr.isRoleRef(e)}))},F.isPercentOfGrandTotal=function(e,t){return!(!a.SQExpr.isArithmetic(e)||!a.SQExpr.isScopedEval(e.right))&&(t={percentOfGrandTotal:{baseExpr:e.left.accept(new j(t))}},a.SQExpr.equals(e,r.fieldExpr(t)))},P.prototype.visitColumn=function(e){},P.prototype.visitColumnAggr=function(e){return e.aggregate},P.prototype.visitGroupingColumn=function(e){},P.prototype.visitGroupingColumnAggr=function(e){return e.aggregate},P.prototype.visitColumnHierarchyVariation=function(e){},P.prototype.visitColumnHierarchyLevelVariation=function(e){},P.prototype.visitColumnSubquery=function(e){},P.prototype.visitColumnAggrSubquery=function(e){return e.aggregate},P.prototype.visitColumnTransformRef=function(e){},P.prototype.visitEntity=function(e){},P.prototype.visitEntityAggr=function(e){return e.aggregate},P.prototype.visitHierarchy=function(e){},P.prototype.visitHierarchyLevel=function(e){},P.prototype.visitHierarchyLevelAggr=function(e){return e.aggregate},P.prototype.visitMeasure=function(e){},P.prototype.visitSelectRef=function(e){},P.prototype.visitPercentile=function(e){},P.prototype.visitPercentOfGrandTotal=function(e){return a.SQExprInfo.getAggregate(r.fieldExpr(e.baseExpr))},P.prototype.visitPercentOfRoleTotal=function(e){return a.SQExprInfo.getAggregate(r.fieldExpr(e.baseExpr))},P.prototype.visitTransformOutputRoleRef=function(e){},P.prototype.visitFilteredEval=function(e){return a.SQExprInfo.getAggregate(r.fieldExpr(e.baseExpr))},P.prototype.visitArithmetic=function(e){},P.prototype.visitConstant=function(e){},P.prototype.visitSparklineData=function(e){},P.prototype.visitNativeVisualCalc=function(e){},P.instance=new P;var H=P;function P(){}N.prototype.visitColumn=function(e){return r.fromColumn(e)},N.prototype.visitColumnAggr=function(e){return r.fromColumnAggr(e)},N.prototype.visitGroupingColumn=function(e){return r.fromGroupingColumn(e)},N.prototype.visitGroupingColumnAggr=function(e){return r.fromGroupingColumnAggr(e)},N.prototype.visitColumnHierarchyVariation=function(e){return r.fromColumnHierarchyVariation(e)},N.prototype.visitColumnHierarchyLevelVariation=function(e){return r.fromColumnHierarchyLevelVariation(e)},N.prototype.visitColumnSubquery=function(e){return r.fromColumnSubquery(e)},N.prototype.visitColumnAggrSubquery=function(e){return r.fromColumnAggrSubquery(e)},N.prototype.visitColumnTransformRef=function(e){return r.fromColumnTransformRef(e)},N.prototype.visitEntity=function(e){return r.fromEntity(e)},N.prototype.visitEntityAggr=function(e){return r.fromEntityAggr(e)},N.prototype.visitHierarchy=function(e){return r.fromHierarchy(e)},N.prototype.visitHierarchyLevel=function(e){return r.fromHierarchyLevel(e)},N.prototype.visitHierarchyLevelAggr=function(e){return r.fromHierarchyLevelAggr(e)},N.prototype.visitMeasure=function(e){return r.measureRef(this.visitEntity(e),e.name)},N.prototype.visitSelectRef=function(e){return r.selectRef(e.expressionName)},N.prototype.visitPercentile=function(e){return F.visit(r.fieldExpr(e.arg),this)},N.prototype.visitPercentOfGrandTotal=function(e){return F.visit(r.fieldExpr(e.baseExpr),this)},N.prototype.visitPercentOfRoleTotal=function(e){return F.visit(r.fieldExpr(e.baseExpr),this)},N.prototype.visitTransformOutputRoleRef=function(e){return r.transformOutputRoleRef(e.expressionName)},N.prototype.visitFilteredEval=function(e){return F.visit(r.fieldExpr(e.baseExpr),this)},N.prototype.visitArithmetic=function(e){return r.fromArithmetic(e)},N.prototype.visitConstant=function(e){},N.prototype.visitSparklineData=function(e){return r.fromSparklineData(e)},N.prototype.visitNativeVisualCalc=function(e){return new a.SQNativeVisualCalcExpr(e.name,e.language,e.expression)},N.instance=new N;var G=N;function N(){}Q.prototype.visitColumn=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitColumnAggr=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitGroupingColumn=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitGroupingColumnAggr=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitColumnHierarchyVariation=function(e){return[Q.toEntityItemExprPattern(e.source)]},Q.prototype.visitColumnHierarchyLevelVariation=function(e){return[Q.toEntityItemExprPattern(e.source)]},Q.prototype.visitColumnSubquery=function(e){},Q.prototype.visitColumnAggrSubquery=function(e){},Q.prototype.visitColumnTransformRef=function(e){},Q.prototype.visitEntity=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitEntityAggr=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitHierarchy=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitHierarchyLevel=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitHierarchyLevelAggr=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitMeasure=function(e){return[Q.toEntityItemExprPattern(e)]},Q.prototype.visitSelectRef=function(e){},Q.prototype.visitPercentile=function(e){return F.visit(e.arg,this)},Q.prototype.visitPercentOfGrandTotal=function(e){return F.visit(e.baseExpr,this)},Q.prototype.visitPercentOfRoleTotal=function(e){return F.visit(e.baseExpr,this)},Q.prototype.visitTransformOutputRoleRef=function(e){},Q.prototype.visitFilteredEval=function(e){return F.visit(e.baseExpr,this)},Q.prototype.visitArithmetic=function(e){var t=F.visit(e.left,this),e=F.visit(e.right,this),t=t&&e?__spreadArray(__spreadArray([],t,!0),e,!0):null!=t?t:e;return _.isEmpty(t)?void 0:t},Q.prototype.visitConstant=function(e){},Q.prototype.visitSparklineData=function(e){var t=this;return __spreadArray(__spreadArray([],F.visit(e.measure,this),!0),_.chain(e.grouping).map((function(e){return F.visit(e,t)})).flatten().value(),!0)},Q.prototype.visitNativeVisualCalc=function(e){},Q.toEntityItemExprPattern=function(e){var t={schema:e.schema,entity:e.entity};return e.entityVar&&(t.entityVar=e.entityVar),t},Q.instance=new Q;var A=Q;function Q(){}I.prototype.visitColumn=function(e){return[e.name]},I.prototype.visitColumnAggr=function(e){return[e.name]},I.prototype.visitGroupingColumn=function(e){return[e.name]},I.prototype.visitGroupingColumnAggr=function(e){return[e.name]},I.prototype.visitColumnHierarchyVariation=function(e){},I.prototype.visitColumnHierarchyLevelVariation=function(e){},I.prototype.visitColumnSubquery=function(e){return[e.name]},I.prototype.visitColumnAggrSubquery=function(e){return[e.name]},I.prototype.visitColumnTransformRef=function(e){return[e.name]},I.prototype.visitEntity=function(e){},I.prototype.visitEntityAggr=function(e){},I.prototype.visitHierarchy=function(e){},I.prototype.visitHierarchyLevel=function(e){},I.prototype.visitHierarchyLevelAggr=function(e){},I.prototype.visitMeasure=function(e){return[e.name]},I.prototype.visitSelectRef=function(e){},I.prototype.visitPercentile=function(e){return F.visit(e.arg,this)},I.prototype.visitPercentOfGrandTotal=function(e){return F.visit(e.baseExpr,this)},I.prototype.visitPercentOfRoleTotal=function(e){return F.visit(e.baseExpr,this)},I.prototype.visitTransformOutputRoleRef=function(e){},I.prototype.visitFilteredEval=function(e){return F.visit(e.baseExpr,this)},I.prototype.visitArithmetic=function(e){var t=F.visit(e.left,this),e=F.visit(e.right,this),t=t&&e?__spreadArray(__spreadArray([],t,!0),e,!0):null!=t?t:e;return _.isEmpty(t)?void 0:t},I.prototype.visitConstant=function(e){},I.prototype.visitSparklineData=function(e){var t=this;return __spreadArray(__spreadArray([],F.visit(e.measure,this),!0),_.chain(e.grouping).map((function(e){return F.visit(e,t)})).flatten().value(),!0)},I.prototype.visitNativeVisualCalc=function(e){return[e.name]},I.instance=new I;var W=I;function I(){}})(powerbi=powerbi||{}),(function(e){var t,r;t=e.data||(e.data={}),(r=t.SQExprBuilder||(t.SQExprBuilder={})).fieldExpr=function(e){return e=t.FieldExprPattern.visit(e,r.FieldExprToSQExprVisitor.instance)}})(powerbi=powerbi||{}),(function(b){var e,m,t,C,D,V;function i(e){for(var t=0,r=0,i=e.length;r<i;r++)e[r].isMeasure||++t;return t}function S(e,t,r){var i;return!(!t||!e||t.scriptResult&&(i=e.scriptResult,t.scriptResult,!i||!i.payloadBase64)||t.categorical&&!E(e,t.categorical,r)||t.tree&&!w(e,t.tree,r)||t.single&&(i=e.single,t.single,!i)||t.table&&!(function(e,t,r){if(!e)return;if(t.rowCount){var i=t.rowCount.supported;if(i=r&&t.rowCount.preferred?t.rowCount.preferred:i){r=0;if(null!=v(r=e.rows&&e.rows.length?e.rows.length:r,i))return}}return 1})(e.table,t.table,r))}function E(e,t,r){e=e.categorical;if(e){if(t.rowCount){var i=t.rowCount.supported;if(i=r&&t.rowCount.preferred?t.rowCount.preferred:i){r=0;if(e.values&&e.values.length?r=e.values[0].values.length:e.categories&&e.categories.length&&(r=e.categories[0].values.length),null!=v(r,i))return}}return 1}}function w(e,t,r){e=e.metadata,t=t.depth,r=t&&r?t.preferred:t.supported;return null==v(i(e.columns),r)}function v(e,t,r){if(t)return!r&&void 0!==t.min&&t.min>e?m.conditionRangeTooSmall:void 0!==t.max&&t.max<e?m.conditionRangeTooLarge:void 0}function y(e,t){if(!_.isEmpty(e)&&!_.isEmpty(t)){for(var r={},i=(e.forEach((function(e){r[e]=!0})),[]),n=0,a=t;n<a.length;n++){var o=a[n];o.name&&r[o.name]&&o.expr&&i.push(o.expr.getTargetEntity())}return i}}function R(e,t,r,i,n,a){for(var o=Object.keys(t),s=[],u=0,l=o.length;u<l;u++){var c=o[u],p=e[c]&&!_.isEmpty(e[c].activeProjectionRefs),f=t[c],d=!f.suppressDrill,p=v(g(c,e,d&&(null!=i?i:p)&&d),f),d=(null!=p&&s.push({code:p,roleName:c}),null!=(p=(function(e,t,r,i){if(e&&void 0!==e.kind){var n=e.kind,e=r[t];if(e)for(var a=0,o=e.all();a<o.length;a++)if(i[o[a].queryRef]!==n)switch(n){case b.VisualDataRoleKind.Measure:return m.conditionKindExpectedMeasure;case b.VisualDataRoleKind.Grouping:return m.conditionKindExpectedGrouping;case b.VisualDataRoleKind.GroupingOrMeasure:return m.conditionKindExpectedGroupingOrMeasure}}})(f,c,e,r))&&s.push({code:p,roleName:c}),e[c]&&e[c].projected()),h=void 0;null!=(p=(function(e,t,r,i){if(e&&e.areHierarchicallyRelated&&!_.isEmpty(t)&&!_.isEmpty(r)&&i)return e=y(_.map(t,(function(e){return e.queryRef})),r),b.data.SQExprUtils.areHierarchicallyRelated(i,e)?void 0:m.conditionNotHierarchicallyRelated})(f,d,h=_.isEmpty(n)?h:_.map(d,(function(e){return n.withName(e.queryRef)})),a))&&s.push({code:p,roleName:c}),!f.multiTableTupleFiltersSupported||!a||_.isEmpty(n)||_.isEmpty(h)||null!=(p=(function(e,t,r){var i=_.chain(t).map((function(e){return e.name})).uniq().value();if(1!==i.length)return i=y(_.map(e,(function(e){return e.queryRef})),t),e=_.chain(i).map((function(e){return r.schema(e.schema)})).uniq().value(),_.uniqWith(i,(function(e,t){return b.data.SQExpr.equals(e,t)})).length<2?_.some(e,(function(e){return!e.capabilities||!e.capabilities.supportsInstanceFilters}))?m.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0:_.some(e,(function(e){return!e.capabilities||!e.capabilities.supportsMultiTableTupleFilters||!e.capabilities.supportsInstanceFilters}))?m.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0})(d,h,a))&&s.push({code:p,roleName:c})}return s}function g(e,t,r){t=t[e];return t?r?1:t.projected().length:0}function c(e){return e?e.length:0}e=b.DataViewAnalysis||(b.DataViewAnalysis={}),C=jsCommon.ArrayExtensions,D=b.data.DataViewObjectDefinitions,V=b.data.DataViewObjectEvaluator,(t=m=e.DataViewMappingMatchErrorCode||(e.DataViewMappingMatchErrorCode={})).conditionRangeTooLarge="conditionRangeTooLarge",t.conditionRangeTooSmall="conditionRangeTooSmall",t.conditionKindExpectedMeasure="conditionKindExpectedMeasure",t.conditionKindExpectedGrouping="conditionKindExpectedGrouping",t.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",t.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",t.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",e.validateAndReshape=function(e,t){if(!t||0===t.length)return{dataView:e,isValid:!0};if(e){for(var r=0,i=t;r<i.length;r++){var n=i[r];if(S(e,n))return{dataView:e,isValid:!0};if(n.categorical&&e.categorical){var a=e;var o=n;var s=o.categorical,u=a.categorical;if(!u)return{isValid:!1};if(s.rowCount&&(s=s.rowCount.supported)&&s.max){var l=void 0,c=u.categories,p=s.max,f=void 0;if(c)for(var d=0,h=c.length;d<h;d++){var m,v=c[d];f=v.values.length,void 0!==p&&p<f&&(m=C.range(v.values,0,p-1),(l=l||{categories:[]}).categories.push({source:v.source,values:m}))}if(u.values&&0<u.values.length&&p&&(f=f||u.values[0].values.length,void 0!==p)&&p<f){(l=l||{}).values=b.data.DataViewTransform.createValueColumns();for(d=0,h=u.values.length;d<h;d++){var y=u.values[d],g={source:y.source,values:C.range(y.values,0,p-1)};void 0!==y.min&&(g.min=y.min),void 0!==y.max&&(g.max=y.max),void 0!==y.subtotal&&(g.subtotal=y.subtotal),l.values.push(g)}}l&&(a={metadata:a.metadata,categorical:l})}return E(a,o)?{dataView:a,isValid:!0}:null;return}if(n.tree&&e.tree){s=e;o=n.tree;if(w(s,o))return{dataView:s,isValid:!0};return{isValid:!1};return}if(n.single&&e.single)return a=e,n.single,a.single?{dataView:a,isValid:!0}:{isValid:!1};if(n.table&&e.table)return x=e,n.table,x.table?{dataView:x,isValid:!0}:{isValid:!1}}if(e.metadata)return{dataView:{metadata:e.metadata},isValid:!0}}var x;return{isValid:!1}},e.countGroups=i,e.countMeasures=function(e){for(var t=0,r=0,i=e.length;r<i;r++)e[r].isMeasure&&++t;return t},e.supports=S,e.validateRange=v,e.chooseDataViewMappings=function(e,t,r,i,n,a,o,s){var u=[],l=[];if(!_.isEmpty(t))for(var c=0,p=t.length;c<p;c++){var f=t[c],d=f.conditions,h=(function(e,a,t,o){var r,s,u;return!!_.isEmpty(e)||!(!a||!o)&&(r=b.visuals.visualStyles.create(),s=b.data.createEmptyEvalContext(),u=new V(t,r),_.every(e,(function(e){var t,r,i=null,n=o[e.objectName];return!(!n||((t=a[e.objectName])&&(i=t.properties[e.propertyName]),!_.isEmpty(n)&&n[0]&&(r=D.getValue(o,e,n[0].selector)),!i)||!r)&&u.evaluateProperty(s,i,r)})))})(f.requiredProperties,n,i,a),m=[];if(_.isEmpty(d))m.push({});else for(var v=0,y=d.length;v<y;v++){var g=d[v],x=R(e,g,r,void 0,o,s);if(_.isEmpty(x))m.push(g);else for(var S=0,E=x;S<E.length;S++){var w=E[S];w.mappingIndex=c,w.conditionIndex=v,l.push(w)}}!_.isEmpty(m)&&h&&((h=_.cloneDeep(f)).single&&(h={table:{rows:{for:{in:h.single.role}}}}),f=_.filter(m,(function(e){return 0<Object.keys(e).length})),_.isEmpty(f)||(h.conditions=f),u.push(h))}return{supportedMappings:C.emptyToNull(u),mappingErrors:C.emptyToNull(l)}},e.checkForConditionErrors=R,e.getPropertyCount=g,e.hasSameCategoryIdentity=function(e,t){if(e&&t&&e.categorical&&t.categorical){var r=e.categorical.categories,i=t.categorical.categories;if(r&&i&&r.length===i.length){for(var n=0,a=r.length;n<a;n++){var o=r[n].identity,s=i[n].identity,u=c(o);if(u!==c(s))return!1;for(var l=0;l<u;l++)if(!b.DataViewScopeIdentity.equals(o[l],s[l]))return!1}return!0}}return!1}})(powerbi=powerbi||{}),(function(e){var r,i,t;function n(e){var t=this;this.kind=0,this._roles=e,this._key=new i(function(){return JSON.stringify(t.roles)})}e=e.data||(e.data={}),r=jsCommon.ArrayExtensions,i=jsCommon.Lazy,(e=e.DataViewRoleWildcard||(e.DataViewRoleWildcard={})).fromRoles=function(e){return new t(e)},e.equals=function(e,t){return e.key&&t.key&&e.key===t.key&&r.sequenceEqual(e.roles,t.roles,(function(e,t){return e===t}))},Object.defineProperty(n.prototype,"roles",{get:function(){return this._roles},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),t=n,jsCommon.forceEnumeration(t.prototype)})(powerbi=powerbi||{}),(function(s){var u,l;function o(e,t){if(!_.isEmpty(e)){for(var r=0,i=e;r<i.length;r++)var n=i[r],a=l.ScopeIdentityExtractor.getInExpr(n),o=o?l.SQExprBuilder.or(o,a):a||n;if(o&&t&&(o=s.data.SQExprBuilder.not(o)),!l.ScopeIdentityExtractor.containsSelectRef(o))return s.data.SemanticFilter.fromSQExpr(o)}}(u=s.DataViewScopeIdentity||(s.DataViewScopeIdentity={})).equals=function(e,t,r){return(e=e||null)===(t=t||null)||!e==!t&&l.SQExpr.equals(e.expr,t.expr,r)},u.containsComparison=function(e,t,r){if(!(e=e||null)!=!(t=t||null))return!1;var i=t.expr,n=l.ScopeIdentityExtractor.getKeyValuePairs(i),i=l.ScopeIdentityExtractor.getKeyValuePairs(e);if(!n||!i)return u.equals(l.createDataViewScopeIdentity(e),t,r);for(var a=0,o=i;a<o.length;a++){var s=(function(t){if(!_.some(n,(function(e){return l.SQExpr.equals(t,e,r)})))return{value:!1}})(o[a]);if("object"==typeof s)return s.value}return!0},u.filterFromIdentity=function(e,t){if(!_.isEmpty(e)){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i];r.push(a.expr)}return o(r,t)}},u.filterFromExprs=o;var t=l=s.data||(s.data={}),r=jsCommon.Lazy,i=(t.createDataViewScopeIdentity=function(e){return new i(e)},Object.defineProperty(e.prototype,"expr",{get:function(){return this._expr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),e);function e(e){this.kind=1,this._expr=e,this._key=new r(function(){return t.SQExprShortSerializer.serialize(e)})}jsCommon.forceEnumeration(i.prototype)})(powerbi=powerbi||{}),(function(e){var r,t,i;function n(e){this.kind=2,this._exprs=e,this._key=new t(function(){return r.SQExprShortSerializer.serializeArray(e)})}r=e.data||(e.data={}),t=jsCommon.Lazy,(e=r.DataViewScopeTotal||(r.DataViewScopeTotal={})).matches=function(e,t){return!_.isEmpty(t)&&r.SQExprUtils.sequenceEqual(e.exprs,t)},e.equals=function(e,t){return e===t||r.SQExprUtils.sequenceEqual(e.exprs,t.exprs)},e.fromExprs=function(e){return new i(e)},Object.defineProperty(n.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),i=n,jsCommon.forceEnumeration(i.prototype)})(powerbi=powerbi||{}),(function(e){var r,t,i;function n(e){this.kind=3,this._exprs=e,this._key=new t(function(){return r.SQExprShortSerializer.serializeArray(e)})}r=e.data||(e.data={}),t=jsCommon.Lazy,(e=r.DataViewScopeWildcard||(r.DataViewScopeWildcard={})).matches=function(e,t){return!!(t=r.ScopeIdentityExtractor.getKeys(t.expr))&&r.SQExprUtils.sequenceEqual(e.exprs,t)},e.equals=function(e,t){return e===t||r.SQExprUtils.sequenceEqual(e.exprs,t.exprs)},e.fromExprs=function(e){return new i(e)},Object.defineProperty(n.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),i=n,jsCommon.forceEnumeration(i.prototype)})(powerbi=powerbi||{}),(function(e){var r,t;function i(e){var t=this;this.kind=4,this._matchingOption=e,this._key=new r(function(){return JSON.stringify(t._matchingOption)})}e=e.data||(e.data={}),r=jsCommon.Lazy,(e=e.DataViewWildcard||(e.DataViewWildcard={})).equals=function(e,t){return!e&&!t||!(!e||!t||e!==t&&e.matchingOption!==t.matchingOption)},e.matches=function(e,t){switch(e.matchingOption){case 0:return!0;case 1:return!t;case 2:return t}},e.create=function(e){return new t(e=null==e?0:e)},Object.defineProperty(i.prototype,"matchingOption",{get:function(){return this._matchingOption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),t=i,jsCommon.forceEnumeration(t.prototype)})(powerbi=powerbi||{}),(function(e){(e.data||(e.data={})).createColorAllocatorCache=function(){return new t},r.prototype.get=function(e){for(var t=0,r=this.cache;t<r.length;t++){var i=r[t];if(i.key===e)return i.allocator}},r.prototype.register=function(e,t){return this.cache.push({key:e,allocator:t}),this};var t=r;function r(){this.cache=[]}})(powerbi=powerbi||{}),(function(e){(e.data||(e.data={})).createEmptyEvalContext=function(){function e(e){}return{getExprValue:e,getExprColumn:e,getScopedEvalExprValue:e,getRoleValues:e}}})(powerbi=powerbi||{}),(function(Q){var I,q,O,U,j;function v(e,t,r,i,n,a,o,s){return(2===j.targetDataViewKinds(t)?f:u)(e,r,i,n,a,o,s);function u(e,t,r,i,n,a,o){if(e.categorical,e.categorical){var s=M(0,e.categorical,t),t=M(1,e.categorical,t);if(!_.isEmpty(s)&&!_.isEmpty(t)){var u=s[0].source,l=t[0].source,c=!0,p=j.getRegressionUsage(r),p=B(P(s,t,c=p&&e.metadata.objects&&(p=p.combineSeries)?Q.DataViewObjects.getValue(e.metadata.objects,p,!0):c,!1));if(L(p)){for(var f=p.xMin,d=p.xMax,h=N(t)||N(s),m=(h&&(L(w=B(P(s,t,c,!0)))?(f=_.min([f,w.xMin]),d=_.max([d,w.xMax])):h=!1),[]),v=0,y=p.lineDefs;v<y.length;v++){var g=y[v];m.push(H(g,+f,+d))}if(h)for(var x=[],S=0,E=w.lineDefs;S<E.length;S++){g=E[S];x.push(H(g,+f,+d))}var s=u,p=l,w=c?["combinedRegressionSeries"]:e.categorical.values.source?(h=e.categorical.values.grouped(),_.map(h,(function(e){return e.name}))):_.map(t,(function(e){return e.source.queryName})),u=[f,d],b=m,C=x,l=r,c=i,e=n,h=a,t=o,r=l.categorical.categories.for.in;if((l=l.categorical.values.group)&&!_.isEmpty(l.select)&&(V=l.select[0].for?l.select[0].for.in:l.select[0].bind.to,R=l.by),V&&R){(l={})[r]=!0;var D,r=l,V=((l={})[V]=!0,l),R=((l={})[R]=!0,l),T=[];for(D in b){var F={values:b[D]};C&&(F.highlights=C[D]),T.push([F])}l=I.createCategoricalDataViewBuilder().withCategory({source:k(s,O,!1,"",r),values:u,identityFrom:{fields:[I.SQExprBuilder.columnRef(I.SQExprBuilder.entity("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:k(p,U,p.isMeasure,"Regression",R),values:w,identityFrom:{fields:[I.SQExprBuilder.columnRef(I.SQExprBuilder.entity("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:k(p,q.regressionYQueryName,p.isMeasure,"",V)}],data:T}).build();return I.DataViewTransform.transformObjects(l,1,c,e,[],h,t),l}}}}}function M(e,t,r){var i=l(e,t.values,r);return _.isEmpty(i)?(t=t.categories,_.isEmpty(t)||(r=l(e,[e=t[0]],r),_.isEmpty(r))||1!==t.length&&!_.isEmpty(e.values)&&(_.isEmpty(e.objects)||void 0===c(e.objects[0]))?void 0:r):i}function l(i,e,n){if(!_.isEmpty(e))return _.filter(e,(function(r){for(var e in r.source.roles){e=(function(t){var e;return r.source.roles[t]?(e=_.find(n,(function(e){return e.name===t})))&&e.cartesianKind===i?{value:!0}:void 0:"continue"})(e);if("object"==typeof e)return e.value}return!1}))}function c(e){return Q.DataViewObjects.getValue(e,I.scalarKeyMinPropertyIdentifier)}function p(e,t){var r=_.head(e.objects);if(r&&c(r))return _.map(e.objects,c);if(t&&e.highlights)return e.highlights;return e.values}function P(e,t,r,i){for(var n=[],a=_.map(e,(function(e){return p(e,i)})),o=_.map(t,(function(e){return p(e,i)})),s=1<e.length,u=0;u<o.length;u++){var l=s?a[u]:a[0],c=o[u];r&&0<n.length?(n[0].xValues=n[0].xValues.concat(l),n[0].yValues=n[0].yValues.concat(c)):n.push({xValues:l,yValues:c})}return n}function N(e){return _.some(e,(function(e){return null!=e.highlights}))}function f(e,t,r,i,n,a,o){e.matrix;var s=e.matrix;if(s&&s.rows&&s.rows.root&&0!==_.size(s.rows.root.children)&&!(2<_.size(s.rows.levels))){var u=A(0,s,t),t=A(1,s,t);if(void 0!==u&&void 0!==t){var l=u.valuesCol,c=t.valuesCol,u=(function(e,a,o){e=e.matrix;if(e){var t=function(e,t){if(e.children)for(var r=0,i=e.children;r<i.length;r++){var n=i[r];n.isSubtotal||(t.xValues.push(a(n)),t.yValues.push(o(n)))}},r=[],i=e.rows;if(2===i.levels.length)for(var n=0,s=e.rows.root.children;n<s.length;n++){var u,l=s[n];l.isSubtotal||(r.push(u={xValues:[],yValues:[]}),t(l,u))}else 1===i.levels.length&&(r.push(u={xValues:[],yValues:[]}),t(i.root,u));return r}})(e,u.getValues,t.getValues),t=!0,p=j.getRegressionUsage(r),f=u,e=B(f=(t=p&&e.metadata.objects&&(p=p.combineSeries)?Q.DataViewObjects.getValue(e.metadata.objects,p,!0):t)?(function(e){for(var t,r=[],i=0,n=e;i<n.length;i++){var a=n[i];_.isEmpty(a.xValues)||_.isEmpty(a.yValues)||(r[0]||r.push({xValues:[],yValues:[]}),(t=r[0].xValues).push.apply(t,a.xValues||[]),(t=r[0].yValues).push.apply(t,a.yValues||[]))}return r})(u):f);if(L(e)){for(var d=e.xMin,h=e.xMax,m=[],v=0,y=e.lineDefs;v<y.length;v++){var g=y[v];m.push(H(g,+d,+h))}var p=l,u=c,x=!t&&2===s.rows.levels.length?_.chain(s.rows.root.children).filter((function(e){return!e.isSubtotal})).map((function(e){return e.value})).value():["combinedRegressionSeries"],S=[d,h],E=m,f=i,e=n,l=a,c=o,s=(t=r).matrix.rows.select[0].bind.to,i=t.matrix.rows.select[1].bind.to,t=t.matrix.values.select[0].for.in,s=((n={})[s]=!0,n),t=((n={})[t]=!0,n);(n={})[i]=!0;for(var w={levels:[],root:{children:[]}},a={metadata:i={columns:[]},matrix:{rows:w,columns:void 0,valueSources:[]}},b=k(p,O,!1,"",s),C=k(u,U,u.isMeasure,"Regression",n),p=k(u,q.regressionYQueryName,u.isMeasure,"",t),D=(i.columns.push(C),i.columns.push(b),i.columns.push(p),w.levels.push({sources:[C]}),w.levels.push({sources:[b]}),a.matrix.valueSources.push(p),I.SQExprBuilder.columnRef(I.SQExprBuilder.entity("s","RegressionEntity"),"RegressionSeries")),V=I.SQExprBuilder.columnRef(I.SQExprBuilder.entity("s","RegressionEntity"),"RegressionCategories"),R=0;R<x.length;R++){var T=x[R],F={level:0,value:T,levelValues:[{levelSourceIndex:0,value:T}],children:[],childIdentityFields:[V],identity:I.createDataViewScopeIdentity(I.SQExprBuilder.and(D,I.SQExprBuilder.typedConstant(T,C.type)))};_.isEmpty(w.root.childIdentityFields)&&(w.root.childIdentityFields=[D]),w.root.children.push(F);for(var M=0;M<S.length;M++){var P=S[M],P={level:1,value:P,levelValues:[{levelSourceIndex:1,value:P}],values:{},identity:I.createDataViewScopeIdentity(I.SQExprBuilder.and(V,I.SQExprBuilder.typedConstant(P,b.type)))};P.values[0]={value:E[R][M]},F.children.push(P)}}return I.DataViewTransform.transformObjects(a,1,f,e,[],l,c),a}}}}function A(e,t,r){var i,n,a=t.valueSources;if(0<=(o=(function(i,e,n){if(!_.isEmpty(e))return _.findIndex(e,(function(r){for(var e in r.roles){e=(function(t){var e;return r.roles[t]?(e=_.find(n,(function(e){return e.name===t})))&&e.cartesianKind===i?{value:!0}:void 0:"continue"})(e);if("object"==typeof e)return e.value}}))})(e,t.valueSources,r))&&void 0!==o)i=a[o],n=function(e){return e.values[o].value};else{var o,a=(function(i,e,n){if(!_.isEmpty(e.root.children)){for(var t=-1,r=0,a=e.levels.length;r<a;r++){var o=e.levels[r];if(-1!==(t=_.findIndex(o.sources,(function(r){for(var e in r.roles){e=(function(t){var e;return r.roles[t]?(e=_.find(n,(function(e){return e.name===t})))&&e.cartesianKind===i?{value:!0}:void 0:"continue"})(e);if("object"==typeof e)return e.value}}))))break}return{level:r,index:t}}})(e,t.rows,r);if(-1===(o=a?a.index:-1))return;i=t.rows.levels[a.level].sources[o],n=function(e){return e.levelValues[o].value}}return{valuesCol:i,getValues:n}}}function k(e,t,r,i,n){return{displayName:e.displayName+i,queryName:t,type:e.type,isMeasure:r,roles:n}}function B(e){for(var t=[],r=0,i=e;r<i.length;r++){var n,a,o,s,u=i[r],l=u.xValues,u=u.yValues;_.isEmpty(l)||_.isEmpty(u)?t.push(null):(n=c(l),a=c(u),!n||!a||!(n=(function(e,t){e=_.zip(e,t),t=_.chain(e).filter((function(e){return null!=e[0]&&null!=e[1]})).sortBy((function(e){return e[0]})).unzip().value(),e=t[0],t=t[1];return e=_.map(e,_.toNumber),t=_.map(t,_.toNumber),{xValues:e,yValues:t}})(l,u))||_.isEmpty(n.xValues)||_.isEmpty(n.yValues)?t.push(null):(a=n.xValues[0],l=n.xValues[n.xValues.length-1],u=p(n.xValues,n.yValues),o=_.min([o,a]),s=_.max([s,l]),t.push(u)))}return{lineDefs:t,xMin:o,xMax:s}}function L(e){return e&&!_.isEmpty(e.lineDefs)&&_.some(e.lineDefs,(function(e){return e}))}function c(e){var t=_.find(e,(function(e){return null!=e}));if(null!=t){var r=typeof t;if(!_.some(e,(function(e){return null!=e&&typeof e!=r})))return r}}function p(e,r,t){void 0===t&&(t=!1);var i,n,a=_.sum(e),o=_.sum(r),s=a/e.length,u=o/r.length,l=_.chain(e).map((function(e){return Math.pow(e-s,2)})).sum().value();if(0!==l)return{incline:l=_.chain(e).map((function(e,t){return(e-s)*(r[t]-u)})).sum().value()/l,intercept:u-s*l,rSquared:i=t&&(l=_.size(e),t=_.chain(e).map((function(e,t){return e*r[t]})).sum().value(),e=_.chain(e).map((function(e){return e*e})).sum().value(),n=_.chain(r).map((function(e){return e*e})).sum().value(),0!==(e=Math.sqrt((l*e-Math.pow(a,2))*(l*n-Math.pow(o,2)))))?Math.pow((l*t-a*o)/e,2):i}}function H(e,t,r){return e?[t*e.incline+e.intercept,r*e.incline+e.intercept]:[null,null]}I=Q.data||(Q.data={}),j=Q.DataViewMapping,q=I.DataViewRegression||(I.DataViewRegression={}),O="RegressionX",U="RegressionSeries",q.regressionYQueryName="RegressionY",q.run=function(e){var t=e.visualDataViews,r=e.dataRoles,i=e.objectDescriptors,n=e.objectDefinitions,a=e.transformSelects,o=e.applicableDataViewMappings,s=e.roleKindByQueryRef,u=e.queryProjectionsByRole,l=e.visualStyle,c=e.featureSwitches;if(!_.isEmpty(t)&&a){if(!s||!u||_.isEmpty(o)||!i||!n)return t;var p=_.find(o,(function(e){return!!j.getRegressionUsage(e)}));if(p){for(var f=[],d=0,h=t;d<h.length;d++){var m=v(h[d],o,r,p,i,n,l,c);m&&f.push(m)}_.isEmpty(f)||t.push.apply(t,f||[])}}return t},q.linearRegressionTransform=v,q.computeRegressionLine=p})(powerbi=powerbi||{}),(function(s){(s.visuals||(s.visuals={})).formatSparklines=function(e,t,r){if(r){var i,n,a,o=r.points,o=_.filter(o,(function(e){return null!=e.x&&null!=e.y}));if(!_.isEmpty(o))return 1===(n=_.size(o))?{key:"Sparkline_Tooltip_SinglePoint_CategoricalSameHighLow",parameters:[e,r.lowY]}:(t=t.misc.sparkline.groupingType)&&!!(t.numeric||t.dateTime||t.temporal)?(i=o[0].y,t=o[n-1].y,_.some(o,(function(e){return e.y!==i}))?.5<s.data.DataViewRegression.computeRegressionLine(_.map(o,(function(e){return e.x})),_.map(o,(function(e){return e.y})),!0).rSquared?(n="Sparkline_Tooltip_ScalarTrend",n+=i<t?"Up":"Down",0!==i?(a=100*(t-i)/i,n+="Percent"):(a=t-i,n+="Value"),{key:n,parameters:[e,+Math.abs(a).toFixed(2)]}):{key:"Sparkline_Tooltip_CategoricalDifferentHighLow_ScalarNoTrend",parameters:[e,r.lowY,r.highY]}:{key:"Sparkline_Tooltip_ScalarNoChange",parameters:[e,i]}):r.lowY===r.highY?{key:"Sparkline_Tooltip_SinglePoint_CategoricalSameHighLow",parameters:[e,r.lowY]}:{key:"Sparkline_Tooltip_CategoricalDifferentHighLow_ScalarNoTrend",parameters:[e,r.lowY,r.highY]}}}})(powerbi=powerbi||{}),(function(s){var l,e;l=s.data||(s.data={}),(e=l.DataViewSelectTransform||(l.DataViewSelectTransform={})).projectionsFromSelects=function(e,t){if(_.isEmpty(e))return{};for(var r={},i=0,n=e;i<n.length;i++){var a=n[i];if(a){var o,s=a.roles;if(s)for(var u in s)s[u]&&((o=(o=r[u])||(r[u]=new l.QueryProjectionCollection([]))).addProjection({queryRef:a.queryName}),t)&&t[u]&&(o.activeProjectionRefs=_.map(t[u],(function(e){return e.queryRef})))}}return r},e.createRoleKindFromMetadata=function(e,t){for(var r={},i=0,n=t.columns;i<n.length;i++){var a,o=n[i];!o.index&&0!==o.index||o.index<0||o.index>=e.length||(a=e[o.index])&&(a=a.queryName)&&void 0===r[a]&&(r[a]=o.isMeasure?s.VisualDataRoleKind.Measure:s.VisualDataRoleKind.Grouping)}return r},e.findExprQueryName=function(t,e){if(l.SQExpr.isSelectRef(t))return t.expressionName;if(e){e=_.find(e,(function(e){return e.expr&&l.SQExpr.equals(e.expr,t)}));if(e)return e.queryName}},e.findExprSelectIndex=function(e,t,r){if(t){l.SQExpr.isSelectRef(e)&&(i=e.expressionName);for(var i,n=r||0,a=t.length;n<a;n++){var o=t[n];if(o&&(!i||o.queryName))if(i){if(o.queryName===i)return n}else if(l.SQExpr.equals(o.expr,e))return n}}return-1},e.reorderDependentSelects=function(u,l){if(!_.isEmpty(u)&&!_.isEmpty(l)){for(var c={},e=function(s){var e=u[s];if(!_.isEmpty(e.relatedSelects))for(var t=0,r=e.relatedSelects;t<r.length;t++)!(function(e){var t=e.queryName,r=_.findIndex(u,(function(e){return e.queryName&&e.queryName===t})),e=u[r];if(-1<r)for(var i=0,n=_.keys(e.roles);i<n.length;i++){var a=n[i],o=_.remove(l[a],(function(e){return e===s}));_.isEmpty(o)||((o=c[r]=c[r]||{})[a]=o[a]||[]).push(s)}})(r[t])},t=0;t<u.length;t++)e(t);if(!_.isEmpty(c))for(var r in c)!(function(t){var e,r=c[t];for(e in r){var i=l[e],n=_.findIndex(i,(function(e){return e===parseInt(t,10)}));i.splice.apply(i,__spreadArray([n+1,0],r[e],!1))}})(r)}}})(powerbi=powerbi||{}),(function(e){var n=e.data||(e.data={}),t=(n.createCategoricalEvalContext=function(e){return new t(e)},r.prototype.getExprColumn=function(e,t){return n.DataViewMetadataColumnUtils.findExprColumn(e,this.valueSources,t?void 0:this.groupName)},r.prototype.getScopedEvalExprValue=function(e){var t,r=e.decomposeGlobalAggregateOfScopedExpr();return r?(t=_.chain(this.valueSources).filter((function(e){return null==e.groupName})).value(),(t=n.DataViewMetadataColumnUtils.findExprColumn(r.source,t))?n.DataViewMetadataColumnUtils.getAggregate(t,r.func):void 0):e.hasInnerMostScope()?this.getExprValue(e.expression):void e.hasGlobalScope()},r.prototype.getExprValue=function(e){var t=this.index;if(_.isNumber(t)){var r=this.dataView.values;if(r){var i=n.DataViewMetadataColumnUtils.findExprColumn(e,this.valueSources,this.groupName),e=_.find(r,(function(e){return e.source===i}));if(e)return(this.useHighlightValues?e.highlights:e.values)[t]}}},r.prototype.getRoleValues=function(e){var t=this,r=this.columnsByRole,i=(i=r[e])||(r[e]=(r=this.dataView,e=e,a(r.values,e)||a(r.categories,e)));return i&&null!=this.index?_.map(i,(function(e){return e.values[t.index]})):void 0},r.prototype.setCurrentRowIndex=function(e){this.index=e},r.prototype.resetCurrentRowIndex=function(){delete this.index},r.prototype.setCurrentColumnGroupName=function(e){this.groupName=e},r.prototype.useHighlights=function(e){this.useHighlightValues=e},r);function r(e){this.dataView=e,this.columnsByRole={},this.valueSources=[];var t={};if(this.dataView.values)for(var r=0,i=this.dataView.values;r<i.length;r++){var n=i[r],a=(this.valueSources.push(n.source),n.source.rootSource);a&&(t[n.source.index]=a)}(e=this.valueSources).unshift.apply(e,_.values(t))}function a(e,t){if(e){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i],o=a.source.roles;o&&o[t]&&r.push(a)}return r}}})(powerbi=powerbi||{}),(function(e){var i=e.data||(e.data={}),r=(i.createTableEvalContext=function(e,t){return new r(e,t)},t.prototype.getExprColumn=function(e){return i.DataViewMetadataColumnUtils.findExprColumn(e,this.dataView.columns)},t.prototype.getScopedEvalExprValue=function(e){var t,r=e.decomposeGlobalAggregateOfScopedExpr();return r?(t=i.DataViewMetadataColumnUtils.findExprColumn(r.source,this.dataView.columns))?i.DataViewMetadataColumnUtils.getAggregate(t,r.func):void 0:e.hasInnerMostScope()?this.getExprValue(e.expression):void e.hasGlobalScope()},t.prototype.getExprValue=function(e){var t=this.row;if(null!=t)return i.getExprValueFromTable(e,this.selectTransforms,this.dataView.columns,t)},t.prototype.getRoleValues=function(e){},t.prototype.setCurrentRow=function(e){this.row=e},t);function t(e,t){this.dataView=e,this.selectTransforms=t}})(powerbi=powerbi||{}),(function(e){function t(){}e=e.data||(e.data={}),t.prototype.evaluate=function(e){},e.RuleEvaluation=t})(powerbi=powerbi||{}),(function(e){var i;function t(e,t){var r=this;return(r=i.call(this)||this).inputRole=e,r.allocator=t,r}e=e.data||(e.data={}),i=e.RuleEvaluation,__extends(t,i),t.prototype.evaluate=function(e){e=e.getRoleValues(this.inputRole),e=_.head(e);if(void 0!==e)return this.allocator.color(e)},e.ColorRuleEvaluation=t})(powerbi=powerbi||{}),(function(e){function t(){}e=e.data||(e.data={}),t.prototype.findProperty=function(e,t){e=this.entities.withName(e);if(e&&!_.isEmpty(e.properties))return e.properties.withName(t)},Object.defineProperty(t.prototype,"isExtensionSchema",{get:function(){return this.hasOwnProperty("extends")},enumerable:!1,configurable:!0}),t.prototype.findHierarchy=function(e,t){e=this.entities.withName(e);if(e&&!_.isEmpty(e.hierarchies))return e.hierarchies.withName(t)},t.prototype.findHierarchyLevel=function(e,t,r){e=this.entities.withName(e);if(e&&!_.isEmpty(e.hierarchies)){e=e.hierarchies.withName(t);if(e&&!_.isEmpty(e.levels))return e.levels.withName(r)}},t.prototype.findHierarchyByVariation=function(e,t,r,i){e=this.findTargetEntityOfVariation(e,t,r);if(e&&!_.isEmpty(e.hierarchies))return e.hierarchies.withName(i)},t.prototype.findTargetEntityOfVariation=function(e,t,r){e=this.entities.withName(e);return e&&!_.isEmpty(e.properties)&&(t=e.properties.withName(t))&&(t=t.column)&&!_.isEmpty(t.variations)&&(t=t.variations.withName(r))?t.navigationProperty?t.navigationProperty.targetEntity:e:void 0},t.prototype.findPropertyWithKpi=function(e,t){e=this.entities.withName(e);if(e&&!_.isEmpty(e.properties))for(var r=0,i=e.properties;r<i.length;r++){var n=i[r];if(n&&n.measure&&n.measure.kpi&&(n.measure.kpi.status===t||n.measure.kpi.goal===t))return n}},t.prototype.findVariationMappings=function(e){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[e]},t.prototype.findVariationToHierarchyMappings=function(e){e=this.findVariationMappings(e);return _.filter(e,(function(e){return e.variation.defaultHierarchy}))},t.prototype.findTableNameFromMeasureName=function(e){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[e]},Object.defineProperty(t.prototype,"isMultiDimensionalModel",{get:function(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange},enumerable:!1,configurable:!0}),t.prototype.buildVariationMappings=function(){var a={};return _(this.entities).filter((function(e){return e.properties})).forEach((function(n){_(n.properties).filter((function(e){return e.column&&e.column.variations})).forEach((function(i){_(i.column.variations).filter((function(e){return e.navigationProperty&&e.navigationProperty.targetEntity})).forEach((function(e){var t=e.navigationProperty.targetEntity.name,r=a[t];r||(a[t]=r=[]),r.push({sourceEntity:n,sourceProperty:i,variation:e})}))}))})),a},t.prototype.buildMeasureNameToTableNameMappings=function(){for(var e={},t=0,r=this.entities;t<r.length;t++)for(var i=r[t],n=0,a=i.properties;n<a.length;n++){var o=a[n];(o=o).measure&&("there is a collision for ".concat(o.name,"; every measure has a unqiue name in the model"),e[o.name]=i.name)}return e},e.ConceptualSchema=t,e.conceptualDataCategoryToString=function(e){switch(e){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}},e.conceptualDataCategoryFromString=function(e){switch(e){case"None":return 0;case"Address":return 1;case"City":return 2;case"Company":return 3;case"Continent":return 4;case"Country":return 5;case"County":return 6;case"Date":return 7;case"Image":return 8;case"ImageUrl":return 9;case"Latitude":return 10;case"Longitude":return 11;case"Organization":return 12;case"Place":return 13;case"PostalCode":return 14;case"Product":return 15;case"StateOrProvince":return 16;case"WebUrl":return 17}}})(powerbi=powerbi||{}),(function(m){var v=jsCommon.StringExtensions,y=m.data.FieldExprPattern,e=m.ScriptResultUtil||(m.ScriptResultUtil={}),i="png";function n(e){if(e&&1===e.length&&e[0])return e[0].scriptResult}function g(e){if(e)return a(e.scriptSourceDefault,e.scriptProviderDefault,e.scriptOutputType)}function a(e,t,r){if(!v.isNullOrUndefinedOrWhiteSpaceString(e)&&!v.isNullOrUndefinedOrWhiteSpaceString(t))return{source:e,provider:t,outputType:r||i}}function o(e,t,r,i,n){var a=!!g(i),o={VariableName:"dataset",Columns:[],Parameters:[]};if(e&&t&&!_.isEmpty(t)){var s,u=[],l=[];for(s in e)for(var c=0,p=e[s].all();c<p.length;c++){var f=p[c],f=t.withName(f.queryRef);f&&(d={QueryName:f.name},f=y.visit(f.expr,new x(r)),a&&(f=(d.Role=s)+"."+f),l.push(d),u.push(f))}for(var d,u=v.ensureUniqueNames(u),h=0;h<u.length;h++)(d=l[h]).Name=u[h];o.Columns=l}return o.Parameters=(function(e,t){var r=[];if(t)for(var i in t){var n=m.DataViewObjects.getObject(t,i);if(n)for(var a in n){var o=(function(e,t,r,i){if(!(e&&e.source&&e.source.objectName===r&&e.source.propertyName===i||e&&e.provider&&e.provider.objectName===r&&e.provider.propertyName===i)){r=m.DataViewObject.getFillColorByPropertyName(t,i);if(r)return m.data.PrimitiveValueEncoding.text(r);var n=m.DataViewObject.getValue(t,i);if(null!=n)switch(typeof n){case"string":return m.data.PrimitiveValueEncoding.text(n);case"number":var a=n;return m.Double.isInteger(a)?m.data.PrimitiveValueEncoding.integer(a):m.data.PrimitiveValueEncoding.double(a);case"boolean":return m.data.PrimitiveValueEncoding.boolean(n)}}})(e,n,i,a);o&&r.push({ObjectName:i,PropertyName:a,Value:o})}}return r})(i,n),o}e.findScriptResultMapping=n,e.extractScriptResult=function(e){var t=n(e);if(t){var r,e=e[0].metadata&&e[0].metadata.objects;if(t&&t.script&&t.script.source&&t.script.provider&&e)return r=m.DataViewObjects.getValue(e,t.script.source),e=m.DataViewObjects.getValue(e,t.script.provider),a(r,e,t.script.scriptOutputType)}},e.extractScriptResultFromVisualConfig=function(e,t){if(t){var r,e=n(e);if(e&&e.script&&e.script.source&&e.script.provider)return r=m.data.DataViewObjectDefinitions.getValue(t,e.script.source,null),t=m.data.DataViewObjectDefinitions.getValue(t,e.script.provider,null),a(r?r.value:null,t?t.value:null,e.script.scriptOutputType)}},e.extractScriptResultDefaultFromDataViewMappings=function(e){return g((e=n(e))&&e.script)},e.extractScriptResultDefaultFromDataViewMappingScriptDefinition=g,e.getScriptInput=function(e,t,r,i,n){if(i&&i.script)return o(e,t,r,i.script,n)},e.getScriptInputFromScriptDefinition=o,t.prototype.visitNativeVisualCalc=function(e){},t.prototype.visitColumn=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitColumnAggr=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitGroupingColumn=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitGroupingColumnAggr=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitColumnHierarchyVariation=function(e){return t.getVariationHierarchyName(e,this.federatedSchema)},t.prototype.visitColumnHierarchyLevelVariation=function(e){return t.getVariationLevelName(e,this.federatedSchema)},t.prototype.visitColumnSubquery=function(e){},t.prototype.visitColumnAggrSubquery=function(e){},t.prototype.visitColumnTransformRef=function(e){},t.prototype.visitEntity=function(e){return e.entity},t.prototype.visitEntityAggr=function(e){return e.entity},t.prototype.visitHierarchy=function(e){return t.getNameForHierarchy(e,this.federatedSchema)},t.prototype.visitHierarchyLevel=function(e){return t.getNameForHierarchyLevel(e,this.federatedSchema)},t.prototype.visitHierarchyLevelAggr=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitMeasure=function(e){return t.getNameForProperty(e,this.federatedSchema)},t.prototype.visitSelectRef=function(e){return y.visit(e,this)},t.prototype.visitPercentile=function(e){return y.visit(e.arg,this)},t.prototype.visitPercentOfGrandTotal=function(e){return y.visit(e.baseExpr,this)},t.prototype.visitPercentOfRoleTotal=function(e){return y.visit(e.baseExpr,this)},t.prototype.visitTransformOutputRoleRef=function(e){return y.visit(e,this)},t.prototype.visitFilteredEval=function(e){return y.visit(e,this)},t.prototype.visitArithmetic=function(e){},t.prototype.visitConstant=function(e){},t.prototype.visitSparklineData=function(e){},t.getNameForHierarchy=function(e,t){t=t.schema(e.schema).findHierarchy(e.entity,e.name);if(t)return t.name},t.getNameForHierarchyLevel=function(e,t){t=t.schema(e.schema).findHierarchyLevel(e.entity,e.name,e.level);if(t)return t.column.name},t.getNameForProperty=function(e,t){t=t.schema(e.schema).findProperty(e.entity,e.name);if(t)return t.name},t.getVariationHierarchyName=function(e,t){var r=e.source,t=t.schema(r.schema).findProperty(r.entity,r.name);if(t)for(var i=0,n=t.column.variations;i<n.length;i++){var a=n[i];if(a.name===e.variationName&&e.hierarchy.name===a.defaultHierarchy.name)return e.hierarchy.name}},t.getVariationLevelName=function(e,t){var r=e.source,t=t.schema(r.schema).findProperty(r.entity,r.name);if(t)for(var i=0,n=t.column.variations;i<n.length;i++){var a=n[i];if(a.name===e.variationName)for(var o=0,s=a.defaultHierarchy.levels;o<s.length;o++){var u=s[o];if(u.name===e.level.level)return u.column.name}}};var x=t;function t(e){this.federatedSchema=e}})(powerbi=powerbi||{}),(function(e){function C(e,t){var r;_.isEmpty(t.rows)||(r=t.lastMergeIndex+1,f(e.rows,t.rows,r),t.identity&&f(e.identity,t.identity,r))}function D(e,t){if(!_.isEmpty(e.categories)&&!_.isEmpty(t.categories)){for(var r=t.lastMergeIndex+1,i=t.categories.length,n=0;n<i;n++)a=n,o=void 0,o=t.categories[a],a=e.categories[a],o.values&&f(a.values,o.values,r);t.categories[0].identity&&f(e.categories[0].identity,t.categories[0].identity,r)}var a,o,s,u,l;if(e.values&&t.values)for(var c=t.values.length,p=0;p<c;p++)s=p,l=u=void 0,u=t.values[s],!(s=e.values[s]).values&&u.values&&(s.values=[]),l=t.lastMergeIndex+1,u.values&&f(s.values,u.values,l),u.highlights&&f(s.highlights,u.highlights,l)}function f(e,t,r){var i;return r>=t.length?t:(i=[],void 0!==r&&(i=t.splice(0,r)),Array.prototype.push.apply(e,t),i)}function V(e,t,r){var i,n;t.children&&0!==t.children.length&&(!r||e.children&&0!==e.children.length?(n=o(t.children),i=e.children[e.children.length-1],0<(n=f(e.children,t.children,n)).length&&V(i,n[n.length-1],r)):e.children=t.children)}function o(e){if(0===e.length)return 0;for(var t=0;t<e.length&&e[t].isMerge;t++);return t}function R(e,t,r){for(var i=0,n=e;i<n.length;i++){var a=n[i];a.isSubtotal||(a.level===t?r.push(a):!_.isEmpty(a.children)&&void 0!==a.level&&a.level<t&&R(a.children,t,r))}}(e=(e=(e=e.data||(e.data={})).segmentation||(e.segmentation={})).DataViewMerger||(e.DataViewMerger={})).mergeDataViews=function(e,r){if(e.matrix,r.metadata.segment?e.metadata.segment=r.metadata.segment:delete e.metadata.segment,e.table&&r.table&&C(e.table,r.table),e.categorical&&r.categorical&&D(e.categorical,r.categorical),e.tree&&r.tree&&V(e.tree.root,r.tree.root,!0),e.matrix&&r.matrix){e.matrix.rows,e.matrix.rows.levels,r.matrix.rows,r.matrix.rows.levels,e.metadata,e.metadata.columns,r.metadata,r.metadata.columns;var t=e.matrix.rows.levels.length,i=r.matrix.rows.levels.length;if(i<t){_.remove(e.metadata.columns,(function(t){return null!=t.index&&!_.some(r.metadata.columns,(function(e){return e.index===t.index}))})),e.metadata.columns.length=r.metadata.columns.length;var n=e.matrix.rows,a=(a=r.matrix.rows).levels.length,o=(n.levels.length=a,[]);R(n.root.children,a-1,o);for(var s,u=0,l=o;u<l.length;u++){c=void 0;s=void 0;var c=l[u];_.isEmpty(c.children)||((s=_.find(c.children,(function(e){return e.isSubtotal})))&&(c.values=s.values),delete c.children,delete c.childIdentityFields)}}else if(t<i){for(var p=0,f=0,d=_.filter(r.metadata.columns,(function(t){return null!=t.index&&!_.some(e.metadata.columns,(function(e){return e.index===t.index}))}));f<d.length;f++){for(var h=d[f];p<e.metadata.columns.length&&(null==e.metadata.columns[p].index||e.metadata.columns[p].index<h.index);)p++;e.metadata.columns.splice(p,0,h)}for(var m=e.matrix.rows,v=r.matrix.rows,y=v.levels.length,g=m.levels.length,x=g;x<y;x++)m.levels.push(v.levels[x]);n=[];R(m.root.children,g-1,n);for(var S=0,E=n;S<E.length;S++){w=void 0;b=void 0;var w=E[S];var b=g;w.isSubtotal||(w.children=[{isSubtotal:!0,level:b,values:w.values}],delete w.values)}!(function(e,t){for(var r=e.root,i=0;i<t;i++){if(_.isEmpty(r.children))return;if(!(r=r.children[0]).isMerge||r.isSubtotal)return}return 1})(v,g)||delete _.last(n).children}V(e.matrix.rows.root,r.matrix.rows.root,t!==i)}},e.mergeTables=C,e.mergeCategorical=D,e.mergeTreeNodes=V,e.pruneTree=function(e,t){for(var r=0,i=t;r<i.length;r++){var n=i[r],a=e.children;if(_.isEmpty(a))return!0;if(n>=a.length)return!1;a.length=n+1,e=_.last(a)}return!0},e.updateTreeLastNodeIndex=function(e,t){for(var r=e.children,i=(e.children,0),n=!0;!_.isEmpty(r);){var a=o(r),n=a>=r.length||(a=r.length-a,!n||void 0===t[i]?t[i]=a-1:t[i]+=a,!1),r=_.last(r).children;i++}i<t.length&&(t.length=i)}})(powerbi=powerbi||{}),(function(e){var n,r,t,i;function a(){return r.call(this)||this}function o(){}((n=e.data||(e.data={})).EqualsToInRewriter||(n.EqualsToInRewriter={})).run=function(e){return e.accept(new t)},r=n.SQExprRewriter,__extends(a,r),a.prototype.visitCompare=function(e){var t,r,i;return 0!==e.comparison||!this.isSupported(e.left)||!this.isSupported(e.right)||(r=this.isComparand(e.left))===this.isComparand(e.right)?this.visitUnsupported(e):(t=r?e.left:e.right,r=r?e.right:e.left,(i=this.current)?(i.add(t,r),e):n.SQExprBuilder.inValues([t],[[r]]))},a.prototype.visitOr=function(e){var t;return this.isSupported(e.left)&&this.isSupported(e.right)?(this.current||(t=this.current=new i),e.left.accept(this),e.right.accept(this),t&&(this.current=null,t.complete())||e):this.visitUnsupported(e)},a.prototype.visitAnd=function(e){var t;return this.isSupported(e.left)&&this.isSupported(e.right)?(t=this.current)?(t.cancel(),e):r.prototype.visitAnd.call(this,e):this.visitUnsupported(e)},a.prototype.visitUnsupported=function(e){var t=this.current;return t&&t.cancel(),e},a.prototype.isSupported=function(e){return e instanceof n.SQCompareExpr||e instanceof n.SQColumnRefExpr||e instanceof n.SQConstantExpr||e instanceof n.SQHierarchyLevelExpr||e instanceof n.SQOrExpr||e instanceof n.SQAndExpr},a.prototype.isComparand=function(e){return e instanceof n.SQColumnRefExpr||e instanceof n.SQHierarchyLevelExpr},t=a,o.prototype.add=function(e,t){this.cancelled||(this.operand&&!n.SQExpr.equals(e,this.operand)?this.cancel():(this.operand=e,(this.values||(this.values=[])).push(t)))},o.prototype.cancel=function(){this.cancelled=!0},o.prototype.complete=function(){if(!this.cancelled&&this.operand)return n.SQExprBuilder.inValues([this.operand],_.map(this.values,(function(e){return[e]})))},i=o})(powerbi=powerbi||{}),(function(e){var t,r;function i(){var e=t.call(this)||this;return e.entityExprs={},e.filterKind=0,e.isSubquery=!1,e}((e=e.data||(e.data={})).FilterAnalyzer||(e.FilterAnalyzer={})).runAnalyzer=function(e){var t=new r;return e.accept(t),t.analyze()},(e.FilterKindDetector||(e.FilterKindDetector={})).runDetector=function(e){var t=new r;return e.accept(t),t.analyze().filterKind},t=e.DefaultSQExprVisitorWithTraversal,__extends(i,t),i.prototype.analyze=function(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}},i.prototype.visitMeasureRef=function(e){this.filterKind=1,e.source.accept(this)},i.prototype.visitExists=function(e){this.filterKind=2,e.arg.accept(this)},i.prototype.visitAggr=function(e){this.filterKind=1,e.arg.accept(this)},i.prototype.visitSubqueryRef=function(e){this.isSubquery=!0},i.prototype.visitEntity=function(e){this.entityExprs[e.entity]=!0},r=i})(powerbi=powerbi||{}),(function(e){var p=e.data||(e.data={}),i=jsCommon.ArrayExtensions;function r(e,t,r){void 0===r&&(r=!0);e=e.conditions(),e=e[0];if(e){t=new n(t,r,e);if(e.accept(t))return t.getResult()}}(e=p.SQExprConverter||(p.SQExprConverter={})).asScopeIdsContainer=function(e,t){if(e=r(e,t,!1))return{isNot:_.some(e,(function(e){return!e.selected})),scopeIds:[_.map(e,(function(e){return e.identity}))]}},e.asFilterNodes=r,e.getFirstComparandValue=function(e){if(e=e.expr.accept(new o))return e.value},e.getAllComparands=function(e){return e.expr.accept(new l)},f=p.DefaultSQExprVisitor,__extends(a,f),a.prototype.getResult=function(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})},a.prototype.toFilterNode=function(e,t){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i];r.push({identity:a.identity,selected:a.selected,checked:a.checked,children:_.isEmpty(a.children)?void 0:this.toFilterNode(a.children,t),index:a.checked?t.index++:void 0})}return r},a.getScopeIdentity=function(e,t){for(var r=0,i=e.length;r<i;r++)var n=p.SQExprBuilder.equal(e[r],t[r]),a=a?p.SQExprBuilder.and(a,n):n;return p.createDataViewScopeIdentity(a)},a.prototype.visitOr=function(e){this.resetState();var t=e.left.accept(this);return this.resetState(),t&&e.right.accept(this)},a.prototype.visitAnd=function(e){if(this.supportsMultiLevelFilters){var t=!1;if(t=this.isNot&&(e.left instanceof p.SQAndExpr||e.left instanceof p.SQInExpr)&&(e.right instanceof p.SQInExpr||e.right instanceof p.SQAndExpr)||!this.isNot&&(e.left instanceof p.SQOrExpr||e.left instanceof p.SQInExpr||e.left instanceof p.SQAndExpr||e.left instanceof p.SQNotExpr)&&(e.right instanceof p.SQOrExpr||e.right instanceof p.SQInExpr||e.right instanceof p.SQAndExpr||e.right instanceof p.SQNotExpr)||(e.left instanceof p.SQCompareExpr||e.left instanceof p.SQAndExpr)&&(e.right instanceof p.SQCompareExpr||e.right instanceof p.SQAndExpr)?!0:t)return(t=!1===this.isAnd)&&this.resetState(),this.isAnd=!0,e=e.left.accept(this)&&e.right.accept(this),t&&(this.isAnd=!1),e}return this.unsupportedSQExpr()},a.prototype.visitNot=function(e){this.isNot=!0;e=e.arg.accept(this);return this.isNot=!1,e},a.prototype.visitConstant=function(e){return 0===this.keyIndex&&0===e.type.primitiveType?this.unsupportedSQExpr():(this.addValue(e),!0)},a.prototype.visitCompare=function(e){return 0<this.keyIndex&&!this.supportsMultiLevelFilters||0!==e.comparison?this.unsupportedSQExpr():e.right instanceof p.SQAnyValueExpr||e.left.accept(this)&&e.right.accept(this)},a.prototype.visitIn=function(e){if(!e.values)return!1;this.resetState();for(var t=0,r=e.args;t<r.length;t++){var n,i=r[t];if(!(n=i.accept(this)))return this.unsupportedSQExpr()}if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();for(var e=e.values,a=this,o=0,s=e;o<s.length;o++){var u=(function(e){for(var t=0,r=e;t<r.length;t++){var i=r[t];if(!(n=i.accept(a)))return{value:a.unsupportedSQExpr()}}})(s[o]);if("object"==typeof u)return u.value}return n},a.prototype.visitColumnRef=function(e){e=p.SQExprBuilder.removeEntityVariables(e),e=p.SQExpr.equals(this.fieldExprs[this.keyIndex],e);return this.keyIndex++,e},a.prototype.visitDefaultValue=function(e){return this.addValue(e),!0},a.prototype.visitAnyValue=function(e){return!0},a.prototype.visitDefault=function(e){return this.unsupportedSQExpr()},a.prototype.unsupportedSQExpr=function(){return!1},a.prototype.addValue=function(e){var t=this.valueIndex%this.keyIndex,r=this.groups[t];0==t?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(e)):this.currentNode.groupIndex===r?(this.currentNode.values.push(e),this.currentNode.columns.push(this.fieldExprs[t])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(e)),this.valueIndex++},a.prototype.addScopeId=function(){var t,e,r;if(this.currentNode)return t=this.currentNode,e=this.parent&&this.parent.children||this.values,(r=_.find(e,(function(e){return i.sequenceEqual(e.values,t.values,p.SQExpr.equals)})))?t.checked&&!r.checked&&(r.selected=t.selected,r.checked=t.checked):(t.identity=a.getScopeIdentity(t.columns,t.values),e.push(t)),r||t},a.prototype.createNode=function(e){var t=this.valueIndex%this.keyIndex,r=this.groups[t];return{children:[],selected:!this.isNot,checked:!0,values:[e],columns:[this.fieldExprs[t]],groupIndex:r,identity:void 0}},a.prototype.resetState=function(){this.keyIndex=0,this.valueIndex=0};var f,n=a;function a(e,t,r){var i,n=f.call(this)||this,a=(n.supportsMultiLevelFilters=t,n.filter=r,n.isNot=!1,n.isAnd=!1,n.keyIndex=0,n.valueIndex=0,n.fieldExprs=[],n.groups=[],n.supportedGroups={},0),o=0;n.values=[];for(var s=0,u=e;s<u.length;s++){var l,c=u[s];_.isEmpty(c)||(l=_.map(c,(function(e){return p.SQExprBuilder.removeEntityVariables(e)})),o+=c.length,n.supportedGroups[o]=!0,(i=n.fieldExprs).push.apply(i,l||[]),(i=n.groups).push.apply(i,_.map(c,(function(e){return a}))),a++)}return n}t=p.DefaultSQExprVisitor,__extends(s,t),s.prototype.visitAnd=function(e){return e.left.accept(this)||e.right.accept(this)},s.prototype.visitCompare=function(e){if(0===e.comparison)return e.right instanceof p.SQConstantExpr?e.right:e.left instanceof p.SQConstantExpr?e.left:void 0};var t,o=s;function s(){return null!==t&&t.apply(this,arguments)||this}u=p.DefaultSQExprVisitor,__extends(c,u),c.prototype.visitAnd=function(e){var t=[];return t=(t=t.concat(e.left.accept(this))).concat(e.right.accept(this))},c.prototype.visitCompare=function(e){var t;if(0===e.comparison)return t=[],e.right instanceof p.SQConstantExpr?t.push({expr:e.left,value:e.right.value}):e.left instanceof p.SQConstantExpr&&t.push({expr:e.right,value:e.left.value}),t};var u,l=c;function c(){return null!==u&&u.apply(this,arguments)||this}})(powerbi=powerbi||{}),(function(e){var i=e.data||(e.data={});function n(e,t){var r=new a,t=(t.accept(r),{fieldsBeingFiltered:_.uniqWith(r.fieldsBeingFiltered,i.SQExpr.equals),isSubquery:!1});return r.subqueryName&&(t.isSubquery=!0,e=(e=e.sources())&&e[r.subqueryName],r=i.SubqueryOrderByExtractor.run(e))&&(t.orderByField=r.orderByField,t.itemCount=r.itemCount,t.isTop=r.isTop),t}(i.PassthroughFilterPattern||(i.PassthroughFilterPattern={})).extractParametersFromFilter=function(e,t){var r;if(e)return e instanceof i.SemanticFilter?(r=e.conditions(),_.isEmpty(r)||1<r.length?void 0:n(e.from(),r[0])):n(t,e.condition)},t=i.DefaultSQExprVisitorWithTraversal,__extends(r,t),r.prototype.visitColumnRef=function(e){this.fieldsBeingFiltered.push(e)},r.prototype.visitHierarchyLevel=function(e){this.fieldsBeingFiltered.push(e)},r.prototype.visitGroupRef=function(e){this.fieldsBeingFiltered.push(e)},r.prototype.visitSubqueryRef=function(e){e.variable&&(this.subqueryName=e.variable)},r.prototype.visitAggr=function(e){i.SQExprConverter.asFieldPattern(e)&&this.fieldsBeingFiltered.push(e)},r.prototype.visitPropertyVariationSource=function(e){this.fieldsBeingFiltered.push(e)},r.prototype.visitMeasureRef=function(e){this.fieldsBeingFiltered.push(e)};var t,a=r;function r(){var e=t.call(this)||this;return e.fieldsBeingFiltered=[],e}i.PassthroughFilterConditionVisitor=a})(powerbi=powerbi||{}),(function(a){var t,e,r;function i(e){var t=new r;return t.tryParseCondition(e)?{field:t.field,options:t.options}:null}function n(e){return s(e,-1)}function o(e){return s(e,0)}function s(e,t){var r,i,n={};return null!=e.min&&((r=a.cloneDateWithEpochValue(e.min)).setHours(0,0,0,0),(i=new Date(r.epochTimeStamp)).setUTCHours(0,0,0,0),r.epochTimeStamp=i.getTime(),n.min=r),null!=e.max&&((i=new Date(e.max.getFullYear(),e.max.getMonth(),e.max.getDate()+t)).epochTimeStamp=Date.UTC(i.getFullYear(),i.getMonth(),i.getDate()),n.max=i),n}function u(){}t=a.data||(a.data={}),(e=t.RangeFilterPattern||(t.RangeFilterPattern={})).extractParametersFromSemanticFilter=function(e){if(e){e=e.conditions();if(e&&1===e.length)return i(e[0])}},e.extractParametersFromCondition=i,e.roundUpDateRange=function(e){return s(e,1)},e.roundDownDateRange=n,e.setDateTimeToZero=o,u.prototype.tryParseCondition=function(e){return t.SQExpr.isAnd(e)?this.tryParseAndCondition(e):!!t.SQExpr.isCompare(e)&&this.tryParseCompareCondition(e)},u.prototype.tryParseAndCondition=function(e){return!(!t.SQExpr.isCompare(e.left)||!t.SQExpr.isCompare(e.right))&&this.tryParseCompareCondition(e.left)&&this.tryParseCompareCondition(e.right)},u.prototype.tryParseCompareCondition=function(e){return!(!t.SQExpr.isColumn(e.left)&&!t.SQExpr.isHierarchyLevel(e.left))&&(this.field=e.left,this.options=this.options||{},this.tryParseNumericCompareCondition(e)||this.tryParseDateCompareCondition(e))},u.prototype.tryParseNumericCompareCondition=function(e){if(!t.SQExpr.isConstantNumeric(e.right))return!1;switch(e.comparison){case 0:this.options.min=e.right.value,this.options.max=e.right.value;break;case 1:case 2:this.options.min=e.right.value;break;case 3:case 4:this.options.max=e.right.value;break;default:return e.comparison,!1}return!0},u.prototype.tryParseDateCompareCondition=function(e){return t.SQExpr.isDateSpan(e.right)&&e.right.arg&&t.SQExpr.isConstantDate(e.right.arg)?this.tryParseDateConstantCondition(e.comparison,e.right.arg):!!t.SQExpr.isConstantDate(e.right)&&this.tryParseDateConstantCondition(e.comparison,e.right)},u.prototype.parseDateValue=function(e){return a.isDateWithEpochValue(e)?e:a.dateWithEpochValueFromLocalDate(new Date(e))},u.prototype.tryParseDateConstantCondition=function(e,t){switch(e){case 0:this.options.min=this.parseDateValue(t.value),this.options.max=this.parseDateValue(t.value);break;case 1:case 2:this.options.min=this.parseDateValue(t.value);break;case 3:this.options.max=this.parseDateValue(t.value),this.options=n(this.options);break;case 4:this.options.max=this.parseDateValue(t.value);break;default:return!1}return 3!==e&&(this.options=o(this.options)),!0},r=u})(powerbi=powerbi||{}),(function(e){var f,a;function r(e,t){void 0===t&&(t=!1);var r,i,n,a=e.field,o=e.options,s=null,u=f.SQExprBuilder.now(),l=(e.options.anchorDate&&!v(o.relativeUnit)&&((r=e.options.anchorDate).epochTimeStamp=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()),u=f.SQExprBuilder.dateTime(e.options.anchorDate)),h(o.relativeUnit)),c=m(o.relativeUnit,t);switch(o.relativeQualifier){case f.RelativeDateQualifier.Current:var p=f.SQExprBuilder.dateSpan(l,u),s=f.SQExprBuilder.compare(0,a,p);break;case f.RelativeDateQualifier.Last:s=c?d(-o.duration,-1,l,u,a):(i=v(o.relativeUnit)?(n=u,f.SQExprBuilder.dateAdd(l,-o.duration,u)):(p=o.includeToday?u:f.SQExprBuilder.dateAdd(0,-1,u),n=f.SQExprBuilder.dateSpan(0,p),f.SQExprBuilder.dateSpan(0,f.SQExprBuilder.dateAdd(l,-o.duration,f.SQExprBuilder.dateAdd(0,1,p)))),f.SQExprBuilder.between(a,i,n));break;case f.RelativeDateQualifier.Next:s=c?d(1,o.duration,l,u,a):(n=v(o.relativeUnit)?(i=u,f.SQExprBuilder.dateAdd(l,o.duration,u)):(p=o.includeToday?u:f.SQExprBuilder.dateAdd(0,1,u),i=f.SQExprBuilder.dateSpan(0,p),f.SQExprBuilder.dateSpan(0,f.SQExprBuilder.dateAdd(l,o.duration,f.SQExprBuilder.dateAdd(0,-1,p)))),f.SQExprBuilder.between(a,i,n))}return s}function d(e,t,r,i,n){e=f.SQExprBuilder.dateSpan(r,f.SQExprBuilder.dateAdd(r,e,i)),r=f.SQExprBuilder.dateSpan(r,f.SQExprBuilder.dateAdd(r,t,i));return f.SQExprBuilder.between(n,e,r)}function h(e){switch(e){case f.RelativeDateUnit.CalendarYear:case f.RelativeDateUnit.Year:return 3;case f.RelativeDateUnit.CalendarMonth:case f.RelativeDateUnit.Month:return 2;case f.RelativeDateUnit.CalendarWeek:case f.RelativeDateUnit.Week:return 1;case f.RelativeDateUnit.Day:return 0;case f.RelativeDateUnit.Hour:return 7;case f.RelativeDateUnit.Minute:return 6;case f.RelativeDateUnit.Second:return 5;default:return}}function m(e,t){switch(void 0===t&&(t=!1),e){case f.RelativeDateUnit.Second:case f.RelativeDateUnit.Minute:case f.RelativeDateUnit.Hour:case f.RelativeDateUnit.Year:case f.RelativeDateUnit.Month:case f.RelativeDateUnit.Week:return!1;case f.RelativeDateUnit.Day:return t;case f.RelativeDateUnit.CalendarYear:case f.RelativeDateUnit.CalendarMonth:case f.RelativeDateUnit.CalendarWeek:return!0;default:return}}function s(e,t){switch(e){case 0:return f.RelativeDateUnit.Day;case 1:return t?f.RelativeDateUnit.CalendarWeek:f.RelativeDateUnit.Week;case 2:return t?f.RelativeDateUnit.CalendarMonth:f.RelativeDateUnit.Month;case 3:return t?f.RelativeDateUnit.CalendarYear:f.RelativeDateUnit.Year;case 7:return f.RelativeDateUnit.Hour;case 6:return f.RelativeDateUnit.Minute;case 5:return f.RelativeDateUnit.Second;default:return}}function v(e){switch(e){case f.RelativeDateUnit.Minute:case f.RelativeDateUnit.Hour:return!0;default:return!1}}function i(e,t){t=new a(t);if(t.tryExtractParametersFrom(e))return{field:t.field,options:t.options}}function o(e){if(e){if(e.where()&&(function(e){for(var t=new a(f.RelativeFilterType.Time),r=0,i=e;r<i.length;r++){var n=i[r];if(n.condition&&t.tryExtractParametersFrom(n.condition))return 1}return})(e.where()))return!0;var e=e.from(),t=e.sources();if(t)for(var r=0,i=e.keys();r<i.length;r++){var n=i[r],n=t[n];if(f.isSQFromSubquerySource(n)&&n.subquery&&o(n.subquery))return!0}}return!1}function t(e){this.relativeFilterType=e}f=e.data||(e.data={}),(e=f.RelativeDateFilterPattern||(f.RelativeDateFilterPattern={})).buildSemanticFilter=function(e){return e=r(e),f.SemanticFilter.fromSQExpr(e)},e.buildFilterCondition=r,e.toSemantiQueryTimeUnit=h,e.isCalendarPeriod=m,e.toRelativeDateUnit=s,e.isRelativeTimeUnit=v,e.isRelativeDateUnit=function(e){return!v(e)},e.extractParametersFromSemanticFilter=function(e,t){if(e){e=e.conditions();if(e&&1===e.length)return i(e[0],t)}},e.extractParametersFromCondition=i,e.hasRelativeTimeFilter=o,t.prototype.tryExtractParametersFrom=function(e){return this.tryExtractCurrent(e)||this.tryExtractLastOrNext(e)},t.prototype.tryExtractCurrent=function(e){if(f.SQExpr.isCompare(e)){var t=e;if((f.SQExpr.isColumn(t.left)||f.SQExpr.isHierarchyLevel(t.left))&&(this.field=t.left,f.SQExpr.isDateSpan(t.right))){var t=t.right,r=f.RelativeDateRangeHelper.convertTimeUnitToRelativeFilterType(t.unit);if(this.relativeFilterType!==r)return!1;r=s(t.unit,!1);if(void 0!==r&&(f.SQExpr.isNow(t.arg)||f.SQExpr.isConstantDate(t.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:f.RelativeDateQualifier.Current,relativeUnit:s(t.unit,!1)},f.SQExpr.isConstantDate(t.arg)&&(this.options.anchorDate=t.arg.value),this.validateOptions(e)))return!0}}return!1},t.prototype.tryExtractLastOrNext=function(e){if(f.SQExpr.isBetween(e)){var t=e;if(f.SQExpr.isColumn(t.arg)||f.SQExpr.isHierarchyLevel(t.arg))if(this.field=t.arg,f.SQExpr.isDateSpan(t.upper)&&f.SQExpr.isDateSpan(t.lower)){if(this.options=this.getOptionsFromDateSpan(t.lower,f.RelativeDateQualifier.Last),this.validateOptions(e))return!0;if(this.options=this.getOptionsFromDateSpan(t.upper,f.RelativeDateQualifier.Next),this.validateOptions(e))return!0}else if(f.SQExpr.isDateAdd(t.upper)||f.SQExpr.isDateAdd(t.lower)){var r=t.lower,t=t.upper;if(this.options=this.getOptionsFromDateAdd(r,r.unit,f.RelativeDateQualifier.Last),this.validateOptions(e))return!0;if(this.options=this.getOptionsFromDateAdd(t,t.unit,f.RelativeDateQualifier.Next),this.validateOptions(e))return!0}}return!1},t.prototype.getOptionsFromDateSpan=function(e,t){if(f.SQExpr.isDateSpan(e))return this.getOptionsFromDateAdd(e.arg,e.unit,t)},t.prototype.getOptionsFromDateAdd=function(e,t,r){if(f.SQExpr.isDateAdd(e)){var i=e,e=f.RelativeDateRangeHelper.convertTimeUnitToRelativeFilterType(i.unit);if(this.relativeFilterType!==e)return;var n=t===i.unit&&0!==t,a=n||this.getIncludeToday(i.arg),o=this.getAnchorDate(i);switch(r){case f.RelativeDateQualifier.Last:if(i.amount<0)return{duration:-i.amount,includeToday:a,relativeQualifier:r,relativeUnit:s(i.unit,n),anchorDate:o};break;case f.RelativeDateQualifier.Next:if(0<i.amount)return{duration:i.amount,includeToday:a,relativeQualifier:r,relativeUnit:s(i.unit,n),anchorDate:o}}}},t.prototype.getAnchorDate=function(e){for(var t=e;f.SQExpr.isDateAdd(t);)t=t.arg;if(f.SQExpr.isConstantDate(t))return t.value},t.prototype.getIncludeToday=function(e){return!!f.SQExpr.isDateAdd(e)&&(f.SQExpr.isNow((e=e).arg)||f.SQExpr.isConstantDate(e.arg))},t.prototype.validateOptions=function(e){var t;return!(!this.field||!this.options)&&(t={field:this.field,options:this.options},f.SQExpr.equals(e,r(t))||this.options.relativeUnit===f.RelativeDateUnit.Day&&!this.options.includeToday&&f.SQExpr.equals(e,r(t,!0)))},a=t})(powerbi=powerbi||{}),(function(e){var o,r,t,i,n,a,s,u,l,c;function p(){var e=null!==t&&t.apply(this,arguments)||this;return e.keys=[],e.values=[],e.pairs=[],e}function f(e){var t=n.call(this)||this;return t.identityFieldExprs=e,t.identityComparisonExprs=[],t.identityComparisonExprCount=0,t}function d(){return null!==s&&s.apply(this,arguments)||this}function h(e){var t=l.call(this)||this;return t.targetExpr=e,t.orderedValues=[],t}o=e.data||(e.data={}),r=jsCommon.ArrayExtensions,(e=o.ScopeIdentityExtractor||(o.ScopeIdentityExtractor={})).getKeys=function(e){var t=new i;return e.accept(t),t.malformed?null:r.emptyToNull(t.keys)},e.getValues=function(e){var t=new i;return e.accept(t),t.malformed?null:r.emptyToNull(t.values)},e.getKeyValuePairs=function(e){var t=new i;return e.accept(t),t.malformed?null:r.emptyToNull(t.pairs)},e.getInExpr=function(e){var t;return o.SQExpr.isIn(e)?e:(t=new i,e.accept(t),!t.malformed&&(e=r.emptyToNull(t.keys),t=r.emptyToNull(t.values),e)&&t?o.SQExprBuilder.inValues(e,[t]):void 0)},e.getSubset=function(e,t){return t=new a(t),e.accept(t),t.getResult()},e.extractFilterValuesForExpr=function(e,t){return t&&e?(e=new c(e),t.accept(e),e.getValues()):[]},e.containsSelectRef=function(e){var t=new u;return e.accept(t),!!t.containsSelectRef},t=o.DefaultSQExprVisitor,__extends(p,t),p.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},p.prototype.visitCompare=function(e){0!==e.comparison?this.visitDefault(e):(this.pairs.push(e),e.left.accept(this),e.right.accept(this))},p.prototype.visitIn=function(e){for(var t=0,r=e.args;t<r.length;t++)r[t].accept(this);for(var i=0,n=e.values;i<n.length;i++)for(var a=0,o=n[i];a<o.length;a++)o[a].accept(this)},p.prototype.visitSelectRef=function(e){this.keys.push(e)},p.prototype.visitColumnRef=function(e){this.keys.push(e)},p.prototype.visitGroupRef=function(e){this.keys.push(e)},p.prototype.visitHierarchyLevel=function(e){this.keys.push(e)},p.prototype.visitConstant=function(e){this.values.push(e)},p.prototype.visitArithmetic=function(e){this.keys.push(e)},p.prototype.visitDefault=function(e){this.malformed=!0},i=p,e.ScopeIdKeysAndValuesExtractorImpl=i,n=o.DefaultSQExprVisitor,__extends(f,n),f.prototype.getResult=function(){if(!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){for(var e=0,t=this.identityComparisonExprs;e<t.length;e++)var r=t[e],i=i?o.SQExprBuilder.and(i,r):r;return i}},f.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},f.prototype.visitCompare=function(t){var e;0!==t.comparison?this.visitDefault(t):0<=(e=_.findIndex(this.identityFieldExprs,(function(e){return o.SQExpr.equals(t.left,e)})))&&!this.identityComparisonExprs[e]&&(this.identityComparisonExprs[e]=t,this.identityComparisonExprCount++)},f.prototype.visitDefault=function(e){this.malformed=!0},a=f,s=o.DefaultSQExprVisitorWithTraversal,__extends(d,s),d.prototype.visitSelectRef=function(e){this.containsSelectRef=!0},u=d,l=o.DefaultSQExprVisitor,__extends(h,l),h.prototype.getValues=function(){return _.uniq(this.orderedValues)},h.prototype.visitAnd=function(e){e.left.accept(this),e.right.accept(this)},h.prototype.visitOr=function(e){e.left.accept(this),e.right.accept(this)},h.prototype.visitCompare=function(e){0===e.comparison&&(e.right instanceof o.SQColumnRefExpr&&o.SQExpr.equals(e.right,this.targetExpr)&&e.left instanceof o.SQConstantExpr&&this.orderedValues.push(e.left.value),e.left instanceof o.SQColumnRefExpr)&&o.SQExpr.equals(e.left,this.targetExpr)&&e.right instanceof o.SQConstantExpr&&this.orderedValues.push(e.right.value)},h.prototype.visitIn=function(e){var t=-1;if(!e.table){for(var r=0;r<e.args.length;r++)if(o.SQExpr.equals(e.args[r],this.targetExpr)){t=r;break}if(-1!==t)for(var i=0,n=e.values;i<n.length;i++){var a=n[i][t];a instanceof o.SQConstantExpr&&this.orderedValues.push(a.value)}}},c=h})(powerbi=powerbi||{}),(function(e){var o=e.data||(e.data={});function i(e,t){var r=new n;if(r.visitCondition(t))return e=(t=e.sources())&&t[r.subqueryName],(t=o.SubqueryOrderByExtractor.run(e))&&o.isSQFromSubquerySource(e)?{fieldBeingFiltered:r.fieldBeingFiltered,isTop:t.isTop,itemCount:e.subquery.top(),orderByField:t.orderByField}:void 0}(e=o.TopNFilterPattern||(o.TopNFilterPattern={})).extractParametersFromFilter=function(e,t){var r;if(e)return e instanceof o.SemanticFilter?(r=e.conditions(),i(e.from(),r[0])):i(t,e.condition)},e.buildFilterFromParameters=function(e){a=e,t=new o.SQFrom,n=o.SQExprRewriterWithSourceRenames.rewrite(a.fieldBeingFiltered,null,t),r=o.SQExprRewriterWithSourceRenames.rewrite(a.orderByField,null,t),i=a.isTop?2:1;var t=o.SemanticQuery.createWith({from:t,orderBy:[{expr:r,direction:i}],select:[{name:"field",expr:n}],top:a.itemCount}),r=new o.SQFromSubquerySource(t),i=new o.SQFrom,n=i.ensureSource(r,"subquery"),a=o.SQExprBuilder.inTable([e.fieldBeingFiltered],o.SQExprBuilder.subqueryRef(n.name));return o.SemanticFilter.fromSQFromAndSQExpr(i,a)},e.extractParametersFromCondition=i,t=o.DefaultSQExprVisitorWithArg,__extends(r,t),r.prototype.visitCondition=function(e){return e.accept(this,0)},r.prototype.visitIn=function(e,t){return 0===t&&!!(e.args&&1===e.args.length&&e.args[0].accept(this,1)&&e.table&&e.table.accept(this,2))},r.prototype.visitColumnRef=function(e,t){return 1===t&&(this.fieldBeingFiltered=e,!0)},r.prototype.visitHierarchyLevel=function(e,t){return 1===t&&(this.fieldBeingFiltered=e,!0)},r.prototype.visitGroupRef=function(e,t){return 1===t&&(this.fieldBeingFiltered=e,!0)},r.prototype.visitSubqueryRef=function(e,t){return 2===t&&(e.variable&&(this.subqueryName=e.variable),!0)};var t,n=r;function r(){var e=t.call(this)||this;return e.fieldBeingFiltered=null,e.subqueryName=null,e}})(powerbi=powerbi||{}),(function(e){var s,u;s=e.data||(e.data={}),u=e.data.ScopeIdentityExtractor.ScopeIdKeysAndValuesExtractorImpl,(e=s.TupleFilterPattern||(s.TupleFilterPattern={})).buildSemanticFilter=function(e){return e=s.SQExprBuilder.inValues(e.args,e.values),s.SemanticFilter.fromSQExpr(e)},e.extractParametersFromFilter=function(e,t,r){return e&&(e=(e=e.where())&&e[0]&&e[0].condition,s.SQExpr.isIn(e))&&e.values&&e.args&&(1<e.args.length||1===e.args.length&&(function(e,t,r){if(s.SQExpr.isConstant(t)&&r&&!_.isEmpty(r.cachedValueItems))for(var i=0,n=r.cachedValueItems;i<n.length;i++){var a=n[i];if(1===a.identities.length){var o=new u;if(a.identities[0].expr.accept(o),1===o.keys.length&&s.SQExpr.equals(e,o.keys[0])&&t.value===o.values[0].value)return 1}}return})(e.args[0],e.values[0][0],r)||1===e.values.length&&(s.SQExprUtils.isMeasure(e)||s.SQExpr.isHierarchyLevel(e.args[0]))||1===e.args.length&&2<e.values.length&&s.SQExpr.isHierarchyLevel(e.args[0]))?{args:e.args,values:e.values}:null}})(powerbi=powerbi||{}),(function(e){var l,t,c;function r(){var e=t.call(this)||this;return e.fieldsBeingFiltered=[],e}((l=e.data||(e.data={})).TopNFilterPruner||(l.TopNFilterPruner={})).removeUnnecessaryTopNFilters=function(e,t){if(!t||!e)return e;if(!(t=t.conditions())||1!==t.length)return e;var r=new c;if(!r.visitCondition(t[0]))return e;for(var i,n=r.fieldsBeingFiltered,a=e.from(),o=e.where(),s=0,u=o.length;s<u;s++)!(function(e){var t=o[e],r=l.TopNFilterPattern.extractParametersFromFilter(t,a);r&&_.find(n,(function(e){return l.SQExpr.equals(r.fieldBeingFiltered,e)}))?i=i||_.take(o,e):i&&i.push(t)})(s);return i?l.SemanticFilter.fromSQFromAndSQFilters(a,i):e},t=l.DefaultSQExprVisitorWithArg,__extends(r,t),r.prototype.visitCondition=function(e){return e.accept(this,0)},r.prototype.visitIn=function(e,t){if(0!==t)return!1;if(!e.args)return!1;for(var r=0,i=e.args;r<i.length;r++)if(!i[r].accept(this,1))return!1;return!!e.values&&!e.table},r.prototype.visitColumnRef=function(e,t){return 1===t&&(this.fieldsBeingFiltered.push(e),!0)},c=r})(powerbi=powerbi||{}),(function(e){var o,n;function i(e,t){this.filtersToEnsure=e,this.filtersToEnsureFrom=t,this.modifiedSubquery=!1}o=e.data||(e.data={}),(e=o.SubqueryRewriter||(o.SubqueryRewriter={})).makeSubqueriesLowerPrecedenceThanColumnFilters=function(e){var t,r=_.filter(e.where(),(function(e){return 0===o.FilterKindDetector.runDetector(e.condition)}));return _.isEmpty(r)||(t=e.from())===(r=n.ensureFiltersInSubqueries(t,r,t))?e:o.SemanticFilter.fromSQFromAndSQFilters(r,e.where())},e.makeSubqueriesLowerPrecedenceThanSpecificFilters=function(e,t){var r=e.from(),i=r,t=o.SemanticFilter.merge(t);return r===(i=n.ensureFiltersInSubqueries(i,t.where(),t.from()))?e:o.SemanticFilter.fromSQFromAndSQFilters(i,e.where())},e.rewriteSubqueriesForContainingQuery=function(e,t){var r,t=_.filter(_.map(t.select(),(function(e){return e.expr})),(function(e){return!o.SQExprUtils.isMeasure(e)}));return _.isEmpty(t)||(t=_.map(t,(function(e){return{condition:o.SQExprBuilder.equal(e,o.SQExprBuilder.anyValue(!0))}})),(r=e.from())===(t=n.ensureFiltersInSubqueries(r,t,r)))?e:o.SemanticFilter.fromSQFromAndSQFilters(t,e.where())},i.ensureFiltersInSubqueries=function(e,t,r){t=new i(t,r),r=o.SemanticQueryRewriter.rewriteFrom(e,t);return r},i.prototype.visitEntity=function(e,t){return e},i.prototype.visitPod=function(e,t){return e},i.prototype.visitSubquery=function(e,t){for(var r=e.subquery.where(),i=[],n=0,a=this.filtersToEnsure;n<a.length;n++)!(function(t){_.find(r,(function(e){return o.SQFilter.equals(t,e)}))||i.push(t)})(a[n]);return 0===i.length?e:(this.modifiedSubquery=!0,new o.SQFromSubquerySource(e.subquery.addWhere(i,this.filtersToEnsureFrom)))},i.prototype.visitExpr=function(e,t){return e},n=i})(powerbi=powerbi||{}),(function(e){var i,t,n;function r(){var e=t.call(this)||this;return e.orderByField=null,e}((i=e.data||(e.data={})).SubqueryOrderByExtractor||(i.SubqueryOrderByExtractor={})).run=function(e){var t,r;return e&&i.isSQFromSubquerySource(e)&&(t=e.subquery.orderBy())&&1===t.length&&(t=t[0],(r=new n).visitOrderBy(t.expr))?{orderByField:r.orderByField,isTop:2===t.direction,itemCount:e.subquery.top()}:void 0},t=i.DefaultSQExprVisitorWithArg,__extends(r,t),r.prototype.visitOrderBy=function(e){return e.accept(this,0)},r.prototype.visitAggr=function(e,t){return 0===t&&(i.SQExprConverter.asFieldPattern(e),this.orderByField=e,!0)},r.prototype.visitMeasureRef=function(e,t){return 0===t&&(this.orderByField=e,!0)},n=r})(powerbi=powerbi||{}),(function(n){var e,t,a;function o(e){return"'"+e.replace(t,"''")+"'"}function s(){return"null"}function u(e){return e?"true":"false"}e=(e=n.data||(n.data={})).PrimitiveValueEncoding||(e.PrimitiveValueEncoding={}),t=/'/g,a=/\.000$/,e.decimal=function(e){return e+"M"},e.double=function(e){return e+"D"},e.integer=function(e){return e+"L"},e.text=o,e.nullEncoding=s,e.boolean=u,e.toTypeEncoded=function(e,t){if(null===e)return s();switch(t.primitiveType){case 4:return"Expected either a string or number value to encode for type ".concat(t),e+"L";case 2:return"Expected either a string or number value to encode for type ".concat(t),e+"M";case 3:return"Expected either a string or number value to encode for type ".concat(t),e+"D";case 7:case 6:var r,i=void 0;return i=e instanceof Date?(i=(n.isDateWithEpochValue(e)?(r=e.epochTimeStamp,new Date(r)):new Date(e.getTime()-6e4*e.getTimezoneOffset())).toISOString(),(i=_.endsWith(i,"Z")?i.substr(0,i.length-1):i).replace(a,"")):("Expected a string or a Date value for type ".concat(t),e),"datetime'".concat(i,"'");case 1:return"Expected a string value to encode for type ".concat(t),o(e);case 5:return"Expected boolean values for type ".concat(t),u(e);case 13:return"Expected string values to encode for type ".concat(t),e;default:"unsupported dsrValue for type ".concat(t)}}})(powerbi=powerbi||{}),(function(e){var n,r,i,a;function o(e,t,r){return t instanceof n.SQHierarchyLevelExpr&&r instanceof n.SQHierarchyLevelExpr&&!!n.SQExpr.equals((t=t).arg,(r=r).arg)&&(t=n.SQExprUtils.indexOfExpr(e,t),e=n.SQExprUtils.indexOfExpr(e,r),-1!==t)&&-1!==e&&t<e}n=e.data||(e.data={}),(i=r=n.SQHierarchyExprUtils||(n.SQHierarchyExprUtils={})).getConceptualHierarchyLevelFromExpr=function(e,t){if(t=(t=t).hierarchyLevel||t.hierarchyLevelAggr||t.columnHierarchyLevelVariation&&t.columnHierarchyLevelVariation.level)return i.getConceptualHierarchyLevel(e,t.schema,t.entity,t.name,t.level)},i.getConceptualHierarchyLevel=function(e,t,r,i,n){if(e=e.schema(t).findHierarchy(r,i))return e.levels.withName(n)},i.getConceptualHierarchy=function(e,t){var r,i;if(e instanceof n.SQHierarchyExpr)return(r=e).arg instanceof n.SQEntityExpr?(i=e.arg,t.schema(i.schema).findHierarchy(i.entity,r.hierarchy)):e.arg instanceof n.SQPropertyVariationSourceExpr?(e=(i=e.arg).arg,t.schema(e.schema).findHierarchyByVariation(e.entity,i.property,i.name,r.hierarchy)):void 0},i.expandExpr=function(e,t,r){return a.convert(t,e)||n.SQExprVariationConverter.expand(t,e)||!r&&n.SQExprHierarchyLevelConverter.expand(t,e)||t},i.isHierarchyOrVariation=function(e,t){if(t instanceof n.SQHierarchyExpr||t instanceof n.SQHierarchyLevelExpr)return!0;if(t=t.getConceptualProperty(e)){e=t.column;if(e&&e.variations&&0<e.variations.length)return!0}return!1},i.getSourceVariationExpr=function(e){var t;if((e=n.SQExprConverter.asFieldPattern(e)).columnHierarchyLevelVariation)return t=n.SQExprBuilder.entity(e.columnHierarchyLevelVariation.source.schema,e.columnHierarchyLevelVariation.source.entity),n.SQExprBuilder.columnRef(t,e.columnHierarchyLevelVariation.source.name)},i.getSourceHierarchy=function(e){var t;if(e=n.SQExprConverter.asFieldPattern(e).hierarchyLevel)return t=n.SQExprBuilder.entity(e.schema,e.entity,e.entityVar),n.SQExprBuilder.hierarchy(t,e.name)},i.getHierarchySourceAsVariationSource=function(e){return e.arg instanceof n.SQHierarchyExpr&&(e=e.arg).arg instanceof n.SQPropertyVariationSourceExpr?e.arg:void 0},i.areHierarchyLevelsOrdered=o,i.getInsertionIndex=function(e,t,r){for(var i=0;i<t.length&&o(e,t[i],r);)i++;return i},(a=n.SQExprHierarchyToHierarchyLevelConverter||(n.SQExprHierarchyToHierarchyLevelConverter={})).convert=function(t,e){if(t instanceof n.SQHierarchyExpr){e=r.getConceptualHierarchy(t,e);if(e)return _.map(e.levels,(function(e){return n.SQExprBuilder.hierarchyLevel(t,e.name)}))}}})(powerbi=powerbi||{}),(function(e){var l;((l=e.data||(e.data={})).SQExprHierarchyLevelConverter||(l.SQExprHierarchyLevelConverter={})).expand=function(e,t){var r=[];if(e instanceof l.SQHierarchyLevelExpr){var i=l.SQExprConverter.asFieldPattern(e);if(i.hierarchyLevel){var n=l.FieldExprPattern.toFieldExprEntityItemPattern(i),a=t.schema(n.schema).findHierarchy(n.entity,i.hierarchyLevel.name);if(a)for(var o=0,s=a.levels;o<s.length;o++){var u=s[o];if(u.name===i.hierarchyLevel.level){r.push(e);break}r.push(l.SQExprBuilder.hierarchyLevel(l.SQExprBuilder.hierarchy(l.SQExprBuilder.entity(n.schema,n.entity,n.entityVar),a.name),u.name))}}}if(!_.isEmpty(r))return r}})(powerbi=powerbi||{}),(function(e){var u;((u=e.data||(e.data={})).SQExprVariationConverter||(u.SQExprVariationConverter={})).expand=function(e,t){if(t=e.getConceptualProperty(t)){var r=t.column;if(r&&r.variations&&0<r.variations.length){var r=r.variations,r=r[0],e=u.SQExprConverter.asFieldPattern(e),e=u.FieldExprPattern.toFieldExprEntityItemPattern(e),i=[];if(r.defaultHierarchy)for(var n=u.SQExprBuilder.hierarchy(u.SQExprBuilder.propertyVariationSource(u.SQExprBuilder.entity(e.schema,e.entity,e.entityVar),r.name,t.name),r.defaultHierarchy.name),a=0,o=r.defaultHierarchy.levels;a<o.length;a++){var s=o[a];i.push(u.SQExprBuilder.hierarchyLevel(n,s.name))}}}return i}})(powerbi=powerbi||{}),(function(e){var y;((y=e.data||(e.data={})).SQExprGroupUtils||(y.SQExprGroupUtils={})).groupExprs=function(e,t,r){var i=r.disableHierarchyLevelGrouping,n=r.useNativeReferenceNames,a=[];if(0!==t.length)for(var o=y.SQExprUtils.isSQExprArray(t)?t.map((function(e){return y.SQExprUtils.transformToVisualQueryField(e)})):t,s=0,u=o.length;s<u;s++){var l,c,p,f,d,h,m=o[s],v=m.expr,m=m.isFieldParameter;n||!y.SQHierarchyLevelExpr.isHierarchyLevel(v)?a.push({expr:v,children:null,selectQueryIndex:s,isHierarchyLevelsGroup:!1,isFieldParameter:m}):(f=p=c=l=m=void 0,m=e,l=a,c=v,p=s,f=i,v=!(h=d=v=void 0),d=y.SQHierarchyExprUtils.getSourceVariationExpr(c)||y.SQHierarchyExprUtils.getSourceHierarchy(c),h=_.last(l),f||h&&h.children&&y.SQExpr.equals(h.expr,d)&&(m=y.SQHierarchyExprUtils.expandExpr(m,c.arg))instanceof Array&&(v=!y.SQHierarchyExprUtils.areHierarchyLevelsOrdered(m,_.last(h.children),c)),v||f?l.push({expr:d,children:[c],selectQueryIndex:p,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(h.children,h.children.push(c)))}return a}})(powerbi=powerbi||{}),(function(a){var l=a.data||(a.data={}),q=jsCommon.ArrayExtensions,O=jsCommon.StringExtensions,c=(i.equals=function(e,t,r,i,n){return wr.run(e,t,r,i,n)},i.prototype.validate=function(e,t,r,i){e=new Dr(e,t,r,i);return this.accept(e),e.errors},i.prototype.accept=function(e,t){},Object.defineProperty(i.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),i.isArithmetic=function(e){return 23===e.kind},i.isFloor=function(e){return 35===e.kind},i.isColumn=function(e){return 2===e.kind},i.isConstant=function(e){return 17===e.kind},i.isConstantNumeric=function(e){return i.isConstant(e)&&e.type.numeric},i.isConstantBoolean=function(e){return i.isConstant(e)&&e.type.bool},i.isConstantDate=function(e){return i.isConstant(e)&&e.type.dateTime},i.isConstantText=function(e){return i.isConstant(e)&&e.type.text},i.isConstantNull=function(e){return i.isConstant(e)&&0===e.type.primitiveType&&null===e.value},i.isEntity=function(e){return 0===e.kind},i.isHierarchy=function(e){return 6===e.kind},i.isHierarchyLevel=function(e){return 7===e.kind},i.isIn=function(e){return 10===e.kind},i.isAggregation=function(e){return 4===e.kind},i.isMinAggregation=function(e){return i.isAggregation(e)&&3===e.func},i.isMaxAggregation=function(e){return i.isAggregation(e)&&4===e.func},i.isAvgAggregation=function(e){return i.isAggregation(e)&&1===e.func},i.isMedianAggregation=function(e){return i.isAggregation(e)&&6===e.func},i.isMeasure=function(e){return 3===e.kind},i.isNativeMeasure=function(e){return 43===e.kind},i.isNativeColumn=function(e){return 44===e.kind},i.isPercentile=function(e){return 28===e.kind},i.isRangePercent=function(e){return 29===e.kind},i.isPropertyVariationSource=function(e){return 5===e.kind},i.isSelectRef=function(e){return 30===e.kind},i.isScopedEval=function(e){return 26===e.kind},i.isFilteredEval=function(e){return 41===e.kind},i.isSubqueryRef=function(e){return 1===e.kind},i.isWithRef=function(e){return 27===e.kind},i.isTransformTableRef=function(e){return 31===e.kind},i.isTransformOutputRoleRef=function(e){return 32===e.kind},i.isResourcePackageItem=function(e){return 25===e.kind},i.isCompareRef=function(e){return 13===e.kind},i.isGroupRef=function(e){return 34===e.kind},i.isRoleRef=function(e){return 36===e.kind},i.isSummaryValueRef=function(e){return 45===e.kind},i.isAllRolesRef=function(e){return 37===e.kind},i.isNamedQueryRef=function(e){return 39===e.kind},i.isBetween=function(e){return 9===e.kind},i.isAnd=function(e){return 8===e.kind},i.isOr=function(e){return 11===e.kind},i.isCompare=function(e){return 13===e.kind},i.isConditional=function(e){return 42===e.kind},i.isContains=function(e){return 12===e.kind},i.isDateSpan=function(e){return 18===e.kind},i.isDateAdd=function(e){return 19===e.kind},i.isExists=function(e){return 15===e.kind},i.isNot=function(e){return 16===e.kind},i.isNow=function(e){return 20===e.kind},i.isDefaultValue=function(e){return 22===e.kind},i.isAnyValue=function(e){return 21===e.kind},i.isStartsWith=function(e){return 14===e.kind},i.isFillRule=function(e){return 24===e.kind},i.isThemeDataColor=function(e){return 33===e.kind},i.isDiscretize=function(e){return 38===e.kind},i.isMember=function(e){return 40===e.kind},i.isSparklineData=function(e){return 46===e.kind},i.isIsBlank=function(e){return 0===e.comparison&&(i.isConstantNull(e.right)||i.isConstantNull(e.left))},i.isNativeVisualCalc=function(e){return 47===e.kind},i.prototype.getMetadata=function(e,t){var r=l.SQExprConverter.asFieldPattern(this,e);if(r)return r.column||r.columnAggr||r.groupingColumn||r.groupingColumnAggr||r.measure?this.getMetadataForProperty(r,e):r.hierarchyLevel||r.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(r,e):r.columnHierarchyLevelVariation?this.getMetadataForVariation(r,e):r.columnSubquery||r.columnAggrSubquery?this.getMetadataForSubqueryColumn(r,e,t):r.columnTransformRef?this.getMetadataForColumnTransformRef():i.getMetadataForEntity(r,e)},i.prototype.isOrdinalEvaluation=function(){return!1},i.prototype.getAnnotations=function(){return this._annotations},i.prototype.getKeyColumns=function(e){var t=Tr.getColumnRefSQExpr(e,this);if(t){var r=[],i=this.getPropertyKeys(e);if(i&&0<i.length)for(var n=0,a=i.length;n<a;n++)r.push(m.columnRef(t.source,i[n].name));else r.push(t);return r}},i.prototype.hasGroupOnKeys=function(e){var t=this.getTargetColumnRef(e);if(t)return!(!(e=this.getPropertyKeys(e))||e.length<1)&&(1<e.length||(t=m.columnRef(t.source,e[0].name),!i.equals(t,this)))},i.prototype.getPropertyKeys=function(e){e=this.getConceptualProperty(e,!0);return e&&e.column?e.column.keys:void 0},i.prototype.getOrderByColumns=function(e){var t=this.getTargetColumnRef(e);if(t){var e=t.getConceptualProperty(e,!0),r=e&&e.column&&e.column.orderBy;if(_.isEmpty(r))return[];for(var i=new Array(r.length),n=0,a=r.length;n<a;n++)i[n]=m.columnRef(t.source,r[n].name);return i}},i.prototype.getConceptualProperty=function(e,t){var r=l.SQExprConverter.asFieldPattern(this,e);if(r){var i=l.FieldExprPattern.toFieldExprEntityItemPatterns(r);if(i&&1===_.size(i)){var n=l.FieldExprPattern.getPropertyName(r);if(n)return(a=e.schema(i[0].schema))?a.findProperty(i[0].entity,n):void 0;if(t){var a=void 0,i=void 0;if(r.columnHierarchyLevelVariation?(a=r.columnHierarchyLevelVariation.level)&&(i=e.schema(a.schema).findHierarchy(a.entity,a.name)):(a=r.hierarchyLevel||r.hierarchyLevelAggr)&&(n=l.FieldExprPattern.toFieldExprEntityItemPattern(r),i=e.schema(n.schema).findHierarchy(n.entity,a.name)),i){t=i.levels.withName(a.level);if(t)return t.column}}}}},i.prototype.getTargetEntityForVariation=function(e,t){e=this.getConceptualProperty(e);if(e&&e.column&&!_.isEmpty(e.column.variations))for(var r=0,i=e.column.variations;r<i.length;r++){var n=i[r];if(n.name===t)return n.navigationProperty.targetEntity.name}},i.prototype.getTargetEntity=function(){return Mr.getEntityExpr(this)},i.prototype.getTargetColumnRef=function(e){return Tr.getColumnRefSQExpr(e,this)},i.prototype.getMetadataForVariation=function(e,t){var r=e.columnHierarchyLevelVariation,e=l.FieldExprPattern.toFieldExprEntityItemPattern(e),t=t.schema(e.schema).findProperty(e.entity,r.source.name);if(t&&t.column&&t.column.variations)for(var i=0,n=t.column.variations;i<n.length;i++){var a=n[i];if(a.defaultHierarchy&&a.defaultHierarchy.levels)for(var o=0,s=a.defaultHierarchy.levels;o<s.length;o++){var u=s[o];if(u.name===r.level.level)return{kind:1===(u=u.column).kind?1:0,type:u.type,format:u.format,idOnEntityKey:!!u.column&&u.column.idOnEntityKey,defaultAggregate:u.column?u.column.defaultAggregate:null}}}},i.prototype.getMetadataForHierarchyLevel=function(e,t){t=this.getConceptualProperty(t,!0);if(t)return this.getPropertyMetadata(e,t)},i.prototype.getPropertyMetadata=function(e,t){var e=e.columnAggr||e.groupingColumnAggr||e.hierarchyLevelAggr,r=e?this.getFormatAndTypeForAggregate(e.aggregate,t.format,t.type):t,i=r.format,r=r.type;return{kind:1===t.kind||e&&void 0!==e.aggregate?1:0,type:r,format:i,idOnEntityKey:!!t.column&&t.column.idOnEntityKey,aggregate:e?e.aggregate:void 0,defaultAggregate:t.column?t.column.defaultAggregate:null}},i.prototype.getMetadataForProperty=function(e,t){t=this.getConceptualProperty(t);if(t)return this.getPropertyMetadata(e,t)},i.prototype.getFormatAndTypeForAggregate=function(e,t,r){var i=t,n=r;switch(e){case 2:case 5:n=a.ValueType.fromExtendedType(260),i=void 0;break;case 1:case 7:case 8:n.integer&&(n=a.ValueType.fromExtendedType(259),i=a.NumberFormat.getFormatForWholeNumberAverage(i))}return{format:i,type:n}},i.prototype.getMetadataForSubqueryColumn=function(e,t,r){var i=l.SQExprUtils.getSubqueryExpression(this,r),i=i.getMetadata(t,r);if(i)return i.kind=0,e.columnAggrSubquery?(t=this.getFormatAndTypeForAggregate(e.columnAggrSubquery.aggregate,i.format,i.type),i.type=t.type,i.format=t.format,i.aggregate=e.columnAggrSubquery.aggregate):e.columnSubquery&&(i.aggregate=void 0),i},i.prototype.getMetadataForColumnTransformRef=function(){return{idOnEntityKey:!1,kind:0,type:a.ValueType.fromVariant([a.ValueType.fromPrimitiveTypeAndCategory(5),a.ValueType.fromPrimitiveTypeAndCategory(7),a.ValueType.fromPrimitiveTypeAndCategory(2),a.ValueType.fromPrimitiveTypeAndCategory(3),a.ValueType.fromPrimitiveTypeAndCategory(4),a.ValueType.fromPrimitiveTypeAndCategory(1)])}},i.getMetadataForEntity=function(e,t){var r=l.FieldExprPattern.toFieldExprEntityItemPattern(e),t=t.schema(r.schema).entities.withName(r.entity);if(t&&e.entityAggr)switch(e.entityAggr.aggregate){case 2:case 5:return{kind:1,type:a.ValueType.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:e.entityAggr.aggregate}}},i);function i(e,t){this._kind=e,this._annotations=t}l.SQExpr=c,jsCommon.forceEnumeration(c.prototype),l.SQExprEvaluationKindKey="PowerBI.SQExprEvaluationKind",l.SQExprTextOperatorOptionKey="PowerBI.SQExprTextOperatorOption",l.annotationsContainOrdinalEvaluation=function(e){return null!=e&&1===e[l.SQExprEvaluationKindKey]},__extends(r,U=c),r.prototype.accept=function(e,t){return e.visitEntity(this,t)},r.prototype.as=function(e,t){return new r(this.schema,this.entity,e,t)};var U,j=r;function r(e,t,r,i){var n=this;return(n=U.call(this,0,i)||this).schema=e,n.entity=t,r&&(n.variable=r),n}l.SQEntityExpr=j,__extends(L,k=c),L.prototype.accept=function(e,t){return e.visitNativeVisualCalc(this,t)},L.prototype.getMetadata=function(e){return{kind:1,type:a.ValueType.fromPrimitiveTypeAndCategory(3)}};var k,B=L;function L(e,t,r,i){var n=this;return(n=k.call(this,47,i)||this).name=e,n.language=t,n.expression=r,n}l.SQNativeVisualCalcExpr=B,__extends(n,H=c),n.prototype.accept=function(e,t){return e.visitSubqueryRef(this,t)},n.prototype.as=function(e,t){return new n(e,t)};var H,G=n;function n(e,t){var r=this,r=H.call(this,1,t)||this;return _.isString(e)?r.variable=e:r.query=e,r}l.SQSubqueryRefExpr=G,__extends(o,W=c),o.prototype.accept=function(e,t){return e.visitNamedQueryRef(this,t)},o.prototype.as=function(e,t){return new o(this.queryName,e,t)};var W,K=o;function o(e,t,r){var i=this;return(i=W.call(this,39,r)||this).queryName=e,t&&(i.variable=t),i}l.SQNamedQueryRefExpr=K,__extends(e,z=c),e.prototype.accept=function(e,t){return e.visitArithmetic(this,t)},e.prototype.getMetadata=function(e){var t,r,i,n=this.left.getMetadata(e);return c.isScopedEval(this.right)?n?(n.format="#,##0.00%",n.type=a.ValueType.fromExtendedType(259),n):void 0:(e=this.right.getMetadata(e),t=null==n?void 0:n.type,r=null==e?void 0:e.type,t=t&&r?this.getArithmeticResultType(t,r):null!=t?t:r,r=null==n?void 0:n.format,n=null==e?void 0:e.format,{format:i=0!==this.operator&&1!==this.operator?i:r===n?r:void 0,type:t,kind:1})},e.prototype.getArithmeticResultType=function(e,t){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&this.operator,2===e.primitiveType?3===this.operator&&2===t.primitiveType?a.ValueType.fromPrimitiveTypeAndCategory(3):a.ValueType.fromPrimitiveTypeAndCategory(2):3===e.primitiveType?3!==this.operator&&2===t.primitiveType?a.ValueType.fromPrimitiveTypeAndCategory(2):a.ValueType.fromPrimitiveTypeAndCategory(3):4===e.primitiveType?3===this.operator&&4===t.primitiveType?a.ValueType.fromPrimitiveTypeAndCategory(3):t:void 0};var z,Y=e;function e(e,t,r,i){var n=this;return(n=z.call(this,23,i)||this).left=e,n.right=t,n.operator=r,n}l.SQArithmeticExpr=Y,__extends($,J=c),$.prototype.accept=function(e,t){return e.visitFloor(this,t)};var J,Z=$;function $(e,t,r,i){var n=this;return(n=J.call(this,35,i)||this).arg=e,n.size=t,null!=r&&(n.timeUnit=r),n}l.SQFloorExpr=Z,__extends(s,X=c),s.prototype.accept=function(e,t){return e.visitScopedEval(this,t)},s.prototype.getMetadata=function(e){return this.expression.getMetadata(e)},s.prototype.hasGlobalScope=function(){return this.scope,0===this.scope.length},s.prototype.hasInnerMostScope=function(){return this.scope,1===this.scope.length&&c.isAllRolesRef(this.scope[0])},s.createGlobalAggregateOfScopedExpr=function(e,t){e=new s(e,[new rr]);return new s(new u(e,t),[])},s.prototype.decomposeGlobalAggregateOfScopedExpr=function(){if(this.hasGlobalScope()){var e=this.expression;if(c.isAggregation(e)){var t=e.arg;if(c.isScopedEval(t)&&t.hasInnerMostScope())return{source:t.expression,func:e.func}}}};var X,ee=s;function s(e,t,r){var i=this;return(i=X.call(this,26,r)||this).expression=e,i.scope=t,i}l.SQScopedEvalExpr=ee,__extends(ie,te=c),ie.prototype.accept=function(e,t){return e.visitFilteredEval(this,t)},ie.prototype.getMetadata=function(e){return this.expression.getMetadata(e)};var te,re=ie;function ie(e,t,r){var i=this;return(i=te.call(this,41,r)||this).expression=e,i.filters=t,i}l.SQFilteredEvalExpr=re,__extends(oe,ne=c),oe.prototype.accept=function(e,t){return e.visitWithRef(this,t)};var ne,ae=oe;function oe(e,t){var r=this;return(r=ne.call(this,27,t)||this).expressionName=e,r}l.SQWithRefExpr=ae,__extends(ue,se=c);var se,t=ue;function ue(e,t,r,i){var n=this;return(n=se.call(this,e,i)||this).source=t,n.ref=r,n}l.SQPropRefExpr=t,__extends(ce,le=t),ce.prototype.accept=function(e,t){return e.visitColumnRef(this,t)};var le,p=ce;function ce(e,t,r,i){return le.call(this,r||2,e,t,i)||this}l.SQColumnRefExpr=p,__extends(de,pe=t),de.prototype.accept=function(e,t){return e.visitMeasureRef(this,t)};var pe,fe=de;function de(e,t,r){return pe.call(this,3,e,t,r)||this}l.SQMeasureRefExpr=fe,__extends(ve,he=c),ve.prototype.getMetadata=function(e){return{kind:1,type:a.ValueType.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},ve.prototype.accept=function(e,t){return e.visitNativeMeasure(this,t)};var he,me=ve;function ve(e,t,r,i,n,a,o){o=he.call(this,43,o)||this;return o.language=e,o.expression=t,o.dataType=r,o.proposedName=i,o.expressionContentCache=n,o.format=a,o}l.SQNativeMeasureExpr=me,__extends(xe,ye=c),xe.prototype.getMetadata=function(e){return{kind:0,type:a.ValueType.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},xe.prototype.accept=function(e,t){return e.visitNativeColumn(this,t)};var ye,ge=xe;function xe(e,t,r,i,n,a,o,s){s=ye.call(this,44,s)||this;return s.language=e,s.expression=t,s.dataType=r,s.source=i,s.proposedName=n,s.expressionContentCache=a,s.format=o,s}l.SQNativeColumnExpr=ge,__extends(Ee,Se=c),Ee.prototype.accept=function(e,t){return e.visitAggr(this,t)},Ee.prototype.getMetadata=function(e,t){var r;return c.isNativeColumn(this.arg)?{kind:1,type:(r=this.getFormatAndTypeForAggregate(this.func,this.arg.format,a.ValueType.fromPrimitiveTypeAndCategory(this.arg.dataType))).type,format:r.format}:Se.prototype.getMetadata.call(this,e,t)};var Se,u=Ee;function Ee(e,t,r){var i=this;return(i=Se.call(this,4,r)||this).arg=e,i.func=t,i}l.SQAggregationExpr=u,__extends(Ce,we=c),Ce.prototype.getMetadata=function(e){e=this.arg.getMetadata(e);if(e)return{kind:1,type:e.type}},Ce.prototype.accept=function(e,t){return e.visitPercentile(this,t)};var we,be=Ce;function Ce(e,t,r,i){var n=this;return(n=we.call(this,28,i)||this).arg=e,n.k=t,n.exclusive=r,n}l.SQPercentileExpr=be,__extends(f,De=c),f.prototype.accept=function(e,t){return e.visitRangePercent(this,t)},f.overRangeOf=function(e,t){return new f(ee.createGlobalAggregateOfScopedExpr(e,3),ee.createGlobalAggregateOfScopedExpr(e,4),t)},f.prototype.decomposeOverRangePattern=function(){var e=this.min,t=this.max;if(c.isScopedEval(e)&&c.isScopedEval(t)){e=e.decomposeGlobalAggregateOfScopedExpr(),t=t.decomposeGlobalAggregateOfScopedExpr();if(e&&t&&3===e.func&&4===t.func&&c.equals(e.source,t.source))return{sourceExpr:e.source,percent:this.percent}}};var De,Ve=f;function f(e,t,r,i){i=De.call(this,29,i)||this;return i.min=e,i.max=t,i.percent=r,i}l.SQRangePercentExpr=Ve,__extends(Te,_e=c),Te.prototype.accept=function(e,t){return e.visitPropertyVariationSource(this,t)};var _e,Re=Te;function Te(e,t,r,i){var n=this;return(n=_e.call(this,5,i)||this).arg=e,n.name=t,n.property=r,n}l.SQPropertyVariationSourceExpr=Re,__extends(Pe,Fe=p),Pe.prototype.accept=function(e,t){return e.visitGroupRef(this,t)};var Fe,Me=Pe;function Pe(e,t,r,i){var n=this;return(n=Fe.call(this,t,e,34,i)||this).groupedExprs=r,n}l.SQGroupRefExpr=Me,__extends(Qe,Ne=c),Qe.prototype.accept=function(e,t){return e.visitHierarchy(this,t)};var Ne,Ae=Qe;function Qe(e,t,r){var i=this;return(i=Ne.call(this,6,r)||this).arg=e,i.hierarchy=t,i}l.SQHierarchyExpr=Ae,__extends(Oe,Ie=c),Oe.prototype.accept=function(e,t){return e.visitHierarchyLevel(this,t)};var Ie,qe=Oe;function Oe(e,t,r){var i=this;return(i=Ie.call(this,7,r)||this).arg=e,i.level=t,i}l.SQHierarchyLevelExpr=qe,__extends(ke,Ue=c),ke.prototype.accept=function(e,t){return e.visitSelectRef(this,t)};var Ue,je=ke;function ke(e,t,r){var i=this;return(i=Ue.call(this,30,r)||this).expressionName=e,i.attributeKind=t,i}l.SQSelectRefExpr=je,__extends(He,Be=c),He.prototype.accept=function(e,t){return e.visitAnd(this,t)};var Be,Le=He;function He(e,t,r){var i=this;return(i=Be.call(this,8,r)||this).left=e,i.right=t,i}l.SQAndExpr=Le,__extends(Ke,Ge=c),Ke.prototype.accept=function(e,t){return e.visitBetween(this,t)};var Ge,We=Ke;function Ke(e,t,r,i){var n=this;return(n=Ge.call(this,9,i)||this).arg=e,n.lower=t,n.upper=r,n}l.SQBetweenExpr=We,__extends(Je,ze=c),Je.prototype.accept=function(e,t){return e.visitIn(this,t)};var ze,Ye=Je;function Je(e,t,r,i){var n=this;return(n=ze.call(this,10,i)||this).args=e,t&&(n.values=t),r&&(n.table=r),n}l.SQInExpr=Ye,__extends(Xe,Ze=c),Xe.prototype.accept=function(e,t){return e.visitOr(this,t)};var Ze,$e=Xe;function Xe(e,t,r){var i=this;return(i=Ze.call(this,11,r)||this).left=e,i.right=t,i}l.SQOrExpr=$e,__extends(rt,et=c),rt.prototype.accept=function(e,t){return e.visitCompare(this,t)},rt.prototype.isOrdinalEvaluation=function(){return l.annotationsContainOrdinalEvaluation(this.getAnnotations())};var et,tt=rt;function rt(e,t,r,i){var n=this;return(n=et.call(this,13,i)||this).comparison=e,n.left=t,n.right=r,n}l.SQCompareExpr=tt,__extends(at,it=c),at.prototype.accept=function(e,t){return e.visitConditional(this,t)};var it,nt=at;function at(e,t,r){var i=this;return(i=it.call(this,42,r)||this).cases=e,i.defaultValue=t,i}l.SQConditionalExpr=nt,__extends(ut,ot=c),ut.prototype.accept=function(e,t){return e.visitContains(this,t)},ut.prototype.isOrdinalEvaluation=function(){return l.annotationsContainOrdinalEvaluation(this.getAnnotations())};var ot,st=ut;function ut(e,t,r){var i=this;return(i=ot.call(this,12,r)||this).left=e,i.right=t,i}l.SQContainsExpr=st,__extends(pt,lt=c),pt.prototype.accept=function(e,t){return e.visitStartsWith(this,t)},pt.prototype.isOrdinalEvaluation=function(){return l.annotationsContainOrdinalEvaluation(this.getAnnotations())};var lt,ct=pt;function pt(e,t,r){var i=this;return(i=lt.call(this,14,r)||this).left=e,i.right=t,i}l.SQStartsWithExpr=ct,__extends(ht,ft=c),ht.prototype.accept=function(e,t){return e.visitExists(this,t)};var ft,dt=ht;function ht(e,t){var r=this;return(r=ft.call(this,15,t)||this).arg=e,r}l.SQExistsExpr=dt,__extends(yt,mt=c),yt.prototype.accept=function(e,t){return e.visitNot(this,t)};var mt,vt=yt;function yt(e,t){var r=this;return(r=mt.call(this,16,t)||this).arg=e,r}l.SQNotExpr=vt,__extends(h,gt=c),Object.defineProperty(h.prototype,"valueEncoded",{get:function(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=l.PrimitiveValueEncoding.toTypeEncoded(this.rawValue||this.value,this.type)),this.typeEncodedValue},enumerable:!1,configurable:!0}),h.prototype.accept=function(e,t){return e.visitConstant(this,t)},h.prototype.getMetadata=function(){return{kind:1,type:this.type}},h.getNumericValue=function(e){if(c.isConstantNumeric(e)&&_.isNumber(e.value))return e.value},h.getTextValue=function(e){if(c.isConstantText(e)&&_.isString(e.value))return e.value},h.getBooleanValue=function(e){if(c.isConstantBoolean(e)&&_.isBoolean(e.value))return e.value},h.getDateValue=function(e){if(c.isConstantDate(e)&&_.isDate(e.value))return e.value};var gt,d=h;function h(e,t,r,i,n){var a=this;return(a=gt.call(this,17,n)||this).type=e,a.value=t,a.typeEncodedValue=r,i&&(a.rawValue=i),a}l.SQConstantExpr=d,jsCommon.forceEnumeration(d.prototype),__extends(Et,xt=c),Et.prototype.accept=function(e,t){return e.visitDateSpan(this,t)};var xt,St=Et;function Et(e,t,r){var i=this;return(i=xt.call(this,18,r)||this).unit=e,i.arg=t,i}l.SQDateSpanExpr=St,__extends(Ct,wt=c),Ct.prototype.accept=function(e,t){return e.visitDateAdd(this,t)},Ct.prototype.getMetadata=function(e){return this.arg.getMetadata(e)};var wt,bt=Ct;function Ct(e,t,r,i){var n=this;return(n=wt.call(this,19,i)||this).unit=e,n.arg=r,n.amount=t,n}l.SQDateAddExpr=bt,__extends(_t,Dt=c),_t.prototype.accept=function(e,t){return e.visitNow(this,t)},_t.prototype.getMetadata=function(){return{kind:1,type:a.ValueType.fromExtendedType(519)}};var Dt,Vt=_t;function _t(e){return Dt.call(this,20,e)||this}l.SQNowExpr=Vt,__extends(Ft,Rt=c),Ft.prototype.accept=function(e,t){return e.visitDefaultValue(this,t)};var Rt,Tt=Ft;function Ft(e){return Rt.call(this,22,e)||this}l.SQDefaultValueExpr=Tt,__extends(Nt,Mt=c),Nt.prototype.accept=function(e,t){return e.visitAnyValue(this,t)};var Mt,Pt=Nt;function Nt(e,t){var r=this;return(r=Mt.call(this,21,t)||this).defaultValueOverridesAncestors=e,r}l.SQAnyValueExpr=Pt,__extends(It,At=c),It.prototype.accept=function(e,t){return e.visitFillRule(this,t)};var At,Qt=It;function It(e,t,r){var i=this;return(i=At.call(this,24,r)||this).input=e,i.rule=t,i}l.SQFillRuleExpr=Qt,__extends(Ut,qt=c),Ut.prototype.accept=function(e,t){return e.visitThemeDataColor(this,t)};var qt,Ot=Ut;function Ut(e,t,r){var i=this;return(i=qt.call(this,33,r)||this).colorId=e,i.percent=t,i}l.SQThemeDataColorExpr=Ot,__extends(Bt,jt=c),Bt.prototype.accept=function(e,t){return e.visitResourcePackageItem(this,t)};var jt,kt=Bt;function Bt(e,t,r,i){var n=this;return(n=jt.call(this,25,i)||this).packageName=e,n.packageType=t,n.itemName=r,n}l.SQResourcePackageItemExpr=kt,__extends(Gt,Lt=c),Gt.prototype.accept=function(e,t){return e.visitTransformTableRef(this,t)};var Lt,Ht=Gt;function Gt(e,t){var r=this;return(r=Lt.call(this,31,t)||this).source=e,r}l.SQTransformTableRefExpr=Ht,__extends(zt,Wt=c),zt.prototype.accept=function(e,t){return e.visitTransformOutputRoleRef(this,t)},zt.prototype.getMetadata=function(e){};var Wt,Kt=zt;function zt(e,t,r){var i=this;return(i=Wt.call(this,32,r)||this).role=e,t&&(i.transform=t),i}l.SQTransformOutputRoleRefExpr=Kt,__extends(Zt,Yt=c),Zt.prototype.accept=function(e,t){return e.visitRoleRef(this,t)};var Yt,Jt=Zt;function Zt(e,t){var r=this;return(r=Yt.call(this,36,t)||this).role=e,r}l.SQRoleRefExpr=Jt,__extends(er,$t=c),er.prototype.accept=function(e,t){return e.visitSummaryValueRef(this,t)};var $t,Xt=er;function er(e,t){var r=this;return(r=$t.call(this,45,t)||this).name=e,r}l.SQSummaryValueRefExpr=Xt,__extends(ir,tr=c),ir.prototype.accept=function(e,t){return e.visitAllRolesRef(this,t)};var tr,rr=ir;function ir(e){return tr.call(this,37,e)||this}l.SQAllRolesRefExpr=rr,__extends(or,nr=c),or.prototype.accept=function(e,t){return e.visitDiscretize(this,t)};var nr,ar=or;function or(e,t,r){var i=this;return(i=nr.call(this,38,r)||this).source=e,i.count=t,i}l.SQDiscretizeExpr=ar,__extends(lr,sr=c),lr.prototype.accept=function(e,t){return e.visitMember(this,t)};var sr,ur=lr;function lr(e,t,r){var i=this;return(i=sr.call(this,40,r)||this).source=e,i.member=t,i}l.SQMemberExpr=ur,__extends(hr,cr=c),hr.prototype.getMetadata=function(e){return{kind:1,type:a.ValueType.fromDescriptor({misc:{sparkline:{groupingType:null==(e=this.grouping[0].getMetadata(e))?void 0:e.type}}})}},hr.prototype.accept=function(e,t){return e.visitSparklineData(this,t)};var cr,m,v,pr,fr,dr=hr;function hr(e,t,r,i,n,a){a=cr.call(this,46,a)||this;return a.measure=e,a.grouping=t,a.scalarKey=r,a.pointsPerSparkline=i,a.includeMinGroupingInterval=n,a}function mr(e,t,r,i){return new tt(e,t,r,i)}function vr(){return pr}function yr(e,t){return new d(a.ValueType.fromExtendedType(5),e,l.PrimitiveValueEncoding.boolean(e),void 0,t)}function gr(e,t,r){return new d(a.ValueType.fromExtendedType(519),e,t,void 0,r)}function xr(e,t,r){return new d(a.ValueType.fromExtendedType(259),e,t,void 0,r)}function Sr(e,t,r){return new d(a.ValueType.fromExtendedType(260),e,t,void 0,r)}function Er(e,t,r){return new d(a.ValueType.fromExtendedType(1),e,t,void 0,r)}l.SQSparklineDataExpr=dr,(v=m=l.SQExprBuilder||(l.SQExprBuilder={})).entity=function(e,t,r,i){return new j(e,t,r,i)},v.subqueryRef=function(e,t){return _.isString(e),new G(e,t)},v.namedQueryRef=function(e,t,r){return new K(e,t,r)},v.columnRef=function(e,t,r){return new p(e,t,null,r)},v.measureRef=function(e,t,r){return new fe(e,t,r)},v.nativeMeasure=function(e,t,r,i,n,a,o){return new me(e,t,r,i,n,a,o)},v.nativeColumn=function(e,t,r,i,n,a,o,s){return new ge(e,t,r,i,n,a,o,s)},v.aggregate=function(e,t,r){return new u(e,t,r)},v.selectRef=function(e,t,r){return new je(e,t,r)},v.percentile=function(e,t,r,i){return new be(e,t,r,i)},v.rangePercent=function(e,t,r,i){return new Ve(e,t,r,i)},v.arithmetic=function(e,t,r,i){return new Y(e,t,r,i)},v.floor=function(e,t,r,i){return new Z(e,t,r,i)},v.scopedEval=function(e,t,r){return new ee(e,t,r)},v.filteredEval=function(e,t,r){return new re(e,t,r)},v.withRef=function(e,t){return new ae(e,t)},v.groupRef=function(e,t,r,i){return new Me(e,t,r,i)},v.hierarchy=function(e,t,r){return new Ae(e,t,r)},v.propertyVariationSource=function(e,t,r,i){return new Re(e,t,r,i)},v.hierarchyLevel=function(e,t,r){return new qe(e,t,r)},v.transformTableRef=function(e,t){return new Ht(e,t)},v.transformOutputRoleRef=function(e,t,r){return new Kt(e,t,r)},v.roleRef=function(e,t){return new Jt(e,t)},v.summaryValueRef=function(e,t){return new Xt(e,t)},v.allRolesRef=function(e){return new rr(e)},v.and=function(e,t,r){return e?t?new Le(e,t,r):e:t},v.between=function(e,t,r,i){return new We(e,t,r,i)},v.inValues=function(e,t,r){return new Ye(e,t,null,r)},v.inTable=function(e,t,r){return new Ye(e,null,t,r)},v.or=function(e,t,r){if(!e)return t;if(!t)return e;if(c.isIn(e)&&c.isIn(t)){var i=(function(e,t,r){if(e.args&&t.args&&e.values&&t.values){var i=e.args.length,n=t.args.length;if(i===n){for(var a=0;a<i;++a)if(!c.equals(e.args[a],t.args[a]))return;n=e.values.concat(t.values);return v.inValues(e.args,n,r)}}})(e,t,r);if(i)return i}return new $e(e,t,r)},v.compare=mr,v.conditional=function(e,t,r){return new nt(e,t,r)},v.contains=function(e,t,r){return new st(e,t,r)},v.exists=function(e,t){return new dt(e,t)},v.equal=function(e,t,r){return mr(0,e,t,r)},v.not=function(e,t){return new vt(e,t)},v.startsWith=function(e,t,r){return new ct(e,t,r)},pr=new d(a.ValueType.fromExtendedType(0),null,l.PrimitiveValueEncoding.nullEncoding()),v.nullConstant=vr,fr=new d(a.ValueType.fromExtendedType(1),""),v.emptyString=function(){return fr},v.now=function(e){return new Vt(e)},v.defaultValue=function(e){return new Tt(e)},v.anyValue=function(e,t){return new Pt(e,t)},v.boolean=yr,v.dateAdd=function(e,t,r,i){return new bt(e,t,r,i)},v.dateTime=gr,v.dateSpan=function(e,t,r){return new St(e,t,r)},v.decimal=function(e,t,r){return new d(a.ValueType.fromExtendedType(258),e,t,void 0,r)},v.double=xr,v.integer=Sr,v.text=Er,v.typedConstant=function(e,t){return null==e?pr:_.isBoolean(e)?yr(e):_.isString(e)?Er(e):_.isNumber(e)?(t.integer&&a.Double.isInteger(e)?Sr:xr)(e):e instanceof Date?gr(e):void 0},v.fromRawValue=function(e,t,r,i){return new d(a.ValueType.fromExtendedType(e),t,void 0,r,i)},v.sparklineData=function(e,t,r,i,n,a){return new dr(e,t,r,i,n,a)},v.setAggregate=function(e,t){return Ar.rewrite(e,t)},v.removeAggregate=function(e,t){return Qr.rewrite(e,t)},v.setPercentOfGrandTotal=function(e){return Lr.rewrite(e)},v.removePercentOfGrandTotal=function(e){return kr.rewrite(e)},v.setPercentOfRoleTotal=function(e,t){return Kr.rewrite(e,t)},v.removePercentOfRoleTotal=function(e){return Gr.rewrite(e)},v.removeEntityVariables=function(e){return Ur.rewrite(e)},v.setVisualCalcExpression=function(e,t,r){if(c.isNativeVisualCalc(e))return Yr.rewrite(e,t,r)},v.fillRule=function(e,t,r){return new Qt(e,t,r)},v.themeDataColor=function(e,t,r){return new Ot(e,t,r)},v.resourcePackageItem=function(e,t,r,i){return new kt(e,t,r,i)},v.discretize=function(e,t,r){return new ar(e,t,r)},v.member=function(e,t,r){return new ur(e,t,r)},v.color=function(e,t,r){return null!=e&&jsCommon.Color.isHexString(e),Er(e||t,void 0,r)},v.nativeVisualCalc=function(e,t,r){return new B(e,"dax",t,r)},(t=l.SQExprInfo||(l.SQExprInfo={})).getAggregate=function(e){return _r.getAggregate(e)},t.getValueIfStringConstant=function(e){if(c.isConstant(e)&&e.type.text)return e.value},y.getInstance=function(e,t,r){var i=[+(e=e||!1),+(t=t||!1),+(r=r||!1)].reduce((function(e,t){return e<<1|t}));return y.instances[i]||new y(e,t,r)},y.run=function(e,t,r,i,n){return(e=e||null)===(t=t||null)||!e==!t&&e.accept(y.getInstance(r,i,n),t)},y.prototype.visitColumnRef=function(e,t){return!(!c.isColumn(t)&&!c.isGroupRef(t))&&e.ref===t.ref&&this.equals(e.source,t.source)&&this.equalAnnotations(e,t)},y.prototype.visitMeasureRef=function(e,t){return!(!c.isMeasure(t)||!this.equalAnnotations(e,t))&&e.ref===t.ref&&this.equals(e.source,t.source)},y.prototype.visitNativeMeasure=function(e,t){return!(!c.isNativeMeasure(t)||e.language!==t.language||e.expression!==t.expression||e.dataType!==t.dataType||e.format!==t.format||e.proposedName!==t.proposedName||!this.equalAnnotations(e,t))&&(e=e.expressionContentCache,t=t.expressionContentCache,!e&&!t||!(!e||!t)&&e.unrecognizedIdentifiers===t.unrecognizedIdentifiers&&this.equalsAll(e.dependencies,t.dependencies))},y.prototype.visitNativeColumn=function(e,t){return!(!c.isNativeColumn(t)||e.language!==t.language||e.expression!==t.expression||e.dataType!==t.dataType||e.proposedName!==t.proposedName||e.format!==t.format||!this.equals(e.source,t.source)||!this.equalAnnotations(e,t))&&(e=e.expressionContentCache,t=t.expressionContentCache,!e&&!t||!(!e||!t)&&e.unrecognizedIdentifiers===t.unrecognizedIdentifiers&&this.equalsAll(e.dependencies,t.dependencies))},y.prototype.visitAggr=function(e,t){return c.isAggregation(t)&&this.equalAnnotations(e,t)&&e.func===t.func&&this.equals(e.arg,t.arg)},y.prototype.visitPercentile=function(e,t){return!(!c.isPercentile(t)||!this.equalAnnotations(e,t))&&e.exclusive===t.exclusive&&e.k===t.k&&this.equals(e.arg,t.arg)},y.prototype.visitRangePercent=function(e,t){return!(!c.isRangePercent(t)||!this.equalAnnotations(e,t))&&e.percent===t.percent&&this.equals(e.min,t.min)&&this.equals(e.max,t.max)},y.prototype.visitGroupRef=function(e,t){var r=!1;return(c.isGroupRef(t)||c.isColumn(t))&&(r=e.ref===t.ref&&this.equals(e.source,t.source)&&this.equalAnnotations(e,t)),r=c.isGroupRef(t)&&this.equalAnnotations(e,t)?r&&this.equalsAll(e.groupedExprs,t.groupedExprs):r},y.prototype.visitHierarchy=function(e,t){return!(!c.isHierarchy(t)||!this.equalAnnotations(e,t))&&e.hierarchy===t.hierarchy&&this.equals(e.arg,t.arg)},y.prototype.visitHierarchyLevel=function(e,t){return!(!c.isHierarchyLevel(t)||!this.equalAnnotations(e,t))&&e.level===t.level&&this.equals(e.arg,t.arg)},y.prototype.visitPropertyVariationSource=function(e,t){return!(!c.isPropertyVariationSource(t)||!this.equalAnnotations(e,t))&&e.name===t.name&&e.property===t.property&&this.equals(e.arg,t.arg)},y.prototype.visitSelectRef=function(e,t){return!(!c.isSelectRef(t)||!this.equalAnnotations(e,t)||e.expressionName!==t.expressionName||e.attributeKind!==t.attributeKind&&this.isNullOrUndefined(e.attributeKind)!==this.isNullOrUndefined(t.attributeKind))},y.prototype.isNullOrUndefined=function(e){return null==e},y.prototype.visitBetween=function(e,t){return!(!c.isBetween(t)||!this.equalAnnotations(e,t))&&this.equals(e.arg,t.arg)&&this.equals(e.lower,t.lower)&&this.equals(e.upper,t.upper)},y.prototype.visitIn=function(e,t){if(!c.isIn(t)||!this.equalsAll(e.args,t.args)||!this.equalAnnotations(e,t))return!1;var r=e.values;if(r){var i=t.values;if(!i)return!1;if(r.length!==i.length)return!1;for(var n=0,a=r.length;n<a;n++)if(!this.equalsAll(r[n],i[n]))return!1}else{if(!t.table)return!1;if(!this.equals(e.table,t.table))return!1}return!0},y.prototype.visitEntity=function(e,t){return!(!c.isEntity(t)||!this.equalAnnotations(e,t))&&e.schema===t.schema&&e.entity===t.entity&&(this.ignoreVariables||this.optionalEqual(e.variable,t.variable))},y.prototype.visitSubqueryRef=function(e,t){return!(!c.isSubqueryRef(t)||!this.equalAnnotations(e,t)||!e.query&&t.query||e.query&&!t.query)&&(e.query&&t.query?e.variable===t.variable&&l.SemanticQuery.equals(e.query,t.query):e.variable===t.variable)},y.prototype.visitNamedQueryRef=function(e,t){return!(!c.isNamedQueryRef(t)||!this.equalAnnotations(e,t))&&e.queryName===t.queryName&&(this.ignoreVariables||this.optionalEqual(e.variable,t.variable))},y.prototype.visitAnd=function(e,t){return!(!c.isAnd(t)||!this.equalAnnotations(e,t))&&this.equals(e.left,t.left)&&this.equals(e.right,t.right)},y.prototype.visitOr=function(e,t){return!(!c.isOr(t)||!this.equalAnnotations(e,t))&&this.equals(e.left,t.left)&&this.equals(e.right,t.right)},y.prototype.visitCompare=function(e,t){return!(!c.isCompare(t)||!this.equalAnnotations(e,t))&&e.comparison===t.comparison&&this.equals(e.left,t.left)&&this.equals(e.right,t.right)},y.prototype.visitConditional=function(e,t){var r=this;return!(!c.isConditional(t)||!this.equalAnnotations(e,t))&&q.sequenceEqual(e.cases,t.cases,(function(e,t){return r.visitCase(e,t)}))&&this.equalsNullableObject(e.defaultValue,t.defaultValue,(function(e,t){return r.equals(e,t)}))},y.prototype.visitCase=function(e,t){return this.equals(e.condition,t.condition)&&this.equals(e.value,t.value)},y.prototype.visitContains=function(e,t){return!(!c.isContains(t)||!this.equalAnnotations(e,t))&&this.equals(e.left,t.left)&&this.equals(e.right,t.right)},y.prototype.visitDateSpan=function(e,t){return!(!c.isDateSpan(t)||!this.equalAnnotations(e,t))&&e.unit===t.unit&&this.equals(e.arg,t.arg)},y.prototype.visitDateAdd=function(e,t){return!(!c.isDateAdd(t)||!this.equalAnnotations(e,t))&&e.unit===t.unit&&e.amount===t.amount&&this.equals(e.arg,t.arg)},y.prototype.visitExists=function(e,t){return!(!c.isExists(t)||!this.equalAnnotations(e,t))&&this.equals(e.arg,t.arg)},y.prototype.visitNot=function(e,t){return!(!c.isNot(t)||!this.equalAnnotations(e,t))&&this.equals(e.arg,t.arg)},y.prototype.visitNow=function(e,t){return!!this.equalAnnotations(e,t)&&c.isNow(t)},y.prototype.visitDefaultValue=function(e,t){return!!this.equalAnnotations(e,t)&&c.isDefaultValue(t)},y.prototype.visitAnyValue=function(e,t){return!!this.equalAnnotations(e,t)&&c.isAnyValue(t)},y.prototype.visitResourcePackageItem=function(e,t){return!(!c.isResourcePackageItem(t)||!this.equalAnnotations(e,t))&&e.packageName===t.packageName&&e.packageType===t.packageType&&e.itemName===t.itemName},y.prototype.visitStartsWith=function(e,t){return!(!c.isStartsWith(t)||!this.equalAnnotations(e,t))&&this.equals(e.left,t.left)&&this.equals(e.right,t.right)},y.prototype.visitConstant=function(e,t){return!!(c.isConstant(t)&&e.type.equals(t.type)&&this.equalAnnotations(e,t))&&(e.type.text&&this.ignoreCase?O.equalIgnoreCase(e.valueEncoded,t.valueEncoded):e.valueEncoded===t.valueEncoded)},y.prototype.visitFillRule=function(e,t){var r=this;return!!(c.isFillRule(t)&&this.equals(e.input,t.input)&&this.equalAnnotations(e,t))&&((e=e.rule)===(t=t.rule)||this.equalsNullableObject(e.linearGradient2,t.linearGradient2,(function(e,t){return r.visitLinearGradient2(e,t)}))&&this.equalsNullableObject(e.linearGradient3,t.linearGradient3,(function(e,t){return r.visitLinearGradient3(e,t)})))},y.prototype.visitLinearGradient2=function(e,t){var r=this;return this.equalsFillRuleStop(e.min,t.min)&&this.equalsFillRuleStop(e.max,t.max)&&this.equalsNullableObject(e.nullColoringStrategy,t.nullColoringStrategy,(function(e,t){return r.equalsNullStrategy(e,t)}))},y.prototype.visitLinearGradient3=function(e,t){var r=this;return this.equalsFillRuleStop(e.min,t.min)&&this.equalsFillRuleStop(e.mid,t.mid)&&this.equalsFillRuleStop(e.max,t.max)&&this.equalsNullableObject(e.nullColoringStrategy,t.nullColoringStrategy,(function(e,t){return r.equalsNullStrategy(e,t)}))},y.prototype.visitThemeDataColor=function(e,t){return c.isThemeDataColor(t)&&e.colorId===t.colorId&&e.percent===t.percent},y.prototype.equalsFillRuleStop=function(e,t){return this.equals(e.color,t.color)&&this.equalsNullable(e.value,t.value)},y.prototype.equalsNullStrategy=function(e,t){return this.equals(e.strategy,t.strategy)&&this.equalsNullable(e.color,t.color)},y.prototype.visitArithmetic=function(e,t){return!(!c.isArithmetic(t)||!this.equalAnnotations(e,t))&&e.operator===t.operator&&this.equals(e.left,t.left)&&this.equals(e.right,t.right)},y.prototype.visitFloor=function(e,t){return!(!c.isFloor(t)||!this.equalAnnotations(e,t))&&e.timeUnit===t.timeUnit&&e.size===t.size&&this.equals(e.arg,t.arg)},y.prototype.visitScopedEval=function(e,t){return!(!c.isScopedEval(t)||!this.equalAnnotations(e,t))&&this.equals(e.expression,t.expression)&&this.equalsAll(e.scope,t.scope)},y.prototype.visitFilteredEval=function(e,r){return!(!c.isFilteredEval(r)||!this.equalAnnotations(e,r))&&this.equals(e.expression,r.expression)&&e.filters.length===r.filters.length&&_.every(e.filters,(function(e,t){return l.SQFilter.equals(e,r.filters[t])}))},y.prototype.visitWithRef=function(e,t){return!(!c.isWithRef(t)||!this.equalAnnotations(e,t))&&e.expressionName===t.expressionName},y.prototype.visitTransformTableRef=function(e,t){return!(!c.isTransformTableRef(t)||!this.equalAnnotations(e,t))&&e.source===t.source},y.prototype.visitTransformOutputRoleRef=function(e,t){return!(!c.isTransformOutputRoleRef(t)||!this.equalAnnotations(e,t))&&e.role===t.role&&e.transform===t.transform},y.prototype.visitRoleRef=function(e,t){return!(!c.isRoleRef(t)||!this.equalAnnotations(e,t))&&e.role===t.role},y.prototype.visitSummaryValueRef=function(e,t){return!(!c.isSummaryValueRef(t)||!this.equalAnnotations(e,t))&&e.name===t.name},y.prototype.visitAllRolesRef=function(e,t){return c.isAllRolesRef(t)},y.prototype.visitDiscretize=function(e,t){return!(!c.isDiscretize(t)||!this.equalAnnotations(e,t))&&e.count===t.count&&this.equals(e.source,t.source)},y.prototype.visitMember=function(e,t){return!(!c.isMember(t)||!this.equalAnnotations(e,t))&&e.member===t.member&&this.equals(e.source,t.source)},y.prototype.visitSparklineData=function(e,t){return!!c.isSparklineData(t)&&this.equals(e.measure,t.measure)&&this.equalsAll(e.grouping,t.grouping)&&!!(!e.scalarKey&&!t.scalarKey||e.scalarKey&&t.scalarKey&&this.equals(e.scalarKey,t.scalarKey))&&e.pointsPerSparkline===t.pointsPerSparkline&&e.includeMinGroupingInterval===t.includeMinGroupingInterval},y.prototype.optionalEqual=function(e,t){return!e||!t||e===t},y.prototype.equals=function(e,t){return e.accept(this,t)},y.prototype.equalsNullable=function(e,t){var r=this;return this.equalsNullableObject(e,t,(function(e,t){return r.equals(e,t)}))},y.prototype.equalsNullableObject=function(e,t,r){return null==e&&null==t||null!=e&&null!=t&&r(e,t)},y.prototype.equalsAll=function(e,t){var r=this;return q.sequenceEqual(e,t,(function(e,t){return r.equals(e,t)}))},y.prototype.equalAnnotations=function(e,t){return!(!this.ignoreAnnotations&&!_.isEqual(e.getAnnotations(),t.getAnnotations()))},y.prototype.visitNativeVisualCalc=function(e,t){return!(!this.ignoreAnnotations&&!_.isEqual(e.getAnnotations(),t.getAnnotations()))&&e.language===t.language&&e.expression===t.expression&&e.name===t.name},y.instances=[];var wr=y;function y(e,t,r){this.ignoreCase=e,this.ignoreVariables=t,this.ignoreAnnotations=r}function g(){}g.prototype.visitEntity=function(e,t){return this.visitDefault(e,t)},g.prototype.visitSubqueryRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitColumnRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitMeasureRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitAggr=function(e,t){return this.visitDefault(e,t)},g.prototype.visitPercentile=function(e,t){return this.visitDefault(e,t)},g.prototype.visitRangePercent=function(e,t){return this.visitDefault(e,t)},g.prototype.visitGroupRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitHierarchy=function(e,t){return this.visitDefault(e,t)},g.prototype.visitHierarchyLevel=function(e,t){return this.visitDefault(e,t)},g.prototype.visitPropertyVariationSource=function(e,t){return this.visitDefault(e,t)},g.prototype.visitSelectRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitAnd=function(e,t){return this.visitDefault(e,t)},g.prototype.visitBetween=function(e,t){return this.visitDefault(e,t)},g.prototype.visitIn=function(e,t){return this.visitDefault(e,t)},g.prototype.visitOr=function(e,t){return this.visitDefault(e,t)},g.prototype.visitCompare=function(e,t){return this.visitDefault(e,t)},g.prototype.visitConditional=function(e,t){return this.visitDefault(e,t)},g.prototype.visitContains=function(e,t){return this.visitDefault(e,t)},g.prototype.visitExists=function(e,t){return this.visitDefault(e,t)},g.prototype.visitNot=function(e,t){return this.visitDefault(e,t)},g.prototype.visitStartsWith=function(e,t){return this.visitDefault(e,t)},g.prototype.visitConstant=function(e,t){return this.visitDefault(e,t)},g.prototype.visitDateSpan=function(e,t){return this.visitDefault(e,t)},g.prototype.visitDateAdd=function(e,t){return this.visitDefault(e,t)},g.prototype.visitNow=function(e,t){return this.visitDefault(e,t)},g.prototype.visitDefaultValue=function(e,t){return this.visitDefault(e,t)},g.prototype.visitAnyValue=function(e,t){return this.visitDefault(e,t)},g.prototype.visitArithmetic=function(e,t){return this.visitDefault(e,t)},g.prototype.visitFloor=function(e,t){return this.visitDefault(e,t)},g.prototype.visitFillRule=function(e,t){return this.visitDefault(e,t)},g.prototype.visitThemeDataColor=function(e,t){return this.visitDefault(e,t)},g.prototype.visitResourcePackageItem=function(e,t){return this.visitDefault(e,t)},g.prototype.visitScopedEval=function(e,t){return this.visitDefault(e,t)},g.prototype.visitFilteredEval=function(e,t){return this.visitDefault(e,t)},g.prototype.visitWithRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitTransformTableRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitTransformOutputRoleRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitRoleRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitAllRolesRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitDiscretize=function(e,t){return this.visitDefault(e,t)},g.prototype.visitMember=function(e,t){return this.visitDefault(e,t)},g.prototype.visitNamedQueryRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitNativeMeasure=function(e,t){return this.visitDefault(e,t)},g.prototype.visitNativeColumn=function(e,t){return this.visitDefault(e,t)},g.prototype.visitSummaryValueRef=function(e,t){return this.visitDefault(e,t)},g.prototype.visitSparklineData=function(e,t){return this.visitDefault(e,t)},g.prototype.visitNativeVisualCalc=function(e,t){return this.visitDefault(e,t)},g.prototype.visitDefault=function(e,t){return e},__extends(Cr,br=t=g);var br,x=Cr;function Cr(){return null!==br&&br.apply(this,arguments)||this}S=l.SQExprRewriter,__extends(E,S),E.prototype.visitIn=function(e){var e=S.prototype.visitIn.call(this,e),t=e.args,r=e.values;if(r)for(var i=this,n=0,a=r;n<a.length;n++)for(var o=a[n],s=(l=u=void 0,o),u=0,l=s.length;u<l;++u)i.validateCompatibleType(t[u],s[u]);else{r=e.table;this.validateIsTableRef(r)}return e},E.prototype.visitCompare=function(e){e=S.prototype.visitCompare.call(this,e);return this.validateCompatibleType(e.left,e.right),e},E.prototype.visitColumnRef=function(e){var t;return c.isSubqueryRef(e.source)?l.SQExprUtils.getSubqueryExpression(e,this.context)||this.register(18):(t=l.SQExprConverter.asFieldPattern(e))&&this.validateColumnExpr(t),e},E.prototype.visitMeasureRef=function(e){var t,r=l.SQExprConverter.asFieldPattern(e);return r&&(t=l.FieldExprPattern.toFieldExprEntityItemPattern(r),!(t=this.validateEntity(t.schema,t.entity))||(t=t.properties.withName(r.measure.name))&&1===t.kind&&this.isQueryable(r)||this.register(5)),e},E.prototype.visitAggr=function(e){var t=S.prototype.visitAggr.call(this,e);return Tr.getColumnRefSQExpr(this.schema,t.arg)&&!this.aggrUtils.isSupportedAggregate(e,this.schema,e.func,null,this.context)&&this.register(0),t},E.prototype.visitGroupRef=function(e){var t,r=l.SQExprConverter.asFieldPattern(e);return r&&(t=l.FieldExprPattern.toFieldExprEntityItemPattern(r),!(t=this.validateEntity(t.schema,t.entity))||(t=t.properties.withName(r.groupingColumn.name))&&0===t.kind&&this.validateExprSequence(e.groupedExprs)&&t.column.groupingMetadata&&this.isQueryable(r)||this.register(4)),e},E.prototype.visitHierarchy=function(e){var t=l.SQExprConverter.asFieldPattern(e);return t&&((t=t.hierarchy)?this.validateHierarchy(t.schema,t.entity,t.name):this.register(6)),e},E.prototype.visitHierarchyLevel=function(e){var t,r=l.SQExprConverter.asFieldPattern(e);return r&&(t=r.hierarchyLevel,r=r.columnHierarchyLevelVariation,t?this.validateHierarchyLevel(t.schema,t.entity,t.name,t.level):r?this.validateHierarchyLevelVariation(r):this.register(7)),e},E.prototype.visitPercentile=function(e){var t;return e.arg.accept(this),!_.isEmpty(this.errors)||(t=e.arg.getMetadata(this.schema,this.context))&&0===t.kind&&t.type&&(t.type.integer||t.type.numeric)||this.register(12),e},E.prototype.visitRangePercent=function(e){return(1<e.percent||e.percent<0)&&this.register(13),e.min.accept(this),e.max.accept(this),e},E.prototype.visitDiscretize=function(e){return e.source.accept(this),e.count<=0&&this.register(16),e},E.prototype.visitEntity=function(e){return this.validateEntity(e.schema,e.entity),e},E.prototype.visitSubqueryRef=function(e){return e},E.prototype.visitNamedQueryRef=function(e){return e},E.prototype.visitContains=function(e){return this.validateStartOrContainsArgs(e.left,e.right),e},E.prototype.visitStartsWith=function(e){return this.validateStartOrContainsArgs(e.left,e.right),e},E.prototype.visitArithmetic=function(e){return this.validateArithmeticTypes(e.operator,e.left,e.right),e},E.prototype.visitScopedEval=function(e){if(!e.hasGlobalScope()&&!e.hasInnerMostScope())for(var t=0,r=e.scope;t<r.length;t++){var i=r[t];c.isWithRef(i)||c.isColumn(i)||this.register(14)}return e},E.prototype.visitFilteredEval=function(e){e.expression.accept(this),0===_.size(e.filters)&&this.register(17);for(var t=0,r=e.filters;t<r.length;t++){var i=r[t];if(!_.isEmpty(i.target))for(var n=0,a=i.target;n<a.length;n++)a[n].accept(this);i.condition.accept(this)}return e},E.prototype.visitWithRef=function(e){return e},E.prototype.visitTransformTableRef=function(e){return e},E.prototype.visitTransformOutputRoleRef=function(e){return e},E.prototype.visitRoleRef=function(e){return e},E.prototype.visitSummaryValueRef=function(e){return e},E.prototype.visitAllRolesRef=function(e){return e},E.prototype.visitSparklineData=function(e){var t;l.SQExprUtils.isMeasure(e.measure)&&(null!=(t=null==(t=e.measure.getMetadata(this.schema))?void 0:t.type)&&t.numeric||null!=t&&t.integer)||this.register(5),_.some(e.grouping,(function(e){return l.SQExprUtils.isMeasure(e)}))&&this.register(3),e.measure.accept(this);for(var r=0,i=e.grouping;r<i.length;r++)i[r].accept(this);return e.scalarKey&&e.scalarKey.accept(this),e},E.prototype.visitNativeVisualCalc=function(e){return e},E.prototype.validateExprSequence=function(e){var r=this;return _.reduce(e,(function(e,t){return e&&_.isEmpty(t.validate(r.schema,r.aggrUtils,r.errors,r.context))}),!0)},E.prototype.validateStartOrContainsArgs=function(e,t){e.accept(this),t.accept(this),_.isEmpty(this.errors)&&(c.isConstant(t)&&t.type.text?this.validateCompatibleType(e,t,!0):this.register(10))},E.prototype.validateArithmeticTypes=function(e,t,r){l.SQExprUtils.supportsArithmetic(e,t,this.schema)||this.register(9),l.SQExprUtils.supportsArithmetic(e,r,this.schema)||this.register(10)},E.prototype.validateCompatibleType=function(e,t,r){e=e.getMetadata(this.schema,this.context),e=e&&e.type,t=t.getMetadata(this.schema,this.context),t=t&&t.type,r=r?!e||!t||!e.isCompatibleFrom(t):e&&t&&!e.isCompatibleFrom(t);r&&this.register(11)},E.prototype.validateEntity=function(e,t){e=this.schema.schema(e);if(e){e=e.entities.withName(t);if(e)return e;this.register(2)}else this.register(1)},E.prototype.validateIsTableRef=function(e){1!==e.kind&&0!==e.kind&&this.register(15)},E.prototype.validateHierarchy=function(e,t,r){e=this.validateEntity(e,t);if(e){t=e.hierarchies.withName(r);if(t)return t;this.register(6)}},E.prototype.validateHierarchyLevel=function(e,t,r,i){e=this.validateHierarchy(e,t,r);if(e){t=e.levels.withName(i);if(t)return t;this.register(7)}},E.prototype.validateHierarchyLevelVariation=function(e){var t=e.source,r=this.schema.schema(t.schema),i=r.findProperty(t.entity,t.name);if(this.validateColumnExpr({column:e.source}),i&&i.column){i=i.column.variations.withName(e.variationName);if(i){r=r.findHierarchyByVariation(t.entity,t.name,e.variationName,e.level.name);if(r)if(r.levels.withName(e.level.level))return i}this.register(8)}},E.prototype.validateColumnExpr=function(e){var t=e.column,r=this.validateEntity(t.schema,t.entity);if(r){r=r.properties.withName(t.name);if(r&&0===r.kind&&this.isQueryable(e))return r;this.register(3)}},E.prototype.register=function(e){this.errors||(this.errors=[]),this.errors.push(e)},E.prototype.isQueryable=function(e){var t,r=l.FieldExprPattern.toFieldExprEntityItemPattern(e);return e.hierarchyLevel||e.hierarchyLevelAggr?(t=l.SQHierarchyExprUtils.getConceptualHierarchyLevelFromExpr(this.schema,e))&&1!==t.column.queryable:1!==this.schema.schema(r.schema).findProperty(r.entity,l.FieldExprPattern.getPropertyName(e)).queryable};var S,Dr=E;function E(e,t,r,i){var n=this;return(n=S.call(this)||this).schema=e,n.aggrUtils=t,n.context=i,r&&(n.errors=r),n}l.SQExprValidationVisitor=Dr,Vr=l.DefaultSQExprVisitor,__extends(w,Vr),w.prototype.visitAggr=function(e){return e.func},w.prototype.visitDefault=function(e){},w.getAggregate=function(e){var t=new w;return e.accept(t)};var Vr,_r=w;function w(){return null!==Vr&&Vr.apply(this,arguments)||this}Rr=l.DefaultSQExprVisitor,__extends(b,Rr),b.prototype.visitColumnRef=function(e){return e},b.prototype.visitGroupRef=function(e){return e},b.prototype.visitHierarchyLevel=function(e){var t=e.level,r=e.arg,i=r.accept(this);if(r&&c.isPropertyVariationSource(r.arg)){var n=r.arg,n=i.getTargetEntityForVariation(this.schema,n.name);if(i&&n){var i=i.source.schema,a=m.entity(i,n),i=this.schema.schema(i).findHierarchy(n,r.hierarchy);if(i)for(var o=0,s=i.levels;o<s.length;o++){var u=s[o];if(u.name===t)return new p(a,u.column.name)}}}else{n=r.arg,i=l.SQHierarchyExprUtils.getConceptualHierarchyLevel(this.schema,n.schema,n.entity,r.hierarchy,e.level);if(i)return new p(r.arg,i.column.name)}},b.prototype.visitHierarchy=function(e){return e.arg.accept(this)},b.prototype.visitPropertyVariationSource=function(e){var t=e.property;return new p(e.arg,t)},b.prototype.visitAggr=function(e){return e.arg.accept(this)},b.prototype.visitDefault=function(e){},b.getColumnRefSQExpr=function(e,t){e=new b(e);return t.accept(e)};var Rr,Tr=b;function b(e){var t=Rr.call(this)||this;return t.schema=e,t}Fr=l.DefaultSQExprVisitorWithTraversal,__extends(C,Fr),C.prototype.visitEntity=function(e){var t=this.result;void 0===t||c.equals(t,e)?this.result=e:this.result=null},C.prototype.visitFilteredEval=function(e){e.expression.accept(this)},C.getEntityExpr=function(e){var t=new C;return e.accept(t),t.result||void 0};var Fr,Mr=C;function C(){return null!==Fr&&Fr.apply(this,arguments)||this}__extends(D,Pr=x),D.prototype.visitAggr=function(e){return e.func===this.func?e:new u(e.arg,this.func)},D.prototype.visitColumnRef=function(e){return new u(e,this.func)},D.prototype.visitGroupRef=function(e){return new u(e,this.func)},D.prototype.visitHierarchyLevel=function(e){return new u(e,this.func)},D.rewrite=function(e,t){t=new D(t);return e.accept(t)};var Pr,Nr=D;function D(e){var t=this;return(t=Pr.call(this)||this).func=e,t}V.rewrite=function(e,t){return l.FieldExprPattern.visit(e,new V(e,t))},V.prototype.visitPercentOfGrandTotal=function(e){return e.baseExpr=l.SQExprConverter.asFieldPattern(Nr.rewrite(m.fieldExpr(e.baseExpr),this.aggregate)),m.fieldExpr({percentOfGrandTotal:e})},V.prototype.visitPercentOfRoleTotal=function(e){return e.baseExpr=l.SQExprConverter.asFieldPattern(Nr.rewrite(m.fieldExpr(e.baseExpr),this.aggregate)),m.fieldExpr({percentOfRoleTotal:e})},V.prototype.visitFilteredEval=function(e){return e.baseExpr=l.SQExprConverter.asFieldPattern(Nr.rewrite(m.fieldExpr(e.baseExpr),this.aggregate)),m.fieldExpr({filteredEval:e})},V.prototype.visitColumn=function(e){return this.defaultRewrite()},V.prototype.visitColumnAggr=function(e){return this.defaultRewrite()},V.prototype.visitGroupingColumn=function(e){return this.defaultRewrite()},V.prototype.visitGroupingColumnAggr=function(e){return this.defaultRewrite()},V.prototype.visitColumnHierarchyVariation=function(e){return this.defaultRewrite()},V.prototype.visitColumnHierarchyLevelVariation=function(e){return this.defaultRewrite()},V.prototype.visitColumnSubquery=function(e){return this.defaultRewrite()},V.prototype.visitColumnAggrSubquery=function(e){return this.defaultRewrite()},V.prototype.visitColumnTransformRef=function(e){return this.defaultRewrite()},V.prototype.visitSelectRef=function(e){return this.defaultRewrite()},V.prototype.visitEntity=function(e){return this.defaultRewrite()},V.prototype.visitEntityAggr=function(e){return this.defaultRewrite()},V.prototype.visitHierarchy=function(e){return this.defaultRewrite()},V.prototype.visitHierarchyLevel=function(e){return this.defaultRewrite()},V.prototype.visitHierarchyLevelAggr=function(e){return this.defaultRewrite()},V.prototype.visitMeasure=function(e){return this.defaultRewrite()},V.prototype.visitPercentile=function(e){return this.defaultRewrite()},V.prototype.visitTransformOutputRoleRef=function(e){return this.defaultRewrite()},V.prototype.visitArithmetic=function(e){return this.defaultRewrite()},V.prototype.visitConstant=function(e){return this.defaultRewrite()},V.prototype.visitSparklineData=function(e){return this.defaultRewrite()},V.prototype.visitNativeVisualCalc=function(e){return this.defaultRewrite()},V.prototype.defaultRewrite=function(){return Nr.rewrite(this.sqExpr,this.aggregate)};var Ar=V;function V(e,t){this.sqExpr=e,this.aggregate=t}R.rewrite=function(e,t){return l.FieldExprPattern.visit(e,new R(e),t)},R.prototype.visitPercentOfGrandTotal=function(e){return R.rewrite(m.fieldExpr(e.baseExpr))},R.prototype.visitPercentOfRoleTotal=function(e){return R.rewrite(m.fieldExpr(e.baseExpr))},R.prototype.visitFilteredEval=function(e){return R.rewrite(m.fieldExpr(e.baseExpr))},R.prototype.visitColumn=function(e){return this.defaultRewrite()},R.prototype.visitColumnAggr=function(e){return this.defaultRewrite()},R.prototype.visitGroupingColumn=function(e){return this.defaultRewrite()},R.prototype.visitGroupingColumnAggr=function(e){return this.defaultRewrite()},R.prototype.visitColumnHierarchyVariation=function(e){return this.defaultRewrite()},R.prototype.visitColumnHierarchyLevelVariation=function(e){return this.defaultRewrite()},R.prototype.visitColumnSubquery=function(e){return this.defaultRewrite()},R.prototype.visitColumnAggrSubquery=function(e){return this.defaultRewrite()},R.prototype.visitColumnTransformRef=function(e){return this.defaultRewrite()},R.prototype.visitSelectRef=function(e){return this.defaultRewrite()},R.prototype.visitEntity=function(e){return this.defaultRewrite()},R.prototype.visitEntityAggr=function(e){return this.defaultRewrite()},R.prototype.visitHierarchy=function(e){return this.defaultRewrite()},R.prototype.visitHierarchyLevel=function(e){return this.defaultRewrite()},R.prototype.visitHierarchyLevelAggr=function(e){return this.defaultRewrite()},R.prototype.visitMeasure=function(e){return this.defaultRewrite()},R.prototype.visitPercentile=function(e){return this.defaultRewrite()},R.prototype.visitTransformOutputRoleRef=function(e){return this.defaultRewrite()},R.prototype.visitArithmetic=function(e){return this.defaultRewrite()},R.prototype.visitConstant=function(e){return this.defaultRewrite()},R.prototype.visitSparklineData=function(e){return this.defaultRewrite()},R.prototype.visitNativeVisualCalc=function(e){return this.defaultRewrite()},R.prototype.defaultRewrite=function(){return qr.rewrite(this.sqExpr)};var Qr=R;function R(e){this.sqExpr=e}__extends(T,Ir=x),T.prototype.visitAggr=function(e){return e.arg},T.rewrite=function(e){return e.accept(T.instance)},T.instance=new T;var Ir,qr=T;function T(){return null!==Ir&&Ir.apply(this,arguments)||this}Or=l.SQExprRewriter,__extends(F,Or),F.prototype.visitEntity=function(e){return e.variable?m.entity(e.schema,e.entity):e},F.rewrite=function(e){return e.accept(F.instance)},F.instance=new F;var Or,Ur=F;function F(){return null!==Or&&Or.apply(this,arguments)||this}l.SQExprRemoveEntityVariablesRewriter=Ur,__extends(M,jr=x),M.rewrite=function(e){return e.accept(M.instance)},M.prototype.visitDefault=function(e){var t=l.SQExprConverter.asFieldPattern(e);return e=t&&t.percentOfGrandTotal?m.fieldExpr(t.percentOfGrandTotal.baseExpr):e},M.instance=new M;var jr,kr=M;function M(){return null!==jr&&jr.apply(this,arguments)||this}__extends(P,Br=x),P.rewrite=function(e){return e.accept(P.instance)},P.prototype.visitDefault=function(e){var t=l.SQExprConverter.asFieldPattern(e);return e=t&&!t.percentOfGrandTotal?m.fieldExpr({percentOfGrandTotal:{baseExpr:t}}):e},P.instance=new P;var Br,Lr=P;function P(){return null!==Br&&Br.apply(this,arguments)||this}__extends(N,Hr=x),N.rewrite=function(e){return e.accept(N.instance)},N.prototype.visitDefault=function(e){var t=l.SQExprConverter.asFieldPattern(e);return e=t&&t.percentOfRoleTotal?m.fieldExpr(t.percentOfRoleTotal.baseExpr):e},N.instance=new N;var Hr,Gr=N;function N(){return null!==Hr&&Hr.apply(this,arguments)||this}__extends(A,Wr=t),A.rewrite=function(e,t){return e.accept(A.instance,t)},A.prototype.visitDefault=function(e,t){var r=l.SQExprConverter.asFieldPattern(e);return e=r&&!r.percentOfRoleTotal?m.fieldExpr({percentOfRoleTotal:{baseExpr:r,roles:t}}):e},A.instance=new A;var Wr,Kr=A;function A(){return null!==Wr&&Wr.apply(this,arguments)||this}__extends(Q,zr=t),Q.rewrite=function(e,t,r){return e.accept(Q.instance,{expression:t,name:r})},Q.prototype.visitNativeVisualCalc=function(e,t){return m.nativeVisualCalc(t.name,t.expression,e.getAnnotations())},Q.instance=new Q;var zr,Yr=Q;function Q(){return null!==zr&&zr.apply(this,arguments)||this}Jr=l.DefaultSQExprVisitor,__extends(I,Jr),I.prototype.visitHierarchyLevel=function(e){return e.arg.accept(this)},I.prototype.visitHierarchy=function(e){return e.arg.accept(this)},I.prototype.visitPropertyVariationSource=function(e){return e.property},I.getProperty=function(e){var t=new I;return e.accept(t)};var Jr,x=I;function I(){return null!==Jr&&Jr.apply(this,arguments)||this}l.HierarchyVisitor=I})(powerbi=powerbi||{}),(function(p){var l=p.data||(p.data={}),o=jsCommon.ArrayExtensions,c=p.data.SQExpr,s=jsCommon.StringExtensions,t=(f.supportsArithmetic=function(e,t,r){t=t.getMetadata(r),r=t&&t.type;return!(!t||!r)&&(2===e||3===e?r.numeric:r.numeric||r.dateTime||r.duration)},f.indexOfExpr=function(e,t){for(var r=0,i=e.length;r<i;r++)if(c.equals(e[r],t))return r;return-1},f.indexOfNamedExpr=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];if(n&&c.equals(n.expr,t))return r}return-1},f.sequenceEqual=function(e,t){var r=e.length;if(r!==t.length)return!1;for(var i=0;i<r;i++)if(!c.equals(e[i],t[i]))return!1;return!0},f.isSubset=function(e,r){for(var t=0,i=e;t<i.length;t++){var n=(function(t){if(-1===_.findIndex(r,(function(e){return c.equals(e,t)})))return{value:!1}})(i[t]);if("object"==typeof n)return n.value}return!0},f.uniqueName=function(e,t,r){for(var i={},n=0,a=e.length;n<a;n++)i[e[n].name]=!0;return s.findUniqueName(i,r||this.defaultName(t))},f.defaultName=function(e,t){return void 0===t&&(t="select"),e?e.accept(r.instance,t):t},f.isMeasure=function(e){return e.accept(a.instance)},f.isAnyValue=function(e){return e.accept(y.instance)},f.isDefaultValue=function(e){return e.accept(h.instance)},f.isFromVariation=function(e){return c.isHierarchy(e)&&c.isPropertyVariationSource(e.arg)||c.isHierarchyLevel(e)&&this.isFromVariation(e.arg)},f.discourageAggregation=function(e,t){e=this.getSchemaCapabilities(e,t);return _.some(e,(function(e){return e.discourageQueryAggregateUsage}))},f.getAggregateBehavior=function(e,t){e=this.getConceptualColumn(e,t);if(e)return e.aggregateBehavior},f.getSchemaCapabilities=function(e,t){var e=l.SQExprConverter.asFieldPattern(e,t);if(e)return e=l.FieldExprPattern.toFieldExprEntityItemPatterns(e),_.chain(e).map((function(e){return null==(e=t.schema(e.schema))?void 0:e.capabilities})).filter((function(e){return!!e})).value()},f.getKpiMetadata=function(e,t){var r=this.getKpiStatusProperty(e,t);return r?r.kpiValue.measure.kpi.statusMetadata:(r=this.getKpiTrendProperty(e,t))?r.kpiValue.measure.kpi.trendMetadata:void 0},f.getParameterMetadata=function(e,t){e=e.getConceptualProperty(t,!0),t=e&&e.column&&e.column.parameterMetadata;return t&&this.getDataViewParameterColumnMetadata(t)},f.getWhatIfParameterMetadata=function(e){if(e&&e.parameterMetadata&&0===e.parameterMetadata.kind)return e.parameterMetadata},f.getFieldParameterQuerySelects=function(e,t){if(!_.isEmpty(e)){var r=e.getConceptualProperty(t);if(r){var i=r.column;if(i&&2===e.kind&&2===(null==(i=i.parameterMetadata)?void 0:i.kind)){for(var n=e.getTargetEntity(),i=t.schema(n.schema).entities.withName(n.entity),a=(_.some(i.properties,(function(e){return e.column&&e.column.keys})),0),o=i.properties;a<o.length;a++){var s=o[a];if(s.column&&s.column.keys&&1===s.column.keys.length){var u=s.column.keys[0];if(u===r)return{parameterColumn:e,labelColumn:l.SQExprBuilder.columnRef(n,s.name)};if(r===s)return{labelColumn:e,parameterColumn:l.SQExprBuilder.columnRef(n,u.name)}}}return{parameterColumn:e}}}}},f.shouldUseAsFieldParameter=function(e,t,r,i,n){return!(!e||n||!i||c.isHierarchyLevel(r)||!f.getFieldParameterQuerySelects(r,t))},f.getDataViewParameterColumnMetadata=function(e){return{kind:this.getDataViewParameterKind(e),mappedMParameterNames:e.mappedMParameterNames,supportsMultipleValues:e.supportsMultipleValues,supportsSelectAll:e.supportsSelectAll}},f.getDataViewParameterKind=function(e){if(null!=e){e=e.kind;if(null==e)return 0;switch(e){case 0:return 0;case 1:return 1;case 2:return 2;default:return}}},f.hasMappedMParameter=function(e,t){e=this.getConceptualParameterMetadata(e,t);return 1===(null==e?void 0:e.kind)},f.isSupportMulitpleValuesEnabled=function(e,t){e=this.getConceptualParameterMetadata(e,t);return null==e?void 0:e.supportsMultipleValues},f.getConceptualParameterMetadata=function(e,t){e=this.getConceptualColumn(e,t);return null==e?void 0:e.parameterMetadata},f.getConceptualEntity=function(e,t){return t.schema(e.schema).entities.withName(e.entity)},f.hasMappedColumn=function(e,t){return S.hasMappedColumn(e,t)},f.getColumnnsWithKey=function(e,t){e=e.getTargetColumnRef(t);if(e){var r=e.getConceptualProperty(t);if(r&&r.column){var i=e.getTargetEntity();if(i){e=this.getConceptualEntity(i,t);if(e){for(var n=[],a=0,o=e.properties;a<o.length;a++){var s=o[a];s.column&&s.column.keys&&_.includes(s.column.keys,r)&&n.push(l.SQExprBuilder.columnRef(i,s.name))}return n}}}}},f.tryGetExprFromFilter=function(e){return c.isIn(e.condition)&&1===_.size(e.condition.args)?e.condition.args[0]:c.isCompare(e.condition)?c.isConstant(e.condition.left)?e.condition.right:c.isConstant(e.condition.right)?e.condition.left:void 0:void 0},f.checkExprForValidMParameters=function(e,t){return this.checkExprForMapped(e,t).isValidSQExpr},f.checkExprForMapped=function(e,t){return c.isCompare(e)?this.checkComparsionForMapped(e,t):c.isIn(e)?this.checkInForMapped(e,t):c.isOr(e)?this.checkOrForMapped(e,t):{isValidSQExpr:!f.hasMappedColumn(e,t)}},f.checkComparsionForMapped=function(e,t){if(!c.isColumn(e.left))return{isValidSQExpr:!0};var r,t=f.getConceptualParameterMetadata(e.left,t);if(1===(null==t?void 0:t.kind)){if(0!==e.comparison||c.isConstantNull(e.right))return{isValidSQExpr:!1};if(!t.supportsSelectAll&&c.isAnyValue(e.right))return{isValidSQExpr:!1};r=e.left}return{isValidSQExpr:!0,columnExpr:r}},f.checkInForMapped=function(e,t){for(var r,i=e.args,n=!1,a=!1,o=0,s=i;o<s.length;o++){var u=s[o];if(c.isColumn(u)){var l=f.getConceptualParameterMetadata(u,t);if(n=1===(null==l?void 0:l.kind)){r=u,a=null==l?void 0:l.supportsMultipleValues;break}}}if(n){if(1<i.length||e.table&&c.isSubqueryRef(e.table)||1<e.values.length&&!a)return{isValidSQExpr:!1};if(_.some(e.values,(function(e){return _.some(e,(function(e){return c.isConstantNull(e)}))})))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:r}},f.checkOrForMapped=function(e,t){var r=this.checkExprForMapped(e.left,t),e=this.checkExprForMapped(e.right,t),i=r.columnExpr,n=e.columnExpr;return!c.equals(i,n)||i&&!f.isSupportMulitpleValuesEnabled(i,t)||n&&!f.isSupportMulitpleValuesEnabled(n,t)?{isValidSQExpr:!1}:{isValidSQExpr:r.isValidSQExpr&&e.isValidSQExpr,columnExpr:i}},f.getKpiStatusProperty=function(e,t){e=e.getConceptualProperty(t);return e&&(t=e.kpiValue)&&t.measure.kpi.status===e?e:void 0},f.getKpiTrendProperty=function(e,t){e=e.getConceptualProperty(t);return e&&(t=e.kpiValue)&&t.measure.kpi.trend===e?e:void 0},f.getDefaultValue=function(e,t){e=this.getConceptualColumn(e,t);if(e)return e.defaultValue},f.getConceptualColumn=function(e,t){if(e&&t){e=l.SQExprConverter.asFieldPattern(e);if(e){var r=e.column||e.groupingColumn;if(r){if(t.schema(r.schema)&&r.name){r=t.schema(r.schema).findProperty(r.entity,r.name);if(r)return r.column}}else{r=e.hierarchyLevel;if(r){var e=l.FieldExprPattern.toFieldExprEntityItemPattern(e),i=e.schema;if(t.schema(i)){t=t.schema(i).findHierarchy(e.entity,r.name);if(t){i=t.levels.withName(r.level);if(i&&i.column)return i.column.column}}}}}}},f.getDefaultValues=function(e,t){if(!_.isEmpty(e)&&t){for(var r=[],i=0,n=e;i<n.length;i++){var a=n[i],a=this.getDefaultValue(a,t);a&&r.push(a)}return r}},f.getPrimitiveValuesFromSQConstantExpr=function(e){if(c.isConstant(e))return c.isConstantText(e)?l.SQConstantExpr.getTextValue(e):c.isConstantDate(e)?l.SQConstantExpr.getDateValue(e):c.isConstantNumeric(e)?l.SQConstantExpr.getNumericValue(e):c.isConstantBoolean(e)?l.SQConstantExpr.getBooleanValue(e):void 0},f.convertSemanticFilterToDataViewScopeIdentity=function(e){var t=[],e=e.conditions();if(e)for(var r=0,i=e;r<i.length;r++){var n=i[r],a=new p.data.ScopeIdentityExtractor.ScopeIdKeysAndValuesExtractorImpl;if(n.accept(a),a.keys&&a.values&&0<a.values.length&&0<a.keys.length&&a.values.length%a.keys.length==0)for(var o=0;o<a.values.length;o+=a.keys.length){for(var s=[],u=[],l=0;l<a.keys.length;l++)s.push(a.keys[l]),u.push(a.values[o+l]);var c=p.data.SQExprUtils.getDataViewScopeIdentityComparisonExpr(s,u),c=p.data.createDataViewScopeIdentity(c);t.push(c)}}return t},f.getDataViewScopeIdentityComparisonExpr=function(e,t){for(var r=[],i=0;i<e.length;i++)r.push(l.SQExprBuilder.compare(0,e[i],t[i]));if(!_.isEmpty(r)){for(var n=0,a=r;n<a.length;n++)var o=l.SQExprBuilder.and(o,a[n]);return o}},f.getActiveTablesNames=function(e){var t=new l.SQFromEntitiesVisitor;if(e){var r=e.from();if(void 0!==r)for(var i=0,n=r.keys();i<n.length;i++){var a=n[i];r.source(a).accept(t,null)}}return _.map(t.entities,(function(e){return e.entity}))},f.isRelatedToMany=function(e,t,r,i){return this.isRelated(e,t,r,0,2,i)||this.isRelated(e,r,t,2,0,i)},f.isRelatedToOne=function(e,t,r,i){return this.isRelated(e,t,r,2,0,i)||this.isRelated(e,r,t,0,2,i)},f.isRelated=function(e,t,r,i,n,a){t=f.getConceptualEntity(t,e);if(!_.isEmpty(t.navigationProperties)){var o=f.getConceptualEntity(r,e),s=[];for(s.push(t);!_.isEmpty(s);){var u=s.shift().navigationProperties;if(!_.isEmpty(u))for(var l=0,c=u;l<c.length;l++){var p=c[l];if(p.isActive&&((null==a||p.behavior===a)&&p.targetMultiplicity===n&&p.sourceMultiplicity===i)){if(p.targetEntity===o)return!0;s.push(p.targetEntity)}}}}return!1},f.isRelatedOneToOne=function(e,t,r,i){var t=f.getConceptualEntity(t,e),r=f.getConceptualEntity(r,e),e=t.navigationProperties,n=r.navigationProperties;return(!_.isEmpty(e)||!_.isEmpty(n))&&(this.hasOneToOneNavigation(e,r,i)||this.hasOneToOneNavigation(n,t,i))},f.haveTheSameSchema=function(e){var t=e[0].schema;return _.chain(e).drop(1).every((function(e){return e.schema===t})).value()},f.areHierarchicallyRelated=function(t,e){if(!_.isEmpty(e)&&this.haveTheSameSchema(e)){if(1===(e=_.values(_.keyBy(e,(function(e){return e.entity})))).length)return!0;var r=e[0].schema,i=_.find(t.schemas,(function(e){return e.name===r}));if(i){e=e.map((function(e){return f.getConceptualEntity(e,t)}));if(!_.some(e,(function(e){return!e}))){var i=f.buildEntityGraph(i,this.allowedHierarchicalMultiplicityPairForTraversal,0),e=[].concat(e),n=e.shift(),e=this.findEntityPath([n],e,i,!0);if(1===e.length&&0===e[0].unableToVisit.length)return!0;var a=_.values(_.keyBy(_.flatten(e.map((function(e){return e.unableToVisit}))),(function(e){return e.name}))),o=this.findEntityPath([n],a,i,!1);if(1===o.length&&0===o[0].unableToVisit.length)return!0;for(var s=0,u=e;s<u.length;s++){var l=(function(a){if(_.find(o,(function(e){for(var t=!0,r=0,i=a.unableToVisit;r<i.length;r++){var n=i[r];if(0<=e.unableToVisit.indexOf(n)){t=!1;break}}return t})))return{value:!0}})(u[s]);if("object"==typeof l)return l.value}}}}return!1},f.buildEntityGraph=function(e,t,r){for(var i={},e=e.entities.map((function(e){return e})),n=0,a=e;n<a.length;n++)i[(u=a[n]).name]={entity:u};for(var o=0,s=e;o<s.length;o++){var u,l=(u=s[o]).navigationProperties;if(!_.isEmpty(l))for(var c=i[u.name],p=0,f=l;p<f.length;p++){var d,h=f[p];!h.isActive||void 0!==h.behavior&&void 0!==r&&h.behavior!==r||(d=i[h.targetEntity.name])&&(this.multiplicityPairMatches([h.targetMultiplicity,h.sourceMultiplicity],t)&&this.addTraversalNodes(d,c),1===h.crossFilterDirection)&&this.multiplicityPairMatches([h.sourceMultiplicity,h.targetMultiplicity],t)&&this.addTraversalNodes(c,d)}}return i},f.addTraversalNodes=function(t,r){t.forwardNodes=t.forwardNodes||[],_.find(t.forwardNodes,(function(e){return e.entity.name===r.entity.name}))||t.forwardNodes.push(r),r.backwardNodes=r.backwardNodes||[],_.find(r.backwardNodes,(function(e){return e.entity.name===t.entity.name}))||r.backwardNodes.push(t)},f.multiplicityPairMatches=function(e,t){if(e&&2===e.length&&!_.isEmpty(t))for(var r=0,i=t;r<i.length;r++){var n=i[r];if(2===n.length&&e[0]===n[0]&&e[1]===n[1])return!0}return!1},f.findEntityPath=function(e,t,r,i){if(t=t||[],0===(e=e||[]).length||0===t.length||!r)return[{path:e,unableToVisit:t}];for(var n=0,a=e;n<a.length;n++)if(!r[a[n].name])return[{path:e,unableToVisit:t}];var o=r[e[e.length-1].name],o=i?o.forwardNodes:o.backwardNodes;if(!o||0===o.length)return[{path:e,unableToVisit:t}];for(var s=this.getEntityLoopPatterns(e),u=[],l=0,c=o;l<c.length;l++){for(var p=c[l].entity,f=[].concat(e),d=(f.push(p),!1),h=0,m=s;h<m.length;h++){var v=m[h];if(this.endsWith(f,v)){d=!0;break}}if(!d){var y=t,p=t.indexOf(p),p=(0<=p&&(y=[].concat(t)).splice(p,1),this.findEntityPath(f,y,r,i));if(1===p.length&&0===p[0].unableToVisit.length){u=p;break}for(var g=0,x=p;g<x.length;g++){var S=x[g];u.push(S)}}}return u=0===u.length?[{path:e,unableToVisit:t}]:u},f.getEntityLoopPatterns=function(o){for(var s=[],e=0,t=_.values(_.keyBy(o,(function(e){return e.name})));e<t.length;e++)!(function(t){if(2<=o.filter((function(e){return e===t})).length)for(var e=t,r=void 0,i=0,n=o;i<n.length;i++){var a=n[i];a===e?(r&&(r.push(a),s.push(r)),r=[a]):r&&r.push(a)}})(t[e]);return s},f.endsWith=function(e,t){if(t.length>e.length)return!1;for(var r=!0,i=e.length-1,n=t.length-1;0<=n;--n){if(t[n]!==e[i]){r=!1;break}i--}return r},f.hasOneToOneNavigation=function(e,t,r){if(!_.isEmpty(e))for(var i=0,n=e;i<n.length;i++){var a=n[i];if(a.isActive&&((null==r||a.behavior===r)&&a.targetEntity===t&&0===a.sourceMultiplicity&&0===a.targetMultiplicity))return!0}return!1},f.concatUnique=function(e,t){for(var r=o.copy(e),i=0,n=t;i<n.length;i++){var a=n[i];-1===this.indexOfExpr(r,a)&&r.push(a)}return r},f.detectTransformExpr=function(e){var t=new b;return e.accept(t),t.sawTransformOutputRoleRef},f.isExprValidForAggregation=function(e){return!this.isFromVariation(e)&&!c.isHierarchy(e)},f.isExprValidForSorting=function(e){return!(c.isFilteredEval(e)||c.isNativeVisualCalc(e))},f.isExprValidForFiltering=function(e){return!(c.isFilteredEval(e)||c.isTransformOutputRoleRef(e)||c.isSparklineData(e)||c.isNativeVisualCalc(e))},f.isExprValidForClustering=function(e){return!(c.isFilteredEval(e)||c.isHierarchy(e)||c.isHierarchyLevel(e)||c.isSparklineData(e)||c.isNativeVisualCalc(e))},f.isExprValidForAnalysisTransform=function(e){return!(c.isFilteredEval(e)||c.isNativeVisualCalc(e))},f.getSubqueryExpression=function(e,t){var r,e=l.SQExprConverter.asFieldPattern(e);if(e.columnSubquery)e.columnSubquery.subqueryRef?i=e.columnSubquery.subqueryRef:e.columnSubquery.subquery&&(r=new l.SQFromSubquerySource(e.columnSubquery.subquery));else{if(!e.columnAggrSubquery)return;e.columnAggrSubquery.subqueryRef?i=e.columnAggrSubquery.subqueryRef:e.columnAggrSubquery.subquery&&(r=new l.SQFromSubquerySource(e.columnAggrSubquery.subquery))}r||t.sources[i]&&(r=t.sources[i]);t=r;if(t){var i=l.FieldExprPattern.getFieldExprName(e),e=void 0;if(e=t.subquery?t.subquery.select().withName(i):e)return e.expr}},f.buildExprEvaluationContext=function(e){e=e.sources();if(e)return{sources:e}},f.transformToVisualQueryField=function(e,t,r,i,n){return{expr:e,queryName:t,isFieldParameter:!!r,nativeReferenceName:i,isHidden:n}},f.isSQExprArray=function(e){return e[0]instanceof c},f.syncSQExprWithFilterIdenities=function(e,t){e=new F(e,c.isNot(t)),t=t.accept(e);if(t)return t.accept(new V)},f.validate=function(e,t,r){var i=[];if(e&&(i=e.validate(t,r,i)),!_.isEmpty(i))return i},f.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],f);function f(){}l.SQExprUtils=t,e=l.DefaultSQExprVisitorWithArg,__extends(i,e),i.prototype.visitEntity=function(e){return e.entity},i.prototype.visitNamedQueryRef=function(e){return"QueryRef(".concat(e.queryName,")")},i.prototype.visitColumnRef=function(e){return e.source.accept(this)+"."+e.ref},i.prototype.visitGroupRef=function(e){return e.source.accept(this)+"."+e.ref},i.prototype.visitMeasureRef=function(e){return e.source.accept(this)+"."+e.ref},i.prototype.visitNativeMeasure=function(e){return"NativeMeasure(".concat(e.proposedName,")")},i.prototype.visitNativeColumn=function(e){return"NativeColumn(".concat(e.proposedName,")")},i.prototype.visitHierarchy=function(e){return e.arg.accept(this)+"."+e.hierarchy},i.prototype.visitHierarchyLevel=function(e){return e.arg.accept(this)+"."+e.level},i.prototype.visitPropertyVariationSource=function(e){return e.arg.accept(this)+"."+e.property+"."+e.name},i.prototype.visitAggr=function(e){return l.aggregateFunctionName(e.func)+"("+e.arg.accept(this)+")"},i.prototype.visitPercentile=function(e){return(e.exclusive?"Percentile.Exc(":"Percentile.Inc(")+e.arg.accept(this)+", "+e.k+")"},i.prototype.visitRangePercent=function(e){return"RangePercent("+e.min.accept(this)+", "+e.max.accept(this)+", "+e.percent.toString()+")"},i.prototype.visitArithmetic=function(e){return p.data.getArithmeticOperatorName(e.operator)+"("+e.left.accept(this)+", "+e.right.accept(this)+")"},i.prototype.visitConstant=function(e){return"const"},i.prototype.visitTransformOutputRoleRef=function(e){var t=e.role;return e.transform&&(t+="."+e.transform),t},i.prototype.visitScopedEval=function(e){var t=this;return"ScopedEval("+e.expression.accept(this)+", ["+_.map(e.scope,(function(e){return e.accept(t)})).join(", ")+"])"},i.prototype.visitFilteredEval=function(e){var r=this;return"FilteredEval(".concat(e.expression.accept(this),", [").concat(_.map(e.filters,(function(e){return e=e,t="{",_.isEmpty(e.target)||(t+="Target(".concat(_.map(e.target,(function(e){return e.accept(r)})).join(", "),"), ")),t+="Condition(".concat(e.condition.accept(r),")}");var t})).join(", "),"])")},i.prototype.visitRoleRef=function(e){return"Role."+e.role},i.prototype.visitSummaryRef=function(e){return"SummaryValueRef."+e.name},i.prototype.visitAllRolesRef=function(e){return"AllRoles"},i.prototype.visitDiscretize=function(e){return"Discretize(".concat(e.source.accept(this),", ").concat(e.count,")")},i.prototype.visitMember=function(e){return"Member(".concat(e.source.accept(this),", ").concat(e.member,")")},i.prototype.visitCompare=function(e){var t=e.left.accept(this),r=e.right.accept(this),i="";switch(e.comparison){case 0:i="=";break;case 1:i=">";break;case 2:i=">=";break;case 3:i="<";break;case 4:i="<="}return"".concat(t).concat(i).concat(r)},i.prototype.visitSparklineData=function(e){var t=this;return"SparklineData(".concat(e.measure.accept(this),"_[").concat(_.map(e.grouping,(function(e){return e.accept(t)})).join(","),"])")},i.prototype.visitDefault=function(e,t){return t||"expr"},i.instance=new i;var e,r=i;function i(){return null!==e&&e.apply(this,arguments)||this}n=l.DefaultSQExprVisitor,__extends(u,n),u.prototype.visitMeasureRef=function(e){return!0},u.prototype.visitNativeMeasure=function(e){return!0},u.prototype.visitNativeVisualCalc=function(e){return!0},u.prototype.visitAggr=function(e){return!0},u.prototype.visitArithmetic=function(e){return!0},u.prototype.visitFilteredEval=function(e){return e.expression.accept(this)},u.prototype.visitSparklineData=function(e){return!0},u.prototype.visitDefault=function(e){return!1},u.instance=new u;var n,a=u;function u(){return null!==n&&n.apply(this,arguments)||this}d=l.DefaultSQExprVisitor,__extends(m,d),m.prototype.visitCompare=function(e){return 0===e.comparison&&e.right.accept(this)},m.prototype.visitAnd=function(e){return e.left.accept(this)&&e.right.accept(this)},m.prototype.visitDefaultValue=function(e){return!0},m.prototype.visitDefault=function(e){return!1},m.instance=new m;var d,h=m;function m(){return null!==d&&d.apply(this,arguments)||this}v=l.DefaultSQExprVisitor,__extends(g,v),g.prototype.visitCompare=function(e){return 0===e.comparison&&e.right.accept(this)},g.prototype.visitAnd=function(e){return e.left.accept(this)&&e.right.accept(this)},g.prototype.visitAnyValue=function(e){return!0},g.prototype.visitDefault=function(e){return!1},g.instance=new g;var v,y=g;function g(){return null!==v&&v.apply(this,arguments)||this}x=l.DefaultSQExprVisitorWithTraversal,__extends(E,x),E.prototype.visitIn=function(e){for(var t=0,r=e.args;t<r.length;t++)if(r[t].accept(this),this.detectedMappedColumn)return},E.prototype.visitColumnRef=function(e){t.hasMappedMParameter(e,this.schema)&&(this.detectedMappedColumn=!0)},E.hasMappedColumn=function(e,t){t=new E(t);return e.accept(t),t.detectedMappedColumn};var x,S=E;function E(e){var t=x.call(this)||this;return t.schema=e,t.detectedMappedColumn=!1,t}w=l.DefaultSQExprVisitorWithTraversal,__extends(C,w),C.prototype.visitTransformOutputRoleRef=function(e){this.sawTransformOutputRoleRef=!0};var w,b=C;function C(){var e=w.call(this)||this;return e.sawTransformOutputRoleRef=!1,e}D=l.DefaultSQExprVisitor,__extends(R,D),R.prototype.visitIn=function(e){return l.SQExprBuilder.inValues(e.args,this.removeDuplicates(e.values),e.getAnnotations())},R.prototype.visitAnd=function(e){var t=e.right.accept(this),r=e.left.accept(this);return l.SQExprBuilder.and(r,t,e.getAnnotations())},R.prototype.visitOr=function(e){var t=e.right.accept(this),r=e.left.accept(this);return l.SQExprBuilder.or(r,t,e.getAnnotations())},R.prototype.visitDefault=function(e){return e},R.prototype.removeDuplicates=function(e){return _.uniqWith(e,(function(e,t){for(var r=e.length,i=0;i<r;i++)if(!c.equals(e[i],t[i]))return!1;return!0}))};var D,V=R;function R(){return null!==D&&D.apply(this,arguments)||this}T=l.DefaultSQExprVisitor,__extends(M,T),M.prototype.visitIn=function(e){var t,r;if(this.verifyIsSupportedSQExpr(e),!this.shouldDropWholeSQExpr())return this.noChangeRequired(e.args)?e:(t=(r=this.tryToRemoveColumnsToMatchVisual(e)).newArgs,r=r.newValues,this.shouldDropWholeSQExpr()||0===t.length?void 0:l.SQExprBuilder.inValues(t,r,e.getAnnotations()))},M.prototype.visitDefault=function(e){var t,r;if(this.verifyIsSupportedSQExpr(e),!this.shouldDropWholeSQExpr())return t=e.left,r=e.right,t&&_.some(this.filterIdentities,(function(e){return c.equals(e,t)}))||r&&_.some(this.filterIdentities,(function(e){return c.equals(e,r)}))?e:void(this.hasBeenModified=!0)},M.prototype.visitAnd=function(e){if(this.verifyIsSupportedSQExpr(e),!this.shouldDropWholeSQExpr()){var t=e.right.accept(this),r=e.left.accept(this);if(!this.shouldDropWholeSQExpr())return r&&t?l.SQExprBuilder.and(r,t,e.getAnnotations()):r||t||void 0}},M.prototype.visitOr=function(e){if(this.verifyIsSupportedSQExpr(e),!this.shouldDropWholeSQExpr()){var t=e.right.accept(this),r=e.left.accept(this);if(!this.shouldDropWholeSQExpr())return r&&t?l.SQExprBuilder.or(r,t,e.getAnnotations()):r||t||void 0}},M.prototype.visitNot=function(e){if(this.verifyIsSupportedSQExpr(e),!this.shouldDropWholeSQExpr()){var t=e.arg.accept(this);if(t&&(this.isRootNotExpr||!this.hasBeenModified))return l.SQExprBuilder.not(t,e.getAnnotations())}},M.prototype.verifyIsSupportedSQExpr=function(e){c.isOr(e)?this.isSupportedSQExpr=c.isIn(e.right)&&(c.isOr(e.left)||c.isIn(e.left)):c.isAnd(e)?this.isSupportedSQExpr=c.isNot(e.right)&&(c.isIn(e.left)||c.isOr(e.left)):c.isNot(e)?this.isSupportedSQExpr=c.isOr(e.arg)||c.isNot(e.arg):c.isIn(e)?this.isSupportedSQExpr=!!e.values&&0<e.values.length:this.isSupportedSQExpr=!0},M.prototype.shouldDropWholeSQExpr=function(){return this.hasBeenModified&&!this.isSupportedSQExpr},M.prototype.noChangeRequired=function(e){var r=this,i=e.map((function(t){return{expr:[t],index:_.findIndex(r.filterIdentities,(function(e){return c.equals(e,t)}))}}));return 0===i[0].index&&i.every((function(e,t){return-1<e.index&&(t===i.length-1||e.index+1===i[t+1].index)}))},M.prototype.tryToRemoveColumnsToMatchVisual=function(e){var r=this,t=[],i=[],n=e.args,a=e.values;if(!(0<(o=n.map((function(t){return{expr:[t],index:_.findIndex(r.filterIdentities,(function(e){return c.equals(e,t)}))}})))[0].index)){for(var a=_.unzip(a),e=o.map((function(e,t){return{expr:a[t],index:e.index}})),t=o.filter((function(e){return-1<e.index})).map((function(e){return e.expr[0]})),i=e.filter((function(e){return-1<e.index})).map((function(e){return e.expr})),o=o.filter((function(e){return-1<e.index})),s=0;s<o.length-1;s++){var u=o[s],l=o[s+1];if(u.index+1<l.index){t=t.splice(0,s+1),i=i.splice(0,s+1);break}}i=_.unzip(i)}return this.hasBeenModified=!0,{newArgs:t,newValues:i}};var T,F=M;function M(e,t){var r=T.call(this)||this;return r.isRootNotExpr=!1,r.hasBeenModified=!1,r.isSupportedSQExpr=!1,r.filterIdentities=e,r.isRootNotExpr=t,r}})(powerbi=powerbi||{}),(function(e){var c;function t(e){this.exprRewriter=e}c=e.data||(e.data={}),t.rewriteFrom=function(e,t){for(var r,i=e,n=i.keys(),a=0,o=n.length;a<o;a++){var s=n[a],u=i.source(s),l=u.accept(t,s);u===l&&!r||((r=r||_.pick(i.sources(),n.slice(0,a)))[s]=l)}return r?new c.SQFrom(r):i},t.prototype.rewriteFrom=function(e){return t.rewriteFrom(e,new c.SQFromSourceRewriter(this.exprRewriter))},t.prototype.rewriteSelect=function(e,t){return this.rewriteNamedSQExpressions(e,t)},t.prototype.rewriteGroupBy=function(e,t){if(!_.isEmpty(e))return this.rewriteNamedSQExpressions(e,t)},t.prototype.rewriteNamedSQExpressions=function(e,t){var r=this;return _.map(e,(function(e){return{name:e.name,expr:c.SQExprRewriterWithSourceRenames.rewrite(e.expr.accept(r.exprRewriter),t,t),nativeReferenceName:e.nativeReferenceName}}))},t.prototype.rewriteOrderBy=function(e,t){if(!_.isEmpty(e)){for(var r=[],i=0,n=e.length;i<n;i++){var a=e[i],o=c.SQExprRewriterWithSourceRenames.rewrite(a.expr.accept(this.exprRewriter),t,t);r.push({direction:a.direction,expr:o})}return r}},t.prototype.rewriteWhere=function(e,t){var r=this;if(!_.isEmpty(e)){for(var i=[],n=0,a=e.length;n<a;n++){var o=e[n],s={condition:c.SQExprRewriterWithSourceRenames.rewrite(o.condition.accept(this.exprRewriter),t,t)};o.target&&(s.target=_.map(o.target,(function(e){return c.SQExprRewriterWithSourceRenames.rewrite(e.accept(r.exprRewriter),t,t)}))),o.annotations&&(s.annotations=o.annotations),i.push(s)}return i}},t.prototype.rewriteTransform=function(e,t){var r=this;if(!_.isEmpty(e)){for(var i=[],n=0,a=e;n<a.length;n++){var o=a[n],s=void 0,u=(o.input.table&&!_.isEmpty(o.input.table.columns)&&(s=_.map(o.input.table.columns,(function(e){return{role:e.role,expression:{name:e.expression.name,expr:c.SQExprRewriterWithSourceRenames.rewrite(e.expression.expr.accept(r.exprRewriter),t,t)}}}))),{name:o.name,algorithm:o.algorithm,input:{parameters:o.input.parameters},output:o.output});o.input.table&&(u.input.table={name:o.input.table.name,columns:s}),i.push(u)}return i}},c.SemanticQueryRewriter=t})(powerbi=powerbi||{}),(function(e){var r=e.data||(e.data={}),n=jsCommon.ArrayExtensions,c=jsCommon.StringExtensions,i=(t.prototype.accept=function(e,t){return e.visitEntity(this,t)},t.prototype.equals=function(e){return e&&this.entity===e.entity&&this.schema===e.schema},t);function t(e,t){this.schema=e,this.entity=t}r.SQFromEntitySource=i,o.prototype.accept=function(e,t){return e.visitPod(this,t)},o.prototype.equals=function(e){return e&&this.pod===e.pod&&this.schema===e.schema};var a=o;function o(e,t){this.schema=e,this.pod=t}r.SQFromPodSource=a,u.prototype.accept=function(e,t){return e.visitSubquery(this,t)},u.prototype.equals=function(e){return e&&r.SemanticQuery.equals(this.subquery,e.subquery)};var s=u;function u(e){this.subquery=e}r.SQFromSubquerySource=s,p.prototype.accept=function(e,t){return e.visitExpr(this,t)},p.prototype.equals=function(e){return e&&r.SQExpr.equals(this.expr,e.expr)};var l=p;function p(e){this.expr=e}function f(e,t){if(this.items=e||{},this.usedNames=t||{},!_.isEmpty(this.items))for(var r=0,i=this.keys();r<i.length;r++){var n=i[r];this.usedNames[n]=!0}}function d(e,t){if(e===t)return!0;if(e&&t){if(h(e)&&h(t))return e.equals(t);if(m(e)&&m(t))return e.equals(t);if(v(e)&&v(t))return e.equals(t);if(y(e)&&y(t))return e.equals(t)}return!1}function h(e){return null!=e.entity}function m(e){return null!=e.pod}function v(e){return null!=e.subquery}function y(e){return null!=e.expr}r.SQFromExprSource=l,f.prototype.keys=function(){return Object.keys(this.items)},f.prototype.source=function(e){return this.items[e]},f.prototype.sources=function(){return this.items},f.prototype.usedSourceNames=function(){return this.usedNames},f.prototype.ensureSource=function(e,t){var r=this.getSourceKeyFromItems(e);return r?{name:r}:{name:this.addSource(e,t),new:!0}},f.prototype.remove=function(e){this.items[e]&&delete this.usedNames[e],delete this.items[e]},f.prototype.getSourceKeyFromItems=function(e){var t,r=this.keys();for(t in r){var i=r[t];if(d(this.items[i],e))return i}},f.prototype.addSource=function(e,t){t=t||e.accept(new g,null),t=c.findUniqueName(this.usedNames,t);return this.items[t]=e,this.usedNames[t]=!0,t},f.prototype.clone=function(){var e=new f(null,_.clone(this.usedNames));return $.extend(e.items,this.items),e},f.prototype.equals=function(r){var e,t,i=this;return!!r&&(e=this.keys(),t=r.keys(),e.length===t.length)&&n.sequenceEqual(e,t,(function(e,t){return d(i.source(e),r.source(t))}))},f.prototype.renameSources=function(e){for(var t=this.items,r=Object.keys(t),i=0,n=r.length;i<n;i++){var a=r[i],o=a;if(e[a]&&(o=c.findUniqueName(e,a),!s))for(var s={},u=0;u<i;u++){var l=r[u];s[l]=t[l]}e[o]=!0,s&&(s[o]=t[a])}return s?new f(s):this},r.SQFrom=f,r.equals=d,r.isSQFromEntitySource=h,r.isSQFromPodSource=m,r.isSQFromSubquerySource=v,r.isSQFromExprSource=y,x.prototype.visitEntity=function(e){return this.getShortName(e.entity)},x.prototype.visitPod=function(e){return this.getShortName(e.pod)},x.prototype.visitSubquery=function(e){return"q"},x.prototype.visitExpr=function(e){return"x"},x.prototype.getShortName=function(e){var t=e.lastIndexOf(".");return 0<=t&&t!==e.length-1&&(e=e.substr(t+1)),jsCommon.StringExtensions.isSingleCodePointChar(e.charCodeAt(0))?e.charAt(0).toLowerCase():"a"};var g=x;function x(){}function S(){this.entities=[]}function E(e){this.exprRewriter=e}r.SQFromSourceCandidateNameVisitor=g,S.prototype.visitEntity=function(e,t){this.entities.push(new r.SQEntityExpr(e.schema,e.entity,t))},S.prototype.visitPod=function(e,t){},S.prototype.visitSubquery=function(e,t){},S.prototype.visitExpr=function(e,t){},r.SQFromEntitiesVisitor=S,E.prototype.visitEntity=function(e,t){e=r.SQExprBuilder.entity(e.schema,e.entity,t).accept(this.exprRewriter);return new i(e.schema,e.entity)},E.prototype.visitPod=function(e,t){e=r.SQExprBuilder.entity(e.schema,e.pod,t).accept(this.exprRewriter);return new a(e.schema,e.entity)},E.prototype.visitSubquery=function(e,t){e=e.subquery.rewrite(this.exprRewriter);return new s(e)},E.prototype.visitExpr=function(e,t){e=e.expr.accept(this.exprRewriter);return new l(e)},r.SQFromSourceRewriter=E})(powerbi=powerbi||{}),(function(e){var c=e.data||(e.data={}),l=jsCommon.ArrayExtensions,p=(c.MParameterBehaviorKey="PowerBI.MParameterBehavior",i.create=function(){return i.empty=i.empty?i.empty:new i(new c.SQFrom,null,null,[],null,null,null)},i.createWith=function(e,t){return t||(e=i.normalize(e)),new i(e.from,e.where,e.orderBy,e.select,e.groupBy,e.transforms,e.top)},i.prototype.createModified=function(e){return i.createWith({from:void 0!==e.from?e.from:this.fromValue,where:void 0!==e.where?e.where:this.whereItems,transforms:void 0!==e.transforms?e.transforms:this.transformItems,orderBy:void 0!==e.orderBy?e.orderBy:this.orderByItems,select:void 0!==e.select?e.select:this.selectItems,groupBy:void 0!==e.groupBy?e.groupBy:this.groupByItems,top:void 0!==e.top?e.top:this.topValue})},i.normalize=function(e){e={clauses:{from:e.from,where:e.where,orderBy:e.orderBy,select:e.select,groupBy:e.groupBy,transforms:e.transforms,top:e.top},usedSourceNames:{}};return i.removeUnreferencedKeys(e),i.renameSources(e),i.renameSourcesInSubqueries(e),e.clauses},i.removeUnreferencedKeys=function(e){var t=e.clauses,r=t.from,i=t.where,n=t.orderBy,a=t.select,o=t.groupBy,s=t.transforms,u=new w(r.keys());if(i)for(var l=0,c=i.length;l<c;l++){var p=i[l],f=(p.condition.accept(u),p.target);if(f)for(var d=0,h=f.length;d<h;d++)f[d]&&f[d].accept(u)}if(s)for(l=0,c=s.length;l<c;l++){var m=s[l].input.table;if(m&&!_.isEmpty(m.columns))for(var v=0,y=m.columns;v<y.length;v++)y[v].expression.expr.accept(u)}if(n)for(l=0,c=n.length;l<c;l++)n[l].expr.accept(u);for(l=0,c=a.length;l<c;l++)a[l].expr.accept(u);if(o)for(l=0,c=o.length;l<c;l++)o[l].expr.accept(u);t=u.result();if(t){for(var g=r.clone(),x=0,S=t;x<S.length;x++){var E=S[x];g.remove(E)}e.clauses.from=g}},i.renameSources=function(e){var t=e.clauses.from,r=t.renameSources(e.usedSourceNames);r!==t&&(e.clauses.from=r,i.rewriteClauses(e.clauses,new f(t,r)))},i.renameSourcesInSubqueries=function(e){e.clauses.from=m.renameSources(i.renameSourcesInQuery,e.clauses.from,e.usedSourceNames)},i.renameSourcesInQuery=function(e,t){var t={clauses:e.getClauses(),usedSourceNames:t},r=t.clauses.from;return i.renameSources(t),i.renameSourcesInSubqueries(t),t.clauses.from===r?e:i.createWith(t.clauses)},i.prototype.from=function(e){return e?this.createModified({from:e}):this.fromValue.clone()},i.prototype.select=function(e){return _.isEmpty(arguments)?this.getSelect():this.setSelect(e)},i.prototype.getSelect=function(){return i.createNamedExpressionArray(this.selectItems)},i.createNamedExpressionArray=function(e){return l.extendWithName(_.map(e,(function(e){return{name:e.name,expr:e.expr,nativeReferenceName:e.nativeReferenceName}})))},i.prototype.setSelect=function(e){var t=this.fromValue.clone(),e=i.rewriteExpressionsWithSourceRenames(e,t);return this.createModified({from:t,select:e})},i.rewriteExpressionsWithSourceRenames=function(e,t){for(var r=[],i=0,n=e.length;i<n;i++){var a=e[i];r.push({name:a.name,expr:f.rewrite(a.expr,null,t)})}return r},i.prototype.removeSelect=function(e){for(var t=this.selectItems,r=[],i=0,n=t.length;i<n;i++){var a=t[i];c.SQExpr.equals(a.expr,e)||r.push(a)}return this.createModified({select:r})},i.prototype.removeOrderBy=function(e){for(var t=this.orderBy(),r=t.length-1;0<=r;r--)c.SQExpr.equals(t[r].expr,e)&&t.splice(r,1);return this.createModified({orderBy:t})},i.prototype.removeTransform=function(e){for(var t=this.transforms(),r=0,i=t.length;r<i;r++)if(t[r].name===e.name){t.splice(r,1);break}return this.createModified({transforms:t})},i.prototype.selectNameOf=function(e){return null==(e=this.getSelectFor(e))?void 0:e.name},i.prototype.selectNativeReferenceNameOf=function(e){return null==(e=this.getSelectFor(e))?void 0:e.nativeReferenceName},i.prototype.getSelectFor=function(e){e=c.SQExprUtils.indexOfNamedExpr(this.selectItems,e);if(0<=e)return this.selectItems[e]},i.prototype.setSelectAt=function(e,t,r){var i,n,a;if(!(e>=this.selectItems.length))return i=this.select(),n=this.fromValue.clone(),a=i[e].name,r=null!=r?r:i[e].nativeReferenceName,i[e]={name:a,expr:f.rewrite(t,null,n),nativeReferenceName:r},this.createModified({from:n,select:i})},i.prototype.addSelect=function(e,t,r){var i=this.select(),n=this.fromValue.clone();return i.push(this.createNamedExpr(i,n,e,t,r)),this.createModified({from:n,select:i})},i.prototype.setNativeReferencNameAt=function(e,t){this.selectItems[e].nativeReferenceName=t},i.prototype.createNamedExpr=function(e,t,r,i,n){return{name:c.SQExprUtils.uniqueName(e,r,i),expr:f.rewrite(r,t,t),nativeReferenceName:n}},i.prototype.groupBy=function(e){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(e)},i.prototype.getGroupBy=function(){return i.createNamedExpressionArray(this.groupByItems)},i.prototype.setGroupBy=function(e){var t=this.fromValue.clone(),e=i.rewriteExpressionsWithSourceRenames(e,t);return this.createModified({from:t,groupBy:e})},i.prototype.addGroupBy=function(e){var t=this.groupBy(),r=this.fromValue.clone();return t.push(this.createNamedExpr(t,r,e)),this.createModified({from:r,groupBy:t})},i.prototype.orderBy=function(e){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(e)},i.prototype.getOrderBy=function(){var e=[],t=this.orderByItems;if(t)for(var r=0,i=t.length;r<i;r++){var n=t[r];e.push({expr:n.expr,direction:n.direction})}return e},i.prototype.setOrderBy=function(e){for(var t=[],r=this.fromValue.clone(),i=0,n=e.length;i<n;i++){var a=e[i];t.push({expr:f.rewrite(a.expr,r,r),direction:a.direction})}return this.createModified({from:r,orderBy:t})},i.prototype.where=function(e,t){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],e,t)},i.prototype.getWhere=function(){var e=[],t=this.whereItems;if(t)for(var r=0,i=t.length;r<i;r++)e.push(t[r]);return e},i.prototype.setWhere=function(e,t,r){for(var i=_.clone(e),n=this.fromValue.clone(),a=0,o=t;a<o.length;a++){var s=o[a],u={condition:f.rewrite(s.condition,r,n)};s.target&&(u.target=_.map(s.target,(function(e){return f.rewrite(e,r,n)}))),s.annotations&&(u.annotations=s.annotations),i.push(u)}return this.createModified({from:n,where:i})},i.prototype.addWhere=function(e,t){return this.setWhere(this.where(),e,t)},i.prototype.addSemanticFilter=function(e){return this.setWhere(this.where(),e.where(),e.from())},i.prototype.transforms=function(e){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(e)},i.prototype.getTransforms=function(){var e=[];if(!_.isEmpty(this.transformItems))for(var t=0,r=this.transformItems;t<r.length;t++){var i=r[t];e.push(i)}return e},i.prototype.setTransforms=function(e){for(var t=this,r=this.fromValue.clone(),i=[],n=0,a=e;n<a.length;n++){var o=a[n],s=void 0,u=(o.input.table&&!_.isEmpty(o.input.table.columns)&&(s=_.map(o.input.table.columns,(function(e){return{role:e.role,expression:t.createNamedExpr(l.extendWithName([]),r,e.expression.expr,e.expression.name)}}))),{name:o.name,algorithm:o.algorithm,input:{parameters:o.input.parameters},output:o.output});o.input.table&&(u.input.table={name:o.input.table.name,columns:s}),i.push(u)}return this.createModified({from:r,transforms:e})},i.prototype.top=function(e){return _.isEmpty(arguments)?this.topValue:this.setTop(e)},i.prototype.setTop=function(e){return this.createModified({top:e})},i.prototype.rewrite=function(e){var t=this.getClauses();return i.rewriteClauses(t,e),this.createModified(t)},i.prototype.hasVisualCalculations=function(){for(var e=0,t=this.selectItems;e<t.length;e++){var r=t[e];if(c.SQExpr.isNativeVisualCalc(r.expr))return!0}return!1},i.prototype.getClauses=function(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}},i.rewriteClauses=function(e,t){t=new c.SemanticQueryRewriter(t);e.from=t.rewriteFrom(e.from),e.where=t.rewriteWhere(e.where,e.from),e.orderBy=t.rewriteOrderBy(e.orderBy,e.from),e.select=t.rewriteSelect(e.select,e.from),e.groupBy=t.rewriteGroupBy(e.groupBy,e.from),e.transforms=t.rewriteTransform(e.transforms,e.from)},i.equals=function(e,t){return e.from().equals(t.from())&&l.sequenceEqual(e.where(),t.where(),c.SQFilter.equals)&&l.sequenceEqual(e.orderBy(),t.orderBy(),c.SQUtils.sqSortDefinitionEquals)&&l.sequenceEqual(e.select(),t.select(),c.SQUtils.namedSQExprEquals)&&l.sequenceEqual(e.groupBy(),t.groupBy(),c.SQUtils.namedSQExprEquals)&&l.sequenceEqual(e.transforms(),t.transforms(),c.SQUtils.sqTransformEquals)&&e.top()===t.top()},i.willFiltersAffectQuery=function(e){return new s(e).willFilterAffectQuery()},i);function i(e,t,r,i,n,a,o){this.fromValue=e,this.whereItems=t,this.orderByItems=r,this.selectItems=i,this.groupByItems=n,this.transformItems=a,null!=o&&(this.topValue=o)}function d(e,t){this.fromValue=e,this.whereItems=t}c.SemanticQuery=p,d.fromSQExpr=function(e){return d.fromSQFromAndSQExpr(new c.SQFrom,e)},d.fromSQFromAndSQExpr=function(e,t){return new d(e,[{condition:f.rewrite(t,e,e)}])},d.fromSQFromAndSQFilters=function(e,t){return new d(e,t)},d.clone=function(e){return d.fromSQFromAndSQFilters(e.from(),e.where())},d.fromMeasureFilters=function(e,t,r){for(var i,n=[],a=e.where(),o=0,s=t;o<s.length;o++){var u=(function(t){var e=_.find(a,(function(e){return c.SQExpr.equals(e.condition,t.condition)}));if(!e||!e.target)return{value:void 0};i=i||e.target,n.push(e)})(s[o]);if("object"==typeof u)return u.value}var t=_.filter(a,(function(e){return 1!==c.FilterKindDetector.runDetector(e.condition)})),l=_.map(i,(function(t){return _.find(e.select(),(function(e){return c.SQExpr.equals(t,e.expr)}))})),r=(r&&l.push.apply(l,this.getMeasuresForJoinPredicates(e,r)||[]),p.createWith({from:e.from(),select:l,where:__spreadArray(__spreadArray([],t||[],!0),n||[],!0)})),l=d.fromMeasuresQuery(r,i);return c.SubqueryRewriter.rewriteSubqueriesForContainingQuery(l,e)},d.fromMeasuresQuery=function(e,t){var e=new c.SQFromSubquerySource(e),r=new c.SQFrom,e=r.ensureSource(e,"subquery"),t=c.SQExprBuilder.inTable(t,c.SQExprBuilder.subqueryRef(e.name)),e=f.rewrite(t,r,r),t=[];return t.push({condition:e}),d.fromSQFromAndSQFilters(r,t)},d.getDefaultValueFilter=function(e){return d.getDataViewScopeIdentityComparisonFilters(e,c.SQExprBuilder.defaultValue())},d.getAnyValueFilter=function(e){return d.getDataViewScopeIdentityComparisonFilters(e,c.SQExprBuilder.anyValue())},d.getDefaultAnyValueFilter=function(e,t){var r,i;return _.isEmpty(e)?d.getAnyValueFilter(t):_.isEmpty(t)?d.getDefaultValueFilter(e):(i=Array.apply(null,Array(e.length)).map((function(){return c.SQExprBuilder.defaultValue()})),r=Array.apply(null,Array(e.length)).map((function(){return c.SQExprBuilder.anyValue()})),e=c.SQExprUtils.getDataViewScopeIdentityComparisonExpr(e,i),i=c.SQExprUtils.getDataViewScopeIdentityComparisonExpr(t,r),t=c.SQExprBuilder.and(e,i),d.fromSQExpr(t))},d.getDataViewScopeIdentityComparisonFilters=function(e,t){var r;return e instanceof Array?(r=Array.apply(null,Array(e.length)).map((function(){return t})),d.fromSQExpr(c.SQExprUtils.getDataViewScopeIdentityComparisonExpr(e,r))):d.fromSQExpr(c.SQExprBuilder.equal(e,t))},d.prototype.from=function(){return this.fromValue.clone()},d.prototype.conditions=function(){for(var e=[],t=this.whereItems,r=0,i=t.length;r<i;r++){var n=t[r];e.push(n.condition)}return e},d.prototype.where=function(){for(var e=[],t=this.whereItems,r=0,i=t.length;r<i;r++)e.push(t[r]);return e},d.prototype.rewrite=function(e){var e=new c.SemanticQueryRewriter(e),t=e.rewriteFrom(this.fromValue);return new d(t,e.rewriteWhere(this.whereItems,t))},d.prototype.validate=function(e,t,r){e=new c.SQExprValidationVisitor(e,t,r);return this.rewrite(e),e.errors},d.merge=function(e){if(_.isEmpty(e))return null;if(1===e.length)return e[0];for(var t=e[0],r=t.from(),i=l.take(t.whereItems,t.whereItems.length),n=1,a=e.length;n<a;n++)d.applyFilter(e[n],r,i);return new d(r,i)},d.unmerge=function(e){for(var t=[],r=0,i=e.whereItems;r<i.length;r++){var n=i[r],n=new d(e.fromValue,[n]);1<Object.keys(n.from().sources()).length&&(n=d.removeUnreferencedKeys(n)),t.push(n)}return t},d.removeUnreferencedKeys=function(e){var t=e.from(),r=e.where(),i=new w(t.keys());if(r)for(var n=0,a=r.length;n<a;n++){var o=r[n],s=(o.condition.accept(i),o.target);if(s)for(var u=0,l=s.length;u<l;u++)s[u]&&s[u].accept(i)}e=i.result();if(e){for(var c=0,p=e;c<p.length;c++){var f=p[c];t.remove(f)}return new d(t,r)}},d.getMeasuresForJoinPredicates=function(e,r){for(var i=e.select(),n=[],a=this,t=0;t<i.length;t++)!(function(t){var e=i[t];if(c.SQExprUtils.isMeasure(e.expr)){if(_.some(r.SuppressedJoinPredicates,(function(e){return e===t})))return;(a.isSelectProjected(r.Primary,t)||a.isSelectProjected(r.Secondary,t))&&n.push(e)}})(t);return n},d.isSelectProjected=function(e,t){if(e&&e.Groupings)for(var r=0,i=e.Groupings;r<i.length;r++){var n=i[r];if(_.some(n.Projections,(function(e){return e===t}))&&!_.some(n.SuppressedProjections,(function(e){return e===t})))return!0}return!1},d.isDefaultFilter=function(e){return!(!e||1!==e.where().length)&&c.SQExprUtils.isDefaultValue(e.where()[0].condition)},d.isAnyFilter=function(e){return!(!e||1!==e.where().length)&&c.SQExprUtils.isAnyValue(e.where()[0].condition)},d.isSameFilter=function(e,t){return e===t||!(!e||!t||!e.from().equals(t.from())||!l.sequenceEqual(e.where(),t.where(),(function(e,t){return c.SQFilter.equals(e,t)}))||d.isDefaultFilter(e)&&d.isAnyFilter(t)||d.isAnyFilter(e)&&d.isDefaultFilter(t))},d.isInFilter=function(e){return!(!e||1!==e.where().length)&&c.SQExpr.isIn(e.where()[0].condition)},d.applyFilter=function(t,r,e){for(var i=0,n=t.whereItems;i<n.length;i++){var a=n[i],o={condition:f.rewrite(a.condition,t.fromValue,r)};a.target&&(o.target=_.map(a.target,(function(e){return f.rewrite(e,t.fromValue,r)}))),e.push(o)}},d.prototype.setIgnoreMParameter=function(){for(var e=0,t=this.whereItems;e<t.length;e++){var r=t[e];r.annotations||(r.annotations={}),r.annotations[c.MParameterBehaviorKey]=1}},c.SemanticFilter=d,n=c.SQExprRewriter,__extends(a,n),a.prototype.visitEntity=function(e){var t=this.destinationFrom.source(e.variable);return!(t&&c.isSQFromEntitySource(t)&&t.schema===e.schema&&t.entity===e.entity||(t=this.destinationFrom.ensureSource(new c.SQFromEntitySource(e.schema,e.entity),e.variable)).name===e.variable)?new c.SQEntityExpr(e.schema,e.entity,t.name):e},a.prototype.visitSubqueryRef=function(e){var t,r;return this.sourceFrom&&(t=this.sourceFrom.source(e.variable))&&!((r=this.destinationFrom.source(e.variable))&&c.isSQFromSubquerySource(r)&&p.equals(t.subquery,r.subquery))&&(r=this.destinationFrom.ensureSource(new c.SQFromSubquerySource(t.subquery),e.variable)).name!==e.variable?new c.SQSubqueryRefExpr(r.name):e},a.prototype.visitNamedQueryRef=function(e){var t=this.destinationFrom.source(e.variable);if(t&&c.isSQFromExprSource(t)){t=t.expr;if(c.SQExpr.equals(t,e))return e}t=this.destinationFrom.ensureSource(new c.SQFromExprSource(e),e.variable);if(t.name!==e.variable)return new c.SQNamedQueryRefExpr(e.queryName,t.name)},a.rewrite=function(e,t,r){t=new a(t,r);return e.accept(t)};var n,f=a;function a(e,t){var r=this;return(r=n.call(this)||this).sourceFrom=e,r.destinationFrom=t,r}c.SQExprRewriterWithSourceRenames=f,r=c.DefaultSQExprVisitorWithTraversal,__extends(t,r),t.prototype.visitEntity=function(e){this.removeKey(e.variable)},t.prototype.visitSubqueryRef=function(e){this.removeKey(e.variable)},t.prototype.visitNamedQueryRef=function(e){this.removeKey(e.variable)},t.prototype.removeKey=function(e){e=this.keys.indexOf(e);0<=e&&this.keys.splice(e,1)},t.prototype.result=function(){return this.keys};var r,w=t;function t(e){var t=this;return(t=r.call(this)||this).keys=e,t}o=c.DefaultSQExprVisitorWithTraversal,__extends(u,o),u.prototype.visitEntity=function(e){this.containsEntityRefs=!0},u.prototype.visitPropertyVariationSource=function(e){this.containsEntityRefs=!0},u.prototype.visitSubqueryRef=function(e){this.containsSubqueries=!0},u.prototype.willFilterAffectQuery=function(){for(var e=0,t=this.query.select();e<t.length;e++)t[e].expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)};var o,s=u;function u(e){var t=o.call(this)||this;return t.query=e,t.containsEntityRefs=!1,t.containsSubqueries=!1,t}v.renameSources=function(e,t,r){e=new v(e,t,r);return c.SemanticQueryRewriter.rewriteFrom(t,e)},v.prototype.visitEntity=function(e,t){return e},v.prototype.visitPod=function(e,t){return e},v.prototype.visitSubquery=function(e,t){var r=e.subquery,i=this.renameSources(r,this.usedSourceNames);return i===r?e:new c.SQFromSubquerySource(i)},v.prototype.visitExpr=function(e,t){return e};var h,m=v;function v(e,t,r){this.renameSources=e,this.from=t,this.usedSourceNames=r}function y(e){var t=h.call(this)||this;return t.query=e,t.hasRewrites=!1,t}h=c.SQExprRewriter,__extends(y,h),y.prototype.visitSubqueryRef=function(e){var t;return e.query?(t=new y(e.query).rewrite(),this.mergedFrom||(this.mergedFrom=this.query.from()),t=new c.SQFromSubquerySource(t),t=this.mergedFrom.ensureSource(t),this.hasRewrites=!0,c.SQExprBuilder.subqueryRef(t.name)):e},Object.defineProperty(y.prototype,"didRewrite",{get:function(){return this.hasRewrites},enumerable:!1,configurable:!0}),y.prototype.rewrite=function(){var r=this,e=this.query.select(),t=l.extendWithName(l.rewriteArray(e,(function(e){var t=e.expr.accept(r);return t===e.expr?e:{name:e.name,expr:t}})));return t===e?this.query:this.query.createModified({from:this.mergedFrom,select:t})},c.InlineSubqueryRewriter=y})(powerbi=powerbi||{}),(function(c){var e,t=c.data.SQExpr;function p(e){return _.isString(e.value)||c.isValueRef(e.value)||e.value instanceof t}function f(e){return _.isArray(e.cases)&&void 0!==e.defaultCase&&_.isArray(e.defaultCase.textRuns)&&c.isValueRef(e.expression)}function d(e,t){e.value,_.isString(e.value)||h(e.value,t)}function h(e,t){if(c.isValueRef(e))return t.visitValueRef(e);t.visitExpr(e)}(e=c.ParagraphsDefinition||(c.ParagraphsDefinition={})).accept=function(e,t){for(var r=0,i=e;r<i.length;r++){var n=i[r],a=(l=u=s=o=a=void 0,n),o=t;if(!_.isEmpty(a.textRuns))for(var s=0,u=a.textRuns;s<u.length;s++){var l=u[s];p(l)?d(l,o):f(l)&&(function(e,t){e.expression,e.defaultCase,e.cases;for(var r=0,i=e.cases;r<i.length;r++)for(var n=i[r],a=0,o=n.textRuns;a<o.length;a++)d(o[a],t);for(var s=0,u=e.defaultCase.textRuns;s<u.length;s++)d(u[s],t);c.isValueRef(e.expression)&&h(e.expression,t)})(l,o)}}},e.isTextRunDefinition=p,e.isTextRunDefinitionGeneric=function(e){var t;return _.isString(e.value)||(t=e.value)&&t.expr||c.isValueRef(e.value)},e.isTextRunConditionalDefinition=f,e.isConditionalDefinitionGeneric=function(e){return _.isArray(e.cases)&&void 0!==e.defaultCase&&void 0!==e.expression}})(powerbi=powerbi||{}),(function(r){var e,t=r.data.SemanticFilter,i=r.data.SQExpr;function n(e){return!!(e.gradient||e.solid||e.pattern)}function a(e){return!(!e.linearGradient2&&!e.linearGradient3)}function o(e){return!!e.identityFieldsValues}function s(e){return!!(e.name instanceof i&&e.url instanceof i)}function u(e){if(!_.isArray(e))return!1;for(var t=0,r=e;t<r.length;t++)if(!r[t].textRuns)return!1;return!0}function l(e){return!!(e.name instanceof i&&e.content instanceof i&&e.type instanceof i)}function c(e){return!(!e.algorithm||!e.parameters)}function p(e){return!!(e.axisColor&&e.negativeColor&&e.negativeColor)}function f(e){return"Icon"===e.kind}function d(e){return"ExprList"===e.kind}function h(e){return null!=e&&"ErrorRange"===e.kind}(e=r.StructuralObjectDefinition||(r.StructuralObjectDefinition={})).isStructuralObjectDefinition=function(e){return!!e&&(e instanceof t||n(e)||a(e)||o(e)||s(e)||u(e)||l(e)||c(e)||p(e)||f(e)||d(e)||h(e))},e.isFillDefinition=n,e.isFillRuleDefinition=a,e.isDefaultValueDefinition=o,e.isImageDefinition=s,e.isParagraphsDefinition=u,e.isGeoJsonDefinition=l,e.isQueryTransformDefinition=c,e.isDataBarsDefinition=p,e.isIconDefinition=f,e.isExprListDefinition=d,e.isErrorRangeDefinition=h,e.accept=function(e,t){n(e)?t.visitFillDefinition(e):a(e)?t.visitFillRuleDefinition(e):u(e)?t.visitParagraphs(e):p(e)?t.visitDataBarsDefinition(e):f(e)?t.visitIconDefinition(e):h(e)&&t.visitErrorRangeDefinition(e)},e.acceptWithTraversal=function(e,t){n(e)?r.FillDefinition.accept(e,t):a(e)?r.FillRuleDefinition.accept(e,t):u(e)?r.ParagraphsDefinition.accept(e,t):p(e)?r.DataBarsDefinition.accept(e,t):f(e)?r.IconDefinition.accept(e,t):h(e)&&r.ErrorRangeDefinition.accept(e,t)},(r.StructuralObjectValue||(r.StructuralObjectValue={})).merge=function(e,t){return t?e?"Icon"===e.kind&&"Icon"===t.kind?{kind:"Icon",layout:(null!=t.layout?t:e).layout,verticalAlignment:(null!=t.verticalAlignment?t:e).verticalAlignment,value:(void 0!==t.value?t:e).value}:void 0:t:e},(r.StructuralTypeDescriptor||(r.StructuralTypeDescriptor={})).isValid=function(e){return!!(e.fill||e.fillRule||e.filter||e.expression||e.image||e.paragraphs||e.geoJson||e.queryTransform||e.dataBars||e.icon||e.exprList||e.errorRange)}})(powerbi=powerbi||{}),(function(e){var r,i;function n(e,t){return(e=e||null)===(t=t||null)||!!e==!!t&&!!a(e,t)&&r.SQExpr.equals(e.condition,t.condition)}function a(e,t){return i.sequenceEqual(e.target,t.target,r.SQExpr.equals)}r=e.data||(e.data={}),i=jsCommon.ArrayExtensions,(e=r.SQFilter||(r.SQFilter={})).equals=n,e.targetsEqual=a,e.contains=function(e,t){return!_.isEmpty(e)&&_.some(e,(function(e){return n(e,t)}))}})(powerbi=powerbi||{}),(function(e){var r,i;function n(e,t){return!e&&!t||!(!e||!t)&&r.SQExpr.equals(e.expr,t.expr)}function a(e,t){return!e&&!t||!(!e||!t)&&e.role===t.role&&n(e.expression,t.expression)}function o(e,t){return!e&&!t||!(!e||!t)&&i.sequenceEqual(e.columns,t.columns,a)}function s(e,t){return!e&&!t||!(!e||!t)&&i.sequenceEqual(e.parameters,t.parameters,n)&&o(e.table,t.table)}function u(e,t){return!e&&!t||!(!e||!t)&&o(e.table,t.table)}r=e.data||(e.data={}),i=jsCommon.ArrayExtensions,(e=r.SQUtils||(r.SQUtils={})).sqSortDefinitionEquals=function(e,t){return!e&&!t||!(!e||!t)&&e.direction===t.direction&&r.SQExpr.equals(e.expr,t.expr)},e.namedSQExprEquals=n,e.sqTransformTableColumnsEquals=a,e.sqTransformTableEquals=o,e.sqTransformInputEquals=s,e.sqTransformOutputEquals=u,e.sqTransformEquals=function(e,t){return!e&&!t||!(!e||!t)&&e.algorithm===t.algorithm&&s(e.input,t.input)&&u(e.output,t.output)}})(powerbi=powerbi||{}),(function(e){var a=e.data||(e.data={}),y=e.data.DataViewTransform,o=e.data.SQExprBuilder,t=(a.createCategoricalDataViewBuilder=function(){return new t},r.prototype.withCategory=function(e){var t=e.values,r=e.identityFrom,i=e.source.type,n={source:e.source,identityFields:e.identityFrom.fields,identity:e.identityFrom.identities||[],values:t};if(!e.identityFrom.identities)for(var a=0,o=t.length;a<o;a++)n.identity.push(g(r,a,t[a],i));return this.categories||(this.categories=[]),this.categories.push(n),this},r.prototype.withCategories=function(e){return _.isEmpty(this.categories)?this.categories=e:Array.prototype.push.apply(this.categories,e),this},r.prototype.withValues=function(e){for(var e=e.columns,t=0,r=e;t<r.length;t++){var i=r[t];this.staticMeasureColumns.push(i.source)}return this.staticSeriesValues=e,this},r.prototype.withGroupedValues=function(e){var t=e.groupColumn;this.dynamicSeriesMetadata={column:t.source,identityFrom:t.identityFrom,values:t.values};for(var r=0,i=e.valueColumns;r<i.length;r++){var n=i[r];this.dynamicMeasureColumns.push(n.source)}return this.dynamicSeriesValues=e.data,this},r.prototype.fillData=function(e){var t=_.head(this.categories),r=t&&t.values?t.values.length:0;if(this.hasDynamicSeries())for(var i=this,n=0,a=this.dynamicSeriesMetadata.values.length;n<a;n++){l=u=s=void 0;for(var o=n,s=i.dynamicSeriesValues[o],u=0,l=i.dynamicMeasureColumns.length;u<l;u++)d(e[o*l+u],s[u])}if(this.hasStaticSeries())for(var c=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,p=0,f=this.staticMeasureColumns.length;p<f;p++)d(e[c+p],this.staticSeriesValues[p])},r.prototype.build=function(){for(var e=[],t={},r=this.categories,i=this.dynamicSeriesMetadata,n=0,a=r;n<a.length;n++)x(e,a[n].source);if(this.hasDynamicSeries()){x(e,i.column),t.values=y.createValueColumns([],i.identityFrom.fields,i.column);for(var o,s=i.values,u=0;u<s.length;u++)for(var l=s[u],c=g(i.identityFrom,u,l,i.column.type),p=0,f=this.dynamicMeasureColumns;p<f.length;p++){var d=f[p];(v=_.toPlainObject(d)).groupName=l,v.rolesIndex&&delete v.rolesIndex,x(e,v),t.values.push({source:v,values:[],identity:c})}if(0===s.length)for(var h=0,m=this.dynamicMeasureColumns;h<m.length;h++){var v,d=m[h];x(e,v=_.toPlainObject(d)),t.values.push({source:v,values:[]})}this.hasStaticSeries()&&(o=t.values.grouped(),t.values.grouped=function(){return o},this.appendStaticMeasureColumns(e,t.values))}else t.values=y.createValueColumns(),this.appendStaticMeasureColumns(e,t.values);r=this.categories,_.isEmpty(r)||(t.categories=r),this.fillData(t.values),r={metadata:{columns:e},categorical:t};if(this.isLegalDataView(r))return r},r.prototype.appendStaticMeasureColumns=function(e,t){if(!_.isEmpty(this.staticMeasureColumns))for(var r=0,i=this.staticMeasureColumns;r<i.length;r++){var n=i[r];x(e,n),t.push({source:n,values:[]})}},r.prototype.isLegalDataView=function(e){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&r.isVisualDataView(e.metadata.columns))},r.isVisualDataView=function(e){return!_.isEmpty(e)&&_.some(e,(function(e){return!!e.queryName}))},r.prototype.hasDynamicSeries=function(){return!!this.dynamicSeriesMetadata},r.prototype.hasStaticSeries=function(){return!!this.staticSeriesValues},r);function r(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}function g(e,t,r,i){var n=e.identities;return n?n[t]:a.createDataViewScopeIdentity(o.equal(e.fields[0],o.typedConstant(r,i)))}function x(e,t){_.includes(e,t)||e.push(t)}function d(e,t){var r,i=t.values,i=(e.values=i,t.highlights),i=(i&&(e.highlights=i),t.objects);i&&(e.objects=i),void 0!==t.minLocal&&((r=r||{}).minLocal=t.minLocal),void 0!==t.maxLocal&&((r=r||{}).maxLocal=t.maxLocal),r&&(e.source.aggregates=r,_.extend(e,r))}})(powerbi=powerbi||{}),(function(e){var o=e.data||(e.data={}),s=e.data.SQExpr,r=(o.createStaticEvalContext=function(e,t){return new r(e,t)},t.prototype.getExprColumn=function(e){var t=o.DataViewSelectTransform.findExprSelectIndex(e,this.selectTransforms);if(!(t<0))return _.find(this.dataView.metadata.columns,(function(e){return e.index===t}))},t.prototype.getScopedEvalExprValue=function(e){var t,r=e.decomposeGlobalAggregateOfScopedExpr();return r?(t=o.DataViewMetadataColumnUtils.findExprColumn(r.source,this.dataView.metadata.columns))?o.DataViewMetadataColumnUtils.getAggregate(t,r.func):void 0:e.hasGlobalScope()?this.getExprValue(e.expression):void e.hasInnerMostScope()},t.prototype.getExprValue=function(e){var t=this.dataView,r=this.selectTransforms;if(t&&r){if(s.isAggregation(e)||s.isPercentile(e)||s.isMeasure(e)||s.isNativeMeasure(e)){var i=(function(e,t,r){var i,n=-1;do{if((n=o.DataViewSelectTransform.findExprSelectIndex(e,t,n+1))<0)break;if(i=_.find(r,(function(e){return e.index===n&&e.aggregates&&void 0!==e.aggregates.single})))return i.aggregates.single}while(n<t.length);if(s.isAggregation(e)||s.isPercentile(e)){var a=e.arg;if(s.isScopedEval(a)&&a.hasInnerMostScope()?n=o.DataViewSelectTransform.findExprSelectIndex(a.expression,t):(s.isSelectRef(a)||s.isMeasure(a)||s.isAggregation(a)||s.isNativeColumn(a))&&(n=o.DataViewSelectTransform.findExprSelectIndex(a,t)),!(n<0)&&(i=_.find(r,(function(e){return e.index===n&&e.aggregates}))))return (function(e,t){var r;if(s.isPercentile(t)){var i=_.find(e.percentiles,(function(e){return e.k===t.k&&t.exclusive===!!e.exclusive}));if(i)return i.value}else if(s.isAggregation(t))switch(t.func,t.func){case 3:return null!=(r=e.min)?r:e.minLocal;case 4:return null!=(r=e.max)?r:e.maxLocal;case 6:return e.median;case 1:return e.average}})(i.aggregates,e)}})(e,r,t.metadata.columns);if(void 0!==i)return i}return t.table?_.isEmpty(t.table.columns)||_.isEmpty(t.table.rows)||!_.isEmpty(t.table.identityFields)?void 0:n(e,r,t.table.columns,t.table.rows[0]):!t.categorical||_.isEmpty(t.metadata.columns)||_.isEmpty(t.categorical.values)?void(t.matrix||t.tree):a(e,r,t.categorical)}},t.prototype.getRoleValues=function(e){},t);function t(e,t){this.dataView=e,this.selectTransforms=t}function n(e,t,r,i){if(1===i.length&&null===i[0])return null;var n=o.DataViewSelectTransform.findExprSelectIndex(e,t);if(!(n<0)){t=_.findIndex(r,(function(e){return e.index===n}));if(!(t<0)){if(s.isSelectRef(e)&&0===e.attributeKind){e=r[t],e=e.formatSource&&e.formatSource.formatString;if((t=r.indexOf(e))<0)return}return i[t]}}}function a(e,t,r){var i,n=r.values;return 1===n.grouped().length&&!r.categories&&!((i=o.DataViewSelectTransform.findExprSelectIndex(e,t))<0)&&-1!==(r=_.findIndex(n,(function(e){return e.source.index===i})))&&(e=n[r].values)&&1===e.length?e[0]:void 0}o.getExprValueFromTable=n,o.getExprValueFromCategorical=a})(powerbi=powerbi||{}),(function(e){var o=e.data||(e.data={}),r=(o.createMatrixEvalContext=function(e,t){return new r(e,t)},t.prototype.setAsRowNode=function(e){this.rowPath=e,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},t.prototype.setAsColumnNode=function(e){this.columnPath=e,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},t.prototype.setAsIntersection=function(e,t,r,i,n){void 0===n&&(n=!1),this.nodeValue=e,this.rowPath=t,this.columnPath=r,this.nodeValueIndex=i,this.forHighlight=!!n,this.isScopedValue=!1},t.prototype.setAsScopedValue=function(e,t,r,i){void 0===i&&(i=!1),this.nodeValue=e,this.rowPath=t,this.columnPath=void 0,this.nodeValueIndex=r,this.forHighlight=!!i,this.isScopedValue=!0},t.prototype.getScopedEvalExprValue=function(e){var t,r=e.decomposeGlobalAggregateOfScopedExpr();return r?(t=o.DataViewMetadataColumnUtils.findExprColumn(r.source,this.getContextValueSources()))?o.DataViewMetadataColumnUtils.getAggregate(t,r.func):void 0:e.hasInnerMostScope()?this.getExprValue(e.expression):void e.hasGlobalScope()},t.prototype.getExprValue=function(e){return this.nodeValue?this.evaluateMatrixMeasure(e):this.rowPath?this.evaluateRowHeader(e):this.columnPath?this.evaluateColumnHeader(e):void 0},t.prototype.getExprColumn=function(e){return o.DataViewMetadataColumnUtils.findExprColumn(e,this.getContextValueSources())},t.prototype.findExprValueSourceIndex=function(e){var t=this.getContextValueSources();return t&&(e=o.DataViewMetadataColumnUtils.findExprColumn(e,t))?t.indexOf(e):-1},t.prototype.evaluateMatrixMeasure=function(e){this.rowPath,this.isScopedValue||this.columnPath;var t=this.nodeValue.valueSourceIndex||0,e=this.findExprValueSourceIndex(e);if(!(e<0)){if(e===t)r=this.nodeValue;else{var r,e=e-t+this.nodeValueIndex,t=_.last(this.rowPath),t=this.isScopedValue?o.DataViewMatrixUtils.getNodeScopedValues(t):t.values;if(!(r=null==t?void 0:t[e]))return}return this.forHighlight?r.highlight:r.value}},t.prototype.evaluateRowHeader=function(e){e=this.findExprValueSourceIndex(e);if(!(e<0)){var t=_.last(this.rowPath);if(t){t=this.shouldConsiderScopedValues(t.level)?o.DataViewMatrixUtils.getNodeScopedValues(t):t.values;if(t)return t[e].value}}},t.prototype.evaluateColumnHeader=function(e){},t.prototype.getRoleValues=function(e){var t=_.last(this.rowPath);if(t&&!t.isSubtotal){for(var r=this.dataView.valueSources,i=[],n=0,a=r.length;n<a;n++)o.DataRoleHelper.hasRole(r[n],e)&&i.push(t.values[n].value);return 0<i.length?i:void 0}},t.prototype.getDataView=function(){return this.dataView},t.prototype.getValueSourcesQueryNames=function(){return this.valueSourcesQueryNames},t.prototype.getScopedValueSourcesQueryNames=function(e){return this.scopedValuesQueryNamesByLevel[e]},t.prototype.getContextValueSourcesQueryNames=function(){return this.isScopedValue?(this.nodeValue,this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames},t.prototype.getContextValueSources=function(){var e;return this.nodeValue?(this.rowPath,this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources):this.rowPath?(e=this.getRowLevelIndex(),this.shouldConsiderScopedValues(e)?this.scopedValueSourcesByLevel[e]:this.dataView.valueSources):void this.columnPath},t.prototype.shouldConsiderScopedValues=function(e){return this.hasColumnGrouping||e<this.dataView.rows.levels.length-1},t.prototype.getRowLevelIndex=function(){return this.rowPath,_.last(this.rowPath).level},t);function t(e,t){if(this.dataView=e){this.columnLeavesPath=o.DataViewMatrixUtils.getLeafNodesPath(e.columns.root),this.hasColumnGrouping=0<o.DataViewMatrixUtils.getColumnGroupingLevelsCount(this.dataView.columns),this.valueSourcesQueryNames=_.map(e.valueSources,(function(e){return e.queryName})),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var r=e.rows.levels;if(!_.isEmpty(r))for(var i=0;i<r.length;i++){var n=o.DataViewMatrixUtils.getScopedValueSources(r[i]);(this.scopedValueSourcesByLevel[i]=n)&&(this.scopedValuesQueryNamesByLevel[i]=_.map(n,(function(e){return e.queryName})))}}}})(powerbi=powerbi||{}),(function(m){var e,v,a,q=jsCommon.BrowserUtils,o=jsCommon.Formatting,y=jsCommon.RegExpExtensions,s=jsCommon.StringExtensions,t=(e=Date,__extends(u,e),u.prototype.setInternalDate=function(e){this.date=e},u.fromTimeValue=function(e){var t=new u(e);return"function"!=typeof t.setInternalDate&&jsCommon.Trace.information("epochTimeStamp is '".concat(null===e?"null":void 0===e?"undefined":e,"'")),t.setInternalDate(new Date(e)),t},u.fromDateParts=function(e,t,r,i,n,a,o){void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===n&&(n=0),void 0===a&&(a=0),void 0===o&&(o=0);e=Date.UTC(e,t,r,i,n,a,o),t=new u(e);return t.setInternalDate(new Date(e)),t},u.fromString=function(e){var e=new Date(e),t=new u(e.getTime());return t.setInternalDate(e),t},u.fromDateWithEpochValue=function(e){return u.fromTimeValue(e.epochTimeStamp)},u.isDate=function(e){return e instanceof Date},u.prototype.getDate=function(){return this.date.getUTCDate()},u.prototype.getDay=function(){return this.date.getUTCDay()},u.prototype.getFullYear=function(){return this.date.getUTCFullYear()},u.prototype.getHours=function(){return this.date.getUTCHours()},u.prototype.getMilliseconds=function(){return this.date.getUTCMilliseconds()},u.prototype.getMinutes=function(){return this.date.getUTCMinutes()},u.prototype.getMonth=function(){return this.date.getUTCMonth()},u.prototype.getSeconds=function(){return this.date.getUTCSeconds()},u.prototype.setDate=function(e){return this.date.setUTCDate.apply(this.date,arguments)},u.prototype.setFullYear=function(e,t,r){return this.date.setUTCFullYear.apply(this.date,arguments)},u.prototype.setHours=function(e,t,r,i){return this.date.setUTCHours.apply(this.date,arguments)},u.prototype.setMilliseconds=function(e){return this.date.setUTCMilliseconds.apply(this.date,arguments)},u.prototype.setMinutes=function(e,t,r){return this.date.setUTCMinutes.apply(this.date,arguments)},u.prototype.setMonth=function(e,t){return this.date.setUTCMonth.apply(this.date,arguments)},u.prototype.setSeconds=function(e,t){return this.date.setUTCSeconds.apply(this.date,arguments)},u.prototype.toString=function(){var e=this.date.toUTCString(),t=e.length-" GMT".length;return e=e.indexOf(" GMT")===t?e.substr(0,t):e},u.prototype.getTime=function(){return this.date.getTime()},u.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},u.prototype.getUTCDate=function(){return this.date.getUTCDate()},u.prototype.getUTCDay=function(){return this.date.getUTCDay()},u.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},u.prototype.getUTCHours=function(){return this.date.getUTCHours()},u.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},u.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},u.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},u.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},u.prototype.setUTCDate=function(e){return this.date.setUTCDate.apply(this.date,arguments)},u.prototype.setUTCFullYear=function(e,t,r){return this.date.setUTCFullYear.apply(this.date,arguments)},u.prototype.setUTCHours=function(e,t,r,i){return this.date.setUTCHours.apply(this.date,arguments)},u.prototype.setUTCMilliseconds=function(e){return this.date.setUTCMilliseconds.apply(this.date,arguments)},u.prototype.setUTCMinutes=function(e,t,r){return this.date.setUTCMinutes.apply(this.date,arguments)},u.prototype.setUTCMonth=function(e,t){return this.date.setUTCMonth.apply(this.date,arguments)},u.prototype.setUTCSeconds=function(e,t){return this.date.setUTCSeconds.apply(this.date,arguments)},u.prototype.toDateString=function(){return this.date.toDateString()},u.prototype.toISOString=function(){return this.date.toISOString()},u.prototype.toJSON=function(){return this.date.toJSON()},u.prototype.toLocaleDateString=function(){return this.date.toLocaleDateString()},u.prototype.toLocaleString=function(){return this.date.toLocaleString()},u.prototype.toLocaleTimeString=function(){return this.date.toLocaleTimeString()},u.prototype.toTimeString=function(){return this.date.toTimeString()},u.prototype.toUTCString=function(){return this.date.toUTCString()},u.prototype.valueOf=function(){return this.date.valueOf()},u);function u(){return null!==e&&e.apply(this,arguments)||this}m.PBIFormattingDate=t,t=v=m.FormattingEncoder||(m.FormattingEncoder={}),a=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g"),t.removeLiterals=function(e){return a.lastIndex=0,e.replace(a,"")},t.preserveLiterals=function(e,t){for(a.lastIndex=0;;){var r=a.exec(e);if(!r)break;var r=r[0],i=a.lastIndex-r.length,n=String.fromCharCode(57600+t.length);t.push(r),e=e.substr(0,i)+n+e.substr(a.lastIndex),a.lastIndex=1+i}return e},t.restoreLiterals=function(e,t,r){void 0===r&&(r=!0);for(var i=t.length,n=0;n<i;n++){var a,o=String.fromCharCode(57600+n),s=t[n];r||(s="\\"===(a=s[0])||1===s.length||s[s.length-1]!==a?s.substring(1):s.substring(1,s.length-1)),e=e.replace(o,s)}return e};var i,l,c,p,n,g,x,f,S,r,d,h,E,w,b,O=/({{)|(}})|{(\d+[^}]*)}/g,C="0",D="#",U="E",V=new RegExp([C,D].join("|"),"g"),t=(R.prototype.formatValue=function(e,t,r){return null==e?"":(r=this.getCulture(r),i.canFormat(e)?i.format(e,t,r):n.canFormat(e)?n.format(e,t,r):e.toString())},R.prototype.format=function(e,n,a){var o=this;return e?e.replace(O,(function(e,t,r,i){return t?"{":r?"}":(t=i.split(":"),r=parseInt(t[0],10),i=t[1],o.formatValue(n[r],i,a))})):""},R.prototype.isStandardNumberFormat=function(e){return n.isStandardFormat(e)},R.prototype.formatNumberWithCustomOverride=function(e,t,r,i){i=this.getCulture(i);return n.formatWithCustomOverride(e,t,r,i)},R.prototype.dateFormatString=function(e){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(e)},R.prototype.setCurrentCulture=function(e){this._currentCultureSelector!==e&&(this._currentCulture=this.getCulture(e),this._currentCultureSelector=e,this._dateTimeScaleFormatInfo=new K(this._currentCulture))},R.prototype.normalizeCultureSelector=function(e){var t=e.split("-");return e=2===t.length&&2===t[1].length?t[0]+"-"+t[1].toUpperCase():e},R.prototype.getCulture=function(e){return null==e?(null==this._currentCulture&&this.initialize(),this._currentCulture):(e=this.normalizeCultureSelector(e),Globalize.findClosestCulture(e)||Globalize.culture("en-US"))},R.prototype.parseFloat=function(e){return Globalize.parseFloat(e,this.getCulture())},R.prototype.parseDate=function(e){e=Globalize.parseDate(e,null,this.getCulture());return e&&m.dateWithEpochValueFromLocalDate(e)},R.prototype.getCurrentCulture=function(){return this.getCulture()},R.prototype.initialize=function(){var e,t=this.getCurrentLocale(),t=(this.setCurrentCulture(t),this.getUrlParam("calendar"));t&&(t=(e=this._currentCulture).calendars[t])&&(e.calendar=t)},R.prototype.getCurrentLocale=function(){var e=q.getLanguage()||Globalize.culture().name,t=m.ensurePowerbiCommon().cultureInfo,e=m.ensurePowerbiCommon().formattingLocale||t||e;return this.getUrlParam("formatLocale")||this.getUrlParam("language")||e},R.prototype.getUrlParam=function(e){e=window.location.search.match(RegExp("[?&]"+e+"=([^&]*)"));return e?e[1]:void 0},R);function R(){}function j(e){var t=y.run(E,e);return t?t[0]:e}function k(e,t,r){if(null==t)return e;if(T(e=null==e?C:e)){for(var i=g.getComponents(e),n=[i.positive,i.negative,i.zero],a=0;a<n.length;a++)n[a]=B(n[a],t,r);return n.join(g.NumberFormatComponentsDelimeter)}return B(e,t,r)}function B(e,t,r){var i,n,a,o;return e=0<=(t=Math.abs(t))&&(e=v.preserveLiterals(e,i=[]),t=_.repeat(r?C:D,Math.abs(t)),(o=y.run(h,e))?(n=e.substr(0,o.index),a=e.substr(o.index+1,o[1].length),o=e.substr(o.index+o[0].length),r?a=t:0<(r=t.length-a.length)?a+=t.slice(-r):r<0&&(a=a.slice(0,r)),e=n+(a=0<a.length?b+a:a)+o):0<t.length&&(e=e.replace(w,"$1"+b+t)),0!==i.length)?v.restoreLiterals(e,i):e}function T(e){return-1!==v.removeLiterals(e).indexOf(g.NumberFormatComponentsDelimeter)}function F(e){var t={hasNegative:!1,positive:e,negative:e,zero:e},r=[],e=(e=v.preserveLiterals(e,r)).split(g.NumberFormatComponentsDelimeter),i=e.length;return 1<i&&(0!==r.length&&(e=_.map(e,(function(e){return v.restoreLiterals(e,r)}))),t.hasNegative=!0,t.positive=t.zero=e[0],t.negative=e[1],2<i)&&(t.zero=e[2]),t}function L(e){return r.test(e)}function M(e,t,r,i){var n=r.numberFormat;if(!isFinite(e))return Globalize.format(e,void 0);var a=F(t),a=(t=0<e?a.positive:0===e?a.zero:a.negative,a.hasNegative&&(e=Math.abs(e)),N(t,!0)),o=[];if(a.hasLiterals&&(t=v.preserveLiterals(t,o)),a.hasE&&!i){var s=y.run(S,t);if(s){var u=t.substr(0,s.index),l=t.substr(s.index+2),c=A(u,a);if(1!==(h=Q(u,a))&&(e*=h),"number"!=typeof e)return String(e);var p=e.toExponential(c),f=p.indexOf("e"),d=p.substr(0,f),p=p.substr(f+1),f=I(d,u,n),d=I(p,l,n);"+"===d.charAt(0)&&"+"!==s[0].charAt(1)&&(d=d.substr(1));u=f+s[0].charAt(0)+d}}if(void 0===u){var h,p=void 0,l=!1,c=A(t,a);if(1!==(h=Q(t,a))&&(e*=h),e=parseFloat(P(e,c)),!isFinite(e))return Globalize.format(e,void 0);i?(f=g.getNumericFormat(e,t),s=i,i=(d=f)&&void 0!==s?s.replace("{0}","{0:"+d+"}"):s,p=m.formattingService.format(i,[e],r.name),l=!0):(p=P(e,c),p=(function(e,t,r,i){if(0!==i){var n=t.indexOf(".");if(-1!==n)for(var a=n+1,o=a+(r-i);o<t.length;++o){var s=t[o];if("0"===s||"9"===s){s=P(e,o-a);if(parseFloat(s)===e)return s}}}return t})(e,p,c,(H(t,h=a),h.optionalPrecision))),u=I(p,t,n,i,l)}return a.hasLiterals&&(u=v.restoreLiterals(u,o,!1)),x=a,u}function P(e,t){var r="",i=0,n=(16<t&&(i=t-16,t=16),m.Double.log10(Math.abs(e))+1);if(n<16)0<n&&(a=16-n)<t&&(i+=t-a,t=a),r=(function(e,t){{var r,i,n;e&&!isFinite(e)||((r=e<0)&&(e=-e),n=Math.pow(2,Math.floor(Math.log(e)/Math.LN2)-52),i=Math.pow(10,t),10*n<1/i&&(n=(e+n)*i,n=Math.round(n),e=n/i),r&&(e=-e))}return e.toFixed(t)})(e,t);else if(16===n)r=e.toFixed(0),0<(i+=t)&&(r+=".");else{if("number"!=typeof e)return String(e);var a=(r=e.toExponential(15)).indexOf("e");0<a&&(n=r.indexOf("."),e=r.substr(0,a),a=r.substr(a+1),a=parseInt(a,10)-(e.length-n-1),r=e.replace(".","")+_.repeat("0",a),0<t)&&(r=r+"."+_.repeat("0",t))}return 0<i&&(r+=_.repeat("0",i)),r}function N(e,t,r,i){if(void 0!==x&&e===x.format)return x;for(var n=[],a=v.preserveLiterals(e,n),o={format:e,hasLiterals:0!==n.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},s=0,u=a.length;s<u;s++)switch(a.charAt(s)){case"e":case"E":o.hasE=!0;break;case",":o.hasCommas=!0;break;case".":o.hasDots=!0;break;case"%":o.hasPercent=!0;break;case"":o.hasPermile=!0}n=F(e);return t&&(o.precision=A(n.positive,o)),i&&(o.partsPerScale=G(n.positive,o)),r&&(o.scale=Q(n.positive,o)),o}function A(e,t){return H(e,t),t.precision}function H(e,t){if(!(-1<t.precision)){var r=0,i=0;if(t.hasDots){var n=(e=t.hasLiterals?v.removeLiterals(e):e).indexOf(".");if(-1<n){for(var a=e.length,o=n;o<a;o++){var s=e.charAt(o);if(s.match(V)&&++r,s===D?++i:i=0,s===U)break}19<r&&(i=Math.max(0,i-(r-19)),r=19)}}t.precision=r,t.optionalPrecision=i}}function G(e,t){var r;return null!=t.partsPerScale?t.partsPerScale:(r=1,t.hasPercent&&-1<e.indexOf("%")&&(r*=100),t.hasPermile&&-1<e.indexOf("")&&(r*=1e3),t.partsPerScale=r)}function Q(e,t){if(-1<t.scale)return t.scale;var r=G(e,t);if(t.hasCommas){var i=e.indexOf(".");if(-1===i)for(i=e.length;0<i&&")"===e.charAt(i-1);)i--;for(var n=i-1;-1<n;n--){if(","!==e.charAt(n))break;r/=1e3}}return t.scale=r}function I(e,t,r,i,n){var a,o,s,u=!!i,l=t.split(".",2);return 2===l.length?(a=l[0],l=l[1],o="",i&&(o=i.replace(f,""),e=e.replace(o,"")),i=r["."],s=1===(n=e.split(n?i:".",2)).length?n[0]+o:n[0],n=(n=2===n.length?n[1]+o:"").replace(d,""),o=W(s,a,r,u),(s=(function(e,t,r){var i=0,n=t.length,a=e.length;if(r)return(r=t.charAt(n-1)).match(V)?{value:e,fmtOnly:""===e}:{value:e+r,fmtOnly:""===e};for(var o="",s=!0,u=0;u<n;u++){var l=t.charAt(u);if(i<a)switch(l){case C:case D:o+=e[i++],s=!1;break;default:o+=l}else l!==D&&(o+=l,s=s&&l!==C)}return{value:o,fmtOnly:s}})(n,l,u)).fmtOnly||""===s.value?o+s.value:o+i+s.value):W(e,t,r,u)}function W(e,t,r,i){for(var n=t.indexOf(","),a=-1<n&&n<Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"))&&r[","],o=0,s=0,u=r.groupSizes||[3],l=u[0],c=r[","],n="",p=e.charAt(0),f=("+"!==p&&"-"!==p||(n=r[p],e=e.substr(1)),"0"===e),d="",h="",m=e.length-1,v=!0,y=t.length-1;-1<y;y--){var g=t.charAt(y);switch(g){case C:case D:v=!1,""!==h&&(d=h+d,h=""),i||((-1<m||g===C)&&a&&(o===l?(d=c+d,++s<u.length&&(l=u[s]),o=1):o++),-1<m?(f&&g===D||(d=e.charAt(m)+d),m--):g!==D&&(d=g+d));break;case",":break;default:h=g+h}}if(i)return v?n+h+d:n+h+e+d;if(-1<m&&""!==d)if(a)for(;-1<m;)o===l?(d=c+d,++s<u.length&&(l=u[s]),o=1):o++,d=e.charAt(m)+d,m--;else d=e.substr(0,m+1)+d;return n+h+d}(l=i=m.DateTimeFormat||(m.DateTimeFormat={})).formatDateStandard=function(e,t,r){var i=r.calendar.patterns,n=(void 0===(n=(n=r.calendar).patterns).g&&(n.g=n.f.replace(n.D,n.d),n.G=n.F.replace(n.D,n.d)),o.findDateFormat(e,t,r.name));return t=1===n.format.length?i[n.format]:n.format,Globalize.format(n.value,t,r)},l.formatDateCustom=function(e,t,r){var i=[];if(-1<(t=v.preserveLiterals(t,i)).indexOf("F")){t=s.replaceAll(t,"FFFF","FFF");var n=e.getMilliseconds();if(1<=n%10&&(t=s.replaceAll(t,"FFF","fff")),t=s.replaceAll(t,"FFF","FF"),1<=n%100/10&&(t=s.replaceAll(t,"FF","ff")),t=s.replaceAll(t,"FF","F"),1<=n%1e3/100&&(t=s.replaceAll(t,"F","f")),""===(t=s.replaceAll(t,"F",""))||"%"===t)return""}var n=null!=t.match(/gg/),a=(t=(a=t)!==c?(c=a,a=o.fixDateTimeFormat(a),p=a):p,r.calendar);return n&&(r.calendar=r.calendars.Japanese),e=Globalize.format(e,t,r),n&&(r.calendar=a),e=l.localize(e,r.calendar),v.restoreLiterals(e,i,!1)},g=n=m.NumberFormat||(m.NumberFormat={}),f=/\{.+\}/,S=/e[+-]*[0#]+/i,r=/^[a-z]\d{0,2}$/i,d=/0+$/,h=/\.([0#]*)/g,E=/[0#,\.]+[0,#]*/g,w=/([0#])(?=[^0#]*$)/,b=".",g.NumberFormatComponentsDelimeter=";",g.getNumericFormat=function(e,t){var r,i,n;return null==t?t:T(t)?(r=(n=g.getComponents(t)).positive,i=n.negative,n=n.zero,j(0<e?r:0===e?n:i)):j(t)},g.addDecimalsToFormat=k,g.hasFormatComponents=T,g.getComponents=F,g.isStandardFormat=L,g.getFormatForWholeNumberAverage=function(e){return!e||L(e)||N(e).hasDots?e:k(e,2,!0)},g.formatWithCustomOverride=function(e,t,r,i){return M(e,t,i,r)},g.formatNumberStandard=function(e,t,r){var i,n,a=1<t.length?parseInt(t.substr(1,t.length-1),10):void 0,o=r.numberFormat,s=t.charAt(0);switch(s){case"e":case"E":void 0===a&&(a=6);var u=_.repeat("0",a),l=M(e,t="0."+u+s+"+000",r);break;case"f":case"F":l=void 0!==a?e.toFixed(a):e.toFixed(o.decimals),l=g.localize(l,o);break;case"g":case"G":var u=Math.abs(e);if(0===u||1e-4<=u&&u<1e15)l=void 0!==a?e.toPrecision(a):e.toString();else{if("number"!=typeof e)return String(e);l=(l=void 0!==a?e.toExponential(a):e.toExponential()).replace("e","E")}l=g.localize(l,o);break;case"r":case"R":l=e.toString(),l=g.localize(l,o);break;case"x":case"X":l=e.toString(16),"X"===s&&(l=l.toUpperCase()),void 0!==a&&(u=l.length,(i=e<0)&&u--,n=void 0,0<(u=a-u)&&(n=_.repeat("0",u)),l=i?"-"+n+l.substr(1):n+l),l=g.localize(l,o);break;default:l=Globalize.format(e,t,r)}return l},g.formatNumberCustom=M,g.toNonScientific=P,g.getCustomFormatMetadata=N;z.prototype.getFormatString=function(e){switch(e){case m.DateTimeUnit.Year:return this.YearPattern;case m.DateTimeUnit.Month:return this.MonthPattern;case m.DateTimeUnit.Week:case m.DateTimeUnit.Day:return this.DayPattern;case m.DateTimeUnit.Hour:return this.HourPattern;case m.DateTimeUnit.Minute:return this.MinutePattern;case m.DateTimeUnit.Second:return this.SecondPattern;case m.DateTimeUnit.Millisecond:return this.MillisecondPattern}};var K=z;function z(e){var t=e.calendar,r=t.patterns,t=null!=(null==(t=null==(t=t.months)?void 0:t.namesAbbr)?void 0:t[0]),i=r.Y,n=r.M,a=r.f,o=r.T,r=r.t,s=-1<a.indexOf(",")?", ":" ",u=0===i.indexOf("yyyy'")&&6<i.length&&"'"===i[6],u=(this.YearPattern=u?i.substr(0,7):"yyyy",a.indexOf("yy")),l=a.indexOf("MMMM"),l=(this.MonthPattern=t&&-1<l?l<u?"MMM yyyy":"yyyy MMM":i,this.DayPattern=t?n.replace("MMMM","MMM"):n,a.indexOf("mm")),i=-1<a.indexOf("tt")?r.replace(":mm ",""):r;this.HourPattern=u<l?this.DayPattern+s+i:i+s+this.DayPattern,this.MinutePattern=r,this.SecondPattern=o,this.MillisecondPattern=o.replace("ss","ss.fff"),"fi-FI"===e.name&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}m.formattingService=new t})(powerbi=powerbi||{}),(function(e){var i;(i=e.NumberFormat||(e.NumberFormat={})).canFormat=function(e){return"number"==typeof e},i.format=function(t,e,r){e=e||"G";try{return i.isStandardFormat(e)?i.formatNumberStandard(t,e,r):i.formatNumberCustom(t,e,r)}catch(e){return Globalize.format(t,void 0,r)}},i.localize=function(e,t){var r=t["+"],i=t["-"],n=t["."],a=t[","];if("+"===r&&"-"===i&&"."===n&&","===a)return e;for(var o=e.length,s="",u=0;u<o;u++){var l=e.charAt(u);switch(l){case"+":s+=r;break;case"-":s+=i;break;case".":s+=n;break;case",":s+=a;break;default:s+=l}}return s}})(powerbi=powerbi||{}),(function(n){var a;(a=n.DateTimeFormat||(n.DateTimeFormat={})).canFormat=function(e){return e instanceof Date},a.format=function(t,e,r){e=e||"G",n.isDateWithEpochValue(t)&&(i=t.epochTimeStamp,t=n.PBIFormattingDate.fromTimeValue(i));var i=1===e.length;try{return i?a.formatDateStandard(t,e,r):a.formatDateCustom(t,e,r)}catch(e){return a.formatDateStandard(t,"G",r)}},a.localize=function(e,t){var r=t[":"];if(":"===r)return e;for(var i="",n=e.length,a=0;a<n;a++){var o=e.charAt(a);i+=":"===o?r:o}return i}})(powerbi=powerbi||{}),(function(t){var e,n,r,i;function a(e){for(var t="[",r=0,i=e.length;r<i;r++)0<r&&(t+=","),t+=n.serialize(e[r]);return t+"]"}function o(){return null!==r&&r.apply(this,arguments)||this}e=t.data||(t.data={}),(n=e.SQExprShortSerializer||(e.SQExprShortSerializer={})).serialize=function(e){return JSON.stringify(e.accept(i.instance))},n.serializeArray=a,r=e.DefaultSQExprVisitor,__extends(o,r),o.prototype.visitColumnRef=function(e){return{col:{s:e.source.accept(this),r:e.ref}}},o.prototype.visitMeasureRef=function(e){return{measure:{s:e.source.accept(this),r:e.ref}}},o.prototype.visitNativeMeasure=function(e){var t={l:e.language,e:e.expression,t:e.dataType};return e.proposedName&&(t.p=e.proposedName),e.expressionContentCache&&(t.c={}),e.expressionContentCache.dependencies&&(t.c.d=a(e.expressionContentCache.dependencies)),null!=e.expressionContentCache.unrecognizedIdentifiers&&(t.c.u=e.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:t}},o.prototype.visitNativeColumn=function(e){var t={l:e.language,e:e.expression,t:e.dataType,s:e.source.accept(this),f:e.format};return e.proposedName&&(t.p=e.proposedName),e.expressionContentCache&&(t.c={}),e.expressionContentCache.dependencies&&(t.c.d=a(e.expressionContentCache.dependencies)),null!=e.expressionContentCache.unrecognizedIdentifiers&&(t.c.u=e.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:t}},o.prototype.visitAggr=function(e){return{agg:{a:e.arg.accept(this),f:e.func}}},o.prototype.visitEntity=function(e){return e.entity,{e:e.entity}},o.prototype.visitHierarchyLevel=function(e){return{h:e.arg.accept(this),l:e.level}},o.prototype.visitHierarchy=function(e){return{e:e.arg.accept(this),h:e.hierarchy}},o.prototype.visitPropertyVariationSource=function(e){return{e:e.arg.accept(this),n:e.name,p:e.property}},o.prototype.visitAnd=function(e){return{and:{l:e.left.accept(this),r:e.right.accept(this)}}},o.prototype.visitCompare=function(e){return{comp:{k:e.comparison,l:e.left.accept(this),r:e.right.accept(this)}}},o.prototype.visitConstant=function(e){return{const:{t:e.type.primitiveType,v:(function(e){if(t.isDateWithEpochValue(e))return t.PBIFormattingDate.fromDateWithEpochValue(e);return e})(e.value)}}},o.prototype.visitArithmetic=function(e){return{arithmetic:{o:e.operator,l:e.left.accept(this),r:e.right.accept(this)}}},o.prototype.visitScopedEval=function(e){return{scopedEval:{e:e.expression.accept(this),s:a(e.scope)}}},o.prototype.visitFilteredEval=function(e){var r=this;return{filteredEval:{e:e.expression.accept(this),f:"[".concat(_.map(e.filters,(function(e){return JSON.stringify((e=e,t={},_.isEmpty(e.target)||(t.t=_.map(e.target,(function(e){return e.accept(r)}))),t.c=e.condition.accept(r),t));var t})).join(", "),"]")}}},o.prototype.visitWithRef=function(e){return{withRef:{e:e.expressionName}}},o.prototype.visitTransformTableRef=function(e){return{transformTableRef:{source:e.source}}},o.prototype.visitTransformOutputRoleRef=function(e){var t={transformOutputRoleRef:{role:e.role}};return e.transform&&(t.transformOutputRoleRef.transform=e.transform),t},o.prototype.visitFloor=function(e){var t={floor:{a:e.arg.accept(this),s:e.size}};return null!=e.timeUnit&&(t.floor.timeunit=e.timeUnit),t},o.prototype.visitRoleRef=function(e){return{roleRef:{role:e.role}}},o.prototype.visitSummaryValueRef=function(e){return{summaryValueRef:{name:e.name}}},o.prototype.visitAllRolesRef=function(e){return{allRolesRef:{}}},o.prototype.visitNot=function(e){return{not:e.arg.accept(this)}},o.prototype.visitIn=function(e){return{in:{c:a(e.args),v:_.map(e.values,a)}}},o.prototype.visitSelectRef=function(e){return{n:e.expressionName}},o.prototype.visitSparklineData=function(e){return{sparklineData:{m:e.measure.accept(this),g:a(e.grouping),s:null==(e=e.scalarKey)?void 0:e.accept(this)}}},o.prototype.visitDefault=function(e){},o.instance=new o,i=o})(powerbi=powerbi||{}),(function(c){var a,o,i,e;function s(e,t,r){this.selector=s.ensureSelector(e),this.highlight=t,this._columnLevelKeys=new i(function(){if(e)return o.getDecomposedKeys(e,!1)}),this._identityLevelKeys=new i(function(){if(e)return o.getDecomposedKeys(e,!0)}),this.selectorsByColumn=r}function u(e,t,r){var i,n=e.format;return{expr:e.expr,get formattedValue(){return i=void 0===i?a.valueFormatter.format(t,n):i},value:t,identity:r,queryName:e.queryName}}function n(){}a=c.visuals||(c.visuals={}),o=c.data.Selector,i=jsCommon.Lazy,s.fromSelectorsByColumn=function(e){return new s(o.convertSelectorsByColumnToSelector(e),!1,e)},s.fromSelectorsByColumnAndRoles=function(e,t){e=new s(o.convertSelectorsByColumnToSelector(e),!1,e);return e.role=t,e},s.prototype.equals=function(e){return this.selector&&e.selector?this.highlight===e.highlight&&o.equals(this.selector,e.selector):!this.selector==!e.selector&&this.highlight===e.highlight},s.isEqual=function(e,t){return e===t||null!=e&&null!=t&&e.equals(t)},s.prototype.includes=function(e,t,i){if(void 0===i&&(i=!1),!e)return!1;var r=this.selector,n=e.selector;if(!r||!n)return!1;var a=r.data,o=n.data;if(!a&&r.metadata&&r.metadata!==n.metadata)return!1;if(!(t=void 0===t?!1:t)&&this.highlight!==e.highlight)return!1;if(a){if(!o)return!1;if(0<a.length)for(var s=0,u=a.length;s<u;s++){var l=(function(e){var t=a[e];if(i){var r=t.expr;if(!_.some(o,(function(e){return c.DataViewScopeIdentity.containsComparison(r,e)})))return{value:!1}}else if(!o.some((function(e){return c.DataViewScopeIdentity.equals(t,e)})))return{value:!1}})(s);if("object"==typeof l)return l.value}}return!0},s.prototype.getKey=function(){return void 0===this._key&&(this._key="{selector: ".concat(this.selector?this.getSelectorKey():null,", highlight: ").concat(this.highlight,"}")),this._key},s.prototype.getDecomposedKeys=function(e){return(e?this._identityLevelKeys:this._columnLevelKeys).getValue()},s.prototype.getKeyWithoutHighlight=function(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight="{selector: ".concat(this.selector?this.getSelectorKey():null,"}")),this._keyWithoutHighlight},s.prototype.hasIdentity=function(){return this.selector&&!!this.selector.data},s.prototype.getSelector=function(){return this.selector},s.prototype.getSelectorsByColumn=function(){return this.selectorsByColumn},s.prototype.getSelectorKey=function(){return void 0===this._selectorKey&&(this._selectorKey=o.getKey(this.selector)),this._selectorKey},s.createNull=function(e){return new s(null,e=void 0===e?!1:e)},s.createWithId=function(e,t){return new s(e?{data:[e]}:null,t=void 0===t?!1:t)},s.createWithMeasure=function(e,t){t=new s({metadata:e},t=void 0===t?!1:t);return t.selectorsByColumn={metadata:[e]},t},s.createWithIdAndMeasure=function(e,t,r){void 0===r&&(r=!1);var i={};return e&&(i.data=[e]),t&&(i.metadata=t),new s(i=e||t?i:null,r)},s.createWithIdAndMeasureAndCategory=function(e,t,r,i,n){void 0===n&&(n=[]);i=this.createWithIdAndMeasure(e,t,i=void 0===i?!1:i);return i.selector&&(i.selectorsByColumn={},e&&r&&(i.selectorsByColumn.dataMap={},i.selectorsByColumn.dataMap[r]=[e]),t&&(i.selectorsByColumn.metadata=[t]),_.isEmpty(n)||(i.selectorsByColumn.valueDetails=n)),i},s.createWithIds=function(e,t,r){void 0===r&&(r=!1);var i=null,e=s.idArray(e,t);return new s(i=e?{data:e}:i,r)},s.createWithIdsAndMeasure=function(e,t,r,i){void 0===i&&(i=!1);var n={},a=s.idArray(e,t);return a&&(n.data=a),r&&(n.metadata=r),new s(n=e||t||r?n:null,i)},s.createWithSelectorForColumnAndMeasure=function(e,t,r,i){void 0===r&&(r=!1),void 0===i&&(i=[]);var n={};return _.isEmpty(e)||(n.dataMap=e),t&&(n.metadata=[t]),e||t||(n=null),_.isEmpty(i)||(n.valueDetails=i),new s(o.convertSelectorsByColumnToSelector(n),r,n)},s.createWithSelectorForColumnAndMeasures=function(e,t,r,i){void 0===i&&(i=!1);var n={};return _.isEmpty(e)||(n.dataMap=e),_.isEmpty(t)||(n.metadata=t),r&&(n.valueDetails=r),!e&&_.isEmpty(t)&&(n=null),new s(o.convertSelectorsByColumnToSelector(n),i,n)},s.createWithHighlight=function(e){var t=new s(e.getSelector(),!0);return t.selectorsByColumn=e.selectorsByColumn,t},s.idArray=function(e,t){var r;if(e||t)return r=[],e&&r.push(e),t&&t!==e&&r.push(t),r},s.ensureSelector=function(e){return e&&e.data&&(e.data=_.uniqWith(e.data,o.equalsData)),e},e=s,a.SelectionId=e,a.buildValueDetailsForColumnValue=u,n.builder=function(){return new n},n.prototype.withColumnIdentity=function(e,t,r){return this.addItemToDataMap(t,e),r&&(this.ensureValueDetails(),(t=this.valueDetails).push.apply(t,r)),this},n.prototype.withCategoryIdentity=function(e,t,r){return e&&e.source&&e.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(u(e.source,e.values[t],e.identity[t])),this.addItemToDataMap(e.source.queryName,r)),this},n.prototype.withCategory=function(e,t,r,i){if(void 0===i&&(i=!1),c.DataViewUtils.isDataViewCategoryColumnList(e)){if(i&&r)for(var n=0,a=e;n<a.length;n++){var o=a[n];this.addCategoryValueDetails(o,t)}e[0]&&r&&e[0].identity&&this.addItemToDataMap(r,e[0].identity[t])}else i&&this.addCategoryValueDetails(e,t),e&&e.source&&e.source.queryName&&e.identity&&this.addItemToDataMap(e.source.queryName,e.identity[t]);return this},n.prototype.addCategoryValueDetails=function(e,t){e&&e.source&&e.source.queryName&&e.identity&&(this.ensureValueDetails(),this.valueDetails.push(u(e.source,e.values[t],e.identity[t])))},n.prototype.withSeries=function(e,t,r){return void 0===r&&(r=!1),e&&e.source&&e.source.queryName&&t&&(r&&c.DataViewUtils.isDataViewValueColumnGroup(t)&&(this.ensureValueDetails(),this.valueDetails.push(u(e.source,t.name,t.identity))),this.addItemToDataMap(e.source.queryName,t.identity)),this},n.prototype.withMeasure=function(e,t,r){if(this.ensureMeasures(),null!=e&&this.measures.push(e),t&&t.source.queryName===e)if(this.ensureValueDetails(),0<=r)this.valueDetails.push(u(t.source,t.values[r],void 0));else for(var i=0,n=t.values;i<n.length;i++){var a=n[i];this.valueDetails.push(u(t.source,a,void 0))}return this},n.prototype.withMeasures=function(e){this.ensureMeasures();for(var t=0,r=e;t<r.length;t++){var i=r[t];this.measures.push(i)}return this},n.prototype.createSelectionId=function(){return e.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)},n.prototype.clone=function(){var e=new n,t=this.dataMap;if(t){var r,i=e.dataMap={};for(r in this.dataMap)i[r]=__spreadArray([],t[r]||[],!0)}return this.measures&&(e.measures=__spreadArray([],this.measures||[],!0)),e},n.prototype.ensureMeasures=function(){void 0===this.measures&&(this.measures=[])},n.prototype.ensureValueDetails=function(){void 0===this.valueDetails&&(this.valueDetails=[])},n.prototype.addItemToDataMap=function(e,t){var r,i;t&&(this.dataMap||(this.dataMap={}),null==(i=(r=this.dataMap)[e])?r[e]=[t]:i.push(t))},a.SelectionIdBuilder=n})(powerbi=powerbi||{}),(function(a){var e;(e=a.VisualStylePresetHelpers||(a.VisualStylePresetHelpers={})).getStylePreset=function(e,t){if(e)return _.isEmpty(t)&&(t=e.defaultPresetName),e.presets[t]||e.presets[e.defaultPresetName]},e.getStylePresetsEnum=function(e,t){var r=[];if(e){var i=e.presets;if(i)for(var n in i){n=i[n];n.isDeprecated&&n.name!==t||r.push({value:n.name,displayName:n.displayName})}}return a.createEnumType(r)}})(powerbi=powerbi||{}),(function(t){var e=t.visuals||(t.visuals={}),i=jsCommon.Color;e.createColorAllocatorFactory=function(){return new n},r=t.visuals.createColorAllocatorFactory,t.ensurePowerbiVisuals().createColorAllocatorFactory=function(){return r()},a.prototype.fromFillRule=function(e,t){var r=e.linearGradient2,e=e.linearGradient3;if(r||e){e&&(i=void 0===e.min.value&&void 0===e.max.value&&void 0!==e.mid.value);var i,n=(r||e).min,a=(r||e).max;if(void 0===n.value&&(n.value=t.aggregates&&t.aggregates.min),void 0===a.value&&(a.value=t.aggregates&&t.aggregates.max),void 0!==n.value&&void 0!==a.value)return e&&void 0===e.mid.value&&(e.mid.value=(n.value+a.value)/2),r?new u(r,t):new(i?f:c)(e,t)}};var r,n=a;function a(){}function o(e){return e.strategy===t.NullStrategy.asZero}function s(e){switch(e.strategy){case t.NullStrategy.noColor:return;case t.NullStrategy.specificColor:return e.color;case t.NullStrategy.asZero:break;default:e.strategy}}l.prototype.color=function(e){var t=this.options.nullColoringStrategy;if(null===e&&t){if(!o(t))return s(t);e=0}return this.scale(e)},l.prototype.getRule=function(){return{linearGradient2:this.options}},l.prototype.getSource=function(){return this.source};var u=l;function l(e,t){this.options=e,this.source=t;t=e.min,e=e.max;this.scale=i.createLinearColorScale([t.value,e.value],[t.color,e.color],!0)}p.prototype.color=function(e){var t=this.options.nullColoringStrategy;if(null===e&&t){if(!o(t))return s(t);e=0}return this.scale(e)},p.prototype.getRule=function(){return{linearGradient3:this.options}},p.prototype.getSource=function(){return this.source};var c=p;function p(e,t){this.options=e,this.source=t;var t=(this.options=e).min,r=e.mid,e=e.max;this.scale=i.createLinearColorScale([t.value,r.value,e.value],[t.color,r.color,e.color],!0)}d.prototype.color=function(e){var t=this.options.nullColoringStrategy;if(null===e&&t){if(!o(t))return s(t);e=0}return e<=this.options.mid.value?this.scale1(e):this.scale2(e)},d.prototype.getRule=function(){return{linearGradient3:this.options}},d.prototype.getSource=function(){return this.source};var f=d;function d(e,t){this.options=e,this.source=t;var t=(this.options=e).min,r=e.mid,e=e.max;this.scale1=i.createLinearColorScale([t.value,r.value],[t.color,r.color],!0),this.scale2=i.createLinearColorScale([r.value,e.value],[r.color,e.color],!0)}})(powerbi=powerbi||{});;
"use strict";var powerbi,__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,i=arguments.length;a<i;a++)for(var o in t=arguments[a])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},__spreadArray=this&&this.__spreadArray||function(e,t,a){if(a||2===arguments.length)for(var i,o=0,r=t.length;o<r;o++)!i&&o in t||((i=i||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(i||Array.prototype.slice.call(t))},__awaiter=this&&this.__awaiter||function(e,n,l,s){return new(l=l||Promise)(function(a,t){function i(e){try{r(s.next(e))}catch(e){t(e)}}function o(e){try{r(s.throw(e))}catch(e){t(e)}}function r(e){var t;e.done?a(e.value):((t=e.value)instanceof l?t:new l(function(e){e(t)})).then(i,o)}r((s=s.apply(e,n||[])).next())})},__generator=this&&this.__generator||function(i,o){var r,n,l,s={label:0,sent:function(){if(1&l[0])throw l[1];return l[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(a){return function(e){var t=[a,e];if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(l=2&t[0]?n.return:t[0]?n.throw||((l=n.return)&&l.call(n),0):n.next)&&!(l=l.call(n,t[1])).done)return l;switch(n=0,(t=l?[2&t[0],l.value]:t)[0]){case 0:case 1:l=t;break;case 4:return s.label++,{value:t[1],done:!1};case 5:s.label++,n=t[1],t=[0];continue;case 7:t=s.ops.pop(),s.trys.pop();continue;default:if(!(l=0<(l=s.trys).length&&l[l.length-1])&&(6===t[0]||2===t[0])){s=0;continue}if(3===t[0]&&(!l||t[1]>l[0]&&t[1]<l[3]))s.label=t[1];else if(6===t[0]&&s.label<l[1])s.label=l[1],l=t;else{if(!(l&&s.label<l[2])){l[2]&&s.ops.pop(),s.trys.pop();continue}s.label=l[2],s.ops.push(t)}}t=o.call(i,s)}catch(e){t=[6,e],n=0}finally{r=l=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}}},__rest=this&&this.__rest||function(e,t){var a={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(a[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(a[o[i]]=e[o[i]]);return a},__extends=this&&this.__extends||(function(){var i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}))(e,t)};return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function a(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}})();!(function(r){var a,i,t;function n(e,t,a,i,o){this.style=o,this.colors=e,this.fillProp=t,this.defaultDataPointColor=a,this.defaultCategoryColor=i,this.defaultColorScale=this.colors.getNewColorScale()}a=r.visuals||(r.visuals={}),i=jsCommon.Color,t=r.data.SQExprShortSerializer,n.create=function(e,t,a,i){return new n(e.colorPalette.dataColors,t,a,i,e)},n.prototype.getColorForSeriesValue=function(e,t,a,i,o){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,i):this.getFillWithOptionalValidation(e,o)||this.getColorWithOptionalValidation(this.defaultDataPointColor,o)||this.getColorScaleForSeries(t).getColor(a).value},n.prototype.getColorScaleForSeries=function(e){return this.colors.getColorScaleByKey(t.serializeArray(e||[]))},n.prototype.getColorForStaticSeries=function(e,t,a,i){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,a):(a=this.defaultColorScale.getColor(t).value,this.getFillWithOptionalValidation(e,i)||this.getColorWithOptionalValidation(this.defaultDataPointColor,i)||a)},n.prototype.getColorForMeasure=function(e,t,a,i){return this.style&&this.style.isHighContrast?n.getHighContrastDataColor(this.style,a):(a=this.defaultColorScale.getColor(t).value,this.getFillWithOptionalValidation(e,i)||this.getColorWithOptionalValidation(this.defaultCategoryColor,i)||this.getColorWithOptionalValidation(this.defaultDataPointColor,i)||a)},n.prototype.getColorForProperty=function(e,t,a,i){a=this.style&&a&&n.getThemeColor(this.style,a);return this.getColorForPropertyWithDefaultColor(e,t,a,i)},n.prototype.hasColorForProperty=function(e,t,a){return r.DataViewObjects.hasFillColor(e,t,a)},n.prototype.getColorForPropertyWithDefaultColor=function(e,t,a,i){return this.style&&this.style.isHighContrast?a:r.DataViewObjects.getFillColor(e,t,a,i)},n.prototype.getColorForPropertyName=function(e,t,a){a=this.style&&a&&n.getThemeColor(this.style,a);return this.getColorForPropertyNameWithDefaultColor(e,t,a)},n.prototype.getColorForPropertyNameWithDefaultColor=function(e,t,a,i){var o=this.style&&this.style.isHighContrast,e=r.DataViewObject.getFillColorByPropertyName(e,t,a,void 0,i);return i&&null===e?null:o?a:e},n.getSentimentColor=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):e.colorPalette.dataColors.getSentimentColors()[t].value},n.getGradientColor=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):e.colorPalette.dataColors.getGradientColors()[t].value},n.getDataColorByIndex=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):e.colorPalette.dataColors.getColorByIndex(t).value},n.getThemeColor=function(e,t){return e.colorPalette[t].value},n.getFillColor=function(e,t,a){return e.isHighContrast?n.getHighContrastDataColor(e,a):t&&t.solid&&t.solid.color},n.normalizeSelector=function(e,t){return e&&(t||e.data)?{data:e.data}:e},n.getHighContrastDataColor=function(e,t){return void 0===t&&(t=a.BackgroundColorName),e.colorPalette[t].value},n.prototype.getFillWithOptionalValidation=function(e,t){e=this.fillProp&&r.DataViewObjects.getFillColor(e,this.fillProp);return e=t&&e&&!i.parseColorString(e)?void 0:e},n.prototype.getColorWithOptionalValidation=function(e,t){var a=e;return a=t&&e&&!i.parseColorString(e)?void 0:a},a.ColorHelper=n})(powerbi=powerbi||{}),(function(e){var i;((i=e.visuals||(e.visuals={})).TextHelper||(i.TextHelper={})).getFontPropertiesForTextClass=function(e,t,a){if(e&&e.textClasses){e=e.textClasses[t];if(e)return t=e.fontSize&&i.Units.FontSize.createFromPt(+e.fontSize),{color:a?void 0:e.color&&e.color.value,family:e.fontFace,size:t,weight:e.fontWeight}}return{}}})(powerbi=powerbi||{}),(function(o){var e,r,n;function l(e,t,a,i){this.columnReader=e,this.objectReader=t,this.dataReader=a,i&&i.colorOptions?(this.style=i.colorOptions.visualStyle,this.valueRole=i.colorOptions.valueRole,e=o.DataViewObjects.getFillColor(this.objectReader.getStaticObjects(),l.defaultColorProp),t=o.DataViewObjects.getFillColor(this.objectReader.getStaticObjects(),l.fillProp),this.colorHelper=r.create(this.style,l.fillProp,i.colorOptions.ignoreDefaultColor?void 0:e,i.colorOptions.ignoreDefaultCategoryColor?void 0:t),this.colorReaderIsValid=!0):this.colorReaderIsValid=!1}e=(e=(e=o.data||(o.data={})).dataviewReaders||(e.dataviewReaders={})).categorical||(e.categorical={}),r=o.visuals.ColorHelper,e.createColorReader=function(e,t,a,i){return new n(e,t,a,i)},l.prototype.createByCategory=function(e,t){if(this.colorReaderIsValid)return this.colorHelper.getColorForSeriesValue(this.objectReader.getCategoryDataObjects(e),this.columnReader.getCategoryColumnIdentityFields(),this.getCategoryValueForColor(e),t)},l.prototype.createBySeries=function(e,t,a,i){var o,r;if(this.colorReaderIsValid)return o="",(r=this.columnReader.getStaticRoleInfo(e))&&r.roleToUse&&(o=this.columnReader.getValueQueryName(r.roleToUse,r.seriesIndexToUse)||""),this.columnReader.hasDynamicSeries()?this.colorHelper.getColorForSeriesValue(this.objectReader.getSeriesDataObjects(e),this.columnReader.getDynamicSeriesColumnIdentityFields(),this.dataReader.getSeriesName(e),a,i):this.columnReader.hasStaticSeries()?this.colorHelper.getColorForStaticSeries(this.objectReader.getSeriesDataObjects(e),o,a,i):this.columnReader.hasCategories()&&null!=t?this.colorHelper.getColorForMeasure(this.objectReader.getCategoryDataObjects(t),o,a,i):this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(this.valueRole,e),o,a,i)},l.prototype.createByValue=function(e,t){if(this.colorReaderIsValid){var a,e=this.columnReader.getStaticRoleInfo(e);if(e&&null!=e.roleToUse)return a=this.columnReader.getValueQueryName(e.roleToUse,0)||"",this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(e.roleToUse,e.seriesIndexToUse),a,t)}},l.prototype.getCategoryValueForColor=function(e){var t=this.columnReader.getAllCategoryColumns();if(t)return _.head(t).values[e]},l.defaultColorProp={objectName:"dataPoint",propertyName:"defaultColor"},l.fillProp={objectName:"dataPoint",propertyName:"fill"},n=l})(powerbi=powerbi||{}),(function(e){var t,a,i;function o(e,t){var a,i;if((a=(this.dataView=e)?e.categorical:a)&&(o=this.categories=a.categories),this.hasValidCategories=!_.isEmpty(o),t&&(this.staticSeriesRoleNames=t.staticSeriesRoleNames),a&&(i=a.values),this.dataHasAnyValidValues=!1,null!=i){var o=e.categorical.values.grouped(),r={};if(0<o.length){var n=(this.grouped=o)[0].values;this.dataHasAnyValidValues=!!o[0].identity||!_.isEmpty(n)&&!_.isEmpty(n[0].values);for(var l=0,s=n.length;l<s;l++){var c,u=n[l].source.roles;for(c in u)u[c]&&(r[c]||(r[c]=[]),r[c].push(l))}}this.valueRoleIndexMapping=r,this.dataHasDynamicSeries=!!this.dataView.categorical.values.source}t=this.totalStaticSeriesCount=this.getValueColumnCount(this.staticSeriesRoleNames);this.dataHasStaticSeries=!this.dataHasDynamicSeries&&1<t}t=(t=(t=e.data||(e.data={})).dataviewReaders||(t.dataviewReaders={})).categorical||(t.categorical={}),a=e.data.DataRoleHelper,t.createColumnReader=function(e,t){return new i(e,t)},o.prototype.hasCategories=function(){return this.hasValidCategories},o.prototype.hasCategoryWithRole=function(e){return-1!==a.getCategoryIndexOfRole(this.categories,e)},o.prototype.getCategoryCount=function(){return this.hasValidCategories?_.last(this.categories).values.length:0},o.prototype.hasCompositeCategories=function(){return!!this.hasValidCategories&&1<this.categories.length},o.prototype.getCategoryColumn=function(e){var t;if(this.hasValidCategories)return(t=this.categories)[e?a.getCategoryIndexOfRole(t,e):0]},o.prototype.getCategoryMetadataColumn=function(e){e=this.getCategoryColumn(e);if(e)return e.source},o.prototype.getCategoryColumnIdentityFields=function(e){e=this.getCategoryColumn(e);return e?e.identityFields:void 0},o.prototype.getAllCategoryColumns=function(e){var t;return null==e?this.categories:this.hasValidCategories?(t=this.categories,e=e?a.getCategoryIndexesOfRole(t,e):[0],_.map(e,(function(e){return t[e]}))):[]},o.prototype.hasValues=function(e){return!!this.valueRoleIndexMapping&&!_.isEmpty(this.valueRoleIndexMapping[e])},o.prototype.hasAnyValidValues=function(){return this.dataHasAnyValidValues},o.prototype.getValueColumnCount=function(e){var t,a=this,i=0;return"string"==typeof e?this.valueRoleIndexMapping&&this.hasValues(e)&&(i=null==(t=this.valueRoleIndexMapping[e])?void 0:t.length):this.valueRoleIndexMapping&&Array.isArray(e)&&(i=_.sum(_.map(e,(function(e){return null==(e=a.valueRoleIndexMapping[e])?void 0:e.length})))),i},o.prototype.hasHighlights=function(){return!!(this.grouped&&this.grouped[0]&&this.grouped[0].values[0])&&!_.isEmpty(this.grouped[0].values[0].highlights)},o.prototype.getValueColumn=function(e,t){if(void 0===t&&(t=0),this.hasValues(e))return this.dataHasDynamicSeries?this.getValueColumnInternal(e,t,0):this.getValueColumnInternal(e,0,t)},o.prototype.getValueColumnBySeries=function(e){e=this.getStaticRoleInfo(e);if(e)return this.getValueColumn(e.roleToUse,e.seriesIndexToUse)},o.prototype.getAllValueColumnsForRole=function(e,t){if(void 0===t&&(t=0),this.hasValues(e)){for(var a=this.valueRoleIndexMapping[e].length,i=[],o=0;o<a;o++)i.push(this.getValueColumnInternal(e,t,o));return i}},o.prototype.getValueColumnInternal=function(e,t,a){if(this.hasValues(e))return e=this.valueRoleIndexMapping[e][a],this.grouped[t].values[e]},o.prototype.getValueMetadataColumn=function(e,t){e=this.getValueColumn(e,t=void 0===t?0:t);if(e)return e.source},o.prototype.getValueMetadataColumnBySeries=function(e){e=this.getValueColumnBySeries(e);if(e)return e.source},o.prototype.getAllValueMetadataColumnsForRole=function(e,t){if(void 0===t&&(t=0),this.hasValues(e))return _.map(this.getAllValueColumnsForRole(e,t),(function(e){return e.source}))},o.prototype.getAllMetadataRelatedObjects=function(){var e=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(e=_.filter(this.dataView.metadata.columns,(function(e){return null!=e.relatedObjects}))),_.isEmpty(e)?void 0:e},o.prototype.getValueQueryName=function(e,t){e=this.getValueMetadataColumn(e,t);if(e)return e.queryName},o.prototype.getAllValueQueryNames=function(e,t){e=this.getAllValueMetadataColumnsForRole(e,t);if(!_.isEmpty(e))return _.map(e,(function(e){return e.queryName}))},o.prototype.getAllValueRoles=function(){var e=_.keys(this.valueRoleIndexMapping);if(!_.isEmpty(e))return e},o.prototype.hasDynamicSeries=function(){return this.dataHasDynamicSeries},o.prototype.hasStaticSeries=function(){return this.dataHasStaticSeries},o.prototype.getSeriesCount=function(e){return this.dataHasAnyValidValues?this.dataHasDynamicSeries?e&&!this.hasValues(e)?0:this.grouped.length:_.isEmpty(this.staticSeriesRoleNames)?this.grouped?this.grouped.length:0:e?this.getValueColumnCount(e):this.totalStaticSeriesCount:0},o.prototype.getSeriesValueColumns=function(){var e=this.dataHasDynamicSeries;if(e)return this.dataView.categorical.values},o.prototype.getSeriesMetadataColumn=function(){var e=this.getSeriesValueColumns();if(e)return e.source},o.prototype.getSeriesValueColumnGroup=function(e){var t=this.dataHasDynamicSeries;if(this.dataHasAnyValidValues&&t)return this.grouped[e]},o.prototype.getDynamicSeriesColumnIdentityFields=function(){var e=this.getSeriesValueColumns();return e?e.identityFields:void 0},o.prototype.getStaticObjects=function(){if(this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects)return this.dataView.metadata.objects},o.prototype.getMetadataColumns=function(t){var e=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(e=_.filter(this.dataView.metadata.columns,(function(e){return null!=e.roles&&!0===e.roles[t]}))),_.isEmpty(e)?void 0:e},o.prototype.getStaticRoleInfo=function(e){if(!this.seriesIndexToRoleInfoMap&&(this.seriesIndexToRoleInfoMap={},this.staticSeriesRoleNames))for(var t=0,a=0,i=this.staticSeriesRoleNames;a<i.length;a++)for(var o=i[a],r=this.getSeriesCount(o),n=0;n<r;n++)this.seriesIndexToRoleInfoMap[t]={roleToUse:o,seriesIndexToUse:n},t++;return this.seriesIndexToRoleInfoMap[e]},i=o})(powerbi=powerbi||{}),(function(r){var s,e,a;function t(e,t){this.columnReader=e,this.dataHasDynamicSeries=e.hasDynamicSeries(),this.dataHasStaticSeries=e.hasStaticSeries(),t&&(this.staticSeriesRoleNames=t.staticSeriesRoleNames,this.formatStringProp=t.formatStringProp,this.errorRangeProp=t.errorRangeProp)}s=r.data||(r.data={}),((e=s.dataviewReaders||(s.dataviewReaders={})).categorical||(e.categorical={})).createDataReader=function(e,t){return new a(e,t)},t.prototype.hasCategories=function(){return this.columnReader.hasCategories()},t.prototype.hasCategoryWithRole=function(e){return this.columnReader.hasCategoryWithRole(e)},t.prototype.hasCompositeCategories=function(){return this.columnReader.hasCompositeCategories()},t.prototype.getCategoryCount=function(){return this.columnReader.getCategoryCount()},t.prototype.getCategoryValue=function(e,t){e=this.columnReader.getCategoryColumn(e);return e?e.values[t]:void 0},t.prototype.getAllCategoryValuesForRole=function(e,t){e=this.columnReader.getAllCategoryColumns(e);return e?_.map(e,(function(e){return e.values[t]})):void 0},t.prototype.getCategoryMetadataColumn=function(e){e=this.columnReader.getCategoryColumn(e);return e?e.source:void 0},t.prototype.getCategoryDisplayName=function(e){e=this.columnReader.getCategoryColumn(e);if(e&&e.source)return e.source.displayName},t.prototype.getAllCategoryDisplayNamesForRole=function(e){e=this.columnReader.getAllCategoryColumns(e);if(e)return _.map(e,(function(e){return e.source&&e.source.displayName}))},t.prototype.getCategoryType=function(e){e=this.columnReader.getCategoryMetadataColumn(e);if(e)return e.type},t.prototype.hasValues=function(e){return this.columnReader.hasValues(e)},t.prototype.hasHighlights=function(){return this.columnReader.hasHighlights()},t.prototype.getValue=function(e,t,a){if(void 0===a&&(a=0),this.hasValues(e)){e=this.columnReader.getValueColumn(e,a);if(e)return e.values[t]}},t.prototype.getFormatString=function(e,t,a){if(void 0===a&&(a=0),this.formatStringProp,this.hasValues(e)){e=this.columnReader.getValueColumn(e,a);if(e)return r.DataViewObjects.getValue(e.objects&&e.objects[t],this.formatStringProp)}},t.prototype.getObject=function(e,t,a,i,o){if(void 0===a&&(a=0),this.hasValues(e)){e=this.columnReader.getValueColumn(e,a);if(e)return o?r.DataViewObjects.getValue(e.highlightObjects&&e.highlightObjects[t],i):r.DataViewObjects.getValue(e.objects&&e.objects[t],i)}},t.prototype.getValueBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getValue(t.roleToUse,e,t.seriesIndexToUse)},t.prototype.getObjectsBySeries=function(e,t,a,i){t=this.columnReader.getStaticRoleInfo(t);return this.getObject(t.roleToUse,e,t.seriesIndexToUse,a,i)},t.prototype.getFormatStringBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getFormatString(t.roleToUse,e,t.seriesIndexToUse)},t.prototype.getHighlight=function(e,t,a){if(void 0===a&&(a=0),this.hasValues(e)&&this.hasHighlights()){e=this.columnReader.getValueColumn(e,a);if(e)return e.highlights[t]}},t.prototype.getHighlightFormatString=function(e,t,a){if(void 0===a&&(a=0),this.formatStringProp,this.hasValues(e)&&this.hasHighlights()){e=this.columnReader.getValueColumn(e,a);if(e&&e.highlightObjects)return r.DataViewObjects.getValue(e.highlightObjects[t],this.formatStringProp)}},t.prototype.getErrorValues=function(e,t,a){this.errorRangeProp;t=this.columnReader.getStaticRoleInfo(t=void 0===t?0:t);if(t&&this.hasValues(t.roleToUse)){t=this.columnReader.getValueColumn(t.roleToUse,t.seriesIndexToUse);if(t)return a?r.DataViewObjects.getValue(t.highlightObjects&&t.highlightObjects[e],this.errorRangeProp):r.DataViewObjects.getValue(t.objects&&t.objects[e],this.errorRangeProp)}},t.prototype.getHighlightBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getHighlight(t.roleToUse,e,t.seriesIndexToUse)},t.prototype.getHighlightFormatStringBySeries=function(e,t){t=this.columnReader.getStaticRoleInfo(t);return this.getHighlightFormatString(t.roleToUse,e,t.seriesIndexToUse)},t.prototype.getFormatStringForRelatedObject=function(e,t,a){e=this.getMetadataColumnMatchingRelatedObject(e,t,a);return(null==e?void 0:e.format)||(null==(a=null==(t=null==e?void 0:e.objects)?void 0:t.general)?void 0:a.formatString.valueOf())},t.prototype.getMetadataColumnMatchingRelatedObject=function(a,e,t){var i=[],o=this.columnReader.getAllMetadataRelatedObjects();if(o)for(var t={data:[s.DataViewWildcard.create(null!=t?t:1)]},r=(e&&(i.push(__assign(__assign({},t),{highlightMatching:1,metadata:e})),i.push(__assign(__assign({},t),{metadata:e}))),i.push(__assign(__assign({},t),{highlightMatching:1})),i.push(t),i.push(void 0),0),n=i;r<n.length;r++){var l=(function(t){return o.find((function(e){e=null==(e=null==(e=e.relatedObjects)?void 0:e[a.objectName])?void 0:e[a.propertyName];return e&&_.some(e,(function(e){return s.Selector.equals(e,t)}))}))})(n[r]);if(l)return l}},t.prototype.getValueType=function(e,t){e=this.columnReader.getValueMetadataColumn(e,t);if(e)return e.type},t.prototype.getAllValuesForRole=function(e,t,a){if(void 0===a&&(a=0),this.hasValues(e))return this.dataHasDynamicSeries||(a=0),e=this.columnReader.getAllValueColumnsForRole(e,a),_.map(e,(function(e){return e.values[t]}))},t.prototype.getAllFormatStringsForRole=function(e,t,a){var i=this;if(void 0===a&&(a=0),this.formatStringProp,this.hasValues(e))return this.dataHasDynamicSeries||(a=0),e=this.columnReader.getAllValueColumnsForRole(e,a),_.map(e,(function(e){return r.DataViewObjects.getValue(e.objects&&e.objects[t],i.formatStringProp)}))},t.prototype.getAllHighlightsForRole=function(e,t,a){if(void 0===a&&(a=0),this.hasValues(e)&&this.hasHighlights())return this.dataHasDynamicSeries||(a=0),e=this.columnReader.getAllValueColumnsForRole(e,a),_.map(e,(function(e){return e.highlights[t]}))},t.prototype.getAllValueTypesForRole=function(e,t){e=this.columnReader.getAllValueMetadataColumnsForRole(e,t);if(e)return _.map(e,(function(e){return e.type}))},t.prototype.getFirstNonNullValueForCategory=function(e,t){if(this.hasValues(e)){var a=this.getSeriesCount();if(!this.dataHasDynamicSeries)return this.getValue(e,t);for(var i=0;i<a;i++){var o=this.getValue(e,t,i);if(null!=o)return o}}},t.prototype.getValueDisplayName=function(e){if(this.hasValues(e)){e=this.columnReader.getValueMetadataColumn(e);if(e)return e.displayName}},t.prototype.getAllValueDisplayNamesForRole=function(e){if(this.hasValues(e)){e=this.columnReader.getAllValueMetadataColumnsForRole(e);if(!_.isEmpty(e))return _.map(e,(function(e){return e.displayName}))}},t.prototype.getValueQueryName=function(e,t){return this.columnReader.getValueQueryName(e,t)},t.prototype.hasSeries=function(){return this.dataHasDynamicSeries||this.dataHasStaticSeries},t.prototype.getSeriesCount=function(){return this.columnReader.getSeriesCount()},t.prototype.getSeriesName=function(e){if(this.hasSeries())if(this.dataHasDynamicSeries){var t=this.columnReader.getSeriesValueColumnGroup(e);if(t)return t.name}else if(this.dataHasStaticSeries){t=this.columnReader.getStaticRoleInfo(e);if(this.hasValues(t.roleToUse)){t=this.columnReader.getValueMetadataColumnBySeries(e);if(t)return t.displayName}}},t.prototype.getSeriesDisplayName=function(){if(this.dataHasDynamicSeries)return this.columnReader.getSeriesValueColumns().source.displayName},t.prototype.getSeriesType=function(){var e=this.columnReader.getSeriesMetadataColumn();if(e)return e.type},a=t})(powerbi=powerbi||{}),(function(e){var o;(o=e.data||(e.data={})).createDataViewCategoricalReader=function(e,t){var e=o.dataviewReaders.categorical.createColumnReader(e,t),a=o.dataviewReaders.categorical.createDataReader(e,t),i=o.dataviewReaders.categorical.createObjectReader(e,t);return{data:a,identities:o.dataviewReaders.categorical.createIdentityReader(e),objects:i,colors:o.dataviewReaders.categorical.createColorReader(e,i,a,t),labels:o.dataviewReaders.categorical.createLabelReader(e,i,a)}},o.createDataViewCategoricalReaderAdvanced=function(e,t){var e=o.dataviewReaders.categorical.createColumnReader(e,t),a=o.dataviewReaders.categorical.createDataReader(e,t),i=o.dataviewReaders.categorical.createObjectReader(e,t);return{data:a,identities:o.dataviewReaders.categorical.createIdentityReader(e),objects:i,colors:o.dataviewReaders.categorical.createColorReader(e,i,a,t),columns:e,labels:o.dataviewReaders.categorical.createLabelReader(e,i,a)}}})(powerbi=powerbi||{}),(function(o){var e,t;function a(e){this.columnReader=e,this.dataHasDynamicSeries=e.hasDynamicSeries(),this.dataHasStaticSeries=e.hasStaticSeries()}((e=(e=o.data||(o.data={})).dataviewReaders||(e.dataviewReaders={})).categorical||(e.categorical={})).createIdentityReader=function(e){return new t(e)},a.prototype.createForCategory=function(e,t){var a=this.columnReader.getCategoryColumn();return(new o.visuals.SelectionIdBuilder).withCategory([a],e,null==(e=null==a?void 0:a.source)?void 0:e.queryName,!0).withMeasures(this.mapRolesToValueMetadata(t)).createSelectionId()},a.prototype.createForDataPoint=function(e,t,a){this.dataHasDynamicSeries||this.dataHasStaticSeries;var i=this.columnReader.getCategoryColumn(),i=(new o.visuals.SelectionIdBuilder).withCategory([i],e,null==(e=null==i?void 0:i.source)?void 0:e.queryName,!0);return null!=t&&this.dataHasDynamicSeries&&i.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(t),!0),i.withMeasures(this.mapRolesToValueMetadata(a,t)),i.createSelectionId()},a.prototype.createForSeries=function(e,t){var a=new o.visuals.SelectionIdBuilder;return this.dataHasDynamicSeries&&a.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(e),!0),a.withMeasures(this.mapRolesToValueMetadata(t,e)),a.createSelectionId()},a.prototype.createForValue=function(e,t){return(new o.visuals.SelectionIdBuilder).withMeasures(this.mapRolesToValueMetadata(t,e)).createSelectionId()},a.prototype.mapRolesToValueMetadata=function(e,t){var a=[],i=0,o=this.columnReader.hasStaticSeries(),r=this.columnReader.getStaticRoleInfo(t);null==e&&(e=this.columnReader.getAllValueRoles()||[]),o&&r&&a.push(this.columnReader.getValueQueryName(r.roleToUse,r.seriesIndexToUse));for(var n=e.length;i<n;i++){var l=e[i];r&&l===r.roleToUse&&o||a.push.apply(a,this.columnReader.getAllValueQueryNames(l)||[])}return a},t=a})(powerbi=powerbi||{}),(function(a){var e,o,i,r,n;function t(e,t,a){var i=this;this.columnReader=e,this.objectReader=t,this.dataReader=a,this.staticObjects=this.objectReader.getStaticObjects(),this.enabledPropertyId=o.LabelObjectPropertyIdentifiers.dynamicLabelEnabled,this.valuePropertyId=o.LabelObjectPropertyIdentifiers.dynamicLabelValue,this.memoizedDynamicLabelFormatString=_.memoize((function(e,t){return i.dataReader.getFormatStringForRelatedObject(e,t)}),(function(e,t){return t}))}function l(e,t){this.objectReader=e,this.dataReader=t}e=(e=a.data||(a.data={})).dataviewReaders||(e.dataviewReaders={}),(o=e.categorical||(e.categorical={})).LabelObjectPropertyIdentifiers={dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"},labelColor:{objectName:"labels",propertyName:"color"},totalsColor:{objectName:"totals",propertyName:"color"},categoryLabelsColor:{objectName:"categoryLabels",propertyName:"color"}},o.createLabelReader=function(e,t,a){return new i(e,t,a)},i=function(e,t,a){this.columnReader=e,this.objectReader=t,this.dataReader=a,this.dynamicLabelReader=new r(e,t,a),this.labelFillColorReader=new n(t,a)},o.LabelReader=i,t.prototype.isDynamicLabelEnabled=function(){return a.DataViewObjects.getValue(this.staticObjects,this.enabledPropertyId,!1)},t.prototype.getDynamicLabel=function(e){var t=e.hasHighlights,a=e.categoryIndex,i=e.seriesIndex,o=e.enabled,e=e.dynamicLabelFormatString;if(o||this.isDynamicLabelEnabled()){o=this.getDynamicLabelValue(t,a,i);if(o)return t=e||this.getDynamicLabelFormatString(i),__assign(__assign({},o),{formatString:t,enabled:!0})}return{value:void 0,enabled:!1,source:"Default"}},t.prototype.getDynamicLabelFormatString=function(e){e=this.columnReader.getValueMetadataColumnBySeries(e=void 0===e?0:e).queryName;return this.memoizedDynamicLabelFormatString(this.valuePropertyId,e)},t.prototype.getDynamicLabelValue=function(e,t,a){return this.getDynamicLabelBySeries(e=void 0===e?!1:e,t=void 0===t?0:t,a=void 0===a?0:a)||this.getDynamicLabelByCategory(e,t)},t.prototype.getDynamicLabelBySeries=function(e,t,a){return void 0===e&&(e=!1),void 0===t&&(t=0),null!=a&&(t=this.dataReader.getObjectsBySeries(t,a,this.valuePropertyId,e))?{value:t,source:"Intersection"}:void 0},t.prototype.getDynamicLabelByCategory=function(e,t){void 0===t&&(t=0);e=(e=void 0===e?!1:e)?this.objectReader.getCategoryHighlightObjects(t):this.objectReader.getCategoryDataObjects(t),t=a.DataViewObject.getValue(null==e?void 0:e.labels,this.valuePropertyId.propertyName);if(t)return{value:t,source:"Category"}},r=t,o.DynamicLabelReader=r,l.prototype.getDataLabelFillColor=function(e){return this.getLabelFill(o.LabelObjectPropertyIdentifiers.labelColor,e)},l.prototype.getCategoryLabelFillColor=function(e){return this.getLabelFill(o.LabelObjectPropertyIdentifiers.categoryLabelsColor,e)},l.prototype.getTotalLabelFillColor=function(e){return this.getLabelFill(o.LabelObjectPropertyIdentifiers.totalsColor,e)},l.prototype.getLabelFill=function(e,t){var a=t.defaultColor,i=t.categoryIndex,o=t.seriesIndex,r=t.seriesColor;return this.hasSeriesColor(t)?{color:r,colorSource:"Series"}:this.getLabelFillBySeries(e,i,o)||this.getLabelFillByCategory(e,i)||{color:a,colorSource:"Default"}},l.prototype.hasSeriesColor=function(e){var t=e.seriesColor,e=e.defaultColor;return null!=t&&t!==e},l.prototype.getLabelFillByCategory=function(e,t){var t=this.objectReader.getCategoryDataObjects(t=void 0===t?0:t);return null!=(null==t?void 0:t[e.objectName])&&null!=e&&(t=a.DataViewObject.getFillColorByPropertyName(null==t?void 0:t[e.objectName],e.propertyName))?{color:t,colorSource:"Category"}:void 0},l.prototype.getLabelFillBySeries=function(e,t,a){return void 0===t&&(t=0),null!=a&&(e=null==(a=null==(t=this.dataReader.getObjectsBySeries(t,a,e))?void 0:t.solid)?void 0:a.color)?{color:e,colorSource:"Intersection"}:void 0},n=l,o.LabelFillColorReader=n})(powerbi=powerbi||{}),(function(a){var e,i;function o(e,t){this.columnReader=e,this.staticObjects=e.getStaticObjects(),t&&(this.staticSeriesRoleNames=t.staticSeriesRoleNames)}((e=(e=a.data||(a.data={})).dataviewReaders||(e.dataviewReaders={})).categorical||(e.categorical={})).createObjectReader=function(e,t){return new i(e,t)},o.prototype.getStaticObjects=function(){return this.staticObjects},o.prototype.getCategoryMetadataObjects=function(e){e=this.columnReader.getCategoryColumn(e);if(e)return e.source.objects},o.prototype.getAllCategoryMetadataObjectsForRole=function(e){e=this.columnReader.getAllCategoryColumns(e);if(e)return _.map(e,(function(e){return e.source.objects}))},o.prototype.getCategoryDataObjects=function(e){var t=this.columnReader.getCategoryColumn();if(t&&t.objects)return t.objects[e]},o.prototype.getCategoryHighlightObjects=function(e){var t=this.columnReader.getCategoryColumn();if(t&&t.highlightObjects)return t.highlightObjects[e]},o.prototype.getValueMetadataObjects=function(e,t){e=this.columnReader.getValueMetadataColumn(e,t);if(e)return e.objects},o.prototype.getValueMetadataObjectsBySeries=function(e){e=this.columnReader.getStaticRoleInfo(e);return this.getValueMetadataObjects(e.roleToUse,e.seriesIndexToUse)},o.prototype.getAllValueMetadataObjectsForRole=function(e){e=this.columnReader.getAllValueMetadataColumnsForRole(e);return _.map(e,(function(e){return e.objects}))},o.prototype.getSeriesMetadataObjects=function(){var e;return this.columnReader.hasDynamicSeries()&&(e=this.columnReader.getSeriesMetadataColumn())?e.objects:void 0},o.prototype.getSeriesDataObjects=function(e){var t;if(this.columnReader.hasDynamicSeries()?t=this.columnReader.getSeriesValueColumnGroup(e):(e=this.columnReader.getStaticRoleInfo(e))&&(t=this.columnReader.getValueMetadataColumn(e.roleToUse,e.seriesIndexToUse)),t)return t.objects},o.prototype.getCategoryFormatString=function(e){return a.DataViewObjects.getValue(this.getCategoryMetadataObjects(e),o.StandardFormatStringProp)},o.prototype.getAllCategoryFormatStringsForRole=function(e){return _.map(this.getAllCategoryMetadataObjectsForRole(e),(function(e){return a.DataViewObjects.getValue(e,o.StandardFormatStringProp)}))},o.prototype.getValueFormatString=function(t,e){if(!this.columnReader.hasStaticSeries||!_.some(this.staticSeriesRoleNames,(function(e){return e===t}))||null!=e)return a.DataViewObjects.getValue(this.getValueMetadataObjects(t,e),o.StandardFormatStringProp)},o.prototype.getValueFormatStringBySeries=function(e){e=this.columnReader.getStaticRoleInfo(e);return this.getValueFormatString(e.roleToUse,e.seriesIndexToUse)},o.prototype.getAllValueFormatStringsForRole=function(e){e=this.getAllValueMetadataObjectsForRole(e);return _.map(e,(function(e){return a.DataViewObjects.getValue(e,o.StandardFormatStringProp)}))},o.prototype.getSeriesFormatString=function(e){return!this.columnReader.hasStaticSeries()&&this.columnReader.hasDynamicSeries()?a.DataViewObjects.getValue(this.getSeriesMetadataObjects(),o.StandardFormatStringProp):void 0},o.StandardFormatStringProp={objectName:"general",propertyName:"formatString"},i=o})(powerbi=powerbi||{}),(function(e){var a;function o(e,t){this.pt=e,this.px=t}e=e.visuals||(e.visuals={}),a=jsCommon.PixelConverter,e=e.Units||(e.Units={}),o.createFromPt=function(e,t){return new o(e=t?_.round(e,t):e,a.fromPointToPixel(e))},o.createFromPx=function(e,t){return t&&(e=_.round(e,t)),new o(a.toPoint(e),e)},o.createFromElement=function(e){e=e.css("font-size");return _.isEmpty(e)?void 0:o.createFromCSS(e)},o.createFromCSS=function(e,t){var a=e.slice(-2).toLowerCase(),i=parseFloat(e.slice(0,-2));switch(a){case"px":return o.createFromPx(i,t);case"pt":return o.createFromPt(i,t);default:"Can not convert unit '".concat(a,"' to a FontSize")}},o.prototype.equals=function(e){return this.pt===e.pt&&this.px===e.px},e.FontSize=o})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).visualLocKeys||(e.visualLocKeys={})).DegreeLocKey="Slider_Degree",e.PixelUnitSymbol="Numeric_Pixel",e.WeightLocKey="Slider_Weight",e.PercentLocKey="Slider_Percent"})(powerbi=powerbi||{}),(function(C){var N,p,e,d,x,w=C.visuals||(C.visuals={}),s=C.visuals.builder,u=w.Units.FontSize,m=jsCommon.Utility;function P(e,t,a){return T.create(e.metadata.objects,[],!1,t.source.displayName,!1,a,t)}function a(e,t){var a=e.dataView.metadata.objects,i=[];if(_.isEmpty(t.levels))return x.getDefaultLegendData(e.style);var o=t.levels[0].sources[0],r=t.root.childIdentityFields,n=t.root.children;if(!n)return x.getDefaultLegendData(e.style);for(var t=e.markerShowSeriesPropIdentifier,l=!1,s=e.markerShapePropIdentifier,c=s?(t&&(l=C.DataViewObjects.getValue(a,t,!0)),C.DataViewObjects.getValue(a,e.markerShapePropIdentifier,w.markerShape.circle)):w.markerShape.circle,u=0,p=n.length;u<p;u++){var d,m,y,g,h=n[u];h.isSubtotal||(m=h.value,d=w.converterHelper.formatFromMetadataColumn(m,o,e.formatStringProp),m=e.colorHelper.getColorForSeriesValue(h.objects,r,m,w.ForegroundColorName),y=(new w.SelectionIdBuilder).withColumnIdentity(h.identity,o.queryName).createSelectionId(),g=c,l&&(g=s?C.DataViewObjects.getValue(h.objects,s,g):w.markerShape.circle),i.push({color:m,label:d,icon:N.Circle,identity:y,selected:!1,markerShape:g,index:u}))}return T.create(a,i,e.showByDefault,o.displayName,!!n,e.style)}(e=N=w.LegendIcon||(w.LegendIcon={}))[e.Box=0]="Box",e[e.Circle=1]="Circle",e[e.Line=2]="Line",(e=p=w.LegendPosition||(w.LegendPosition={}))[e.Top=0]="Top",e[e.Bottom=1]="Bottom",e[e.Right=2]="Right",e[e.Left=3]="Left",e[e.None=4]="None",e[e.TopCenter=5]="TopCenter",e[e.BottomCenter=6]="BottomCenter",e[e.RightCenter=7]="RightCenter",e[e.LeftCenter=8]="LeftCenter",e[e.TopRight=9]="TopRight",e[e.BottomRight=10]="BottomRight",w.legendPropIdentifiers={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}},w.createLegend=function(e,t,a,i,o,r,n){return void 0===i&&(i=!1),void 0===o&&(o=p.Top),void 0===r&&(r=w.visualStyles.create()),t?new c(e):new l(e,o,r,a,n,i)},(x=d=w.Legend||(w.Legend={})).DefaultFontSizeInPt=8,x.LegendSmallFontSmallViewportInPt=7,x.LegendMediumFontSmallViewportInPt=8,x.gradientRuleProps={objectName:"dataPoint",propertyName:"fill"},x.getLegendShowFlag=function(e){return!e||null==e.show||e.show},x.isLeft=function(e){switch(e){case p.Left:case p.LeftCenter:return!0;default:return!1}},x.isTop=function(e){switch(e){case p.Top:case p.TopCenter:case p.TopRight:return!0;default:return!1}},x.isBottom=function(e){switch(e){case p.Bottom:case p.BottomCenter:case p.BottomRight:return!0;default:return!1}},x.isRight=function(e){switch(e){case p.Right:case p.RightCenter:return!0;default:return!1}},x.isCentered=function(e){switch(e){case p.BottomCenter:case p.LeftCenter:case p.RightCenter:case p.TopCenter:return!0;default:return!1}},x.isTopOrBottomRight=function(e){switch(e){case p.TopRight:case p.BottomRight:return!0;default:return!1}},x.isTopOrBottomLeft=function(e){switch(e){case p.Top:case p.Bottom:return!0;default:return!1}},x.isTopOrBottom=function(e){return x.isTop(e)||x.isBottom(e)},x.isLeftOrRight=function(e){return x.isLeft(e)||x.isRight(e)},x.positionChartArea=function(e,t,a){var i=t.getMargins(),t=t.getPosition();e.styles({"margin-left":x.isLeft(t)?i.width+"px":null,"margin-top":x.isTop(t)?i.height+"px":null})},x.DefaultFontFamily=w.Font.Family.regular.css,x.DefaultPositionKey="Top",x.getDefaultFontProperties=function(e){void 0===e&&(e=w.visualStyles.create());var t=w.TextHelper.getFontPropertiesForTextClass(e,"lightLabel"),e={family:x.DefaultFontFamily,size:x.DefaultFontSize,color:w.ColorHelper.getThemeColor(e,T.DefaultLegendLabelColorName)};return w.FontProperties.inherit(e,t)},x.getDefaultLegendData=function(e){return{show:!0,title:"",dataPoints:[],fontProperties:x.getDefaultFontProperties(e),grouped:!1,showTitle:!0,position:p.Top,isGradientLegend:!1,fromDefault:!0}},x.buildGradientLegendData=P,x.buildSeriesLegendData=function(e,t){var a=C.data.createDataViewCategoricalReaderAdvanced(e.dataView,{staticSeriesRoleNames:e.staticSeriesRoleNames,colorOptions:{valueRole:e.staticSeriesRoleNames&&e.staticSeriesRoleNames[0],visualStyle:e.style,ignoreDefaultColor:e.ignoreDefaultColor,ignoreDefaultCategoryColor:e.ignoreDefaultCategoryColor}});if(!a.data.hasSeries())return(t=(function(e,t){if(t)return C.DataViewObjects.getGradientRuleOfDataView(e,x.gradientRuleProps)})(e.dataView,t))?P(e.dataView,t,e.style):e.allowLegendWithNoSeries?x.buildSeriesLegendDataWithNoSeries(a,e):x.getDefaultLegendData(e.style);for(var t=a.objects.getStaticObjects(),i=[],o=a.columns.hasDynamicSeries(),r=e.simpleMarkerProp,n=r?C.DataViewObjects.getValue(t,r,w.markerShape.circle):w.markerShape.circle,l=e.lineAndMarkerOptions,s=l?l.defaultMarkerShape:void 0,c=l&&l.legendMarkerRendering,u=l?w.MarkerProperties.readFromStaticObjects(t,e.style):void 0,p=l&&C.DataViewObjects.getValue(t,w.lineChartProps.lineStyles.showSeries,!0),d=C.DataViewObjects.getValue(t,w.lineChartProps.lineStyles.lineStyle,w.lineStyle.solid),m=0,y=a.data.getSeriesCount();m<y;m++){var g=a.data.getSeriesName(m),g=w.valueFormatter.format(g,a.objects.getSeriesFormatString(m)),h=p?w.MarkerProperties.readFromSeries(a,u,m,e.style):u,b=a.colors.createBySeries(m,void 0,w.ForegroundColorName),f=a.identities.createForSeries(m),S=void 0,S=r?C.DataViewObjects.getValue(a.objects.getSeriesDataObjects(m),r,n):w.Markers.resolveMarkerShape(h,c,s),v=l&&l.renderLineStyle&&c!==w.legendMarkerRendering.markerOnly&&c!==w.legendMarkerRendering.markerCircleDefault;i.push({color:w.Markers.resolveMarkerColor(h,b,c,l&&l.matchSeriesColor),label:g,icon:N.Circle,identity:f,selected:!1,markerShape:S,lineStyle:v?C.DataViewObjects.getValue(a.objects.getSeriesDataObjects(m),w.lineChartProps.lineStyles.lineStyle,d):void 0,lineColor:b,index:m})}return T.create(a.objects.getStaticObjects(),i,e.showByDefault,a.data.getSeriesDisplayName()||"",o,e.style)},x.buildSeriesLegendDataWithNoSeries=function(e,t){var a,i,o,r,n,l,s,c,u;if(e.data.getSeriesCount())return a=t.lineAndMarkerOptions,i=e.data.getValueDisplayName(_.last(t.staticSeriesRoleNames)),i=w.valueFormatter.format(i,e.objects.getValueFormatString(_.last(t.staticSeriesRoleNames),0)),o=e.colors.createByValue(0,w.ForegroundColorName),r=e.identities.createForValue(0),n=e.objects.getStaticObjects(),u=a?a.defaultMarkerShape:void 0,c=a?w.MarkerProperties.readFromStaticObjects(n,t.style):void 0,l=a&&a.legendMarkerRendering,s=C.DataViewObjects.getValue(n,w.lineChartProps.lineStyles.lineStyle,w.lineStyle.solid),e=a?w.MarkerProperties.readFromSeries(e,c,0,t.style):void 0,c=(c=t.simpleMarkerProp)?c?C.DataViewObjects.getValue(n,c,w.markerShape.circle):w.markerShape.circle:w.Markers.resolveMarkerShape(e,l,u),u=a&&a.renderLineStyle&&l!==w.legendMarkerRendering.markerOnly&&l!==w.legendMarkerRendering.markerCircleDefault,e=[{color:w.Markers.resolveMarkerColor(e,o,l,a&&a.matchSeriesColor),label:i,icon:N.Circle,identity:r,selected:!1,markerShape:c,lineStyle:u?s:void 0,lineColor:o,index:0}],T.create(n,e,t.showByDefault,"",void 0,t.style)},x.buildCategoryLegendData=function(e){var t=C.data.createDataViewCategoricalReader(e.dataView,{colorOptions:{valueRole:e.valueRole,visualStyle:e.style}}),a=[],i=e.categoryRole,o=t.objects.getStaticObjects();if(t.data.hasCategories())for(var r=t.data.getCategoryDisplayName(i),n=0,l=t.data.getCategoryCount();n<l;n++){var s=t.data.getCategoryValue(i,n),s=w.valueFormatter.format(s,t.objects.getCategoryFormatString(i)),c=t.colors.createByCategory(n,w.ForegroundColorName),u=t.identities.createForCategory(n);a.push({color:c,label:s,icon:N.Circle,identity:u,selected:!1,index:n})}return T.create(o,a,e.showByDefault,r,void 0,e.style)},x.buildFromFirstMatrixColumnLevel=function(e){var t=e.dataView.matrix;return a(e,t.columns)},x.buildFromFirstMatrixRowLevel=function(e){var t=e.dataView.matrix;return a(e,t.rows)},x.mergeLegendData=function(e){var t=[],a=!1,i=e[0];if(i.isGradientLegend){for(var o=0,r=e.length;o<r;o++);return i}for(o=0,r=e.length;o<r;o++){var n=e[o];if(!_.isEmpty(n.dataPoints))for(var l=0,s=n.dataPoints;l<s.length;l++){var c=s[l];c.layerNumber=o,t.push(c)}n.grouped&&(a=!0)}return i=_.find(e,(function(e){return!e.fromDefault}))||i,{dataPoints:t,show:i.show,position:i.position,showTitle:i.showTitle,title:i.title,grouped:a,fontProperties:i.fontProperties,bold:i.bold,italic:i.italic,underline:i.underline}},x.enumerate=function(e,t){var a=e.legendData,i={selector:null,properties:{show:a.show,position:p[a.position],showTitle:a.showTitle,titleText:a.title,labelColor:a.fontProperties.color,fontFamily:a.fontProperties.family,fontSize:a.fontProperties.size.pt},propertyInstanceKind:{labelColor:t.expressionBasedFormatting?3:1},objectName:e.objectName||"legend"};t.enableBIU&&(i.properties.bold=a.bold,i.properties.italic=a.italic,i.properties.underline=a.underline),null!=e.legendMarkerRendering&&(i.properties[w.lineChartProps.legend.legendMarkerRendering.propertyName]=e.legendMarkerRendering),null!=e.matchLineColor&&(i.properties[w.lineChartProps.legend.matchLineColor.propertyName]=e.matchLineColor),null!=e.defaultToCircle&&(i.properties[w.lineChartProps.legend.defaultToCircle.propertyName]=e.defaultToCircle),e.enumeration.pushInstance(i)},x.getLegendFormattingModel=function(t,a,i,e,o){void 0===e&&(e=!1),null==o&&(o=i.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var r,n=t.legendData,l=[w.legendPropIdentifiers.show,w.legendPropIdentifiers.showGradientLegend,w.legendPropIdentifiers.position,w.legendPropIdentifiers.showTitle,w.legendPropIdentifiers.titleText,w.legendPropIdentifiers.labelColor,w.legendPropIdentifiers.fontFamily,w.legendPropIdentifiers.fontSize,w.lineChartProps.legend.legendMarkerRendering,w.lineChartProps.legend.matchLineColor,w.legendPropIdentifiers.bold,w.legendPropIdentifiers.italic,w.legendPropIdentifiers.underline];return i.removeDefaultToCircleToggle||l.push(w.lineChartProps.legend.defaultToCircle),(l=new s.FormattingCardBuilder(new s.FormattingCardUidBuilder("legend"),"Role_DisplayName_Legend",l,function(e){return a.getLocalizedString(e)})).addTopLevelToggle("show",(function(){return new s.ToggleSwitchBuilder({descriptor:w.legendPropIdentifiers.show,value:!e&&n.show}).build()})),e?l.withDisabled(!0,o):(o=(new s.FontControlBuilder).withFontFamily({descriptor:w.legendPropIdentifiers.fontFamily,value:n.fontProperties.family}).withFontSizeProperties({descriptor:w.legendPropIdentifiers.fontSize,value:n.fontProperties.size.pt}),r=(i.enableBIU&&o.withBold({descriptor:w.legendPropIdentifiers.bold,value:n.bold}).withItalic({descriptor:w.legendPropIdentifiers.italic,value:n.italic}).withUnderline({descriptor:w.legendPropIdentifiers.underline,value:n.underline}),o.build()),l.withDescription("Visual_LegendDescription").addGroup("options",(function(e){e.withDisplayName("Desktop_FileMenu_Options"),i.newVisualLegendPositions?e.addSimpleSlice("position",new s.DropdownBuilder({descriptor:w.legendPropIdentifiers.position,value:p[n.position]}).build()):e.addSimpleSlice("position",new s.DropdownBuilder({descriptor:w.legendPropIdentifiers.position,value:p[n.position],filterValues:[w.legendPosition.top,w.legendPosition.topCenter,w.legendPosition.leftCenter,w.legendPosition.rightCenter,w.legendPosition.left,w.legendPosition.right,w.legendPosition.bottom,w.legendPosition.bottomCenter]}).build()),i.removeDefaultToCircleToggle&&null!=t.legendMarkerRendering?e.addSimpleSlice("markerRendering",new s.DropdownBuilder({descriptor:w.lineChartObjectProps.legend.legendMarkerRendering,value:t.legendMarkerRendering}).build()):null!=t.legendMarkerRendering&&e.addSimpleSlice("markerRendering",new s.DropdownBuilder({descriptor:w.lineChartObjectProps.legend.legendMarkerRendering,value:t.legendMarkerRendering,filterValues:[w.legendMarkerRendering.markerOnly,w.legendMarkerRendering.lineOnly,w.legendMarkerRendering.lineAndMarker]}).build()),null!=t.matchLineColor&&e.addSimpleSlice("matchLineColor",new s.ToggleSwitchBuilder({descriptor:w.lineChartObjectProps.legend.matchLineColor,value:t.matchLineColor}).build()),i.removeDefaultToCircleToggle||null==t.defaultToCircle||e.addSimpleSlice("defaultToCircle",new s.ToggleSwitchBuilder({descriptor:w.lineChartObjectProps.legend.defaultToCircle,value:t.defaultToCircle}).build())})),l.addGroup("text",(function(e){e.withDisplayName("Text").addCompositeSlice("fontselector","Font",r).addSimpleSlice("color",(function(){var e={value:n.fontProperties.color};return new s.ColorPickerBuilder({descriptor:__assign(__assign({},w.legendPropIdentifiers.labelColor),{instanceKind:i.expressionBasedFormatting?3:1}),value:e}).build()}))})).addGroup("title",(function(e){e.withDisplayName("Title").addTopLevelToggle("showTitle",(function(){return new s.ToggleSwitchBuilder({descriptor:w.legendPropIdentifiers.showTitle,value:n.showTitle}).build()})).addSimpleSlice("titleText",new s.TextInputBuilder({descriptor:w.legendPropIdentifiers.titleText,value:n.title,placeholder:""}).build(),(function(e){return e.withCustomDisplayName("Visual_Title_Text")}))}))),l.build()},x.getTitleFontProperties=function(e){var t=e.family===x.DefaultFontFamily;return w.FontProperties.inherit(e,{family:t?w.Font.Family.semibold.css:void 0,weight:t?void 0:"bold"})},x.getLegendTitleSubSelectionStyles=function(){},x.getLegendItemsSubSelectionStyles=function(e){var t="".concat("Visual","-").concat("legend"),a="".concat("legend","-").concat("text"),i={cardUid:t,groupUid:a,sliceUid:"".concat(a,"-fontselector")},t={cardUid:t,groupUid:a,sliceUid:"".concat(a,"-color")};return w.OnObjectUtil.getFontOnlyTextSubSelectionStyles(e,{fontReference:i,fontColorReference:t})},x.getLegendTitleShortcuts=function(e){var t="".concat("legend","-").concat("title");return[{type:2,sourceUid:t,disabledLabel:e.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetSourceUids:[{sourceUid:"".concat(t,"-showTitle")}]},{type:1,destinationUids:[{cardUid:"".concat("Visual","-").concat("legend"),groupUid:t}],label:e.getLocalizedString("Format_Legend_Title")}]},x.getLegendItemsShortcuts=function(e){var t=e.hostServices,e=e.showSort,a="".concat("Visual","-").concat("legend"),i="".concat("legend","-").concat("title"),a=[{type:2,sourceUid:a,disabledLabel:t.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetSourceUids:[{sourceUid:i},{sourceUid:a}]},{type:2,sourceUid:i,enabledLabel:t.getLocalizedString("Format_AddLegendTitle")}];return e&&a.push({type:4,sortableField:{queryName:"",sortDirection:1},label:t.getLocalizedString("Format_SortLegend"),key:"Legend"}),__spreadArray(__spreadArray([],a,!0),[{type:1,destinationUids:[{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")}],label:t.getLocalizedString("Format_Legend")}],!1)},y.prototype.getMargins=function(){return this.viewport},y.prototype.isVisible=function(){return d.getLegendShowFlag(this.data)},y.prototype.setPosition=function(e){this.orientation=e||p.Top},y.prototype.getPosition=function(){return this.orientation},y.prototype.drawLegend=function(e,t,a){for(var i=a&&a.isHierarchicalAxis||!1,o=a&&a.formatMode||void 0,r=C.Prototype.inherit(e),n=(_.defaults(r,{fontProperties:d.getDefaultFontProperties(this.style)}),[]),l=0,s=e.dataPoints;l<s.length;l++){var c=s[l];n.push(C.Prototype.inherit(c))}r.dataPoints=n,y.setTooltipToLegendItems(r),(r.fontSize||r.labelColor)&&(r.fontProperties={color:r.labelColor||d.DefaultLabelColor,size:r.fontSize?u.createFromPt(r.fontSize):d.DefaultFontSize,family:d.DefaultFontFamily}),r.fontProperties||(r.fontProperties=d.getDefaultFontProperties(this.style)),r.isGradientLegend||(0!==r.dataPoints.length&&r.position!==p.None||(r.show=!1),r.show)||(r.dataPoints=[]),this.interactivityService&&(this.interactivityService.applySelectionStateToData(e.dataPoints),this.interactivityService.applySelectionStateToData(r.dataPoints)),this.legendDataStartIndex=m.clampValue(this.legendDataStartIndex,0,Math.max(r.dataPoints.length-1,0)),this.render(r,t,w.HTMLLegendRenderer.render,i,o,a&&a.titleSliceUid)},y.prototype.render=function(i,o,r,n,l,s){function c(e,t,a){e=u.legendDataStartIndex=m.clampValue(0===e?t+a:t-a,0,i.dataPoints.length-1),u.viewport=r({data:i,parentViewport:o,autoWidth:!0,element:u.element,lastCalculatedWidth:u.lastCalculatedWidth,orientation:u.orientation,isScrollable:u.isScrollable,arrowPosWindow:a,legendDataStartIndex:e,interactivityService:u.interactivityService,rerenderCallback:c,visualStyle:u.style,hostService:u.hostService,isHierarchicalAxis:n,formatMode:l,titleSliceUid:s})}var u=this;this.viewport=r({data:i,parentViewport:o,autoWidth:!0,element:this.element,lastCalculatedWidth:this.lastCalculatedWidth,orientation:this.orientation,isScrollable:this.isScrollable,arrowPosWindow:this.arrowPosWindow,legendDataStartIndex:this.legendDataStartIndex,interactivityService:this.interactivityService,rerenderCallback:c,visualStyle:this.style,hostService:this.hostService,isHierarchicalAxis:n,formatMode:l,titleSliceUid:s})},y.prototype.reset=function(){},y.setTooltipToLegendItems=function(e){for(var t=0,a=e.dataPoints;t<a.length;t++){var i=a[t];i.tooltip=i.label}};var l=y;function y(e,t,a,i,o,r){this.style=a,this.interactivityService=i,this.hostService=o,this.isScrollable=r,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(e.get(0)),this.setPosition(t),this.viewport={height:0,width:0}}w.LegendRenderingContainer=l,i.prototype.getMargins=function(){return{height:i.LegendHeight,width:0}},i.prototype.drawLegend=function(e){e=e.dataPoints;if(!(e.length<1)){var t=this.legendContainerParent.select(i.LegendContainerSelector);if(t.empty()){if(!e.length)return;var a=$("<div></div>").height(this.getMargins().height).addClass(i.LegendContainerClass);$(this.legendContainerParent.node()).prepend(a),t=d3.select(a.get(0))}this.legendContainerDiv=t,this.drawTitle(e),this.drawLegendItems(e)}},i.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},i.prototype.isVisible=function(){return!0},i.prototype.setPosition=function(e){},i.prototype.getPosition=function(){return p.Top},i.prototype.drawTitle=function(e){var e=this.legendContainerDiv.selectAll("div."+i.LegendTitleClass).data([e[0]]),t=e.enter().append("div").attr("class",i.LegendTitleClass),t=(t.filter((function(e){return e.iconOnlyOnLabel})).append("span").attr("class",i.legendIconClass).html(i.legendPlaceSelector),t.append("span"),t.merge(e));t.filter((function(e){return e.iconOnlyOnLabel})).select("span."+i.legendIconClass).style(i.legendColorCss,(function(e){return e.color})),t.select("span:last-child").text((function(e){return e.category}))},i.prototype.drawLegendItems=function(e){this.ensureLegendTableCreated();var e=[e],e=this.legendContainerDiv.select("tbody").selectAll("tr").data(e),t=e.enter().append("tr"),a=t.selectAll("td").data((function(e){return e}),(function(e){return e.label})).enter().append("td").attr("class",i.LegendItem).append("span");a.filter((function(e){return!e.iconOnlyOnLabel})).append("span").html(i.legendPlaceSelector).attr("class",i.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),a.append("span").attr("class",i.legendItemNameClass),a.append("span").attr("class",i.legendItemMeasureClass);a=t.merge(e).selectAll("td").data((function(e){return e}),(function(e){return e.label}));a.select("span."+i.legendItemNameClass).html((function(e){return C.visuals.TextUtil.removeBreakingSpaces(e.label)})),a.select("span."+i.legendItemMeasureClass).html((function(e){return"&nbsp;"+e.measure})),a.select("span."+i.legendIconClass).style("color",(function(e){return e.color})),a.exit().remove()},i.prototype.ensureLegendTableCreated=function(){var e;this.legendContainerDiv.select("div table").empty()&&((e=this.legendContainerDiv.append("div").append("table")).style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(e))},i.prototype.setPanGestureOnLegend=function(t){var a=$(this.legendContainerParent.node()).width(),e=d3.zoom().on("zoom",(function(){var e;$(t.node()).width()>a&&(e=d3.event.transform.x,e=Math.min(e,0),e=Math.max(e,a-$(t.node()).width()),t.style("-ms-transform",w.SVGUtil.translateXWithPixels(e)),t.style("-webkit-transform",w.SVGUtil.translateXWithPixels(e)),t.style("transform",w.SVGUtil.translateXWithPixels(e)))}));(this.legendContainerDiv||t).call(e)},i.LegendHeight=70,i.LegendContainerClass="interactive-legend",i.LegendContainerSelector=".interactive-legend",i.LegendTitleClass="title",i.LegendItem="item",i.legendPlaceSelector="",i.legendIconClass="icon",i.legendColorCss="color",i.legendItemNameClass="itemName",i.legendItemMeasureClass="itemMeasure";var T,g,c=i;function i(e){this.legendContainerParent=d3.select(e.get(0))}(g=T=w.LegendData||(w.LegendData={})).DefaultLegendLabelColorName="foregroundNeutralSecondary",g.update=function(e,t,a){void 0===a&&(a=w.visualStyles.create());var i,a=w.ColorHelper.create(a).getColorForPropertyName(t,w.legendProps.labelColor,g.DefaultLegendLabelColorName),o=d.DefaultFontSize;e.labelColor=a,null==t[w.legendProps.show]&&(t[w.legendProps.show]=!0),!1===t[w.legendProps.show]&&(e.dataPoints=[]),!0===t[w.legendProps.show]&&null==t[w.legendProps.position]&&(t[w.legendProps.position]=w.legendPosition.top),void 0!==t[w.legendProps.fontSize]&&(i=t[w.legendProps.fontSize],e.fontSize=i),!1===t[w.legendProps.showTitle]?e.title="":void 0!==t[w.legendProps.titleText]&&(e.title=t[w.legendProps.titleText]),e.fontProperties={color:a,family:d.DefaultFontFamily,size:o}},g.create=function(e,t,a,i,o,r,n){void 0===o&&(o=!1),void 0===r&&(r=w.visualStyles.create());var l=w.ColorHelper.create(r),s=C.DataViewObjects.getValue(e,w.legendPropIdentifiers.showGradientLegend,!1),a=C.DataViewObjects.getValue(e,w.legendPropIdentifiers.show,a=n?s:a),a=n?a&&s:a,s=p[C.DataViewObjects.getValue(e,w.legendPropIdentifiers.position,d.DefaultPositionKey)],c=C.DataViewObjects.getValue(e,w.legendPropIdentifiers.showTitle,!0),u=C.DataViewObjects.getObject(e,w.legendPropIdentifiers.labelColor.objectName),u=w.FontProperties.createFromObjectOrStyle(u,{color:w.legendPropIdentifiers.labelColor.propertyName,size:w.legendPropIdentifiers.fontSize.propertyName,family:w.legendPropIdentifiers.fontFamily.propertyName,bold:w.legendPropIdentifiers.bold.propertyName,italic:w.legendPropIdentifiers.italic.propertyName,underline:w.legendPropIdentifiers.underline.propertyName},l,r,g.DefaultLegendLabelColorName,"lightLabel",{color:w.ColorHelper.getThemeColor(r,g.DefaultLegendLabelColorName),size:d.DefaultFontSize,family:d.DefaultFontFamily,weight:void 0,style:void 0,textDecoration:void 0});return{show:a,position:s,dataPoints:t,showTitle:c,title:C.DataViewObjects.getValue(e,w.legendPropIdentifiers.titleText,i),grouped:o,fontProperties:u,isGradientLegend:!!n,gradientRule:n,bold:C.DataViewObjects.getValue(e,w.legendPropIdentifiers.bold,!1),italic:C.DataViewObjects.getValue(e,w.legendPropIdentifiers.italic,!1),underline:C.DataViewObjects.getValue(e,w.legendPropIdentifiers.underline,!1)}},g.toIEnumerableDataPoints=function(e){return _.map(e.dataPoints,(function(e){return{color:e.color,displayName:e.label,identity:e.identity}}))}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).Legend||(e.Legend={})).DefaultFontSize=e.Units.FontSize.createFromPt(8),e.legendProps={show:"show",position:"position",titleText:"titleText",showTitle:"showTitle",labelColor:"labelColor",fontSize:"fontSize",showGradientLegend:"showGradientLegend"}})(powerbi=powerbi||{}),(function(pe){var de,me,ye,ge,p,u,d,m,e,he;function be(e){return void 0!==e.mid}function fe(e){var t=(e.mid.value-e.min.value)/(e.max.value-e.min.value);return e.min.value===e.max.value?.5:t}function Se(e){var t,a,i=e.drawOptions.parentViewport,o=e.drawOptions.data,r=e.drawOptions.legendDataStartIndex,n=e.titleLayout,l=e.navigationArrows,s=e.iconWidth,c=e.iconAndLineWidth,u=_.some(o.dataPoints,(function(e){return e.lineStyle})),p=e.drawOptions.autoWidth?e.drawOptions.parentViewport.width*ge.LegendMaxWidthFactor:e.drawOptions.lastCalculatedWidth,o=o.dataPoints;return de.Legend.isTopOrBottom(e.drawOptions.orientation)?{legendItems:t=(function(e,t,a,i,o,r,n){for(var l=t,s=[],c=a,u=e.length;c<u;c++){var p=e[c],p=(function(e,t,a,i,o,r){var n=de.FontProperties.toTextProperties(a,t.label),l=pe.TextMeasurementService.measureSvgTextWidth(n),s=l,c=!1;{var u;s>ge.MaxTextLength&&(c=!0,u=pe.TextMeasurementService.getTailoredTextOrDefault(n,ge.MaxTextLength),n=de.FontProperties.toTextProperties(a,u),s=pe.TextMeasurementService.measureSvgTextWidth(n))}a=o-(s+i+r);if(a<0)return{newRemainingWidth:o,fit:!1};return e.push({dataPoint:t,textProperties:n,width:s,desiredWidth:l,desiredOverMaxWidth:c}),{newRemainingWidth:a,fit:!0}})(s,p,i,p.lineStyle?r:o,l,n);if(l=p.newRemainingWidth,!p.fit)break}var d=_.filter(s,(function(e){return e.desiredOverMaxWidth})),m=l;for(;0<l&&0<d.length;){for(c=0;c<d.length;){var y,g,h=l/d.length,b=d[c],f=b.width,h=f+h;h>b.desiredWidth?(b.textProperties.text=b.dataPoint.label,b.width=b.desiredWidth,b.desiredOverMaxWidth=!1,d.splice(c,1),l-=b.width-f):(y=d[c].textProperties,g=y.text,y.text=b.dataPoint.label,h=pe.TextMeasurementService.getTailoredTextOrDefault(y,h),g===h?y.text=g:(y.text=h,g=pe.TextMeasurementService.measureSvgTextWidth(y,h),b.width=g,l-=b.width-f),c++)}if(m===l)break;m=l}return s})(o,a=i.width-(n?n.width:0)-(l.previous&&l.previous.hitAreaWidth||0)-(l.next&&l.next.hitAreaWidth||0),r,e.fontProperties,s,c,e.totalTextPadding),horizontalLegendWidth:a}:(a=p-(u?c:s)-ge.LegendEdgeMariginWidth,t=(p=(function(e){for(var t=e.dataPoints,a=e.maxHorizontalSpaceAvaliable,i=e.fontProperties,o=e.legendDataStartIndex,r=[],n=Math.min(Math.floor(e.legendItemContainerHeight/e.legendItemHeight),t.length),l=e.titleWidth||0,s=0,c=t.length;s<c;s++){var u,p,d=t[s],m=de.FontProperties.toTextProperties(i,d.label),y=pe.TextMeasurementService.measureSvgTextWidth(m);l<y&&(l=Math.min(y,a)),o<=s&&s<o+n&&(a<(u=y)&&(p=pe.TextMeasurementService.getTailoredTextOrDefault(m,a),m.text=p,y=pe.TextMeasurementService.measureSvgTextWidth(m)),r.push({dataPoint:d,desiredOverMaxWidth:a<y,textProperties:m,desiredWidth:u,width:y}))}return{legendItems:r,horizontalWidthUsed:l}})({dataPoints:o,legendItemContainerHeight:i.height-(n?n.height:0)-(l.previous?ge.LegendArrowHeight:0)-(l.next?ge.LegendArrowHeight:0),maxHorizontalSpaceAvaliable:a,legendDataStartIndex:r,fontProperties:e.fontProperties,titleWidth:n?n.width:void 0,legendItemHeight:e.svgHeight})).legendItems,o=e.drawOptions.lastCalculatedWidth,{legendItems:t,verticalLegendWidth:o=e.drawOptions.autoWidth?Math.ceil(p.horizontalWidthUsed+(u?c:s)+ge.LegendEdgeMariginWidth):o})}function ve(i){var o=i.legendDataStartIndex,r=i.arrowPosWindow,t=i.useLargeArrowHitArea,e=i.verticalLegendWidth,a=i.isTabbable,n=i.navigationArrow,l=n?n.hitAreaWidth:ge.LegendArrowWidth,s=i.arrowClassAndSelector,l=t?l:ge.LegendArrowWidth+ge.NavArrowPadding,c=e?e+ge.NavArrowPadding:l,e=i.legend.selectAll(s.selector).data(n?[n]:[]),l=e.enter().append("svg").classed(s.class,!0).style("position","relative").merge(e),s=(a&&l.attrs({tabindex:0,focusable:!0}).on("keydown",(function(e){var t=d3.event,a=t.keyCode;(32===a||13===a)&&(t.stopPropagation(),i.rerenderCallback(n.type,o,r),a=1===n.type?":last-child":":first-child",t=i.legend.selectAll(me.LegendItemClassAndSelector.selector+a).node())&&m.focus(t)})),l.classed("flex-order-second",n&&1===n.type).classed("flex-order-fourth",n&&0===n.type).attrs({width:c,height:ge.LegendArrowHeight,role:"button","aria-label":function(e){return i.hostService?i.arrowClassAndSelector.class===me.NextNavigationArrowClassAndSelector.class?i.hostService.getLocalizedString("Next_ButtonText"):i.arrowClassAndSelector.class===me.PreviousNavigationArrowClassAndSelector.class?i.hostService.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",(function(e){i.rerenderCallback(n.type,o,r)})),e.exit().remove(),l.selectAll(".navArrow").data((function(e){return ge.getNavigationArrowPathsData(e,t)}),(function(e){return e.index.toString()})));s.enter().append("path").classed("navArrow",!0).merge(s).attrs({d:function(e){return e.path},transform:function(e){return"".concat(de.SVGUtil.translate(c/2-ge.LegendArrowWidth/2,0)," ").concat(e.rotateTransform)},"stroke-width":function(e){return e.isHitArea?"".concat(e.hitAreaWidth,"px"):void 0},"fill-opacity":function(e){return e.isHitArea?"0":void 0},"stroke-opacity":function(e){return e.isHitArea?"0":void 0}}),s.exit().remove()}de=pe.visuals||(pe.visuals={}),m=jsCommon.BrowserUtils,e=jsCommon.CssConstants.createClassAndSelector,he=jsCommon.PixelConverter,(me=de.HTMLLegendRenderer||(de.HTMLLegendRenderer={})).PreviousNavigationArrowClassAndSelector=e("previousNavArrow"),me.NextNavigationArrowClassAndSelector=e("nextNavArrow"),me.LegendClassAndSelector=e("legend"),me.LegendTitleClassAndSelector=e("legend-title"),me.LegendItemContainerClassAndSelector=e("legend-item-container"),me.GradientLegendItemContainerClassAndSelector=e("gradient-legend"),me.LegendItemClassAndSelector=e("legend-item"),me.LegendItemSvgClassAndSelector=e("legend-item-svg"),me.LegendIconClassAndSelector=e("legend-icon"),me.LegendIconLineClassAndSelector=e("legend-icon-line"),me.LegendItemTextClassAndSelector=e("legend-item-text"),ye={objectName:"general",propertyName:"formatString"},me.render=function(t){var a=t.data,e=t.parentViewport,i=t.interactivityService,o=t.orientation,F=t.legendDataStartIndex,z=t.hostService,r=t.element,n=a.fontProperties,B=de.Legend.getTitleFontProperties(n),l=de.Legend.getLegendShowFlag(a),s=ge.calculateViewport({data:a,lastCalculatedWidth:t.lastCalculatedWidth,orientation:o,parentViewport:e}),c=(m=a&&void 0!==a.fontProperties?a.fontProperties.size.px:he.fromPointToPixel(de.Legend.DefaultFontSize.pt))-ge.DefaultTextMargin,u=a.showTitle&&!a.isGradientLegend?ge.calculateTitleLayout({fontProperties:n,legendFontSizeMarginDifference:c,legendFontSizeMarginValue:m,parentViewport:e,orientation:o,viewport:s,title:a.title}):null,I=pe.TextMeasurementService.estimateSvgTextHeight(de.FontProperties.toTextProperties(n))/ge.LegendIconRadiusFactor,H=((m<=ge.DefaultTextMargin||I<ge.LegendIconRadius)&&(I=ge.LegendIconRadius),c/ge.LegendIconRadiusFactor),E=2*(I+H),G=ge.LegendIconLineTotalWidth+2*H,H=ge.BaseTextAndIconPadding+H,W=i&&de.dataHasSelection(a.dataPoints),U=de.Legend.isTopOrBottom(o)?s.height:20+c,K=(d=Se({fontProperties:n,drawOptions:t,navigationArrows:{previous:null,next:null},titleLayout:u,iconWidth:E,iconAndLineWidth:G,svgHeight:U,totalTextPadding:H})).legendItems,p=d.verticalLegendWidth,d=d.horizontalLegendWidth,Y=(g=(function(e){var t=e.drawOptions,a=e.titleLayout,i=e.legendViewport,o=e.legendItems,r=e.drawOptions,n=r.orientation,l=r.parentViewport,s=r.data,r=r.legendDataStartIndex,c={next:void 0,previous:void 0};t.isScrollable&&(c=de.Legend.isTopOrBottom(n)?ge.calculateHorizontalNavigationArrowsLayout(a,l,i,s):ge.calculateVerticalNavigationArrowsLayout(a,l,i,s));var u,p,n=ge.updateNavigationArrowLayout(c,s.dataPoints.length-r,o.length,r,t.arrowPosWindow);(c.previous||c.next)&&(l=Se({fontProperties:s.fontProperties,drawOptions:t,navigationArrows:c,titleLayout:a,iconWidth:e.iconWidth,iconAndLineWidth:e.iconAndLineWidth,svgHeight:e.svgHeight,totalTextPadding:e.totalTextPadding}),p=l.legendItems,n=ge.updateNavigationArrowLayout(c,s.dataPoints.length-r,p.length,r,t.arrowPosWindow),u=l.horizontalLegendWidth);return{navigationArrows:c,arrowPosWindow:n,newLegendItems:p,horizontalLegendWidth:u}})({drawOptions:t,legendViewport:s,legendItems:K,titleLayout:u,iconWidth:E,iconAndLineWidth:G,svgHeight:U,totalTextPadding:H})).navigationArrows,q=g.arrowPosWindow;g.newLegendItems&&(K=g.newLegendItems),g.horizontalLegendWidth,null!=p&&(s.width=p),u&&p&&p>u.width&&(u=a.showTitle?ge.calculateTitleLayout({fontProperties:n,legendFontSizeMarginDifference:c,legendFontSizeMarginValue:m,parentViewport:e,orientation:o,viewport:s,title:a.title}):null);var p=!(g=de.Legend.isTopOrBottom(o)),c=de.Legend.isCentered(o),m=de.Legend.isTopOrBottomRight(o),Q=de.Legend.isTopOrBottomLeft(o),y=r.select(me.LegendClassAndSelector.selector),Z=z?z.getLocalizedString("Visual_Legend"):null,r=(l?(y.empty()&&(y=r.append("div").classed(me.LegendClassAndSelector.class,!0).styles({position:"absolute"}),i)&&y.attrs({tabindex:0,"focus-nav-mode":"Hierarchy","aria-label":null==Z?void 0:Z.concat(a.showTitle&&a.title?" ".concat(a.title):"")}),y.classed("flex-row",g).classed("flex-column",p).classed("flex-justify-content-center",c).classed("flex-justify-content-start",Q).classed("flex-justify-content-end",m).classed("flex-align-items-center",g&&!a.isGradientLegend).classed("flex-align-items-start",p||a.isGradientLegend).styles({"padding-top":a.isGradientLegend?"3px":"null"}),i&&y.attrs({"aria-label":null==Z?void 0:Z.concat(a.showTitle&&a.title?" ".concat(a.title):"")})):y.remove(),y.select(me.GradientLegendItemContainerClassAndSelector.selector).empty());if((a.isGradientLegend?r:!r)&&y.selectAll("*").remove(),(c=(c=y.select(".clearCatcher")).empty()?de.appendClearCatcher(y,"div"):c).style("position","absolute").style("width","100%").style("height","100%"),t.formatMode?de.disableClearCatcher(y,"div"):de.enableClearCatcher(y,"div"),ge.updateLayout(s,t.orientation,y,l,e),!l)return{width:0,height:0};if((Q=(Q=y.select(me.LegendItemContainerClassAndSelector.selector)).empty()?y.append("div").classed(me.LegendItemContainerClassAndSelector.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative"):Q).classed("flex-grow",!(!Y.next&&!Y.previous)).classed("flex-row",g).classed("flex-column",p).classed("flex-align-items-center",g).classed("flex-align-items-start",p).classed(me.GradientLegendItemContainerClassAndSelector.class,a.isGradientLegend).attr("width",d).attr("role","listbox").attr("aria-label",(function(){return t.hostService&&u&&u.text?u.text:t.hostService?Z:null})),t.formatMode&&Q.classed(de.HtmlSubSelectableClass,!0).attr(de.SubSelectableObjectNameAttribute,"legend-items").attr(de.SubSelectableDisplayNameAttribute,"Visual_Legend").attr(de.SubSelectableTypeAttribute,1),t.data.isGradientLegend){var X,m=t,r=g,e=s,p=Q,d=y,g=l,l=m.data.gradientRule.options.linearGradient2||m.data.gradientRule.options.linearGradient3,$=m.data.fontProperties,h=$.size.px,J=0,b=de.valueFormatter.create({value:l.min.value,value2:l.max.value,format:de.valueFormatter.getFormatString(m.data.gradientRule.source,ye)}),f=de.FontProperties.toTextProperties($),S=b.format(l.min.value),v={width:pe.TextMeasurementService.measureSvgTextWidth(f,S),height:pe.TextMeasurementService.measureSvgTextHeight(f,S)};X=m.hostService.getLocalizedString("ConditionalFormattingDialog_LowestValue")+" "+S+", ",be(l)&&(V=b.format(l.mid.value),oe={width:pe.TextMeasurementService.measureSvgTextWidth(f,V),height:pe.TextMeasurementService.measureSvgTextHeight(f,V)},X+=m.hostService.getLocalizedString("ConditionalFormattingDialog_MiddleValue")+" "+V+", ");var ee,te,ae,b=b.format(l.max.value),C={width:pe.TextMeasurementService.measureSvgTextWidth(f,b),height:pe.TextMeasurementService.measureSvgTextHeight(f,b)},N=(X+=m.hostService.getLocalizedString("ConditionalFormattingDialog_HighestValue")+" "+b,.5*m.parentViewport.width),x=.25*h,w=1.5*h,P=w,ie=[],T=(r?(O=6*h,k=v.width+x+O+x+C.width,A=w+x,re=v.width+x+O+x,te=[{text:S,text_anchor:"start",x:0,y:J=R=w/2,width:v.width,height:P},{text:b,text_anchor:"start",x:re,y:R,width:C.width,height:P}],M=v.width+x,ee=[{fill:"url(#legendGradient-".concat(m.hostService.instanceId,")"),fill_opacity:"1",x:M,y:0,width:O,height:w}],be(l)&&(A+=1.25*h,D=fe(l),L={text:V,text_anchor:"middle",x:M+D*O,y:w+x+h/2,width:oe.width,height:P},te.splice(1,0,L),L=$.color||m.visualStyle.colorPalette.foregroundNeutralDark.value,ie=[{x1:M+D*O,x2:M+D*O,y1:0,y2:w+x,stroke:L,stroke_width:"1"}])):(O=be(l)?6*h:10*h,k=be(l)?v.width+x+O+x+C.width:O+x,N<k&&(N=(function(e,t,a,i,o,r,n,l){var s,c;o=n?(s=.6*(c=e-2*l),r.text=a,a=pe.TextMeasurementService.getTailoredTextOrDefault(r,.2*c),t.width=pe.TextMeasurementService.measureSvgTextWidth(r,a),r.text=o,pe.TextMeasurementService.getTailoredTextOrDefault(r,.2*c)):(s=c=e-l,r.text=a,a=pe.TextMeasurementService.getTailoredTextOrDefault(r,s/2),t.width=pe.TextMeasurementService.measureSvgTextWidth(r,a),r.text=o,pe.TextMeasurementService.getTailoredTextOrDefault(r,s/2)),i.width=pe.TextMeasurementService.measureSvgTextWidth(r,o);return{gradientWidth:s,minValueString:a,minValueWidth:t.width,maxValueString:o,maxValueWidth:i.width}})(A=N,v,S,C,b,f,be(l),x),O=N.gradientWidth,S=N.minValueString,v.width=N.minValueWidth,b=N.maxValueString,C.width=N.maxValueWidth),ee=be(l)?(k=v.width+x+O+x+C.width,A=8+3*h,R=8+w/2,re=v.width+x+O+x,D=fe(l),M=v.width+x,te=[{text:S,text_anchor:"start",x:0,y:R,width:v.width,height:P},{text:V,text_anchor:"middle",x:M+D*O,y:8+w+x+h/2,width:oe.width,height:P},{text:b,text_anchor:"start",x:re,y:R,width:C.width,height:P}],L=$.color||m.visualStyle.colorPalette.foregroundNeutralDark.value,ie=[{x1:M+D*O,x2:M+D*O,y1:8,y2:8+w+x,stroke:L,stroke_width:"1"}],[{fill:"url(#legendGradient-".concat(m.hostService.instanceId,")"),fill_opacity:"1",x:M,y:8,width:O,height:w}]):(A=16+3*h,te=[{text:S,text_anchor:"start",x:0,y:R=16+2*h,width:(k=O+x)/2,height:P},{text:b,text_anchor:"start",x:k-x-C.width,y:R,width:k/2,height:P}],[{fill:"url(#legendGradient-".concat(m.hostService.instanceId,")"),fill_opacity:"1",x:0,y:8,width:O,height:w}])),e.height=r?Math.max(e.height,A):e.height,e.width=r?e.width:Math.max(e.width,k)+ge.LegendEdgeMariginWidth,ge.updateLayout(e,m.orientation,d,g,m.parentViewport,!0),m),N=r,v={height:A,width:k},V=d,oe=0,re=J,D=8,L=de.FontProperties.toTextProperties(de.Legend.getTitleFontProperties(T.data.fontProperties),T.data.title),ne=[];if(N){N=T.parentViewport.width-v.width-ge.TitlePadding/2-2*ge.LegendEdgeMariginWidth;ae=[pe.TextMeasurementService.getTailoredTextOrDefault(L,N)],ne=[{dy:"0.35em",word:ae[0]}],j={height:v.height,width:pe.TextMeasurementService.measureSvgTextWidth(L,ae[0])}}else{var le=pe.TextMeasurementService.measureSvgTextHeight(L,T.data.title),N=T.parentViewport.height-v.height-D-2*ge.LegendEdgeMariginWidth,D=Math.min(3,Math.floor(N/le));ae=jsCommon.WordBreaker.splitByWidth(T.data.title,L,pe.TextMeasurementService.measureSvgTextWidth,v.width,D,pe.TextMeasurementService.getTailoredTextOrDefault,!0);for(var se=0;se<ae.length;se++)ne.push({dy:String(le),word:ae[se]});j={height:(ae.length+.5)*le,width:v.width}}N=T.data.showTitle&&!_.isEmpty(T.data.title)?[0]:[],L=V.selectAll(me.LegendTitleClassAndSelector.selector).data(N),(D=L.enter().append("svg").classed(me.LegendTitleClassAndSelector.class,!0).merge(L)).attr("height",j.height).attr("width",j.width).styles({"padding-right":ge.TitlePadding/2+"px"}),v=D.selectAll("text").data([0]),(V=v.enter().append("text").merge(v)).classed("flex-order-first",!0).styles(de.FontProperties.toHTMLStyle(de.Legend.getTitleFontProperties(T.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",T.data.fontProperties.color).attr("title",(function(e){return T.data.title})).attr("x",oe).attr("y",re).text(null),(N=V.selectAll("tspan").data(ne)).enter().append("tspan").merge(N).attr("dy",(function(e){return e.dy})).attr("x",(function(e){return 0})).text((function(e){return e.word})),N.exit().remove(),v.exit().remove(),L.exit().remove(),f=(function(e,t,a,i,o){t=t.selectAll("svg").data(e),e=t.enter().append("svg").merge(t),e.attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})).attrs({tabindex:0,"aria-label":o}),t=e.selectAll("defs").data([0]),o=t.enter().append("defs").merge(t),o.append("linearGradient").attr("id",i),t=[{stop:0,color:a.min.color},{stop:1,color:a.max.color}];be(a)&&(i=fe(a),t.splice(1,0,{stop:i,color:a.mid.color}));i=o.select("linearGradient").selectAll("stop").data(t,(function(e){return e.stop.toString()})),a=i.enter().append("stop").merge(i);return a.attr("stop-color",(function(e){return e.color})).attr("offset",(function(e){return e.stop})),a.order(),i.exit().remove(),e})([{width:k,height:A}],p,l,"legendGradient-".concat(m.hostService.instanceId),X);var M=ee,S=f,h=ie,b=(S=(S=S.selectAll("g.rect").data([0])).enter().append("g").classed("rect",!0).merge(S),(M=S.selectAll("rect").data(M)).enter().append("rect").merge(M).attr("fill",(function(e){return e.fill})).attr("fill-opacity",(function(e){return e.fill_opacity})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("height",(function(e){return e.height})),S),x=h,C=((b=b.selectAll("line").data(x)).enter().append("line").merge(b).attr("x1",(function(e){return e.x1})).attr("x2",(function(e){return e.x2})).attr("y1",(function(e){return e.y1})).attr("y2",(function(e){return e.y2})).styles({stroke:function(e){return e.stroke}}).styles({"stroke-width":function(e){return e.stroke_width}}),b.exit().remove(),te),R=f,P=$;R=(R=R.selectAll("g.text").data([0])).enter().append("g").classed("text",!0).merge(R).selectAll("text").data(C),(C=R.enter().append("text").merge(R)).text((function(e){return e.text})).attr("text-anchor",(function(e){return e.text_anchor})).attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})).attr("width",(function(e){return e.width})).attr("dy","0.35em").attr("height",(function(e){return e.height})).styles(de.FontProperties.toSVGStyle(P)),(P=C.selectAll("title").data((function(e){return[e.text]}))).enter().append("title").merge(P).text((function(e){return e})),P.exit().remove(),R.exit().remove()}else{var A,O=y.selectAll(me.LegendTitleClassAndSelector.selector).data(u?[u]:[]),w=O.enter().insert("text",".clearCatcher").classed(me.LegendTitleClassAndSelector.class,!0).merge(O),g=(w.text((function(e){return e.text})).classed("flex-order-first",!0).styles(de.FontProperties.toHTMLStyle(B)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":ge.TitlePadding/2+"px",position:"relative"}).attr("title",(function(e){return a.title})),t.formatMode&&(w.classed(de.HtmlSubSelectableClass,!0).attr(de.SubSelectableObjectNameAttribute,"legend-title").attr(de.SubSelectableDisplayNameAttribute,"MiniToolbar_LegendTitle").attr(de.SubSelectableTypeAttribute,0),t.titleSliceUid)&&(e={reference:{cardUid:void 0,sliceUid:t.titleSliceUid},style:3},w.attr(de.SubSelectableDirectEdit,JSON.stringify(e))),O.exit().remove(),function(e){return e.dataPoint.identity.getKey()+(null!=e.dataPoint.layerNumber?e.dataPoint.layerNumber:"")}),r=_.uniqBy(K,g),d=Q.selectAll(me.LegendItemClassAndSelector.selector).data(r,g),J=d.enter().append("div").classed(me.LegendItemClassAndSelector.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option"),ce=(i&&J.attr("tabindex",0),z?z.getLocalizedString("NullValue"):null),j=J.merge(d),N=(j.attr("aria-label",(function(e){return t.hostService?e.dataPoint.label||ce:null})).attr("aria-selected",(function(e){return W&&e.dataPoint.selected})).attr("aria-posinset",(function(e){return e.dataPoint.index+1})).attr("aria-setsize",a.dataPoints.length),j.sort((function(e,t){e=e.dataPoint,t=t.dataPoint;if(null!=e.layerNumber){t.layerNumber;var a=e.layerNumber-t.layerNumber;if(0!=a)return a}return e.index-t.index})),d.exit().remove(),J.append("svg").classed(me.LegendItemSvgClassAndSelector.class,!0)),ue=(N.append("path").classed(me.LegendIconLineClassAndSelector.class,!0),N.append("path").classed(me.LegendIconClassAndSelector.class,!0),J.append("text").classed(me.LegendItemTextClassAndSelector.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),de.ColorHelper.getThemeColor(t.visualStyle,de.LegendBehavior.dimmedLegendColorName)),v=(j.select(me.LegendItemSvgClassAndSelector.selector).attrs({height:U,width:function(e){return e.dataPoint.lineStyle?G:E}}),j.select(me.LegendIconLineClassAndSelector.selector)),k=(v.attrs({transform:function(e){return de.SVGUtil.translate(ge.LegendIconLineTotalWidth/2,U*ge.LegendIconYRatio)},d:function(e){return e.dataPoint.lineStyle?"M -"+ge.LegendIconLineTotalWidth/2+" 0 L "+ge.LegendIconLineTotalWidth/2+" 0":null},"stroke-width":2,fill:"none","stroke-dasharray":function(e){return e.dataPoint.lineStyle?de.LineStyle.getSrokeDashArrayForLegend(e.dataPoint.lineStyle):null}}).styles({stroke:function(e){return W&&!e.dataPoint.selected?ue:e.dataPoint.lineColor}}),j.select(me.LegendIconClassAndSelector.selector));k.attrs({transform:function(e){return de.SVGUtil.translateAndScale((e.dataPoint.lineStyle?G:E)/2,U*ge.LegendIconYRatio,I/de.Markers.DefaultSize)},d:function(e){return de.Markers.getPath(e.dataPoint.markerShape||de.markerShape.circle)},"stroke-width":function(e){return de.Markers.getStrokeWidth(e.dataPoint.markerShape||de.markerShape.circle)}}).styles({fill:function(e){return W&&!e.dataPoint.selected?ue:e.dataPoint.color},stroke:function(e){return W&&!e.dataPoint.selected?ue:e.dataPoint.color},"stroke-linejoin":"round"}).append("title").text((function(e){return e.dataPoint.label})),j.select(me.LegendItemTextClassAndSelector.selector).text((function(e){return e.textProperties.text})).styles(n&&de.FontProperties.toHTMLStyle(n)).styles({"padding-left":ge.LeftTextPadding+"px","padding-right":H-ge.LeftTextPadding+"px"}).attr("title",(function(e){return e.dataPoint.label})),ve({navigationArrow:Y.previous,arrowPosWindow:q,arrowClassAndSelector:me.PreviousNavigationArrowClassAndSelector,legend:y,legendDataStartIndex:F,rerenderCallback:t.rerenderCallback,useLargeArrowHitArea:a.useLargeArrowHitArea,verticalLegendWidth:de.Legend.isTopOrBottom(o)?void 0:s.width,isTabbable:!!i,hostService:t.hostService}),ve({navigationArrow:Y.next,arrowPosWindow:q,arrowClassAndSelector:me.NextNavigationArrowClassAndSelector,legend:y,legendDataStartIndex:F,rerenderCallback:t.rerenderCallback,useLargeArrowHitArea:a.useLargeArrowHitArea,verticalLegendWidth:de.Legend.isTopOrBottom(o)?void 0:s.width,isTabbable:!!i,hostService:t.hostService}),i&&(A={legendRoot:y,legendItems:j,legendIcons:k,legendLines:v,clearCatcher:c,visualStyle:t.visualStyle},i.bind(a.dataPoints,new de.LegendBehavior,A,{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:t.isHierarchicalAxis,formatMode:t.formatMode}))}return s},(p=ge=de.LegendLayout||(de.LegendLayout={})).LegendIconRadius=5,p.LegendIconRadiusFactor=5,p.LegendIconLineTotalWidth=31,p.MaxTextLength=60,p.TextAndIconPadding=5,p.TitlePadding=15,p.LegendEdgeMariginWidth=10,p.LegendMaxWidthFactor=.3,p.TopLegendHeight=24,p.DefaultTextMargin=de.Legend.DefaultFontSize.pt,p.LegendIconYRatio=.52,p.BaseTextAndIconPadding=5,p.LeftTextPadding=1,p.NavArrowPadding=2,u={arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},d={arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3},p.LegendArrowSize=10,p.LegendArrowHeight=15,p.LegendArrowWidth=7.5,p.calculateTitleLayout=function(e){var t,a,i,o,r=e.title,n=0;return _.isEmpty(r)?null:(a=void 0,a=(t=de.Legend.isTopOrBottom(e.orientation))?(o=e.legendFontSizeMarginValue>p.DefaultTextMargin?p.TextAndIconPadding+e.legendFontSizeMarginDifference:p.TextAndIconPadding,i=p.TextAndIconPadding+p.LegendIconRadius,o=p.LegendIconRadius+o+i,e.parentViewport.width*p.LegendMaxWidthFactor-o-p.LegendEdgeMariginWidth+p.TitlePadding/2):e.viewport.width-p.LegendEdgeMariginWidth,i=de.FontProperties.toTextProperties(e.fontProperties,r),o=r,a<(n=pe.TextMeasurementService.measureSvgTextWidth(i))&&(o=pe.TextMeasurementService.getTailoredTextOrDefault(i,a),i.text=o,n=pe.TextMeasurementService.measureSvgTextWidth(i)),t?n+=p.TitlePadding/2:o=pe.TextMeasurementService.getTailoredTextOrDefault(i,e.viewport.width),{x:0,y:0,text:o,width:n,height:pe.TextMeasurementService.estimateSvgTextHeight(i)})},p.updateNavigationArrowLayout=function(e,t,a,i,o){return 0===i&&(e.previous=void 0),i=o,o=a,(e.next||e.previous)&&o===t&&(o=i,e.next=void 0),o},p.calculateHorizontalNavigationArrowsLayout=function(e,t,a,i){var o,r=p.LegendArrowHeight,n=p.LegendArrowWidth,a=a.height/2-r/2,l={previous:void 0,next:void 0},e=e?e.x+e.width:0,s=de.SVGUtil.createArrow(n,r,180),r=de.SVGUtil.createArrow(n,r,0),c=0;return i.useLargeArrowHitArea&&(c=(i=u).arrowsOffset,o=i.hitAreaWidthPx),l.previous={x:e,y:a,path:s.path,rotateTransform:s.transform,type:1,arrowOffset:c||0,hitAreaWidth:o||p.LegendArrowSize},l.next={x:t.width-n,y:a,path:r.path,rotateTransform:r.transform,type:0,arrowOffset:c||0,hitAreaWidth:o||p.LegendArrowSize},l},p.calculateVerticalNavigationArrowsLayout=function(e,t,a,i){var o,r=p.LegendArrowHeight,n=p.LegendArrowWidth,l={previous:void 0,next:void 0},a=a.height/2+r/2,s=de.SVGUtil.createArrow(n,r,270),c=de.SVGUtil.createArrow(n,r,90),e=e?e.height:0,u=0;return i.useLargeArrowHitArea&&(u=(i=d).arrowsOffset,o=i.hitAreaWidthPx),l.previous={x:a,y:n+e,path:s.path,rotateTransform:s.transform,type:1,arrowOffset:u,hitAreaWidth:o},l.next={x:a,y:t.height-r,path:c.path,rotateTransform:c.transform,type:0,arrowOffset:u,hitAreaWidth:o},l},p.calculateViewport=function(e){var t=e.data;if(!de.Legend.getLegendShowFlag(t))return{height:0,width:0};switch(e.orientation){case de.LegendPosition.Top:case de.LegendPosition.Bottom:case de.LegendPosition.TopCenter:case de.LegendPosition.BottomCenter:case de.LegendPosition.TopRight:case de.LegendPosition.BottomRight:var a=t&&t.fontProperties?t.fontProperties.size.px:he.fromPointToPixel(de.Legend.DefaultFontSize.pt);return{height:p.TopLegendHeight+(a-de.Legend.DefaultFontSize.pt),width:0};case de.LegendPosition.Right:case de.LegendPosition.Left:case de.LegendPosition.RightCenter:case de.LegendPosition.LeftCenter:return{height:0,width:e.lastCalculatedWidth||e.parentViewport.width*p.LegendMaxWidthFactor}}},p.getNavigationArrowPathsData=function(e,t){return e.isHitArea=!1,e.index=Math.abs(e.arrowOffset),t?((t=Object.create(e)).isHitArea=!0,t.index++,[t,e]):[e]},p.updateLayout=function(e,t,a,i,o,r){a.styles({height:(e.height||(i?o.height:0))+"px",width:(e.width||(i?o.width:0))+"px"}),i=r?p.LegendEdgeMariginWidth:0,a.styles({"margin-left":de.Legend.isRight(t)?o.width-e.width+i+"px":null,"margin-top":de.Legend.isBottom(t)?o.height-e.height+"px":null,"margin-right":de.Legend.isLeft(t)&&r?i+"px":null})}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).Legend||(e.Legend={})).DefaultLabelColor="#666666",(e.LegendData||(e.LegendData={})).DefaultLegendLabelFillColor="#666666",(e=e.LabelUtils||(e.LabelUtils={})).defaultLabelColor="#777777",e.defaultInsideLabelColor="#ffffff",e.defaultLabelBackgroundColor="#000000"})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ComboChart||(e.ComboChart={})).defaultLabelBackgroundColor="#FFFFFF"})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).ActionButtonType||(t.ActionButtonType={})).blank="blank",t.leftArrow="leftArrow",t.rightArrow="rightArrow",t.back="back",t.reset="reset",t.information="information",t.help="help",t.qna="qna",t.insights="insights",t.bookmarks="bookmarks",t.custom="custom",t.applyAllSlicers="applyAllSlicers",t.clearAllSlicers="clearAllSlicers",t.type=e.createEnumType([{value:t.blank,displayName:function(e){return e.get("ReportAppBar_Blank")}},{value:t.leftArrow,displayName:function(e){return e.get("Generic_LeftArrow")}},{value:t.rightArrow,displayName:function(e){return e.get("Generic_RightArrow")}},{value:t.back,displayName:function(e){return e.get("Generic_Back")}},{value:t.reset,displayName:function(e){return e.get("Reset")}},{value:t.help,displayName:function(e){return e.get("Generic_Help")}},{value:t.information,displayName:function(e){return e.get("ReportAppBar_InfoIcon")}},{value:t.qna,displayName:function(e){return e.get("Generic_Qna")}},{value:t.bookmarks,displayName:function(e){return e.get("Generic_Bookmark")}},{value:t.applyAllSlicers,displayName:function(e){return e.get("ReportAppBar_ApplyAllSlicers")}},{value:t.clearAllSlicers,displayName:function(e){return e.get("ReportAppBar_ClearAllSlicers")}},{value:t.custom,displayName:function(e){return e.get("Custom")}}])})(powerbi=powerbi||{}),(function(e){(e=e.visuals||(e.visuals={})).verticalAlignment={top:"top",middle:"middle",bottom:"bottom"},e.horizontalAlignment={left:"left",center:"center",right:"right"}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.anomalyMarkerShape||(t.anomalyMarkerShape={})).droplet="droplet",a.circle="circle",a.square="square",a.diamond="diamond",a.triangle="triangle",a.none="none",a.defaultValue=a.droplet,a.type=e.createEnumType([{value:a.droplet,displayName:function(e){return e.get("Visual_MarkerShape_Droplet")}},{value:a.circle,displayName:function(e){return e.get("Visual_MarkerShape_Circle")}},{value:a.square,displayName:function(e){return e.get("Visual_MarkerShape_Square")}},{value:a.diamond,displayName:function(e){return e.get("Visual_MarkerShape_Diamond")}},{value:a.triangle,displayName:function(e){return e.get("Visual_MarkerShape_Triangle")}}]),a.getPath=function(e){switch(e){case a.droplet:return"M 1.123 -0.214\n                        C 1.123 0.123 0.947 0.435 0.749 0.626\n                        L 0.139 1.275\n                        C 0.065 1.353 -0.059 1.353 -0.133 1.275\n                        L -0.743 0.626\n                        C -1.023 0.346 -1.117 0.118 -1.117 -0.214\n                        C -1.117 -0.832 -0.615 -1.333 0.003 -1.333\n                        C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case a.circle:return"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0";case a.square:return"M 0 0 m -1 -1 l 2 0 l 0 2 l -2 0 z";case a.diamond:return"M 0 0 m -1 0 l 1 -1 l 1 1 l -1 1 z";case a.triangle:return"M 0 0 m -1 1 l 1 -2 l 1 2 z";case a.none:return null}}})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).axisStyle||(t.axisStyle={})).showBoth="showBoth",t.showTitleOnly="showTitleOnly",t.showUnitOnly="showUnitOnly",t.type=e.createEnumType([{value:t.showTitleOnly,displayName:function(e){return e.get("Visual_Axis_ShowTitleOnly")}},{value:t.showUnitOnly,displayName:function(e){return e.get("Visual_Axis_ShowUnitOnly")}},{value:t.showBoth,displayName:function(e){return e.get("Visual_Axis_ShowBoth")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).axisType||(t.axisType={})).scalar="Scalar",t.categorical="Categorical",t.both="Both",t.type=e.createEnumType([{value:t.scalar,displayName:function(e){return e.get("Visual_Axis_Scalar")}},{value:t.categorical,displayName:function(e){return e.get("Visual_Axis_Categorical")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).basicShapeType||(t.basicShapeType={})).rectangle="rectangle",t.oval="oval",t.line="line",t.arrow="arrow",t.triangle="triangle",t.arrowButton="arrowbutton",t.type=e.createEnumType([{value:t.rectangle,displayName:function(e){return e.get("ReportAppBar_ShapeRectangle")}},{value:t.oval,displayName:function(e){return e.get("ReportAppBar_ShapeOval")}},{value:t.line,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:t.arrow,displayName:function(e){return e.get("ReportAppBar_ShapeArrow")}},{value:t.triangle,displayName:function(e){return e.get("ReportAppBar_ShapeTriangle")}},{value:t.arrowButton,displayName:"arrowbutton"}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.BingMapTheme||(t.BingMapTheme={})).aerial="aerial",a.canvasDark="canvasDark",a.canvasLight="canvasLight",a.grayscale="grayscale",a.road="road",a.defaultTheme=a.road,a.highContrastTheme=a.canvasDark,a.type=e.createEnumType([{value:a.aerial,displayName:function(e){return e.get("Visual_MapThemeAerial")}},{value:a.canvasDark,displayName:function(e){return e.get("Visual_MapThemeDark")}},{value:a.canvasLight,displayName:function(e){return e.get("Visual_MapThemeLight")}},{value:a.grayscale,displayName:function(e){return e.get("Visual_MapThemeGrayScale")}},{value:a.road,displayName:function(e){return e.get("Visual_MapThemeRoad")}}]),a.useDarkButtonTheme=function(e){return e===a.aerial||e===a.canvasDark}})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).BingMapHeatMapUnit||(t.BingMapHeatMapUnit={})).pixels="pixels",t.meters="meters",t.defaultUnit=t.pixels,t.maxRadiusPixels=200,t.maxRadiusMeters=4e6,t.type=e.createEnumType([{value:t.pixels,displayName:function(e){return e.get("Generic_Pixels")}},{value:t.meters,displayName:function(e){return e.get("Visual_MapUnitMeters")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).binType||(t.binType={})).numOfBins="Number of bins",t.binSize="Bin size",t.type=e.createEnumType([{value:t.numOfBins,displayName:function(e){return e.get("BinsDialog_ModeByCount")}},{value:t.binSize,displayName:function(e){return e.get("BinsDialog_ModeBySize")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).CardVisualPositioning||(t.CardVisualPositioning={})).BelowValue="belowValue",t.AboveValue="aboveValue",t.type=e.createEnumType([{value:t.BelowValue,displayName:function(e){return e.get("CardVisualPositioning_BelowValue")}},{value:t.AboveValue,displayName:function(e){return e.get("CardVisualPositioning_AboveValue")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).confidenceBandStyle||(t.confidenceBandStyle={})).fill="fill",t.line="line",t.none="none",t.fillLine="fillLine",t.type=e.createEnumType([{value:t.fill,displayName:function(e){return e.get("Visual_Confidence_Band_Style_Fill")}},{value:t.line,displayName:function(e){return e.get("Visual_Confidence_Band_Style_Line")}},{value:t.none,displayName:function(e){return e.get("None")}}]),t.typeWithBoth=e.createEnumType([{value:t.fill,displayName:function(e){return e.get("Visual_Confidence_Band_Style_Fill")}},{value:t.line,displayName:function(e){return e.get("Visual_Confidence_Band_Style_Line")}},{value:t.fillLine,displayName:function(e){return e.get("Visual_Confidence_Band_Style_LineFill")}}])})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).displayUnitsWithCustom||(t.displayUnitsWithCustom={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("DisplayUnitSystem_EAuto_Title")}},{value:1,displayName:function(e){return e.get("DisplayUnitSystem_E0_Title")}},{value:1e3,displayName:function(e){return e.get("DisplayUnitSystem_E3_Title")}},{value:1e6,displayName:function(e){return e.get("DisplayUnitSystem_E6_Title")}},{value:1e9,displayName:function(e){return e.get("DisplayUnitSystem_E9_Title")}},{value:1e12,displayName:function(e){return e.get("DisplayUnitSystem_E12_Title")}},{value:-1,displayName:function(e){return e.get("Custom")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).donutLabelBackground||(t.donutLabelBackground={})).auto="auto",t.on="on",t.off="off",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_Auto")}},{value:t.on,displayName:function(e){return e.get("ToggleSwitchOn")}},{value:t.off,displayName:function(e){return e.get("ToggleSwitchOff")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).donutLabelPosition||(t.donutLabelPosition={})).outside="outside",t.inside="inside",t.preferOutside="preferOutside",t.preferInside="preferInside",t.type=e.createEnumType([{value:t.outside,displayName:function(e){return e.get("Visual_DonutLabelPosition_Outside")}},{value:t.inside,displayName:function(e){return e.get("Visual_DonutLabelPosition_Inside")}},{value:t.preferOutside,displayName:function(e){return e.get("Visual_DonutLabelPosition_PreferOutside")}},{value:t.preferInside,displayName:function(e){return e.get("Visual_DonutLabelPosition_PreferInside")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).errorBarEndStyle||(t.errorBarEndStyle={})).cap="cap",t.dot="dot",t.none="none",t.defaultValue=t.cap,t.type=e.createEnumType([{value:t.cap,displayName:function(e){return e.get("Visual_Error_Cap")}},{value:t.dot,displayName:function(e){return e.get("Visual_Error_Dot")}},{value:t.none,displayName:function(e){return e.get("None")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).errorFormat||(t.errorFormat={})).absolute="absolute",t.relativeNumeric="relativeNumeric",t.relativePercentage="relativePercentage",t.range="range",t.type=e.createEnumType([{value:t.absolute,displayName:function(e){return e.get("Visual_Absolute")}},{value:t.relativeNumeric,displayName:function(e){return e.get("Visual_RelativeNumeric")}},{value:t.relativePercentage,displayName:function(e){return e.get("Visual_RelativePercentage")}},{value:t.range,displayName:function(e){return e.get("Visual_Axis_Range")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).fillStyle||(t.fillStyle={})).fillOnly="Fill only",t.borderOnly="Border only",t.style=e.createEnumType([{value:t.fillOnly,displayName:function(e){return e.get("Visual_FillStyle_Fill")}},{value:t.borderOnly,displayName:function(e){return e.get("Visual_FillStyle_Border")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).forecastConfidenceIntervals||(t.forecastConfidenceIntervals={})).ninetyNine="99%",t.ninetyFive="95%",t.ninety="90%",t.eightyFive="85%",t.eighty="80%",t.seventyfive="75%",t.type=e.createEnumType([{value:t.ninetyNine,displayName:function(){return"99%"}},{value:t.ninetyFive,displayName:function(){return"95%"}},{value:t.ninety,displayName:function(){return"90%"}},{value:t.eightyFive,displayName:function(){return"85%"}},{value:t.eighty,displayName:function(){return"80%"}},{value:t.seventyfive,displayName:function(){return"75%"}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).forecastUnits||(t.forecastUnits={})).year="year",t.quarter="quarter",t.month="month",t.day="day",t.hour="hour",t.minute="minute",t.second="second",t.point="point",t.type=e.createEnumType([{value:t.year,displayName:function(e){return e.get("TimeUnit_Years")}},{value:t.quarter,displayName:function(e){return e.get("TimeUnit_Quarters")}},{value:t.month,displayName:function(e){return e.get("TimeUnit_Months")}},{value:t.day,displayName:function(e){return e.get("TimeUnit_Days")}},{value:t.hour,displayName:function(e){return e.get("TimeUnit_Hours")}},{value:t.minute,displayName:function(e){return e.get("TimeUnit_Minutes")}},{value:t.second,displayName:function(e){return e.get("TimeUnit_Seconds")}},{value:t.point,displayName:function(e){return e.get("Visual_Forecast_Units_Point")}}])})(powerbi=powerbi||{}),(function(e){var t,a;(t=(t=e.visuals||(e.visuals={})).funnelLabelStyle||(t.funnelLabelStyle={})).flagLabelStyleData=2,t.flagLabelStylePercentOfFirst=4,t.flagLabelStylePercentOfPrevious=8,(a=t.labelStyleFlagEnum||(t.labelStyleFlagEnum={}))[a.data=t.flagLabelStyleData]="data",a[a.percentOfFirst=t.flagLabelStylePercentOfFirst]="percentOfFirst",a[a.percentOfPrevious=t.flagLabelStylePercentOfPrevious]="percentOfPrevious",a[a.dataAndPercentOfFirst=t.flagLabelStyleData|t.flagLabelStylePercentOfFirst]="dataAndPercentOfFirst",a[a.dataAndPercentOfPrevious=t.flagLabelStyleData|t.flagLabelStylePercentOfPrevious]="dataAndPercentOfPrevious",t.data="Data",t.percentOfFirst="Percent of first",t.percentOfPrevious="Percent of previous",t.dataAndPercentOfFirst="Data, percent of first",t.dataAndPercentOfPrevious="Data, percent of previous",t.type=e.createEnumType([{value:t.data,displayName:function(e){return e.get("Visual_LabelStyle_DataValue")}},{value:t.percentOfFirst,displayName:function(e){return e.get("Funnel_PercentOfFirst")}},{value:t.percentOfPrevious,displayName:function(e){return e.get("Funnel_PercentOfPrevious")}},{value:t.dataAndPercentOfFirst,displayName:function(e){return e.get("Visual_LabelStyle_DataAndPercentOfFirst")}},{value:t.dataAndPercentOfPrevious,displayName:function(e){return e.get("Visual_LabelStyle_DataAndPercentOfPrevious")}}])})(powerbi=powerbi||{}),(function(e){var t,i;(t=(t=e.visuals||(e.visuals={})).GeocodingCulture||(t.GeocodingCulture={})).CultureVersions={v1_0:"1.0",v2_0:"2.0"},t.Default="",t.DE="de-de",t.ENGB="en-GB",t.ENUS="en-US",t.ES="es-ES",t.FR="fr-FR",t.IT="it-it",t.JA="ja",t.KO="ko",t.NL="nl-BE",t.PT="pt-BR",t.RU="ru",t.ZHS="zh-Hans",t.ZHT="zh-Hant",i=[{value:t.Default,version:t.CultureVersions.v1_0},{value:t.DE,version:t.CultureVersions.v2_0},{value:t.ENGB,version:t.CultureVersions.v2_0},{value:t.ENUS,version:t.CultureVersions.v2_0},{value:t.ES,version:t.CultureVersions.v2_0},{value:t.FR,version:t.CultureVersions.v2_0},{value:t.IT,version:t.CultureVersions.v2_0},{value:t.JA,version:t.CultureVersions.v1_0},{value:t.KO,version:t.CultureVersions.v2_0},{value:t.NL,version:t.CultureVersions.v2_0},{value:t.PT,version:t.CultureVersions.v2_0},{value:t.RU,version:t.CultureVersions.v2_0},{value:t.ZHS,version:t.CultureVersions.v2_0},{value:t.ZHT,version:t.CultureVersions.v2_0}],t.isValidGeocodingCulture=function(t){return 0<=_.findIndex(i,(function(e){return e.value===t}))},t.isNewToVersion=function(t,e){var a=_.find(i,(function(e){return e.value===t}));return!!a&&a.version===e},t.type=e.createEnumType([{value:t.Default,displayName:function(e){return e.get("Visual_Auto")}},{value:t.DE,displayName:function(e){return e.get("Visual_MapGeocodingCulture_DE")}},{value:t.ENGB,displayName:function(e){return e.get("Visual_MapGeocodingCulture_ENGB")}},{value:t.ENUS,displayName:function(e){return e.get("Visual_MapGeocodingCulture_ENUS")}},{value:t.ES,displayName:function(e){return e.get("Visual_MapGeocodingCulture_ES")}},{value:t.FR,displayName:function(e){return e.get("Visual_MapGeocodingCulture_FR")}},{value:t.IT,displayName:function(e){return e.get("Visual_MapGeocodingCulture_IT")}},{value:t.JA,displayName:function(e){return e.get("Visual_MapGeocodingCulture_JA")}},{value:t.KO,displayName:function(e){return e.get("Visual_MapGeocodingCulture_KO")}},{value:t.NL,displayName:function(e){return e.get("Visual_MapGeocodingCulture_NL")}},{value:t.PT,displayName:function(e){return e.get("Visual_MapGeocodingCulture_PT")}},{value:t.RU,displayName:function(e){return e.get("Visual_MapGeocodingCulture_RU")}},{value:t.ZHS,displayName:function(e){return e.get("Visual_MapGeocodingCulture_ZHS")}},{value:t.ZHT,displayName:function(e){return e.get("Visual_MapGeocodingCulture_ZHT")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).gridLineType||(t.gridLineType={})).inner="inner",t.innerHorizontal="innerHorizontal",t.innerVertical="innerVertical",t.all="all",t.none="none",t.type=e.createEnumType([{value:t.all,displayName:function(e){return e.get("All")},icon:{glyph:"border-all"}},{value:t.inner,displayName:function(e){return e.get("Border_Grid_Line_Type_Inner")},icon:{glyph:"border-inside"}},{value:t.innerHorizontal,displayName:function(e){return e.get("Border_Grid_Line_Type_Inner_Horizontal")},icon:{glyph:"border-inside-horizontal"}},{value:t.innerVertical,displayName:function(e){return e.get("Border_Grid_Line_Type_Inner_Vertical")},icon:{glyph:"border-inside-vertical"}},{value:t.none,displayName:function(e){return e.get("None")},icon:{glyph:"border-none"}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).horizontalPosition||(t.horizontalPosition={})).left="left",t.center="center",t.right="right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:t.center,displayName:function(e){return e.get("Visual_TextAlignment_Center")}},{value:t.right,displayName:function(e){return e.get("Visual_TextAlignment_Right")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).iconPlacement||(t.iconPlacement={})).custom="custom",t.left="left",t.right="right",t.above="above",t.below="below",t.type=e.createEnumType([{value:t.custom,displayName:function(e){return e.get("Custom")}},{value:t.left,displayName:function(e){return e.get("Visual_IconPlacement_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_IconPlacement_Right")}},{value:t.above,displayName:function(e){return e.get("Visual_IconPlacement_Above")}},{value:t.below,displayName:function(e){return e.get("Visual_IconPlacement_Below")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).imageScalingType||(t.imageScalingType={})).normal="Normal",t.fit="Fit",t.fill="Fill",t.type=e.createEnumType([{value:t.normal,displayName:function(e){return e.get("Normal")}},{value:t.fit,displayName:function(e){return e.get("Visual_ImageScalingType_Fit")}},{value:t.fill,displayName:function(e){return e.get("Visual_ImageScalingType_Fill")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).imageType||(t.imageType={})).image="image",t.imageUrl="imageUrl",t.type=e.createEnumType([{value:t.image,displayName:function(e){return e.get("Image")}},{value:t.imageUrl,displayName:function(e){return e.get("Image_Url")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriverAnalysis||(t.keyDriverAnalysis={})).keyInfluencers="keyInfluencers",t.topProfiles="topProfiles",t.type=e.createEnumType([{value:t.keyInfluencers,displayName:function(){return"keyInfluencers"}},{value:t.topProfiles,displayName:function(){return"topProfiles"}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriversCount||(t.keyDriversCount={})).absolute="absolute",t.relative="relative",t.type=e.createEnumType([{value:t.absolute,displayName:function(e){return e.get("Visual_Absolute")}},{value:t.relative,displayName:function(e){return e.get("Visual_Relative")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriversNumericAnalysis||(t.keyDriversNumericAnalysis={})).continuous="Continuous",t.categorical="Categorical",t.type=e.createEnumType([{value:t.continuous,displayName:function(e){return e.get("Visual_Axis_Scalar")}},{value:t.categorical,displayName:function(e){return e.get("Visual_Axis_Categorical")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).keyDriversSort||(t.keyDriversSort={})).impact="impact",t.count="count",t.type=e.createEnumType([{value:t.impact,displayName:function(e){return e.get("KeyDriver_SortType_Impact")}},{value:t.count,displayName:function(e){return e.get("KeyDriver_SortType_Count")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).kpiDirection||(t.kpiDirection={})).positive="Positive",t.negative="Negative",t.type=e.createEnumType([{value:t.positive,displayName:function(e){return e.get("Visual_KPI_Direction_Positive")}},{value:t.negative,displayName:function(e){return e.get("Visual_KPI_Direction_Negative")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).kpiDistanceDirection||(t.kpiDistanceDirection={})).positive="High is good",t.negative="Low is good",t.type=e.createEnumType([{value:t.positive,displayName:function(e){return e.get("Visual_KPI_DistanceDirection_Positive")}},{value:t.negative,displayName:function(e){return e.get("Visual_KPI_DistanceDirection_Negative")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).kpiDistanceLabel||(t.kpiDistanceLabel={})).value="Value",t.percent="Percent",t.both="Value, percent",t.type=e.createEnumType([{value:t.value,displayName:function(e){return e.get("Visual_LabelText_Value")}},{value:t.percent,displayName:function(e){return e.get("ConditionalFormattingDialog_Percent")}},{value:t.both,displayName:function(e){return e.get("Visual_LabelStyle_Both")}}])})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).labelOrientation||(t.labelOrientation={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Visual_LabelOrientation_Vertical")}},{value:1,displayName:function(e){return e.get("Visual_LabelOrientation_Horizontal")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).labelPosition||(t.labelPosition={})).auto="Auto",t.insideEnd="InsideEnd",t.insideCenter="InsideCenter",t.outsideEnd="OutsideEnd",t.insideBase="InsideBase",t.above="Above",t.under="Under",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_Auto")}},{value:t.insideEnd,displayName:function(e){return e.get("Visual_LabelPosition_InsideEnd")}},{value:t.outsideEnd,displayName:function(e){return e.get("Visual_LabelPosition_OutsideEnd")}},{value:t.insideCenter,displayName:function(e){return e.get("Visual_LabelPosition_InsideCenter")}},{value:t.insideBase,displayName:function(e){return e.get("Visual_LabelPosition_InsideBase")}},{value:t.above,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Above")}},{value:t.under,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Under")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).labelSeriesPosition||(t.labelSeriesPosition={})).left="Left",t.right="Right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_yAxis_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_yAxis_Right")}}])})(powerbi=powerbi||{}),(function(e){var t,a;(t=(t=e.visuals||(e.visuals={})).labelStyle||(t.labelStyle={})).flagLabelStyleCategory=2,t.flagLabelStyleData=4,t.flagLabelStylePercent=8,(a=t.labelStyleFlagEnum||(t.labelStyleFlagEnum={}))[a.category=t.flagLabelStyleCategory]="category",a[a.data=t.flagLabelStyleData]="data",a[a.percent=t.flagLabelStylePercent]="percent",a[a.categoryAndData=t.flagLabelStyleCategory|t.flagLabelStyleData]="categoryAndData",a[a.categoryAndPercent=t.flagLabelStyleCategory|t.flagLabelStylePercent]="categoryAndPercent",a[a.dataAndPercent=t.flagLabelStyleData|t.flagLabelStylePercent]="dataAndPercent",a[a.categoryAndDataAndPercent=t.flagLabelStyleCategory|t.flagLabelStyleData|t.flagLabelStylePercent]="categoryAndDataAndPercent",t.category="Category",t.data="Data",t.percent="Percent of total",t.categoryAndData="Both",t.categoryAndPercent="Category, percent of total",t.dataAndPercent="Data value, percent of total",t.categoryAndDataAndPercent="Category, data value, percent of total",t.type=e.createEnumType([{value:t.category,displayName:function(e){return e.get("Visual_LabelStyle_Category")}},{value:t.data,displayName:function(e){return e.get("Visual_LabelStyle_DataValue")}},{value:t.percent,displayName:function(e){return e.get("Visual_LabelStyle_Percent")}},{value:t.categoryAndData,displayName:function(e){return e.get("Visual_LabelStyle_CategoryAndData")}},{value:t.categoryAndPercent,displayName:function(e){return e.get("Visual_LabelStyle_CategoryAndPercent")}},{value:t.dataAndPercent,displayName:function(e){return e.get("Visual_LabelStyle_DataAndPercent")}},{value:t.categoryAndDataAndPercent,displayName:function(e){return e.get("Visual_LabelStyle_CategoryAndDataAndPercent")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).labelText||(t.labelText={})).value="Value",t.name="Name",t.nameAndValue="ValueAndName",t.type=e.createEnumType([{value:t.value,displayName:function(e){return e.get("Visual_LabelStyle_DataValue")}},{value:t.name,displayName:function(e){return e.get("Name")}},{value:t.nameAndValue,displayName:function(e){return e.get("Visual_LabelStyle_Both")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).legendMarkerRendering||(t.legendMarkerRendering={})).markerOnly="markerOnly",t.lineAndMarker="lineAndMarker",t.lineOnly="lineOnly",t.markerCircleDefault="markerCircleDefault",t.type=e.createEnumType([{value:t.markerCircleDefault,displayName:function(e){return e.get("MarkerCircleDefault")}},{value:t.markerOnly,displayName:function(e){return e.get("Marker")}},{value:t.lineOnly,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:t.lineAndMarker,displayName:function(e){return e.get("Visual_LegendLineAndMarker")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).legendPosition||(t.legendPosition={})).top="Top",t.bottom="Bottom",t.left="Left",t.right="Right",t.topCenter="TopCenter",t.bottomCenter="BottomCenter",t.leftCenter="LeftCenter",t.rightCenter="RightCenter",t.topRight="TopRight",t.bottomRight="BottomRight",t.type=e.createEnumType([{value:t.top,displayName:function(e){return e.get("Visual_LabelPosition_TopLeft")}},{value:t.topCenter,displayName:function(e){return e.get("Visual_LabelPosition_TopCenter")}},{value:t.topRight,displayName:function(e){return e.get("Visual_LabelPosition_TopRight")}},{value:t.left,displayName:function(e){return e.get("Visual_LegendPosition_TopLeftStacked")}},{value:t.right,displayName:function(e){return e.get("Visual_LegendPosition_TopRightStacked")}},{value:t.leftCenter,displayName:function(e){return e.get("Visual_LegendPosition_LeftCenter")}},{value:t.rightCenter,displayName:function(e){return e.get("Visual_LegendPosition_RightCenter")}},{value:t.bottom,displayName:function(e){return e.get("Visual_LabelPosition_BottomLeft")}},{value:t.bottomCenter,displayName:function(e){return e.get("Visual_LabelPosition_BottomCenter")}},{value:t.bottomRight,displayName:function(e){return e.get("Visual_LabelPosition_BottomRight")}}]),t.borderSidesType=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_TextAlignment_Right")}},{value:t.bottom,displayName:function(e){return e.get("Bottom")}},{value:t.top,displayName:function(e){return e.get("Top")}}])})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).linecapTypeEnum=e.createEnumType([{value:"flat",displayName:function(e){return e.get("Visual_StrokeCap_Flat")}},{value:"round",displayName:function(e){return e.get("Visual_StrokeLineJoin_Round")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).lineStyle||(t.lineStyle={})).dashed="dashed",t.solid="solid",t.dotted="dotted",t.type=e.createEnumType([{value:t.dashed,displayName:function(e){return e.get("Visual_LineStyle_Dashed")}},{value:t.solid,displayName:function(e){return e.get("Visual_LineStyle_Solid")}},{value:t.dotted,displayName:function(e){return e.get("Visual_LineStyle_Dotted")}}])})(powerbi=powerbi||{}),(function(e){var t,a;(t=(t=e.visuals||(e.visuals={})).markerShape||(t.markerShape={})).circle="circle",t.square="square",t.diamond="diamond",t.triangle="triangle",t.x="x",t.shortDash="shortDash",t.longDash="longDash",t.plus="plus",t.upperErrorBar="upperErrorBar",t.lowerErrorBar="lowerErrorBar",t.none="none",t.defaultValue=t.circle,a=[{value:t.circle,displayName:function(e){return e.get("Visual_MarkerShape_Circle")}},{value:t.square,displayName:function(e){return e.get("Visual_MarkerShape_Square")}},{value:t.diamond,displayName:function(e){return e.get("Visual_MarkerShape_Diamond")}},{value:t.triangle,displayName:function(e){return e.get("Visual_MarkerShape_Triangle")}},{value:t.x,displayName:function(e){return e.get("Visual_MarkerShape_X")}},{value:t.shortDash,displayName:function(e){return e.get("Visual_MarkerShape_ShortDash")}},{value:t.longDash,displayName:function(e){return e.get("Visual_MarkerShape_LongDash")}},{value:t.plus,displayName:function(e){return e.get("Visual_MarkerShape_Plus")}}],t.type=e.createEnumType(a),t.typeWithNone=e.createEnumType(__spreadArray(__spreadArray([],a,!0),[{value:t.none,displayName:function(e){return e.get("None")}}],!1))})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).navigatorOrientation||(t.navigatorOrientation={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Visual_Grid")}},{value:1,displayName:function(e){return e.get("Slicer_Orientation_Vertical")}},{value:2,displayName:function(e){return e.get("Slicer_Orientation_Horizontal")}}])})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.outline||(t.outline={})).none="None",a.bottomOnly="BottomOnly",a.topOnly="TopOnly",a.leftOnly="LeftOnly",a.rightOnly="RightOnly",a.topBottom="TopBottom",a.leftRight="LeftRight",a.frame="Frame",a.showTop=function(t){return"number"==typeof t?!!(1&t):[a.topOnly,a.topBottom,a.frame].some((function(e){return e===t}))},a.showRight=function(t){return"number"==typeof t?!!(2&t):[a.rightOnly,a.leftRight,a.frame].some((function(e){return e===t}))},a.showBottom=function(t){return"number"==typeof t?!!(4&t):[a.bottomOnly,a.topBottom,a.frame].some((function(e){return e===t}))},a.showLeft=function(t){return"number"==typeof t?!!(8&t):[a.leftOnly,a.leftRight,a.frame].some((function(e){return e===t}))},a.flagsEnumerationType=e.createEnumType([{value:1,displayName:function(e){return e.get("Top")}},{value:4,displayName:function(e){return e.get("Bottom")}},{value:8,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:2,displayName:function(e){return e.get("Visual_TextAlignment_Right")}}]),a.type=e.createEnumType([{value:a.none,displayName:function(e){return e.get("None")}},{value:a.bottomOnly,displayName:function(e){return e.get("Visual_Outline_bottom_only")}},{value:a.topOnly,displayName:function(e){return e.get("Visual_Outline_top_only")}},{value:a.leftOnly,displayName:function(e){return e.get("Visual_Outline_LeftOnly")}},{value:a.rightOnly,displayName:function(e){return e.get("Visual_Outline_RightOnly")}},{value:a.topBottom,displayName:function(e){return e.get("Visual_Outline_top_Bottom")}},{value:a.leftRight,displayName:function(e){return e.get("Visual_Outline_leftRight")}},{value:a.frame,displayName:function(e){return e.get("Visual_Outline_frame")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).paddingOptions||(t.paddingOptions={})).wide="Wide",t.normal="Normal",t.narrow="Narrow",t.custom="Custom",t.narrowPadding=2,t.normalPadding=4,t.widePadding=8,t.type=e.createEnumType([{value:t.wide,displayName:function(e){return e.get("Wide")}},{value:t.normal,displayName:function(e){return e.get("Normal")}},{value:t.narrow,displayName:function(e){return e.get("Narrow")}},{value:t.custom,displayName:function(e){return e.get("Custom")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLinePosition||(t.referenceLinePosition={})).back="back",t.front="front",t.type=e.createEnumType([{value:t.back,displayName:function(e){return e.get("Visual_Reference_Line_Behind")}},{value:t.front,displayName:function(e){return e.get("Visual_Reference_Line_InFront")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLineDataLabelHorizontalPosition||(t.referenceLineDataLabelHorizontalPosition={})).left="left",t.right="right",t.type=e.createEnumType([{value:t.left,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Left")}},{value:t.right,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Right")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLineDataLabelVerticalPosition||(t.referenceLineDataLabelVerticalPosition={})).above="above",t.under="under",t.type=e.createEnumType([{value:t.above,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Above")}},{value:t.under,displayName:function(e){return e.get("Visual_Reference_Line_Data_Label_Under")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).referenceLineShadeRegion||(t.referenceLineShadeRegion={})).before="before",t.after="after",t.none="none",t.type=e.createEnumType([{value:t.before,displayName:function(e){return e.get("Visual_Before")}},{value:t.after,displayName:function(e){return e.get("Visual_After")}},{value:t.none,displayName:function(e){return e.get("None")}}])})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=t.relativeSlicerPeriod||(t.relativeSlicerPeriod={}),i=e.data.RelativeDateUnit,a.none="None",a.seconds="Seconds",a.minutes="Minutes",a.hours="Hours",a.days="Days",a.weeks="Weeks",a.calendarWeeks="Calendar Weeks",a.months="Months",a.calendarMonths="Calendar Months",a.years="Years",a.calendarYears="Calendar Years",a.typeDate=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.days,displayName:function(e){return e.get("TimeUnit_Days")}},{value:a.weeks,displayName:function(e){return e.get("TimeUnit_Weeks")}},{value:a.calendarWeeks,displayName:function(e){return e.get("Visual_SlicerPeriod_CalWeeks")}},{value:a.months,displayName:function(e){return e.get("TimeUnit_Months")}},{value:a.calendarMonths,displayName:function(e){return e.get("Visual_SlicerPeriod_CalMonths")}},{value:a.years,displayName:function(e){return e.get("TimeUnit_Years")}},{value:a.calendarYears,displayName:function(e){return e.get("Visual_SlicerPeriod_CalYears")}}]),a.typeTime=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.minutes,displayName:function(e){return e.get("TimeUnit_Minutes")}},{value:a.hours,displayName:function(e){return e.get("TimeUnit_Hours")}}]),a.typeDateCurrent=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.days,displayName:function(e){return e.get("TimeUnit_Day")}},{value:a.weeks,displayName:function(e){return e.get("TimeUnit_Week")}},{value:a.months,displayName:function(e){return e.get("TimeUnit_Month")}},{value:a.years,displayName:function(e){return e.get("TimeUnit_Year")}}]),a.typeTimeCurrent=e.createEnumType([{value:a.none,displayName:function(e){return e.get("Select")}},{value:a.minutes,displayName:function(e){return e.get("TimeUnit_Minute")}},{value:a.hours,displayName:function(e){return e.get("TimeUnit_Hour")}}]),a.toString=function(e){if(null==e)return null;switch(e){case i.Second:return a.seconds;case i.Minute:return a.minutes;case i.Hour:return a.hours;case i.Day:return a.days;case i.Week:return a.weeks;case i.CalendarWeek:return a.calendarWeeks;case i.Month:return a.months;case i.CalendarMonth:return a.calendarMonths;case i.Year:return a.years;case i.CalendarYear:return a.calendarYears;default:return}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=t.relativeSlicerRelativeQualifier||(t.relativeSlicerRelativeQualifier={}),i=e.data.RelativeDateQualifier,a.last="Last",a.next="Next",a.current="This",a.type=e.createEnumType([{value:a.last,displayName:function(e){return e.get("Visual_SlicerRange_Last")}},{value:a.next,displayName:function(e){return e.get("Visual_SlicerRange_Next")}},{value:a.current,displayName:function(e){return e.get("Visual_SlicerRange_This")}}]),a.toString=function(e){if(null==e)return null;switch(e){case i.Last:return a.last;case i.Current:return a.current;case i.Next:return a.next;default:return}}})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).rowSubtotalPosition||(t.rowSubtotalPosition={})).top="Top",t.bottom="Bottom",t.type=e.createEnumType([{value:t.top,displayName:function(e){return e.get("Top")}},{value:t.bottom,displayName:function(e){return e.get("Bottom")}}])})(powerbi=powerbi||{}),(function(e){var t,a;t=(t=e.visuals||(e.visuals={})).ShapeMapType||(t.ShapeMapType={}),(a=t.Role||(t.Role={})).category="Category",a.series="Series",a.tooltips="Tooltips",a.value="Value",(a=t.Projection||(t.Projection={})).albersUsa="albersUsa",a.equirectangular="equirectangular",a.mercator="mercator",a.orthographic="orthographic",a.type=e.createEnumType([{value:a.albersUsa,displayName:function(e){return e.get("Visual_ShapeMap_Projection_AlbersUsa")}},{value:a.equirectangular,displayName:function(e){return e.get("Visual_ShapeMap_Projection_Equirectangular")}},{value:a.mercator,displayName:function(e){return e.get("Visual_ShapeMap_Projection_Mercator")}},{value:a.orthographic,displayName:function(e){return e.get("Visual_ShapeMap_Projection_Orthographic")}}])})(powerbi=powerbi||{}),(function(e){var t,a,i;t=(t=e.visuals||(e.visuals={})).shapeType||(t.shapeType={}),(i=a=t.shape||(t.shape={})).Arrow="arrow",i.ArrowChevron="arrowChevron",i.ArrowPentagon="arrowPentagon",i.Heart="heart",i.Hexagon="hexagon",i.Line="line",i.Octagon="octagon",i.Oval="oval",i.Parallelogram="parallelogram",i.Pentagon="pentagon",i.Pill="pill",i.Rectangle="rectangle",i.RectangleRounded="rectangleRounded",i.TabCutCorner="tabCutCorner",i.TabCutTopCorners="tabCutTopCorners",i.TabRoundCorner="tabRoundCorner",i.TabRoundTopCorners="tabRoundTopCorners",i.Speechbubble="speechbubbleRectangle",i.Trapezoid="trapezoid",i.TriangleIsoc="triangleIsoc",i.TriangleRight="triangleRight",t.type=e.createEnumType([{value:a.Arrow,displayName:function(e){return e.get("ReportAppBar_ShapeArrow")}},{value:a.ArrowChevron,displayName:function(e){return e.get("Visual_Shape_ArrowChevron")}},{value:a.ArrowPentagon,displayName:function(e){return e.get("Visual_Shape_ArrowPentagon")}},{value:a.Heart,displayName:function(e){return e.get("Visual_Shape_Heart")}},{value:a.Hexagon,displayName:function(e){return e.get("Visual_Shape_Hexagon")}},{value:a.Line,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:a.Octagon,displayName:function(e){return e.get("Visual_Shape_Octagon")}},{value:a.Oval,displayName:function(e){return e.get("ReportAppBar_ShapeOval")}},{value:a.Parallelogram,displayName:function(e){return e.get("Visual_Shape_Parallelogram")}},{value:a.Pentagon,displayName:function(e){return e.get("Visual_Shape_Pentagon")}},{value:a.Pill,displayName:function(e){return e.get("Visual_Shape_Pill")}},{value:a.Rectangle,displayName:function(e){return e.get("ReportAppBar_ShapeRectangle")}},{value:a.RectangleRounded,displayName:function(e){return e.get("Visual_Shape_RectangleRounded")}},{value:a.TabCutCorner,displayName:function(e){return e.get("Visual_Shape_TabCutCorner")}},{value:a.TabCutTopCorners,displayName:function(e){return e.get("Visual_Shape_TabCutTopCorners")}},{value:a.TabRoundCorner,displayName:function(e){return e.get("Visual_Shape_TabRoundCorner")}},{value:a.TabRoundTopCorners,displayName:function(e){return e.get("Visual_Shape_TabRoundTopCorners")}},{value:a.Speechbubble,displayName:function(e){return e.get("Visual_Shape_SpeechBubble")}},{value:a.Trapezoid,displayName:function(e){return e.get("Visual_Shape_Trapezoid")}},{value:a.TriangleIsoc,displayName:function(e){return e.get("Visual_Shape_TriangleIsoc")}},{value:a.TriangleRight,displayName:function(e){return e.get("Visual_Shape_TriangleRight")}}])})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).slicerExpandCollapseToggle||(t.slicerExpandCollapseToggle={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Icon_Chevron")}},{value:1,displayName:function(e){return e.get("Icon_PlusMinus")}},{value:2,displayName:function(e){return e.get("Icon_Caret")}}])})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),i=e.data.RelativeFilterType,(a=t.slicerMode||(t.slicerMode={})).before="Before",a.after="After",a.between="Between",a.basic="Basic",a.dropdown="Dropdown",a.relativeDate="Relative",a.single="Single",a.relativeTime="RelativeTime",a.horizontalList="HorizontalList",a.verticalList="VerticalList",a.type=e.createEnumType([{value:a.verticalList,displayName:function(e){return e.get("Visual_SliderMode_VerticalList")}},{value:a.horizontalList,displayName:function(e){return e.get("Tile_Generic")}},{value:a.between,displayName:function(e){return e.get("Visual_SliderMode_Between")}},{value:a.before,displayName:function(e){return e.get("Visual_Before")}},{value:a.after,displayName:function(e){return e.get("Visual_After")}},{value:a.basic,displayName:function(e){return e.get("Visual_SliderMode_Basic")}},{value:a.dropdown,displayName:function(e){return e.get("Visual_SliderMode_Dropdown")}},{value:a.relativeDate,displayName:function(e){return e.get("Visual_SliderMode_RelativeDate")}},{value:a.single,displayName:function(e){return e.get("Visual_SliderMode_SingleVal")}},{value:a.relativeTime,displayName:function(e){return e.get("Visual_SliderMode_RelativeTime")}}]),a.isRangeSlicerMode=function(e){return e===a.before||e===a.between||e===a.after||e===a.single},a.slicerModeSupportsMinMax=function(e){return e===a.before||e===a.between||e===a.after},a.isRelativeSlicer=function(e){return e===a.relativeDate||e===a.relativeTime},a.isSlicerBasicOrDropdownType=function(e){return e===a.basic||e===a.dropdown},a.convertModeToRelativeFilterType=function(e){switch(e){case a.relativeTime:return i.Time;case a.relativeDate:return i.Date;default:"The following slicer mode is not a relative filter: ".concat(e)}}})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).slicerOrientation||(t.slicerOrientation={})).type=e.createEnumType([{value:0,displayName:function(e){return e.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(e){return e.get("Slicer_Orientation_Horizontal")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).smallMultiplesLayout||(t.smallMultiplesLayout={})).auto="auto",t.custom="custom",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_Auto")}},{value:t.custom,displayName:function(e){return e.get("Custom")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).sparklineChartType||(t.sparklineChartType={})).line="line",t.column="column",t.type=e.createEnumType([{value:t.line,displayName:function(e){return e.get("Visual_Shape_Line")}},{value:t.column,displayName:function(e){return e.get("Column")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).sparklineMarkerType||(t.sparklineMarkerType={})).all=1,t.highest=2,t.lowest=4,t.first=8,t.last=16,t.negative=32,t.isolated=128,t.type=e.createEnumType([{value:t.all,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_All")}},{value:t.highest,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Highest")}},{value:t.lowest,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Lowest")}},{value:t.first,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_First")}},{value:t.last,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Last")}},{value:t.negative,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Negative")}},{value:t.isolated,displayName:function(e){return e.get("Sparkline_Formatting_MarkerType_Isolated")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).SpeechBubbleTailPosition||(t.SpeechBubbleTailPosition={})).BottomLeft="bottomLeft",t.BottomRight="bottomRight",t.RightDown="rightDown",t.RightUp="rightUp",t.TopRight="topRight",t.TopLeft="topLeft",t.LeftUp="leftUp",t.LeftDown="leftDown",t.type=e.createEnumType([{value:t.BottomLeft,displayName:function(e){return e.get("Visual_LabelPosition_BottomLeft")}},{value:t.BottomRight,displayName:function(e){return e.get("Visual_LabelPosition_BottomRight")}},{value:t.RightDown,displayName:function(e){return e.get("Visual_Shape_ChatPosition_RightDown")}},{value:t.RightUp,displayName:function(e){return e.get("Visual_Shape_ChatPosition_RightUp")}},{value:t.TopRight,displayName:function(e){return e.get("Visual_LabelPosition_TopRight")}},{value:t.TopLeft,displayName:function(e){return e.get("Visual_LabelPosition_TopLeft")}},{value:t.LeftUp,displayName:function(e){return e.get("Visual_Shape_ChatPosition_LeftUp")}},{value:t.LeftDown,displayName:function(e){return e.get("Visual_Shape_ChatPosition_LeftDown")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).standardGeoJson||(t.standardGeoJson={})).australiaStates="australia.states.topo",t.austriaStates="austria.states.topo",t.brazilStates="brazil.states.topo",t.canadaProvinces="canada.provinces.topo",t.franceRegionsV2="france.regions.v2.topo",t.germanyStates="germany.states.topo",t.irelandCountiesV2="ireland.counties.v2.topo",t.italyRegions="italy.regions.topo",t.mexicoStates="mexico.states.topo",t.netherlandsProvinces="netherlands.provinces.topo",t.ukCountries="uk.countries.topo",t.usaStates="usa.states.topo",t.franceRegions="france.regions.topo",t.irelandCounties="ireland.counties.topo",t.type=e.createEnumType([{value:t.australiaStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_AustraliaStates")}},{value:t.austriaStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_AustriaStates")}},{value:t.brazilStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_BrazilStates")}},{value:t.canadaProvinces,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")}},{value:t.franceRegionsV2,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_FranceRegions")}},{value:t.franceRegions,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")}},{value:t.germanyStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_GermanyStates")}},{value:t.irelandCountiesV2,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_IrelandCounties")}},{value:t.irelandCounties,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")}},{value:t.italyRegions,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_ItalyRegions")}},{value:t.mexicoStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_MexicoStates")}},{value:t.netherlandsProvinces,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")}},{value:t.ukCountries,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_UkCountries")}},{value:t.usaStates,displayName:function(e){return e.get("Visual_ShapeMap_StandardMaps_UsaStates")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).strokeLineJoin||(t.strokeLineJoin={})).miter="miter",t.round="round",t.bevel="bevel",t.defaultValue=t.round,t.type=e.createEnumType([{value:t.miter,displayName:function(e){return e.get("Visual_StrokeLineJoin_Miter")}},{value:t.round,displayName:function(e){return e.get("Visual_StrokeLineJoin_Round")}},{value:t.bevel,displayName:function(e){return e.get("Visual_StrokeLineJoin_Bevel")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).textAlignment||(t.textAlignment={})).auto="Auto",t.left="Left",t.center="Center",t.right="Right",t.type=e.createEnumType([{value:t.auto,displayName:function(e){return e.get("Visual_TextAlignment_Auto")}},{value:t.left,displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:t.center,displayName:function(e){return e.get("Visual_TextAlignment_Center")}},{value:t.right,displayName:function(e){return e.get("Visual_TextAlignment_Right")}}])})(powerbi=powerbi||{}),(function(e){var t;(t=(t=e.visuals||(e.visuals={})).verticalPosition||(t.verticalPosition={})).top="top",t.bottom="bottom",t.type=e.createEnumType([{value:t.top,displayName:function(e){return e.get("Top")}},{value:t.bottom,displayName:function(e){return e.get("Bottom")}}])})(powerbi=powerbi||{}),(function(e){var t,a;function i(e){e&&e.duration&&(this.animationDuration=e.duration),this.animationDuration=0<=this.animationDuration?this.animationDuration:t.MinervaAnimationDuration}e=e.visuals||(e.visuals={}),(a=t=e.AnimatorCommon||(e.AnimatorCommon={})).MinervaAnimationDuration=250,a.MaxDataPointsToAnimate=1e3,a.GetAnimationDuration=function(e,t){return t||!e?0:e.getDuration()},i.prototype.getDuration=function(){return this.animationDuration},i.prototype.animate=function(e){return null},i.prototype.getEasing=function(){return d3.easeCubicInOut},a=i,e.BaseAnimator=a})(powerbi=powerbi||{}),(function(ae){var ie,oe,e,re,ne,le,a,se,ce,p;function t(e,t,a,i){this.host=e,this.anomalyDetection=t,this.valuesMetadata=a,this.formatStringProp=i,this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}function u(e){var t,a=null==(a=e.categorical)?void 0:a.categories;return!(!a||0===_.size(a)||!(a=null==(a=_.first(a).source)?void 0:a.type))&&(!!a.dateTime||!(null==(t=a.temporal)||!t.year)||!!a.temporal&&_.some(e.metadata.columns,(function(e){return null==(e=e.type.temporal)?void 0:e.year})))}function d(e){e=null==(e=e.categorical)?void 0:e.values;return!(!e||0===_.size(e))&&_.some(e,(function(e){return!!e.source.objects&&!!e.source.objects[ie.referenceLineObjectName]}))}function i(e){return _.some(e,(function(e){return!(!e.objects||!e.objects[oe.capabilityObjectName]||e.objects[ie.referenceLineObjectName]||e.objects[ie.ForecastHelper.forecastObjectName])}))}function o(e){return!e||!(e=ae.DataViewObjects.getValue(e,{objectName:ie.categoryAxisName,propertyName:ie.axisTypeName}))||e===ie.scalarName}function r(e){var t=e.items,e=e.activeItems;if(_.size(t)<1)return!1;if(1===_.size(t)){if(!(o=_.first(t).type)||!o.dateTime&&(null==(a=o.temporal)||!a.year))return!1}else{var a=_.size(e);if(a<1)return!1;var i=_.last(e),e=_.find(t,(function(e){return e.queryName===i}));if(!e)return!1;var o=e.type;if(!(1!==a||null!=(t=null==o?void 0:o.temporal)&&t.year))return!1;if(1<a&&(null==o||!o.temporal))return!1;if(null==(t=e.scalarKeyInfo)||!t.hasScalarKey)return!1}return!0}function n(e){return!(e.role===ie.LineChartRoles.Series&&!_.isEmpty(e.items))}function l(e){var t;return!!e&&!(!(t=_.find(e,(function(e){return e.for.in.role===ie.LineChartRoles.Y})))||1!==_.size(t.for.in.items)||(t=_.find(e,(function(e){return e.for.in.role===ie.LineChartRoles.Y2})))&&!_.isEmpty(t.for.in.items))}ie=ae.visuals||(ae.visuals={}),a=ae.data.CompiledDataViewMapping,se=ae.data.DataRoleHelper,ce=ae.DataViewObject,p=ae.data.Selector,ie.AnomalyDetectionColumns={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},(e=oe=ie.AnomalyDetectionObjectConstants||(ie.AnomalyDetectionObjectConstants={})).capabilityObjectName="anomalyDetection",e.dataPointObjectName="anomaly",e.isAnomalyHighlighted="isAnomalyHighlighted",e.sensitivitySliceName="sensitivity",e.transformParameterSensitivityName="Sensitivity",e.explainByPropertyName="explainBy",ie.referenceLineObjectName="referenceLine",ie.categoryAxisName="categoryAxis",ie.axisTypeName="axisType",ie.scalarName="Scalar",ie.AnomalyDetectionOutputRoles=_.mapValues(ie.AnomalyDetectionColumns,(function(e){return"".concat(oe.capabilityObjectName,".").concat(e)})),(e=ie.AnomalyDetectionTransformConstants||(ie.AnomalyDetectionTransformConstants={})).transformPluginName="SampleAndDetectAnomaly",e.transformPropertyName="transform",e.transformParameterSampleCountName="SampleSizePerSeries",e.defaultSensitivityValue=.7,e.transformProperty={objectName:oe.capabilityObjectName,propertyName:e.transformPropertyName},e.showProperty={objectName:oe.capabilityObjectName,propertyName:"show"},e.explainByProperty={objectName:oe.capabilityObjectName,propertyName:oe.explainByPropertyName},(re=ie.AnomalyDetectionVisualPlugin||(ie.AnomalyDetectionVisualPlugin={})).anomalyDetectionPropertyNames={show:"show",displayName:"displayName",markerShape:"markerShape",markerShapeSize:"markerShapeSize",markerColor:"markerColor",confidenceBandStyle:"confidenceBandStyle",transparency:"transparency",confidenceBandColor:"confidenceBandColor",transform:"transform"},re.defaultsFormattingPropertyValues={displayName:"",markerShape:ie.anomalyMarkerShape.defaultValue,markerShapeSize:5,confidenceBandStyle:ie.confidenceBandStyle.fill,transparency:80},le=ne="foregroundSelected",t.prototype.getTooltipItems=function(e,t){e=this.anomalies[e];if(e)return[{displayName:this.expectedValueName,value:ie.converterHelper.formatFromMetadataColumn(e.expectedValue,this.valuesMetadata,this.formatStringProp,!1,t)},{displayName:this.expectedLowName,value:ie.converterHelper.formatFromMetadataColumn(e.lowerBound,this.valuesMetadata,this.formatStringProp,!1,t)},{displayName:this.expectedHighName,value:ie.converterHelper.formatFromMetadataColumn(e.upperBound,this.valuesMetadata,this.formatStringProp,!1,t)}]},re.AnomalyTooltipBuilder=t,re.enumerateObjectInstances=function(e,t,a,i,o){var r,n,t=_.first(t);if(t){if((n={})[re.anomalyDetectionPropertyNames.show]=t.show,n[re.anomalyDetectionPropertyNames.displayName]=t.displayName,n[re.anomalyDetectionPropertyNames.markerShape]=t.markerShape,n[re.anomalyDetectionPropertyNames.markerShapeSize]=t.markerShapeSize,n[re.anomalyDetectionPropertyNames.markerColor]=t.markerColor,n[re.anomalyDetectionPropertyNames.confidenceBandStyle]=t.confidenceBandStyle,n[re.anomalyDetectionPropertyNames.transparency]=t.transparency,n[re.anomalyDetectionPropertyNames.confidenceBandColor]=t.confidenceBandColor,e.pushInstance({selector:t.selector,properties:n,objectName:oe.capabilityObjectName}),o)for(var l=p.containsWildcard(p.convertSelectorsByColumnToSelector(o)),s=0,c=t.anomalies;s<c.length;s++){var u=c[s];u.isAnomaly&&(l||p.equalsSelectorsByColumn(u.identity.getSelectorsByColumn(),o))&&e.pushInstance({objectName:oe.dataPointObjectName,selector:p.convertSelectorsByColumnToSelector(u.identity.getSelectorsByColumn()),properties:((r={})[ie.AnomalyDetectionColumns.CategoryValue]=u.categoryValue,r[ie.AnomalyDetectionColumns.Value]=u.value,r[ie.AnomalyDetectionColumns.ExpectedValue]=u.expectedValue,r[ie.AnomalyDetectionColumns.ExpectedLow]=u.lowerBound,r[ie.AnomalyDetectionColumns.ExpectedHigh]=u.upperBound,r[ie.AnomalyDetectionColumns.BatchStart]=u.batchStart,r[ie.AnomalyDetectionColumns.BatchEnd]=u.batchEnd,r[ie.AnomalyDetectionColumns.FormattedCategoryValue]=u.formattedCategoryValue,r[ie.AnomalyDetectionColumns.ValueFormatString]=u.valueFormatString,r)})}}else n=a,t=i,i={selector:{id:"0"},properties:((a={})[re.anomalyDetectionPropertyNames.show]=!1,a[re.anomalyDetectionPropertyNames.displayName]=re.defaultsFormattingPropertyValues.displayName,a[re.anomalyDetectionPropertyNames.markerShape]=re.defaultsFormattingPropertyValues.markerShape,a[re.anomalyDetectionPropertyNames.markerShapeSize]=re.defaultsFormattingPropertyValues.markerShapeSize,a[re.anomalyDetectionPropertyNames.markerColor]={solid:{color:ie.ColorHelper.getThemeColor(n,ne)}},a[re.anomalyDetectionPropertyNames.confidenceBandStyle]=re.defaultsFormattingPropertyValues.confidenceBandStyle,a[re.anomalyDetectionPropertyNames.transparency]=re.defaultsFormattingPropertyValues.transparency,a[re.anomalyDetectionPropertyNames.confidenceBandColor]={solid:{color:ie.ColorHelper.getThemeColor(n,le)}},a),objectName:oe.capabilityObjectName,disabledReason:t},e.pushInstance(i)},re.enumerateAnomalyObjectInstances=function(e,t,a,i,o,r,n,l){var s,c;_.isEmpty(t.forecastLines)?t.hasDynamicSeries?(c=e.getLocalizedString("Role_DisplayName_Legend"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",c)):se.hasRoleInMetadataColumns(t.valuesMetadata,ie.LineChartRoles.Y2)?(c=e.getLocalizedString("Role_DisplayName_Y2"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",c)):1!==t.series.length?(c=e.getLocalizedString("Role_DisplayName_Values"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",c)):u(a)?n?d(a)&&(t=e.getLocalizedString("Visual_Trend_Line"),n=e.getLocalizedString("Visual_Reference_Line"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",t,n)):(a=e.getLocalizedString("Type"),t=e.getLocalizedString("Visual_XAxis"),n=e.getLocalizedString("Visual_Axis_Scalar"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",a,t,n)):(c=e.getLocalizedString("Role_DisplayName_Axis"),s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",c)):s=e.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast"),re.enumerateObjectInstances(i,o,r,s,l)},re.hasDatetime=u,re.hasDataBoundReferenceLine=d,re.supportedAnomalyMapping=function(e){return jsCommon.TypeChecker.check((function(t){return{metadata:t.check(e&&e.metadata,jsCommon.exists,(function(e){return{columns:t.check(e.columns,i,jsCommon.identity),objects:t.check(e.objects,o,jsCommon.identity)}})),categorical:t.check(e.categorical,jsCommon.exists,(function(e){return{categories:t.check(e.categories,a.isCompiledDataViewRoleForMapping,(function(e){return{for:t.check(e.for,jsCommon.exists,(function(e){return{in:t.check(e.in,r,jsCommon.identity)}}))}})),values:t.check(e.values,a.isCompiledDataViewGroupedRoleMapping,(function(e){return{group:t.check(e.group,jsCommon.exists,(function(e){return{by:t.check(e.by,n,jsCommon.identity),select:t.check(e.select,l,jsCommon.identity)}}))}}))}}))}}))},re.isDataViewForAnomalyDetection=function(e){var t;return!(null==(t=null==e?void 0:e.categorical)||!t.values)&&(t=e.categorical.values.grouped(),_.some(t,(function(e){return _.some(e.values,(function(e){return se.hasRoleInValueColumn(e,ie.AnomalyDetectionOutputRoles.Anomaly)}))})))},re.readDataView=function(e,t,a,i){if(!e.categorical||!t.categorical)return[];if(e=e.categorical,_.isEmpty(e.categories)||_.isEmpty(e.values))return[];var o,r,n=_.first(e.categories),l=((s=ie.ScalarUtils.getScalarKeys(n))?(o=_.map(s.values,(function(e){return e.min})),r=_.last(e.categories).values):o=n.values,e.values.grouped());if(_.isEmpty(o)||_.isEmpty(l))return[];var s=t.categorical.values;if(_.isEmpty(s))return[];var c,e=_.first(s),u=null!=(s=e.objects)?s:[],p=e.values,d=se.getMeasureIndexOfRole(l,ie.AnomalyDetectionOutputRoles.Anomaly),m=se.getMeasureIndexOfRole(l,ie.AnomalyDetectionOutputRoles.ExpectedValue),F=se.getMeasureIndexOfRole(l,ie.AnomalyDetectionOutputRoles.ExpectedHigh),z=se.getMeasureIndexOfRole(l,ie.AnomalyDetectionOutputRoles.ExpectedLow),B=se.getMeasureIndexOfRole(l,ie.AnomalyDetectionOutputRoles.BatchStart),I=se.getMeasureIndexOfRole(l,ie.AnomalyDetectionOutputRoles.BatchEnd),y=ie.ColorHelper.create(a),g=[],h=0,b=(function(e){e.categorical.values;var t=[],e=_.first(e.categorical.values.grouped());if(e)for(var a=0,i=e.values;a<i.length;a++){var o=i[a],r=o.source.queryName;r&&(o=ae.DataViewObjects.getUserDefinedObjects(o.source.objects,oe.capabilityObjectName),t[r]=o)}return t})(t),H=_.first(t.categorical.categories).source.queryName,f=e.source,E=f.queryName,S=e.objects;for(c in b){var v,C=b[c];for(v in C){var N=C[v],x=ce.getValue(N,re.anomalyDetectionPropertyNames.show,!1);if(x){for(var G=ce.getValue(N,re.anomalyDetectionPropertyNames.displayName),W=ce.getValue(N,re.anomalyDetectionPropertyNames.markerShape,re.defaultsFormattingPropertyValues.markerShape),U=ce.getValue(N,re.anomalyDetectionPropertyNames.markerShapeSize,re.defaultsFormattingPropertyValues.markerShapeSize),K={solid:{color:y.getColorForPropertyName(N,re.anomalyDetectionPropertyNames.markerColor,ne)}},Y=ce.getValue(N,re.anomalyDetectionPropertyNames.transparency,re.defaultsFormattingPropertyValues.transparency),q=ce.getValue(N,re.anomalyDetectionPropertyNames.confidenceBandStyle,re.defaultsFormattingPropertyValues.confidenceBandStyle),N={solid:{color:y.getColorForPropertyName(N,re.anomalyDetectionPropertyNames.confidenceBandColor,le)}},w=l[h],P=[],T=[],Q=w.values[d].values,Z=w.values[m].values,X=w.values[F].values,$=w.values[z].values,J=w.values[B].values,ee=w.values[I].values,V={index:-1,value:Number.MIN_VALUE},D={index:-1,value:Number.MAX_VALUE},L=0;L<o.length;L++){var M=u[L],te=(new ie.SelectionIdBuilder).withCategory([n],L,H,!0).withMeasure(E).createSelectionId(),M=ae.DataViewObjects.getValue(M,{objectName:oe.capabilityObjectName,propertyName:oe.isAnomalyHighlighted},!1),R=ie.AxisHelper.normalizeNonFiniteNumber(p[L]),A=ie.AxisHelper.normalizeNonFiniteNumber(Z[L]),O=!!Q[L],j=void 0,k=void 0;O&&(A<R&&V.value<R&&(V={index:L,value:R}),R<A&&D.value>R&&(D={index:L,value:R}),j=(function(e,t,a,i,o){if(a)return a;a=e.objects,a=ae.DataViewObjects.getValue(a?a[i]:void 0,t);return ie.converterHelper.formatFromMetadataColumn(o,e.source,t,!1,a)})(n,i,_.get(r,L,void 0),L,o[L]),k=(function(e,t,a){t=ae.DataViewObjects.getValue(t,a);t=t||ie.valueFormatter.getFormatString(e,a,!!e.format);!t&&e&&(t=e.format);return t})(f,S?S[L]:void 0,i)),P.push({isAnomaly:O,categoryValue:ie.AxisHelper.normalizeNonFiniteNumber(o[L]),value:R,upperBound:ie.AxisHelper.normalizeNonFiniteNumber(X[L]),lowerBound:ie.AxisHelper.normalizeNonFiniteNumber($[L]),expectedValue:A,identity:te,batchStart:J[L],batchEnd:ee[L],categoryIndex:L,isHighlighted:M,formattedCategoryValue:j,valueFormatString:k,seriesIndex:0,selected:!1}),O&&T.push(L)}g.push({selector:{id:v,metadata:c},anomalies:P,anomaliesCategoryIndex:T,show:x,displayName:G,markerShape:W,markerShapeSize:U,markerColor:K,confidenceBandStyle:q,transparency:Y,confidenceBandColor:N,highestAnomalyPointIndex:V.index,lowestAnomalyPointIndex:D.index}),h++}}}return g},re.adjustDomainForAnomalyMarkers=function(e,t,a){if(_.isEmpty(a)||_.every(a,(function(e){return-1===e.highestAnomalyPointIndex&&-1===e.lowestAnomalyPointIndex})))return e;for(var i=t,o=i(e[0]),r=i(e[1]),n=0,l=a;n<l.length;n++){var s,c=l[n],u=5*c.markerShapeSize;-1!==c.highestAnomalyPointIndex&&i(s=c.anomalies[c.highestAnomalyPointIndex].value)-i(e[1])<u&&(s=i(s)-u,r=Math.min(r,s)),-1!==c.lowestAnomalyPointIndex&&(s=c.anomalies[c.lowestAnomalyPointIndex].value,i(e[0])-i(s)<u)&&(c=i(s)+u,o=Math.max(o,c))}return[i.invert(o),i.invert(r)]},re.isSingleDateColumn=function(e,t){return 1===_.size(e)&&(e=e[0].getMetadata(t))&&!!e.type.dateTime}})(powerbi=powerbi||{}),(function(e){var S,v,C,N,x,w,P,t;function T(e,t,a){C?C===e?(d3.select(e).style("fill-opacity",v.fillOpacity),C=void 0):(d3.select(C).style("fill-opacity",v.fillOpacity),C=e,d3.select(C).style("fill-opacity",v.fillOpacitySelected)):(C=e,d3.select(C).style("fill-opacity",v.fillOpacitySelected)),C&&a({type:0,visualObjects:[{objectName:S.AnomalyDetectionObjectConstants.dataPointObjectName,selectorsByColumn:t.identity.getSelectorsByColumn()}]}),d3.event.stopPropagation()}S=e.visuals||(e.visuals={}),e=jsCommon.CssConstants,t=jsCommon.DOMConstants,(v=S.AnomalyDetectionCartesianRenderer||(S.AnomalyDetectionCartesianRenderer={})).anomalyConfidenceIntervalClassSelector=e.createClassAndSelector("anomaly-confidence-interval"),v.anomalyDetectionLowerLayerClassSelector=e.createClassAndSelector("anomaly-lower-layer"),v.anomalyDetectionHigherLayerClassSelector=e.createClassAndSelector("anomaly-higher-layer"),v.anomalyPointClassSelector=e.createClassAndSelector("anomaly-point"),v.fillOpacity=.5,v.fillOpacitySelected=1,N="".concat(t.mouseOutEventName).concat(v.anomalyPointClassSelector.selector),x="".concat(t.mouseOverEventName).concat(v.anomalyPointClassSelector.selector),w="".concat(t.pointerDownEventName).concat(v.anomalyPointClassSelector.selector),P=2,v.render=function(e,t,a,i,o,r,n,l){var s=t.select(v.anomalyDetectionLowerLayerClassSelector.selector),c=(s.empty()&&(s=t.insert("g",":first-child").classed(v.anomalyDetectionLowerLayerClassSelector.class,!0)),t.select(v.anomalyDetectionHigherLayerClassSelector.selector)),t=(c.empty()&&(c=t.append("g").classed(v.anomalyDetectionHigherLayerClassSelector.class,!0)),e),u=a,p=i,d=r,t=(s=s.selectAll(v.anomalyConfidenceIntervalClassSelector.selector).data(t||[],(function(e){return e.selector.id}))).enter().insert("path",":first-child").classed(v.anomalyConfidenceIntervalClassSelector.class,!0).merge(s),d=(((m=d?t.transition().ease(d3.easeLinear).duration(d):m)||t).attr("d",(function(e){for(var t=d3.line().x((function(e){return u(e.x)})).y((function(e){return p(e.y)})),a=[],i=0,o=e.anomalies.slice().reverse();i<o.length;i++){var r=o[i];a.push({x:r.categoryValue,y:r.lowerBound})}for(var n=0,l=e.anomalies;n<l.length;n++){r=l[n];a.push({x:r.categoryValue,y:r.upperBound})}return t(a)})),t.each((function(t){var e=d3.select(this),a=(100-t.transparency)/100;switch(e.style("fill-opacity",(function(e){return a})),e.style("stroke-opacity",(function(e){return a})),t.confidenceBandStyle){case S.confidenceBandStyle.fill:e.style("stroke",(function(e){return"transparent"})),e.style("fill",(function(e){return t.confidenceBandColor.solid.color}));break;case S.confidenceBandStyle.line:e.style("stroke",t.confidenceBandColor.solid.color),e.style("fill",(function(e){return"transparent"}));break;case S.confidenceBandStyle.none:e.style("stroke",(function(e){return"transparent"})),e.style("fill",(function(e){return"transparent"}));break;default:"Unknown confidencyBandStyle: ".concat(t.confidenceBandStyle,".")}})),s.exit().remove(),e),m=c,y=a,g=i,t=r,h=n.onSelecting,b=l,f=_.first(d),d=[];f&&(d=_.filter(f.anomalies,(function(e){return e.isAnomaly}))),m=m.selectAll(v.anomalyPointClassSelector.selector).data(d,(function(e){return e.categoryValue.toString()})),d=m.enter().append("path").classed(v.anomalyPointClassSelector.class,!0).merge(m),(t?d.transition().ease(d3.easeLinear).duration(t):d).attr("d",(function(){return S.anomalyMarkerShape.getPath(f.markerShape)})),d.attr("transform",(function(e){var t=y(e.categoryValue),a=g(e.value),i=g.range()[0]>g.range()[1],o=e.value>e.expectedValue&&i?-P*f.markerShapeSize:P*f.markerShapeSize,e=e.value>e.expectedValue&&i?0:180;return"translate(".concat(t,",").concat(a+o,") rotate(").concat(e,") scale(").concat(f.markerShapeSize,")")})),d.each((function(){d3.select(this).style("fill",f.markerColor.solid.color).style("stroke",f.markerColor.solid.color).attr("vector-effect","non-scaling-stroke").style("stroke-width",1.5).style("stroke-opacity",1).style("fill-opacity",(function(e){return this===C||e.isHighlighted?v.fillOpacitySelected:v.fillOpacity})).on(w,(function(e){b&&T(this,e,h)})).on(x,(function(){b&&d3.select(this).style("fill-opacity",v.fillOpacitySelected)})).on(N,(function(){b&&this!==C&&d3.select(this).style("fill-opacity",v.fillOpacity)}))})),m.exit().remove()},v.handleSelectedAnomaly=T,v.getAnomalyYPosition=function(e,t,a){return a=e.value>e.expectedValue?-P*a:P*a,t(e.value)+a},v.getAnomalySize=function(e){return 1.4*e}})(powerbi=powerbi||{}),(function(e){var r;function t(){}r=e.visuals||(e.visuals={}),t.prototype.update=function(e,t,a,i,o){this.anomalies=e,this.scrolledData=t,this.focusedDatum=a,this.updateFocusElement=i},t.prototype.getFirstElement=function(t,e){var a;if(void 0===e&&(e=!1),null!=t)return a=void 0,(a=(e?_.findLast:_.find)(this.anomalies,(function(e){return e.categoryIndex>=t&&e.isAnomaly})))&&this.scrolledData&&-1===this.scrolledData.categories.indexOf(a.categoryValue)?{element:null}:a?(this.focusedDatum=a,{element:this.updateFocusElement(a).node()}):void 0},t.prototype.getNextDataPoint=function(t,e,a){var i=this.focusedDatum;switch(a){case r.DataDirection.NextCategory:case r.DataDirection.PreviousCategory:var o=_.findIndex(this.anomalies,(function(e){return e&&e.categoryIndex===t})),i=this.pickNextAvailableIndex(this.anomalies,o,a);break;case r.DataDirection.NextSeries:case r.DataDirection.PreviousSeries:}if(i)return this.scrolledData&&-1===this.scrolledData.categories.indexOf(i.categoryValue)?{element:null,targetCategoryIndex:i.categoryIndex}:(this.focusedDatum=i,{element:this.updateFocusElement(i).node(),targetCategoryIndex:i.categoryIndex})},t.prototype.pickNextAvailableIndex=function(e,t,a){var i=a===r.DataDirection.NextCategory?1:-1,o=t;do{if((o+=i)>=e.length?o=0:o<0&&(o=e.length-1),o===t)break}while(!e[o]||!e[o].isAnomaly);return e[o]},r.AnomalyDetectionKeyboardNavigationHelper=t})(powerbi=powerbi||{}),(function(a){var e,o,i;function t(e,t){return(e+1)*t}function r(){}e=a.visuals||(a.visuals={}),o=e.SmallMultiplesUtils||(e.SmallMultiplesUtils={}),i=a.data,o.LayoutObjectName="smallMultiplesLayout",o.SubheaderObjectName="subheader",o.windowCount=t,r.DefaultRowCount=2,r.DefaultColumnCount=2,r.DefaultBackgroundColor=null,r.DefaultBackgroundTransparency=0,r.DefaultGridLineType=e.gridLineType.none,r.DefaultGridLineStyle=e.lineStyle.solid,r.DefaultGridLineColorName=e.ForegroundColorDarkName,r.DefaultGridLineWidth=1,r.DefaultPadding=12,r.DefaultAdvancedPaddingOptions=!1,r.DefaultWindowSize=(r.DefaultRowCount+1)*r.DefaultColumnCount,o.SmallMultiplesDefaults=r,o.isSmallMultiplesMapping=function(e){return jsCommon.TypeChecker.check((function(t){return{matrix:t.check(e&&e.matrix,jsCommon.exists,(function(e){return{rows:t.check(e.rows,i.CompiledDataViewMapping.isCompiledDataViewListRoleMapping,(function(e){return{select:t.check(e.select,jsCommon.size(2),(function(e){return[t.check(e[0],i.CompiledDataViewMapping.isCompiledDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],i.CompiledDataViewMapping.isCompiledDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}})),t.check(e[1],i.CompiledDataViewMapping.isCompiledDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],i.CompiledDataViewMapping.isCompiledDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}}))]}))}})),columns:t.check(e.columns,i.CompiledDataViewMapping.isCompiledDataViewRoleForMapping,jsCommon.identity),values:t.check(e.values,i.CompiledDataViewMapping.isCompiledDataViewListRoleMapping,jsCommon.identity)}})),metadata:e.metadata}}))},o.isSmallMultiplesDataViewMapping=function(e){return jsCommon.TypeChecker.check((function(t){return{matrix:t.check(e&&e.matrix,jsCommon.exists,(function(e){return{rows:t.check(e.rows,a.DataViewMapping.isDataViewListRoleMapping,(function(e){return{select:t.check(e.select,jsCommon.size(2),(function(e){return[t.check(e[0],a.DataViewMapping.isDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],a.DataViewMapping.isDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}})),t.check(e[1],a.DataViewMapping.isDataViewRoleCompositeMapping,(function(e){return{composite:t.check(e.composite,jsCommon.size(1),(function(e){return[t.check(e[0],a.DataViewMapping.isDataViewRoleForMapping,jsCommon.identity)]})),dataReductionAlgorithm:e.dataReductionAlgorithm}}))]}))}})),columns:t.check(e.columns,a.DataViewMapping.isDataViewRoleForMapping,jsCommon.identity)}}))}}))},o.supportsSmallMultiplesDataViewMapping=function(e){if(!_.isEmpty(e))for(var t=0,a=e;t<a.length;t++){var i=a[t];if(i.matrix&&o.isSmallMultiplesDataViewMapping(i))return!0}return!1},o.getRowMapping=function(e){return e.matrix.rows.select[0].composite[0]},o.getRowDataReduction=function(e){return e.matrix.rows.select[0].dataReductionAlgorithm},o.getCategoryMapping=function(e){return e.matrix.rows.select[1].composite[0]},o.getCategoryDataReduction=function(e){return e.matrix.rows.select[1].dataReductionAlgorithm},o.setCategoryDataReduction=function(e,t){e.matrix.rows.select[1].dataReductionAlgorithm=t},o.getSeriesMapping=function(e){return e.matrix.columns}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.StandardObjectProperties={axisEnd:{displayName:a("Visual_Axis_End"),description:a("Visual_Axis_EndDescription"),placeHolderText:a("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:a("Visual_Axis_Start"),description:a("Visual_Axis_StartDescription"),placeHolderText:a("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:a("Visual_Axis_Style"),type:{enumeration:t.axisStyle.type}},axisType:{displayName:a("Type"),type:{enumeration:t.axisType.type}},backColor:{displayName:a("Background_Color"),description:a("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:a("BinsDialog_BinType"),type:{enumeration:t.binType.type}},bold:{displayName:a("Bold"),type:{bool:!0}},borderColor:{displayName:a("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},numOfBins:{displayName:a("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:a("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:a("Visual_LabelsFill"),description:a("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},categoryColor:{displayName:a("Visual_LabelsFill"),description:a("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}},color:{displayName:a("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},dataLabelColor:{displayName:a("Visual_Reference_Line_Data_Label_Color"),description:a("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:a("Visual_Precision"),placeHolderText:a("Visual_Auto"),type:{numeric:!0}},dataLabelDisplayUnits:{displayName:a("Visual_DisplayUnits"),description:a("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelHorizontalPosition:{displayName:a("Visual_Reference_Line_Data_Horizontal_Position"),description:a("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:t.referenceLineDataLabelHorizontalPosition.type}},dataLabelText:{displayName:a("Text"),description:a("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:t.labelText.type}},dataLabelShow:{displayName:a("Visual_Reference_Line_Data_Label"),description:a("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelVerticalPosition:{displayName:a("Visual_Reference_Line_Data_Vertical_Position"),description:a("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:t.referenceLineDataLabelVerticalPosition.type}},defaultColor:{displayName:a("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:a("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:a("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},defaultToCircle:{displayName:a("Visual_LegendDefaultToCircle"),description:a("Visual_LegendDefaultToCircleDescription"),type:{bool:!0}},dynamicLabelValue:{displayName:a("Field"),type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:a("Visual_Error_Format"),type:{enumeration:t.errorFormat.type}},fill:{displayName:a("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:a("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:a("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:a("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},iconSize:{displayName:a("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:a("Italic"),type:{bool:!0}},image:{type:{image:{}}},invertAxis:{displayName:a("Visual_InvertAxis"),type:{bool:!0}},labelBackgroundColor:{displayName:a("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:a("Visual_Reference_Line_Transparency"),type:{integer:!0}},innerPadding:{displayName:a("Visual_Axis_InnerPadding"),description:a("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}},labelColor:{displayName:a("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},labelDisplayUnits:{displayName:a("Visual_DisplayUnits"),description:a("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:a("Visual_LabelEnableBackground"),type:{bool:!0}},labelPrecision:{displayName:a("Visual_Precision"),description:a("Visual_PrecisionDescription"),placeHolderText:a("Visual_Auto"),type:{integer:!0}},logAxisScale:{displayName:a("Visual_LogarithmicScale"),type:{bool:!0}},matchLineColor:{displayName:a("Visual_LegendMatchLineColor"),description:a("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},preferredCategoryWidth:{displayName:a("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:a("Visual_MaxMarginFactor"),description:a("Visual_MaxMarginFactorDescription"),type:{integer:!0}},percentageLabelPrecision:{displayName:a("Visual_Percentage_Precision"),description:a("Visual_Percentage_PrecisionDescription"),placeHolderText:a("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:a("Visual_Axis_Style"),description:a("Visual_LegendStyleDescription"),type:{enumeration:e.visuals.legendMarkerRendering.type}},legendPosition:{displayName:a("Visual_LegendPosition"),description:a("Visual_LegendPositionDescription"),type:{enumeration:t.legendPosition.type}},legendTitle:{displayName:a("Visual_LegendName"),description:a("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:a("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineStyle:{displayName:a("Visual_LineStyle"),type:{enumeration:t.lineStyle.type}},titleColor:{displayName:a("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:a("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:a("Visual_AxisTitleText"),placeHolderText:a("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:a("Visual_Outline"),type:{enumeration:t.outline.type}},outlineStyle:{displayName:a("Visual_Outline"),type:{flagsEnumeration:t.outline.flagsEnumerationType}},outlineColor:{displayName:a("Visual_OutlineColor"),description:a("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:a("Visual_OutlineWeight"),description:a("Visual_OutlineWeight_Desc"),type:{numeric:!0}},referenceLinePosition:{displayName:a("Visual_Reference_Line_Arrange"),description:a("Visual_Reference_Line_Arrange_Description"),type:{enumeration:t.referenceLinePosition.type}},reverseStackOrder:{displayName:a("Visual_ReverseStackOrder"),type:{bool:!0}},scaleToFit:{displayName:a("ScaleToFit"),type:{bool:!0}},sharedAxis:{displayName:a("Visual_Shared_YAxis"),type:{bool:!0}},show:{displayName:a("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:a("ShowAll"),type:{bool:!0}},showDynamicLabels:{displayName:a("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:a("Visual_LegendShowTitle"),description:a("Visual_LegendShowTitleDescription"),type:{bool:!0}},strokeWidth:{displayName:a("Visual_StrokeWidth"),type:{integer:!0}},strokeLineJoin:{displayName:a("Visual_StrokeLineJoin"),type:{enumeration:t.strokeLineJoin.type}},switchAxisPosition:{displayName:a("Visual_SwitchAxisPosition"),type:{bool:!0}},lineDashType:{displayName:a("Visual_LineDashType"),type:{enumeration:t.lineStyle.type}},showIcon:{displayName:a("Visual_ShowIcon"),type:{bool:!0}},showMarker:{displayName:a("Visual_ShowMarker"),type:{bool:!0}},markerShape:{displayName:a("Visual_MarkerShape"),type:{enumeration:t.markerShape.type}},fillPointStyle:{displayName:a("Visual_MarkerShape"),type:{enumeration:t.fillStyle.style}},markerSize:{displayName:a("Visual_MarkerSize"),type:{numeric:!0}},markerColor:{displayName:a("Visual_MarkerColor"),type:{fill:{solid:{color:!0}}}},matchSeriesColor:{displayName:a("RibbonChart_Color"),type:{bool:!0}},transparency:{displayName:a("Transparency"),description:a("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:a("Transparency"),description:a("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},referenceLineColor:{displayName:a("Visual_Reference_Line_Color"),description:a("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},responsive:{displayName:a("Visual_General_ResponsiveLabel"),description:a("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},shadeRegion:{displayName:a("Visual_ShadeRegion"),type:{enumeration:t.referenceLineShadeRegion.type}},shadeColor:{displayName:a("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:a("Visual_ShadeTransparency"),type:{numeric:!0}},stepped:{displayName:a("Visual_SteppedLine"),description:a("Visual_SteppedLineDescription"),type:{bool:!0}},tablixFontColor:{displayName:a("Visual_FontColor"),description:a("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:a("Visual_TextAlignment"),type:{enumeration:t.textAlignment.type}},totalsEnabled:{displayName:a("Visual_Axis_Total"),description:a("Visual_Axis_TotalDescription"),type:{bool:!0}},underline:{displayName:a("Underline"),type:{bool:!0}},width:{displayName:a("Visual_General_Properties_Width"),type:{integer:!0}}},t.SecondaryAxisProperties={secShow:{displayName:a("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:a("Visual_YAxis_AlignZeros"),description:a("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:a("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:a("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:a("Visual_Axis_Start"),description:a("Visual_Axis_StartDescription"),placeHolderText:a("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:a("Visual_Axis_End"),description:a("Visual_Axis_EndDescription"),placeHolderText:a("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:{displayName:a("Visual_Axis_Title"),description:a("Visual_Axis_YTitleDescription"),type:{bool:!0}},secAxisStyle:t.StandardObjectProperties.axisStyle,secLabelColor:t.StandardObjectProperties.labelColor,secFontFamily:t.StandardObjectProperties.fontFamily,secFontSize:t.StandardObjectProperties.fontSize,secBold:t.StandardObjectProperties.bold,secItalic:t.StandardObjectProperties.italic,secUnderline:t.StandardObjectProperties.underline,secLabelDisplayUnits:t.StandardObjectProperties.labelDisplayUnits,secLabelPrecision:t.StandardObjectProperties.labelPrecision,secTitleColor:t.StandardObjectProperties.titleColor,secTitleFontFamily:t.StandardObjectProperties.fontFamily,secTitleFontSize:t.StandardObjectProperties.titleFontSize,secTitleBold:t.StandardObjectProperties.bold,secTitleItalic:t.StandardObjectProperties.italic,secTitleUnderline:t.StandardObjectProperties.underline,secTitleText:t.StandardObjectProperties.titleText},e={displayName:a("Visual_DataTotalLabels"),description:a("Visual_DataTotalLabelsDescription"),properties:{show:t.StandardObjectProperties.show,color:t.StandardObjectProperties.dataColor,labelDisplayUnits:t.StandardObjectProperties.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},t.StandardObjectProperties.labelPrecision),{suppressFormatPainterCopy:!0}),enableBackground:t.StandardObjectProperties.labelEnableBackground,backgroundColor:t.StandardObjectProperties.labelBackgroundColor,backgroundTransparency:t.StandardObjectProperties.labelBackgroundTransparency,fontSize:t.StandardObjectProperties.fontSize,bold:t.StandardObjectProperties.bold,italic:t.StandardObjectProperties.italic,underline:t.StandardObjectProperties.underline,fontFamily:t.StandardObjectProperties.fontFamily}},(i=_.cloneDeep(e)).properties.showPositiveAndNegative={displayName:a("Visual_LabelPosAndNeg"),description:a("Visual_LabelPosAndNeg_Description"),type:{bool:!0}},t.StandardObjectDescriptors={legend:{displayName:a("Visual_Legend"),description:a("Visual_LegendDescription"),properties:{show:{displayName:a("Visual_Show"),type:{bool:!0}},position:{displayName:a("Visual_LegendPosition"),description:a("Visual_LegendPositionDescription"),type:{enumeration:t.legendPosition.type}},showTitle:{displayName:a("Visual_LegendShowTitle"),description:a("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:a("Visual_LegendName"),description:a("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},labelColor:{displayName:a("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},fontFamily:{displayName:a("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},fontSize:{displayName:a("Visual_TextSize"),type:{formatting:{fontSize:!0}}},bold:{displayName:a("Bold"),type:{bool:!0}},italic:{displayName:a("Italic"),type:{bool:!0}},underline:{displayName:a("Underline"),type:{bool:!0}}}},totals:e,totalsWithNet:i,zoom:{displayName:a("Visual_ZoomSlider"),properties:{show:{displayName:a("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:a("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:a("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:a("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:a("Visual_ZoomTooltips"),type:{bool:!0}}}},subheader:{displayName:a("Small_Multiples_Title"),description:a("Small_Multiples_Title_Description"),properties:{show:t.StandardObjectProperties.show,fontFamily:t.StandardObjectProperties.fontFamily,fontSize:t.StandardObjectProperties.fontSize,bold:t.StandardObjectProperties.bold,italic:t.StandardObjectProperties.italic,underline:t.StandardObjectProperties.underline,fontColor:t.StandardObjectProperties.fontColor,alignment:{displayName:a("Visual_Title_Alignment"),description:a("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:a("Visual_Position"),type:{enumeration:t.verticalPosition.type}},titleWrap:{displayName:a("Visual_Word_Wrap"),type:{bool:!0}}}},smallMultiplesLayout:{displayName:a("Small_Multiples_Layout"),description:a("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:a("Small_Multiples_Layout"),type:{enumeration:t.smallMultiplesLayout.type}},rowCount:{displayName:a("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:a("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:a("Background_Color"),description:a("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:__assign(__assign({},t.StandardObjectProperties.transparency),{displayName:a("Small_Multiples_Layout_Background_Transparency")}),gridLineType:{displayName:a("Visual_Gridline_Show"),description:a("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:t.gridLineType.type}},gridLineColor:__assign({},t.StandardObjectProperties.lineColor),gridLineWidth:__assign(__assign({},t.StandardObjectProperties.strokeWidth),{displayName:a("Visual_Line_Width")}),gridLineStyle:t.StandardObjectProperties.lineStyle,gridPadding:{displayName:a("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:a("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:a("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:a("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:a("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:a("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:a("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:a("Enabled"),type:{bool:!0}},errorRange:{displayName:a("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:t.StandardObjectProperties.show,barMatchSeriesColor:t.StandardObjectProperties.matchSeriesColor,barColor:{displayName:a("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:t.StandardObjectProperties.width,barBorderColor:t.StandardObjectProperties.borderColor,barBorderSize:{displayName:a("Visual_Border_Size"),type:{integer:!0}},shadeShow:t.StandardObjectProperties.show,shadeBandStyle:{displayName:a("Visual_Axis_Style"),type:{enumeration:t.confidenceBandStyle.typeWithBoth}},shadeColor:{displayName:a("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:t.StandardObjectProperties.matchSeriesColor,shadeTransparency:t.StandardObjectProperties.transparency,markerShape:{displayName:a("Visual_MarkerShape"),type:{enumeration:t.markerShape.typeWithNone}},showMarkerByDefault:{type:{bool:!0}},markerSize:t.StandardObjectProperties.markerSize,labelShow:t.StandardObjectProperties.show,labelFontFamily:t.StandardObjectProperties.fontFamily,labelFontSize:t.StandardObjectProperties.fontSize,labelBold:t.StandardObjectProperties.bold,labelItalic:t.StandardObjectProperties.italic,labelUnderline:t.StandardObjectProperties.underline,labelColor:t.StandardObjectProperties.color,labelMatchSeriesColor:t.StandardObjectProperties.matchSeriesColor,labelFormat:t.StandardObjectProperties.errorFormat,labelBackground:t.StandardObjectProperties.labelEnableBackground,labelBackgroundColor:t.StandardObjectProperties.labelBackgroundColor,labelBackgroundTransparency:t.StandardObjectProperties.labelBackgroundTransparency,tooltipShow:__assign(__assign({},t.StandardObjectProperties.show),{displayName:a("Visual_ShowInTooltip")}),tooltipFormat:t.StandardObjectProperties.errorFormat}}},t.StandardObjectIdentifiers=t.builder.getPropertyIdentifiers(t.StandardObjectDescriptors),t.StandardObjectPropertyIdentifiers={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},smallMultiplesGridLineColor:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},t.SecondaryAxisZoomObjectDescriptors={zoom:{properties:{showOnValueSecAxis:{displayName:a("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}},t.GradientLegendObjectDescriptors={legend:{properties:{showGradientLegend:{displayName:a("Visual_Show"),type:{bool:!0}}}}},t.SeriesObjectDescriptors={seriesLabels:{properties:{show:{displayName:a("Visual_SeriesLabels"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:a("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:a("Visual_SeriesPosition"),type:{enumeration:t.labelSeriesPosition.type}},enableBackground:t.StandardObjectProperties.labelEnableBackground,backgroundColor:t.StandardObjectProperties.labelBackgroundColor,backgroundTransparency:t.StandardObjectProperties.labelBackgroundTransparency,showAll:{displayName:a("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:a("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:t.StandardObjectProperties.bold,italic:t.StandardObjectProperties.italic,underline:t.StandardObjectProperties.underline,seriesFontFamily:{displayName:a("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:{displayName:a("Visual_WordWrap"),type:{bool:!0}},seriesMaximumWidth:{displayName:a("Visual_SeriesMaximumWidth"),placeHolderText:a("Visual_Auto"),type:{integer:!0}}}}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n,l,s,c,u;t=e.visuals||(e.visuals={}),c=e.data.createDisplayNameGetter,u=t.StandardObjectProperties,t.tileLibraryProps={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}}},t.tileShadowPositionPresetEnum=e.createEnumType([{value:"custom",displayName:function(e){return e.get("Custom")}},{value:"top",displayName:function(e){return e.get("Top")}},{value:"topLeft",displayName:function(e){return e.get("Visual_LabelPosition_TopLeft")}},{value:"topRight",displayName:function(e){return e.get("Visual_LabelPosition_TopRight")}},{value:"center",displayName:function(e){return e.get("Visual_TextAlignment_Center")}},{value:"centerLeft",displayName:function(e){return e.get("Visual_TextAlignment_Left")}},{value:"centerRight",displayName:function(e){return e.get("Visual_TextAlignment_Right")}},{value:"bottom",displayName:function(e){return e.get("Bottom")}},{value:"bottomLeft",displayName:function(e){return e.get("Visual_LabelPosition_BottomLeft")}},{value:"bottomRight",displayName:function(e){return e.get("Visual_LabelPosition_BottomRight")}}]),t.tileShadowPositionEnum=e.createEnumType([{value:"Outer",displayName:function(e){return e.get("Visual_DonutLabelPosition_Outside")}},{value:"Inner",displayName:function(e){return e.get("Visual_DonutLabelPosition_Inside")}}]),t.tileLibraryObjectNames={fill:"fill",outline:"outline",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",glowCustom:"glowCustom"},t.tileLibraryObjectPropertyNames={fillColor:"fillColor",fillTransparency:"transparency",fillImage:"image",outlineColor:"lineColor",outlineWeight:"weight",outlineTransparency:"transparency",tileShape:"tileShape",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",shadowColor:"color",shadowTransparency:"transparency",shadowPositionPreset:"shadowPositionPreset",glowPositionPreset:"glowPositionPreset",shadowBlur:"shadowBlur",shadowAngle:"angle",shadowDistance:"shadowDistance",glowDistance:"glowDistance",shadowSpread:"shadowSpread",glowSpread:"glowSpread",glowColor:"color",glowTransparency:"transparency",arrowheadSize:"arrowheadSize",arrowStemWidth:"arrowStemWidth",chevronAngle:"chevronAngle",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",parallelogramSlant:"parallelogramSlant",position:"position",trapezoidSlant:"trapezoidSlant",hexagonSlant:"hexagonSlant",octagonSnipSize:"octagonSnipSize",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailPosition:"speechBubbleTailPosition",speechBubbleTailAngle:"speechBubbleTailAngle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabRoundCornerTopRight:"tabRoundCornerTopRight",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerBottom:"tabRoundCornerBottom"},(e={show:u.show})[t.tileLibraryObjectPropertyNames.fillColor]=u.fill,e[t.tileLibraryObjectPropertyNames.fillTransparency]=u.transparency,e[t.tileLibraryObjectPropertyNames.fillImage]=u.image,(i={show:u.show})[t.tileLibraryObjectPropertyNames.outlineColor]=u.outlineColor,i[t.tileLibraryObjectPropertyNames.outlineTransparency]=u.lineTransparency,i[t.tileLibraryObjectPropertyNames.outlineWeight]=u.outlineWeight,(o={})[t.tileLibraryObjectPropertyNames.tileShape]={displayName:c("Visual_Shape"),type:{enumeration:t.shapeType.type},suppressFormatPainterCopy:!0},o[t.tileLibraryObjectPropertyNames.shapeRounding]={displayName:c("Visual_BasicShape_RoundEdges"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.arrowheadSize]={displayName:c("Visual_Shape_ArrowheadSize"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.arrowStemWidth]={displayName:c("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.chevronAngle]={displayName:c("Visual_Angle"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.isocelesTriangleTipPosition]={displayName:c("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.parallelogramSlant]={displayName:c("Visual_Shape_Slant"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.trapezoidSlant]={displayName:c("Visual_Shape_Slant"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.hexagonSlant]={displayName:c("Visual_Shape_Slant"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.octagonSnipSize]={displayName:c("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.speechBubbleHeight]={displayName:c("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.speechBubbleTailPosition]={displayName:c("Visual_Shape_ChatTailPosition"),type:{enumeration:t.SpeechBubbleTailPosition.type}},o[t.tileLibraryObjectPropertyNames.speechBubbleTailAngle]={displayName:c("Visual_Shape_ChatTailAngle"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.rectangleRoundedCurve]={displayName:c("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeTopRight]={displayName:c("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeTop]={displayName:c("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeBottom]={displayName:c("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabRoundCornerTop]={displayName:c("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabRoundCornerTopRight]={displayName:c("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabRoundCornerTop]={displayName:c("Visual_Shape_TabRoundingTop"),type:{integer:!0}},o[t.tileLibraryObjectPropertyNames.tabRoundCornerBottom]={displayName:c("Visual_Shape_TabRoundingBottom"),type:{integer:!0}},(r={})[t.tileLibraryObjectPropertyNames.tileShape]={displayName:c("Visual_Shape"),type:{enumeration:t.shapeType.type},suppressFormatPainterCopy:!0},r[t.tileLibraryObjectPropertyNames.rectangleRoundedCurveCustomStyle]={displayName:c("Visual_CustomStyle"),type:{bool:!0}},r[t.tileLibraryObjectPropertyNames.rectangleRoundedCurveLeftTop]={displayName:c("Visual_CornerTopLeft"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.rectangleRoundedCurveRightTop]={displayName:c("Visual_CornerTopRight"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.rectangleRoundedCurveLeftBottom]={displayName:c("Visual_CornerBottomLeft"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.rectangleRoundedCurveRightBottom]={displayName:c("Visual_CornerBottomRight"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.rectangleRoundedCurve]={displayName:c("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeTop]={displayName:c("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeCustomStyle]={displayName:c("Visual_CustomStyle"),type:{bool:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeLeftTop]={displayName:c("Visual_CornerTopLeft"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeRightTop]={displayName:c("Visual_CornerTopRight"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeLeftBottom]={displayName:c("Visual_CornerBottomLeft"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeRightBottom]={displayName:c("Visual_CornerBottomRight"),type:{integer:!0}},r[t.tileLibraryObjectPropertyNames.tabCutCornerSnipSizeBottom]={displayName:c("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},(n={show:u.show})[t.tileLibraryObjectPropertyNames.shadowColor]={displayName:c("Generic_Color"),type:{fill:{solid:{color:!0}}}},n[t.tileLibraryObjectPropertyNames.shadowTransparency]=u.transparency,n[t.tileLibraryObjectPropertyNames.shadowBlur]={displayName:c("Visual_DropShadow_Blur"),type:{numeric:!0}},n[t.tileLibraryObjectPropertyNames.shadowPositionPreset]={displayName:c("Visual_DropShadow_Preset"),type:{enumeration:t.tileShadowPositionPresetEnum}},n[t.tileLibraryObjectPropertyNames.shadowAngle]={displayName:c("Visual_Angle"),type:{numeric:!0}},n[t.tileLibraryObjectPropertyNames.shadowDistance]={displayName:c("Distance"),type:{numeric:!0}},(l={show:u.show})[t.tileLibraryObjectPropertyNames.glowColor]={displayName:c("Generic_Color"),type:{fill:{solid:{color:!0}}}},l[t.tileLibraryObjectPropertyNames.glowTransparency]=u.transparency,l[t.tileLibraryObjectPropertyNames.shadowBlur]={displayName:c("Visual_DropShadow_Blur"),type:{numeric:!0}},(s={show:u.show})[t.tileLibraryObjectPropertyNames.shadowColor]={displayName:c("Generic_Color"),type:{fill:{solid:{color:!0}}}},s[t.tileLibraryObjectPropertyNames.shadowTransparency]=u.transparency,s[t.tileLibraryObjectPropertyNames.shadowBlur]={displayName:c("Visual_DropShadow_Blur"),type:{numeric:!0}},s[t.tileLibraryObjectPropertyNames.shadowPositionPreset]={displayName:c("Visual_DropShadow_Preset"),type:{enumeration:t.tileShadowPositionPresetEnum}},s[t.tileLibraryObjectPropertyNames.shadowAngle]={displayName:c("Visual_Angle"),type:{numeric:!0}},s[t.tileLibraryObjectPropertyNames.shadowDistance]={displayName:c("Distance"),type:{numeric:!0}},s[t.tileLibraryObjectPropertyNames.position]={displayName:c("Offset"),type:{enumeration:t.tileShadowPositionEnum}},s[t.tileLibraryObjectPropertyNames.shadowSpread]={displayName:c("Visual_BubbleSize"),type:{numeric:!0}},(a={show:u.show})[t.tileLibraryObjectPropertyNames.glowColor]={displayName:c("Generic_Color"),type:{fill:{solid:{color:!0}}}},a[t.tileLibraryObjectPropertyNames.glowTransparency]=u.transparency,a[t.tileLibraryObjectPropertyNames.shadowBlur]={displayName:c("Visual_DropShadow_Blur"),type:{numeric:!0}},a[t.tileLibraryObjectPropertyNames.glowPositionPreset]={displayName:c("Visual_DropShadow_Preset"),type:{enumeration:t.tileShadowPositionPresetEnum}},a[t.tileLibraryObjectPropertyNames.shadowAngle]={displayName:c("Visual_Angle"),type:{numeric:!0}},a[t.tileLibraryObjectPropertyNames.glowDistance]={displayName:c("Distance"),type:{numeric:!0}},a[t.tileLibraryObjectPropertyNames.position]={displayName:c("Offset"),type:{enumeration:t.tileShadowPositionEnum}},a[t.tileLibraryObjectPropertyNames.glowSpread]={displayName:c("Visual_BubbleSize"),type:{numeric:!0}},u=a,t.tileLibraryObjectDescriptors=((a={})[t.tileLibraryObjectNames.fill]={displayName:c("Visual_Fill"),properties:e},a[t.tileLibraryObjectNames.outline]={displayName:c("Visual_Outline"),properties:i},a[t.tileLibraryObjectNames.shape]={displayName:c("Visual_Shape"),properties:o},a[t.tileLibraryObjectNames.shadow]={displayName:c("Visual_Shape_Shadow"),properties:n},a[t.tileLibraryObjectNames.glow]={displayName:c("Visual_Shape_Glow"),properties:l},a[t.tileLibraryObjectNames.shapeCustomRectangle]={displayName:c("Visual_Shape"),properties:r},a[t.tileLibraryObjectNames.shadowCustom]={displayName:c("Visual_Shape_Shadow"),properties:s},a[t.tileLibraryObjectNames.glowCustom]={displayName:c("Visual_Shape_Glow"),properties:u},a)})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.tileContentProps={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},t.tileContentObjectNames={text:"text",icon:"icon"},t.tileContentObjectPropertyNames={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},t.tileContentTextObjectPropertyDescriptors=((a={show:i.show})[t.tileContentObjectPropertyNames.fontColor]=i.fontColor,a[t.tileContentObjectPropertyNames.fontSize]=i.fontSize,a[t.tileContentObjectPropertyNames.fontFamily]=i.fontFamily,a[t.tileContentObjectPropertyNames.underline]=i.underline,a[t.tileContentObjectPropertyNames.italic]=i.italic,a[t.tileContentObjectPropertyNames.bold]=i.bold,a[t.tileContentObjectPropertyNames.text]={displayName:e("Text"),type:{text:!0},suppressFormatPainterCopy:!0},a[t.tileContentObjectPropertyNames.textVerticalAlignment]={displayName:e("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},a[t.tileContentObjectPropertyNames.textHorizontalAlignment]={displayName:e("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},a[t.tileContentObjectPropertyNames.textLeftMargin]={displayName:e("Visual_Margin_Left"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.textRightMargin]={displayName:e("Visual_Margin_Right"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.textTopMargin]={displayName:e("Visual_Margin_Top"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.textBottomMargin]={displayName:e("Visual_Margin_Bottom"),type:{integer:!0}},a),t.tileContentIconObjectPropertyDescriptors=((a={show:i.show,shapeType:{displayName:e("Icon"),type:{enumeration:t.ActionButtonType.type}}})[t.tileContentObjectPropertyNames.iconImage]=i.image,a[t.tileContentObjectPropertyNames.iconColor]={displayName:e("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},a[t.tileContentObjectPropertyNames.iconTransparency]=i.lineTransparency,a[t.tileContentObjectPropertyNames.iconWeight]={displayName:e("Visual_BasicShape_Weight"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.iconPlacement]={displayName:e("Visual_IconPlacement"),type:{enumeration:t.iconPlacement.type}},a[t.tileContentObjectPropertyNames.iconVerticalAlignment]={displayName:e("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},a[t.tileContentObjectPropertyNames.iconHorizontalAlignment]={displayName:e("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},a[t.tileContentObjectPropertyNames.iconLeftMargin]={displayName:e("Visual_Margin_Left"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.iconRightMargin]={displayName:e("Visual_Margin_Right"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.iconTopMargin]={displayName:e("Visual_Margin_Top"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.iconBottomMargin]={displayName:e("Visual_Margin_Bottom"),type:{integer:!0}},a[t.tileContentObjectPropertyNames.iconSize]={displayName:e("Visual_IconSize"),placeHolderText:e("Visual_Auto"),type:{numeric:!0}},a),t.tileContentObjectDescriptors=((i={})[t.tileContentObjectNames.text]={displayName:e("Text"),properties:t.tileContentTextObjectPropertyDescriptors},i[t.tileContentObjectNames.icon]={displayName:e("Icon"),properties:t.tileContentIconObjectPropertyDescriptors},i)})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).cartesianRoleNames={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},t.cartesianChartProps={scalarKey:{scalarKeyMin:e.data.scalarKeyMinPropertyIdentifier},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},reverseStackOrder:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,o=i.StandardObjectProperties;i.getActionButtonCapabilities=function(e){return e&&e.buttonTileFormatting?i.actionButtonCapabilities:i.legacyActionButtonCapabilities},i.actionButtonProps={fill:i.tileLibraryProps.fill,outline:i.tileLibraryProps.outline,text:i.tileContentProps.text,icon:i.tileContentProps.icon,shape:i.tileLibraryProps.shape,shadow:i.tileLibraryProps.shadow,glow:i.tileLibraryProps.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},i.actionButtonObjectNames={fill:i.tileLibraryObjectNames.fill,outline:i.tileLibraryObjectNames.outline,text:i.tileContentObjectNames.text,icon:i.tileContentObjectNames.icon,shape:i.tileLibraryObjectNames.shape,shadow:i.tileLibraryObjectNames.shadow,glow:i.tileLibraryObjectNames.glow,rotation:"rotation"},i.actionButtonObjectPropertyNames=__assign(__assign(__assign({},i.tileLibraryObjectPropertyNames),i.tileContentObjectPropertyNames),{rotation:"angle"}),i.actionButtonInstanceId={default:"default",hover:"hover",selected:"selected",disabled:"disabled"},(t={})[i.actionButtonObjectPropertyNames.rotation]={displayName:e("Visual_BasicShape_Rotate"),type:{integer:!0}},t[i.actionButtonObjectPropertyNames.shapeRotation]={displayName:e("Visual_ShapeRotation"),type:{integer:!0}},t[i.actionButtonObjectPropertyNames.textRotation]={displayName:e("Visual_TextRotation"),type:{integer:!0}},i.actionButtonObjects=((a={})[i.actionButtonObjectNames.fill]=i.tileLibraryObjectDescriptors.fill,a[i.actionButtonObjectNames.outline]=i.tileLibraryObjectDescriptors.outline,a[i.actionButtonObjectNames.text]=i.tileContentObjectDescriptors.text,a[i.actionButtonObjectNames.icon]=i.tileContentObjectDescriptors.icon,a[i.actionButtonObjectNames.shape]=i.tileLibraryObjectDescriptors.shape,a[i.actionButtonObjectNames.shadow]=i.tileLibraryObjectDescriptors.shadow,a[i.actionButtonObjectNames.glow]=i.tileLibraryObjectDescriptors.glow,a[i.actionButtonObjectNames.rotation]={displayName:e("Visual_BasicShape_Rotate"),properties:t},a),i.actionButtonCapabilities={objects:i.actionButtonObjects,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},i.legacyActionButtonObjects={text:{displayName:e("ActionButton_Text"),properties:{show:o.show,text:{displayName:e("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},fontColor:o.fontColor,padding:{displayName:e("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:e("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:e("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},fontSize:o.fontSize,fontFamily:o.fontFamily,italic:o.italic,bold:o.bold,underline:o.underline}},icon:{displayName:e("Icon"),properties:{show:o.show,shapeType:{displayName:e("BasicShape_ToolTip"),type:{enumeration:i.ActionButtonType.type}},padding:{displayName:e("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:e("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:e("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},lineColor:{displayName:e("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineWeight:{displayName:e("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:o.lineTransparency}},outline:{displayName:e("Visual_Outline"),properties:{show:o.show,lineColor:o.outlineColor,transparency:o.lineTransparency,weight:o.outlineWeight,roundEdge:{displayName:e("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:e("Visual_Fill"),properties:{show:o.show,fillColor:{displayName:e("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:o.transparency,image:o.image}}},i.legacyActionButtonCapabilities={objects:i.legacyActionButtonObjects,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},i.legacyActionButtonProps={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},bold:{objectName:"text",propertyName:"bold"},italic:{objectName:"text",propertyName:"italic"},underline:{objectName:"text",propertyName:"underline"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,a=t.StandardObjectProperties,t.getAINarrativesCapabilities=function(){return t.aiNarrativesCapabilities},t.aiNarrativesCapabilities={dataViewMappings:[],objects:{userPrompt:{properties:{text:{displayName:e("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:e("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:a.fontColor,fontSize:a.fontSize,fontFamily:a.fontFamily,textAlignment:a.textAlignment}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1},t.aiNarrativesProps=t.builder.getPropertyIdentifiers(t.aiNarrativesCapabilities.objects)})(powerbi=powerbi||{}),(function(e){(e=e.visuals||(e.visuals={})).animatedTextObjectDescs={general:{properties:{formatString:e.StandardObjectProperties.formatString}}},e.animatedNumberCapabilities={objects:e.animatedTextObjectDescs,dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,a=t.StandardObjectProperties,t.basicShapeCapabilities={objects:{line:{displayName:e("Visual_BasicShape_Line"),properties:{lineColor:{displayName:e("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},transparency:a.transparency,weight:{displayName:e("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:e("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:e("Visual_Fill"),properties:{show:a.show,fillColor:{displayName:e("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:a.transparency}},rotation:{displayName:e("Visual_BasicShape_Rotate"),properties:{angle:{displayName:e("Visual_BasicShape_Rotate"),type:{numeric:!0}}}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},t.basicShapeProps={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter;o.shapeProps={fill:o.tileLibraryProps.fill,outline:o.tileLibraryProps.outline,text:o.tileContentProps.text,shape:__assign(__assign({},o.tileLibraryProps.shape),{linecapType:{objectName:"shape",propertyName:"linecapType"}}),shadow:o.tileLibraryProps.shadow,glow:o.tileLibraryProps.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},o.shapeObjectNames=__assign(__assign(__assign({},o.tileLibraryObjectNames),o.tileContentObjectNames),{rotation:"rotation"}),o.shapeObjectPropertyNames=__assign(__assign(__assign({},o.tileLibraryObjectPropertyNames),o.tileContentObjectPropertyNames),{linecapType:"linecapType",rotation:"angle"}),o.shapeInstanceId={default:"default"},(a={show:o.StandardObjectProperties.show})[o.tileLibraryObjectPropertyNames.fillColor]=o.StandardObjectProperties.fill,a[o.tileLibraryObjectPropertyNames.fillTransparency]=o.StandardObjectProperties.transparency,(i={})[o.shapeObjectPropertyNames.rotation]={displayName:e("Visual_BasicShape_Rotate"),type:{integer:!0}},i[o.shapeObjectPropertyNames.shapeRotation]={displayName:e("Visual_ShapeRotation"),type:{integer:!0}},i[o.shapeObjectPropertyNames.textRotation]={displayName:e("Visual_TextRotation"),type:{integer:!0}},o.shapeObjectDescriptors=((t={})[o.shapeObjectNames.fill]={displayName:e("Visual_Fill"),properties:a},t[o.shapeObjectNames.outline]=o.tileLibraryObjectDescriptors.outline,t[o.shapeObjectNames.text]=o.tileContentObjectDescriptors.text,t[o.shapeObjectNames.shape]={displayName:e("Visual_Shape"),properties:__assign(__assign({},o.tileLibraryObjectDescriptors.shape.properties),((a={})[o.shapeObjectPropertyNames.linecapType]={displayName:e("LinecapType"),type:{enumeration:o.linecapTypeEnum}},a))},t[o.shapeObjectNames.shadow]=o.tileLibraryObjectDescriptors.shadow,t[o.shapeObjectNames.glow]=o.tileLibraryObjectDescriptors.glow,t[o.shapeObjectNames.rotation]={displayName:e("Visual_BasicShape_Rotate"),properties:i},t),o.shapeCapabilities={objects:o.shapeObjectDescriptors,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img",disableFormatMode:!0},o.shapeObjectProps=o.builder.getPropertyIdentifiers(o.shapeObjectDescriptors)})(powerbi=powerbi||{}),(function(r){var n,l,s;n=r.visuals||(r.visuals={}),l=r.data.createDisplayNameGetter,s=n.StandardObjectProperties,n.columnRoleNames={category:"Category",series:"Series",rows:n.cartesianRoleNames.rows,y:"Y",gradient:"Gradient",tooltips:"Tooltips"},n.getColumnChartCapabilities=function(e,t,a,o){void 0===t&&(t=!1);var i={dataRoles:(function(e,t,a,i){e=[{name:n.columnRoleNames.category,kind:r.VisualDataRoleKind.Grouping,displayName:l(i?e?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:l("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:n.columnRoleNames.series,kind:r.VisualDataRoleKind.Grouping,displayName:l("Role_DisplayName_Legend"),displayOrder:i?3:2,description:l("Role_DisplayName_LegendDescription")},{name:n.columnRoleNames.y,kind:r.VisualDataRoleKind.Measure,displayName:l(i?e?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:i?2:3,description:l("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];a||t||e.push({name:n.columnRoleNames.gradient,kind:r.VisualDataRoleKind.Measure,displayName:l("Role_DisplayName_Gradient"),displayOrder:4,description:l("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});null!=o&&o.cartesianMultiples&&e.push({name:n.columnRoleNames.rows,kind:r.VisualDataRoleKind.Grouping,displayName:l("Role_DisplayName_SmallMultiples"),displayOrder:5,description:l("Role_DisplayName_SmallMultiples_Description")});return e.push({name:n.columnRoleNames.tooltips,kind:r.VisualDataRoleKind.Measure,displayName:l("Role_DisplayName_Tooltips"),displayOrder:6,description:l("Role_Tooltips_Description"),joinPredicate:0}),e})(e=void 0===e?!1:e,a=void 0===a?!1:a,o&&o.cartesianConditionalFormatting,o&&o.useModernFormatPane),objects:((i={general:{displayName:l("Visual_General"),properties:{formatString:s.formatString,responsive:s.responsive,responsiveLegacy:s.responsiveLegacy}},legend:a?n.StandardObjectDescriptors.legend:{displayName:n.StandardObjectDescriptors.legend.displayName,description:n.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},n.StandardObjectDescriptors.legend.properties),n.GradientLegendObjectDescriptors.legend.properties)},subheader:__assign({},n.StandardObjectDescriptors.subheader)})[n.SmallMultiplesUtils.LayoutObjectName]=__assign({},n.StandardObjectDescriptors.smallMultiplesLayout),i.categoryAxis={displayName:l(e?"Visual_YAxis":"Visual_XAxis"),properties:{show:s.show,start:s.axisStart,end:s.axisEnd,axisType:s.axisType,showAxisTitle:{displayName:l("Visual_Axis_Title"),description:l(e?"Visual_Axis_YTitleDescription":"Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:s.axisStyle,labelColor:s.labelColor,fontFamily:s.fontFamily,fontSize:s.fontSize,bold:s.bold,italic:s.italic,underline:s.underline,invertAxis:s.invertAxis,labelDisplayUnits:s.labelDisplayUnits,labelPrecision:s.labelPrecision,concatenateLabels:{displayName:l("Visual_Axis_ConcatenateLabels"),description:l("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:s.preferredCategoryWidth,maxMarginFactor:s.maxMarginFactor,titleColor:s.titleColor,titleFontFamily:s.fontFamily,titleFontSize:s.titleFontSize,titleBold:s.bold,titleItalic:s.italic,titleUnderline:s.underline,titleText:s.titleText,gridlineShow:__assign(__assign({},s.show),{displayName:l("Visual_Gridline_Show")}),gridlineColor:s.lineColor,gridlineThickness:s.strokeWidth,gridlineStyle:s.lineStyle,innerPadding:s.innerPadding,reverseStackOrder:s.reverseStackOrder,logAxisScale:s.logAxisScale,switchAxisPosition:s.switchAxisPosition}},i.valueAxis={displayName:l(e?"Visual_XAxis":"Visual_YAxis"),properties:{show:s.show,start:s.axisStart,end:s.axisEnd,invertAxis:s.invertAxis,sharedAxis:s.sharedAxis,scaleToFit:s.scaleToFit,showAxisTitle:{displayName:l("Visual_Axis_Title"),description:l(e?"Visual_Axis_YTitleDescription":"Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:s.axisStyle,labelColor:s.labelColor,fontFamily:s.fontFamily,fontSize:s.fontSize,bold:s.bold,italic:s.italic,underline:s.underline,labelDisplayUnits:s.labelDisplayUnits,labelPrecision:s.labelPrecision,titleColor:s.titleColor,titleFontFamily:s.fontFamily,titleFontSize:s.titleFontSize,titleBold:s.bold,titleItalic:s.italic,titleUnderline:s.underline,titleText:s.titleText,gridlineShow:__assign(__assign({},s.show),{displayName:l("Visual_Gridline_Show")}),gridlineColor:s.lineColor,gridlineThickness:s.strokeWidth,gridlineStyle:s.lineStyle,logAxisScale:s.logAxisScale,switchAxisPosition:s.switchAxisPosition}},i.zoom={displayName:n.StandardObjectDescriptors.zoom.displayName,properties:{show:n.StandardObjectDescriptors.zoom.properties.show,showOnCategoryAxis:{displayName:l(e?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:n.StandardObjectDescriptors.zoom.properties.categoryMin,categoryMax:n.StandardObjectDescriptors.zoom.properties.categoryMax,categorySize:n.StandardObjectDescriptors.zoom.properties.categorySize,showOnValueAxis:{displayName:l(e?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:n.StandardObjectDescriptors.zoom.properties.valueMin,valueMax:n.StandardObjectDescriptors.zoom.properties.valueMax,valueSize:n.StandardObjectDescriptors.zoom.properties.valueSize,showLabels:n.StandardObjectDescriptors.zoom.properties.showLabels,showTooltip:n.StandardObjectDescriptors.zoom.properties.showTooltip}},i.dataPoint={displayName:l("Visual_DataPoint"),description:l("Visual_DataPointDescription"),properties:{defaultColor:s.defaultColor,showAllDataPoints:s.showAllDataPoints,fill:s.defaultCategoryColor,fillRule:{displayName:l("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:n.columnRoleNames.gradient,output:{property:"fill",selector:[n.columnRoleNames.category]}}}}},i.labels={displayName:l("Visual_DataPointsLabels"),description:l("Visual_DataPointsLabelsDescription"),properties:{show:s.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:l("Visual_Show"),type:{bool:!0}},color:s.dataColor,labelDisplayUnits:s.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},s.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:l("Visual_LabelOrientation"),type:{enumeration:n.labelOrientation.type}},labelPosition:{displayName:l("Visual_Position"),type:{enumeration:n.labelPosition.type}},enableBackground:s.labelEnableBackground,backgroundColor:s.labelBackgroundColor,backgroundTransparency:s.labelBackgroundTransparency,labelOverflow:{displayName:l("Visual_LabelOverflow"),description:l("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:l("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:s.fontSize,bold:s.bold,italic:s.italic,underline:s.underline,fontFamily:s.fontFamily,labelDensity:{displayName:l("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:s.showDynamicLabels,dynamicLabelValue:s.dynamicLabelValue}},i.totals={properties:void 0},i.plotArea={displayName:l("Visual_Plot"),properties:{transparency:s.transparency,image:s.image}},i.y1AxisReferenceLine={displayName:l("Visual_Reference_Line"),description:l("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:s.show,displayName:{displayName:l("Name"),description:l("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:l("Visual_Reference_Line_Value"),description:l("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:s.referenceLineColor,transparency:{displayName:l("Visual_Reference_Line_Transparency"),description:l("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:s.lineStyle,position:s.referenceLinePosition,dataLabelShow:s.dataLabelShow,dataLabelText:s.dataLabelText,dataLabelColor:s.dataLabelColor,dataLabelDecimalPoints:s.dataLabelDecimalPoints,dataLabelHorizontalPosition:s.dataLabelHorizontalPosition,dataLabelVerticalPosition:s.dataLabelVerticalPosition,dataLabelDisplayUnits:s.dataLabelDisplayUnits}},i.xAxisReferenceLine={displayName:l("Visual_Reference_Line_X"),description:l("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:s.show,displayName:{displayName:l("Name"),description:l("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:l("Visual_Reference_Line_Value"),description:l("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:s.lineColor,transparency:{displayName:l("Visual_Reference_Line_Transparency"),description:l("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:s.lineStyle,position:s.referenceLinePosition,shadeRegion:s.shadeRegion,shadeColor:s.shadeColor,shadeTransparency:s.shadeTransparency,dataLabelShow:s.dataLabelShow,dataLabelColor:s.dataLabelColor,dataLabelText:s.dataLabelText,dataLabelDecimalPoints:s.dataLabelDecimalPoints,dataLabelHorizontalPosition:s.dataLabelHorizontalPosition,dataLabelVerticalPosition:s.dataLabelVerticalPosition,dataLabelDisplayUnits:s.dataLabelDisplayUnits}},i.trend={displayName:l("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:{type:{bool:!0}},displayName:{displayName:l("Name"),description:l("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},lineColor:{displayName:l("Visual_Trend_Line_Color"),description:l("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:l("Visual_Trend_Line_Transparency"),description:l("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:l("Style"),description:l("Visual_Trend_Line_Style_Description"),type:{enumeration:n.lineStyle.type}},combineSeries:{displayName:l("Visual_Trend_Line_Combine_Series"),description:l("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:l("Visual_Trend_Line_UseHighlightValues"),description:l("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}},i.error={displayName:n.StandardObjectDescriptors.error.displayName,objectCategory:n.StandardObjectDescriptors.error.objectCategory,suppressFormatPainterCopy:n.StandardObjectDescriptors.error.suppressFormatPainterCopy,properties:{enabled:n.StandardObjectDescriptors.error.properties.enabled,errorRange:n.StandardObjectDescriptors.error.properties.errorRange,barShow:n.StandardObjectDescriptors.error.properties.barShow,barMatchSeriesColor:n.StandardObjectDescriptors.error.properties.barMatchSeriesColor,barColor:n.StandardObjectDescriptors.error.properties.barColor,barWidth:n.StandardObjectDescriptors.error.properties.barWidth,barBorderColor:n.StandardObjectDescriptors.error.properties.barBorderColor,barBorderSize:n.StandardObjectDescriptors.error.properties.barBorderSize,markerShape:n.StandardObjectDescriptors.error.properties.markerShape,markerSize:n.StandardObjectDescriptors.error.properties.markerSize,labelShow:n.StandardObjectDescriptors.error.properties.labelShow,labelFontFamily:n.StandardObjectDescriptors.error.properties.labelFontFamily,labelFontSize:n.StandardObjectDescriptors.error.properties.labelFontSize,labelBold:n.StandardObjectDescriptors.error.properties.labelBold,labelItalic:n.StandardObjectDescriptors.error.properties.labelItalic,labelUnderline:n.StandardObjectDescriptors.error.properties.labelUnderline,labelColor:n.StandardObjectDescriptors.error.properties.labelColor,labelMatchSeriesColor:n.StandardObjectDescriptors.error.properties.labelMatchSeriesColor,labelFormat:n.StandardObjectDescriptors.error.properties.labelFormat,labelBackground:n.StandardObjectDescriptors.error.properties.labelBackground,labelBackgroundColor:n.StandardObjectDescriptors.error.properties.labelBackgroundColor,labelBackgroundTransparency:n.StandardObjectDescriptors.error.properties.labelBackgroundTransparency,tooltipShow:n.StandardObjectDescriptors.error.properties.tooltipShow,tooltipFormat:n.StandardObjectDescriptors.error.properties.tooltipFormat}},i.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},i),dataViewMappings:__spreadArray(__spreadArray([],(function(){var e=[];o&&o.cartesianMultiples&&e.push(function(){var e;return{conditions:[((e={})[n.columnRoleNames.rows]={min:1},e[n.columnRoleNames.series]={max:0},e),((e={})[n.columnRoleNames.rows]={min:1},e[n.columnRoleNames.series]={min:1,max:1},e[n.columnRoleNames.y]={max:1},e),((e={})[n.columnRoleNames.rows]={min:1},e[n.columnRoleNames.series]={min:1,max:1},e[n.columnRoleNames.y]={max:0},e)],matrix:{rows:{select:[{composite:[{for:{in:n.columnRoleNames.rows}}],dataReductionAlgorithm:{window:{count:n.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultWindowSize}}},{composite:[{for:{in:n.columnRoleNames.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:n.columnRoleNames.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:n.columnRoleNames.y}},{for:{in:n.columnRoleNames.tooltips}}]},dataVolume:6}}}());return e.push(function(){var e;return{conditions:[((e={})[n.columnRoleNames.rows]={max:0},e[n.columnRoleNames.series]={max:0},e[n.columnRoleNames.gradient]={max:0},e),((e={})[n.columnRoleNames.rows]={max:0},e[n.columnRoleNames.series]={min:1,max:1},e[n.columnRoleNames.y]={max:1},e[n.columnRoleNames.gradient]={max:0},e),((e={})[n.columnRoleNames.rows]={max:0},e[n.columnRoleNames.series]={max:0},e[n.columnRoleNames.y]={min:0,max:1},e[n.columnRoleNames.gradient]={max:1},e)],categorical:{categories:{for:{in:n.columnRoleNames.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:n.columnRoleNames.series,select:[{for:{in:n.columnRoleNames.y}},{bind:{to:n.columnRoleNames.gradient}},{for:{in:n.columnRoleNames.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}}()),e})(),!0),[{conditions:[((i={})[n.cartesianRoleNames.rows]={max:0},i[n.columnRoleNames.series]={max:0},i[n.columnRoleNames.gradient]={max:0},i),((i={})[n.cartesianRoleNames.rows]={max:0},i[n.columnRoleNames.series]={min:1,max:1},i[n.columnRoleNames.y]={max:1},i[n.columnRoleNames.gradient]={max:0},i),((i={})[n.cartesianRoleNames.rows]={max:0},i[n.columnRoleNames.series]={max:0},i[n.columnRoleNames.y]={min:0,max:1},i[n.columnRoleNames.gradient]={max:1},i)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],!1),supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[n.columnRoleNames.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[n.columnRoleNames.category]},grouping:{groupingRules:[{condition:((i={})[n.columnRoleNames.category]={min:1,max:1},i[n.columnRoleNames.y]={min:1,max:1},i[n.columnRoleNames.series]={max:0},i[n.columnRoleNames.gradient]={max:0},i),groupingTargetRole:n.columnRoleNames.series,kind:0},{condition:((i={})[n.columnRoleNames.category]={min:1,max:1},i[n.columnRoleNames.y]={min:1},i[n.columnRoleNames.series]={max:0},i[n.columnRoleNames.gradient]={max:0},i),groupingTargetRole:n.columnRoleNames.category,kind:1},{condition:((i={})[n.columnRoleNames.category]={min:1,max:1},i[n.columnRoleNames.y]={min:0,max:1},i[n.columnRoleNames.series]={max:0},i[n.columnRoleNames.gradient]={max:1},i),groupingTargetRole:n.columnRoleNames.category,kind:1},{condition:((i={})[n.columnRoleNames.category]={max:0},i[n.columnRoleNames.y]={min:1,max:1},i[n.columnRoleNames.series]={max:1},i[n.columnRoleNames.gradient]={max:0},i),groupingTargetRole:n.columnRoleNames.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:e?[]:[n.columnRoleNames.category],supportsOnObjectFormatting:!0};return t&&!a?i.objects.totals=n.StandardObjectDescriptors.totalsWithNet:delete i.objects.totals,t||a?i.objects.categoryAxis.properties.reverseStackOrder=s.reverseStackOrder:delete i.objects.categoryAxis.properties.reverseStackOrder,t||(i.objects.referenceLine={displayName:l("Visual_Reference_Line"),description:l("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:s.show,displayName:{displayName:l("Name"),description:l("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:l("Visual_Reference_Line_Value"),description:l("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:s.referenceLineColor,transparency:{displayName:l("Visual_Reference_Line_Transparency"),description:l("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:s.lineStyle,position:s.referenceLinePosition,dataLabelShow:s.dataLabelShow,dataLabelText:s.dataLabelText,dataLabelColor:s.dataLabelColor,dataLabelDecimalPoints:s.dataLabelDecimalPoints,dataLabelHorizontalPosition:s.dataLabelHorizontalPosition,dataLabelVerticalPosition:s.dataLabelVerticalPosition,dataLabelDisplayUnits:s.dataLabelDisplayUnits}}),a&&(delete i.objects.valueAxis,i.objects.ribbonChart={displayName:l("RibbonChart"),description:l("RibbonChart_Description"),properties:{colorBands:{displayName:l("RibbonChart_Color"),description:l("RibbonChart_ColorDescription"),type:{bool:!0}},showBorder:{displayName:l("Visual_Border"),description:l("RibbonChart_BorderDescription"),type:{bool:!0}},seriesGapRatio:{displayName:l("RibbonChart_SeriesGapWidth"),description:l("RibbonChart_SeriesGapWidthDescription"),type:{integer:!0}},bandsTransparency:{displayName:l("Transparency"),description:l("RibbonChart_ColorTransparencyDescription"),type:{integer:!0}}}}),i},n.columnChartProps={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},showBorder:{objectName:"ribbonChart",propertyName:"showBorder"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},innerPadding:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},reverseStackOrder:{objectName:"dataPoint",propertyName:"reverseStackOrder"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},ribbonChart:{colorBands:{objectName:"ribbonChart",propertyName:"colorBands"},bandsTransparency:{objectName:"ribbonChart",propertyName:"bandsTransparency"}},series:{seriesGapRatio:{objectName:"ribbonChart",propertyName:"seriesGapRatio"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}})(powerbi=powerbi||{}),(function(o){var r,e,n,t;function l(e){var t={rows:{select:[{composite:[{for:{in:r.comboChartRoleNames.rows}}],dataReductionAlgorithm:{window:{count:r.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultWindowSize}}},{composite:[{for:{in:r.comboChartRoleNames.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:r.comboChartRoleNames.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:r.comboChartRoleNames.y}},{for:{in:r.comboChartRoleNames.tooltips}}]},dataVolume:6};return e?t.rows.values={select:[{for:{in:r.comboChartRoleNames.y2}}]}:t.values.select.push({for:{in:r.comboChartRoleNames.y2}}),t}r=o.visuals||(o.visuals={}),n=o.data.createDisplayNameGetter,t=r.StandardObjectProperties,r.comboChartRoleNames={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips",rows:"Rows"},r.ComboChartObjectDescriptors=((e={general:{displayName:n("Visual_General"),properties:{formatString:t.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:t.responsive,responsiveLegacy:t.responsiveLegacy}},legend:{displayName:r.StandardObjectDescriptors.legend.displayName,description:r.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},r.StandardObjectDescriptors.legend.properties),{legendMarkerRendering:t.legendMarkerRendering,defaultToCircle:t.defaultToCircle,matchLineColor:t.matchLineColor})},subheader:__assign({},r.StandardObjectDescriptors.subheader)})[r.SmallMultiplesUtils.LayoutObjectName]=__assign({},r.StandardObjectDescriptors.smallMultiplesLayout),e.categoryAxis={displayName:n("Visual_XAxis"),properties:{show:t.show,start:t.axisStart,end:t.axisEnd,axisType:t.axisType,showAxisTitle:{displayName:n("Visual_Axis_Title"),description:n("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:t.axisStyle,labelColor:t.labelColor,fontFamily:t.fontFamily,fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,invertAxis:t.invertAxis,labelDisplayUnits:t.labelDisplayUnits,labelPrecision:t.labelPrecision,concatenateLabels:{displayName:n("Visual_Axis_ConcatenateLabels"),description:n("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:t.preferredCategoryWidth,maxMarginFactor:t.maxMarginFactor,titleColor:t.titleColor,titleFontFamily:t.fontFamily,titleFontSize:t.titleFontSize,titleBold:t.bold,titleItalic:t.italic,titleUnderline:t.underline,titleText:t.titleText,gridlineShow:__assign(__assign({},t.show),{displayName:n("Visual_Gridline_Show")}),gridlineColor:t.lineColor,gridlineThickness:t.strokeWidth,gridlineStyle:t.lineStyle,innerPadding:t.innerPadding,logAxisScale:t.logAxisScale,reverseStackOrder:t.reverseStackOrder}},e.valueAxis={displayName:n("Visual_YAxis"),properties:__assign({show:t.show,axisLabel:{displayName:n("Visual_YAxis_ColumnTitle"),type:{none:!0}},start:t.axisStart,end:t.axisEnd,invertAxis:t.invertAxis,sharedAxis:t.sharedAxis,scaleToFit:t.scaleToFit,showAxisTitle:{displayName:n("Visual_Axis_Title"),description:n("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:t.axisStyle,labelColor:t.labelColor,fontFamily:t.fontFamily,fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,labelDisplayUnits:t.labelDisplayUnits,labelPrecision:t.labelPrecision,titleColor:t.titleColor,titleFontFamily:t.fontFamily,titleFontSize:t.titleFontSize,titleBold:t.bold,titleItalic:t.italic,titleUnderline:t.underline,titleText:t.titleText,gridlineShow:__assign(__assign({},t.show),{displayName:n("Visual_Gridline_Show")}),gridlineColor:t.lineColor,gridlineThickness:t.strokeWidth,gridlineStyle:t.lineStyle,logAxisScale:t.logAxisScale,switchAxisPosition:t.switchAxisPosition},r.SecondaryAxisProperties)},e.zoom={displayName:r.StandardObjectDescriptors.zoom.displayName,properties:__assign(__assign({},r.StandardObjectDescriptors.zoom.properties),r.SecondaryAxisZoomObjectDescriptors.zoom.properties)},e.dataPoint={displayName:n("Visual_DataPoint"),description:n("Visual_DataPointDescription"),properties:{defaultColor:__assign(__assign({},t.defaultColor),{displayName:n("Visual_DefaultColumnColor")}),showAllDataPoints:t.showAllDataPoints,fill:t.defaultCategoryColor,fillRule:{displayName:n("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},e.labels={displayName:n("Visual_DataPointsLabels"),description:n("Visual_DataPointsLabelsDescription"),properties:{show:t.show,showSeries:{displayName:n("Visual_Show"),type:{bool:!0}},color:t.dataColor,labelDisplayUnits:t.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},t.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:n("Visual_LabelOrientation"),type:{enumeration:r.labelOrientation.type}},labelPosition:{displayName:n("Visual_Position"),type:{enumeration:r.labelPosition.type}},fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,fontFamily:t.fontFamily,labelDensity:{displayName:n("Visual_LabelDensity"),type:{integer:!0}},enableBackground:t.labelEnableBackground,backgroundColor:t.labelBackgroundColor,backgroundTransparency:t.labelBackgroundTransparency,showAll:{displayName:n("Visual_LabelSeriesShowAll"),type:{bool:!0}},showByDefault:{type:{bool:!0}},showDynamicLabels:t.showDynamicLabels,dynamicLabelValue:t.dynamicLabelValue}},e.totals=r.StandardObjectDescriptors.totalsWithNet,e.error=r.StandardObjectDescriptors.error,e.lineStyles={displayName:n("Visual_Shapes"),description:n("Visual_ShapesDescription"),properties:{shadeArea:{displayName:n("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:t.strokeWidth,strokeLineJoin:t.strokeLineJoin,lineStyle:t.lineStyle,showMarker:t.showMarker,markerShape:t.markerShape,markerSize:t.markerSize,markerColor:t.markerColor,stepped:t.stepped,showSeries:{displayName:n("Visual_LabelSeriesShowAll"),type:{bool:!0}},showMarkerByDefault:{type:{bool:!0}}}},e.plotArea={displayName:n("Visual_Plot"),properties:{transparency:t.transparency,image:t.image}},e.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},e.xAxisReferenceLine={displayName:n("Visual_Reference_Line_X"),description:n("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:t.show,displayName:{displayName:n("Name"),description:n("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:n("Visual_Reference_Line_Value"),description:n("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:t.lineColor,transparency:{displayName:n("Visual_Reference_Line_Transparency"),description:n("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:t.lineStyle,position:t.referenceLinePosition,shadeRegion:t.shadeRegion,shadeColor:t.shadeColor,shadeTransparency:t.shadeTransparency,dataLabelShow:t.dataLabelShow,dataLabelColor:t.dataLabelColor,dataLabelText:t.dataLabelText,dataLabelDecimalPoints:t.dataLabelDecimalPoints,dataLabelHorizontalPosition:t.dataLabelHorizontalPosition,dataLabelVerticalPosition:t.dataLabelVerticalPosition,dataLabelDisplayUnits:t.dataLabelDisplayUnits}},e),r.comboChartObjectProps=r.builder.getPropertyIdentifiers(r.ComboChartObjectDescriptors),r.getComboChartCapabilities=function(e,t){var a=__assign({},r.ComboChartObjectDescriptors),i=t&&t.useModernFormatPane,i=[{name:r.comboChartRoleNames.category,kind:o.VisualDataRoleKind.Grouping,displayName:n(i?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:n("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:r.comboChartRoleNames.series,kind:o.VisualDataRoleKind.Grouping,displayName:n(i?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:i?4:2},{name:r.comboChartRoleNames.y,kind:o.VisualDataRoleKind.Measure,displayName:n(i?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:i?2:3,description:n("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:r.comboChartRoleNames.y2,kind:o.VisualDataRoleKind.Measure,displayName:n(i?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:i?3:4,description:n("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],i=(t&&t.cartesianMultiples&&t.comboMultiples&&i.push({name:r.comboChartRoleNames.rows,kind:o.VisualDataRoleKind.Grouping,displayName:n("Role_DisplayName_SmallMultiples"),displayOrder:5,description:n("Role_DisplayName_SmallMultiples_Description")}),i.push({name:r.comboChartRoleNames.tooltips,kind:o.VisualDataRoleKind.Measure,displayName:n("Role_DisplayName_Tooltips"),displayOrder:6,description:n("Role_Tooltips_Description"),joinPredicate:0}),{dataRoles:i,objects:a,dataViewMappings:(function(e){var t=(function(){var e;return[{conditions:[((e={Series:{max:0}})[r.comboChartRoleNames.rows]={max:0},e),((e={Series:{min:1,max:1},Y:{max:1}})[r.comboChartRoleNames.rows]={max:0},e)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[((e={Series:{max:0},Y2:{min:1}})[r.comboChartRoleNames.rows]={max:0},e),((e={Series:{min:1,max:1},Y:{max:1},Y2:{min:1}})[r.comboChartRoleNames.rows]={max:0},e)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[((e={Series:{max:0}})[r.comboChartRoleNames.rows]={max:0},e),((e={Series:{min:1,max:1},Y:{max:1}})[r.comboChartRoleNames.rows]={max:0},e)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}]})();e&&e.cartesianMultiples&&e.comboMultiples&&t.push.apply(t,(function(){var e;return[{conditions:[((e={})[r.comboChartRoleNames.series]={max:0},e[r.comboChartRoleNames.rows]={min:1},e)],matrix:l(!1)},{conditions:[((e={})[r.comboChartRoleNames.series]={min:1,max:1},e[r.comboChartRoleNames.y]={max:1},e[r.comboChartRoleNames.rows]={min:1},e)],matrix:l(!0)}]})());return t})(t),supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[r.columnRoleNames.category],supportsOnObjectFormatting:!0});return e?i.objects.totals=r.StandardObjectDescriptors.totalsWithNet:(delete i.objects.totals,i.objects.trend={displayName:n("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:{displayName:n("Visual_Trend_Line_Color"),description:n("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:n("Visual_Trend_Line_Transparency"),description:n("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:n("Style"),description:n("Visual_Trend_Line_Style_Description"),type:{enumeration:r.lineStyle.type}},combineSeries:{displayName:n("Visual_Trend_Line_Combine_Series"),description:n("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:n("Visual_Trend_Line_UseHighlightValues"),description:n("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}),t&&t.lineChartSeriesLabels&&(i.objects.seriesLabels={displayName:n("Visual_SeriesLabels"),description:n("Visual_SeriesDescription"),properties:__assign({},r.SeriesObjectDescriptors.seriesLabels.properties)}),i},r.comboChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},valueAxis:{secShow:{objectName:"valueAxis",propertyName:"secShow"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},labels:{showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"}}}})(powerbi=powerbi||{}),(function(a){var i,o,r;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,r=i.StandardObjectProperties,i.legacyComboChartRoleNames={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips"},i.getLegacyComboChartCapabilities=function(e){var t={dataRoles:[{name:i.legacyComboChartRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_ComboChart_Category"),description:o("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:i.legacyComboChartRoleNames.series,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_ComboChart_Series")},{name:i.legacyComboChartRoleNames.y,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_ComboChart_Y"),description:o("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.legacyComboChartRoleNames.y2,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_ComboChart_Y2"),description:o("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.legacyComboChartRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:o("Visual_General"),properties:{formatString:r.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:r.responsive,responsiveLegacy:r.responsiveLegacy}},legend:{displayName:i.StandardObjectDescriptors.legend.displayName,description:i.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},i.StandardObjectDescriptors.legend.properties),{legendMarkerRendering:r.legendMarkerRendering,defaultToCircle:r.defaultToCircle,matchLineColor:r.matchLineColor})},categoryAxis:{displayName:o("Visual_XAxis"),properties:{show:r.show,start:r.axisStart,end:r.axisEnd,axisType:r.axisType,showAxisTitle:{displayName:o("Visual_Axis_Title"),description:o("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:r.axisStyle,labelColor:r.labelColor,fontFamily:r.fontFamily,fontSize:r.fontSize,labelDisplayUnits:r.labelDisplayUnits,labelPrecision:r.labelPrecision,concatenateLabels:{displayName:o("Visual_Axis_ConcatenateLabels"),description:o("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:r.preferredCategoryWidth,maxMarginFactor:r.maxMarginFactor,titleColor:r.titleColor,titleFontFamily:r.fontFamily,titleFontSize:r.titleFontSize,titleText:r.titleText,gridlineShow:__assign(__assign({},r.show),{displayName:o("Visual_Gridline_Show")}),gridlineColor:r.lineColor,gridlineThickness:r.strokeWidth,gridlineStyle:r.lineStyle,innerPadding:r.innerPadding}},valueAxis:{displayName:o("Visual_YAxis"),properties:__assign({show:r.show,axisLabel:{displayName:o("Visual_YAxis_ColumnTitle"),type:{none:!0}},start:r.axisStart,end:r.axisEnd,invertAxis:r.invertAxis,showAxisTitle:{displayName:o("Visual_Axis_Title"),description:o("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:r.axisStyle,labelColor:r.labelColor,fontFamily:r.fontFamily,fontSize:r.fontSize,labelDisplayUnits:r.labelDisplayUnits,labelPrecision:r.labelPrecision,titleColor:r.titleColor,titleFontFamily:r.fontFamily,titleFontSize:r.titleFontSize,titleText:r.titleText,gridlineShow:__assign(__assign({},r.show),{displayName:o("Visual_Gridline_Show")}),gridlineColor:r.lineColor,gridlineThickness:r.strokeWidth,gridlineStyle:r.lineStyle},i.SecondaryAxisProperties)},zoom:{displayName:i.StandardObjectDescriptors.zoom.displayName,properties:__assign(__assign({},i.StandardObjectDescriptors.zoom.properties),i.SecondaryAxisZoomObjectDescriptors.zoom.properties)},dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:__assign(__assign({},r.defaultColor),{displayName:o("Visual_DefaultColumnColor")}),showAllDataPoints:r.showAllDataPoints,fill:r.defaultCategoryColor}},labels:{displayName:o("Visual_DataPointsLabels"),description:o("Visual_DataPointsLabelsDescription"),properties:{show:r.show,showSeries:{displayName:o("Visual_Show"),type:{bool:!0}},color:r.dataColor,labelDisplayUnits:r.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},r.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:o("Visual_LabelOrientation"),type:{enumeration:i.labelOrientation.type}},labelPosition:{displayName:o("Visual_Position"),type:{enumeration:i.labelPosition.type}},fontSize:r.fontSize,fontFamily:r.fontFamily,labelDensity:{displayName:o("Visual_LabelDensity"),type:{integer:!0}},enableBackground:r.labelEnableBackground,backgroundColor:r.labelBackgroundColor,backgroundTransparency:r.labelBackgroundTransparency,showAll:{displayName:o("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},totals:{properties:void 0},lineStyles:{displayName:o("Visual_Shapes"),description:o("Visual_ShapesDescription"),properties:{shadeArea:{displayName:o("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:r.strokeWidth,strokeLineJoin:r.strokeLineJoin,lineStyle:r.lineStyle,showMarker:r.showMarker,markerShape:r.markerShape,markerSize:r.markerSize,markerColor:r.markerColor,stepped:r.stepped,showSeries:{displayName:o("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:o("Visual_Plot"),properties:{transparency:r.transparency,image:r.image}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Series:{max:0}},{Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0},Y2:{min:1}},{Series:{min:1,max:1},Y:{max:1},Y2:{min:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[{Series:{max:0}},{Series:{min:1,max:1},Y:{max:1}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0};return e?t.objects.totals=i.StandardObjectDescriptors.totalsWithNet:(delete t.objects.totals,t.objects.trend={displayName:o("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:{displayName:o("Visual_Trend_Line_Color"),description:o("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:o("Visual_Trend_Line_Transparency"),description:o("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:o("Style"),description:o("Visual_Trend_Line_Style_Description"),type:{enumeration:i.lineStyle.type}},combineSeries:{displayName:o("Visual_Trend_Line_Combine_Series"),description:o("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:o("Visual_Trend_Line_UseHighlightValues"),description:o("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}}),t},i.legacyComboChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},valueAxis:{secShow:{objectName:"valueAxis",propertyName:"secShow"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},dataPoint:{showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}}}})(powerbi=powerbi||{}),(function(t){var a,i,e;a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,e=a.StandardObjectProperties,a.donutRoleNames={category:"Category",series:"Series",y:"Y",tootips:"Tooltips"},a.donutChartObjectDescriptors={general:{displayName:i("Visual_General"),properties:{formatString:e.formatString}},legend:a.StandardObjectDescriptors.legend,dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{defaultColor:e.defaultColor,fill:e.fill}},labels:{displayName:i("Visual_DetailLabels"),properties:{show:e.show,color:e.dataColor,labelDisplayUnits:e.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},e.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:__assign(__assign({},e.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,labelStyle:{displayName:i("Visual_LabelStyle"),type:{enumeration:a.labelStyle.type}},position:{displayName:i("Visual_DonutLabelPosition"),type:{enumeration:a.donutLabelPosition.type}},overflow:{displayName:i("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:i("Visual_Background"),type:{enumeration:a.donutLabelBackground.type}}}},slices:{displayName:i("Visual_Shapes"),description:i("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:i("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:i("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:i("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:{displayName:i("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},explode:{displayName:i("Visual_DonutExplode"),type:{integer:!0}}}}},a.donutChartObjectDescriptorProps=a.builder.getPropertyIdentifiers(a.donutChartObjectDescriptors),a.getDonutChartCapabilities=function(e){return{dataRoles:(e=e&&e.useModernFormatPane,[{name:a.donutRoleNames.category,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Legend"),displayOrder:1,description:i("Role_DisplayName_LegendDescription")},{name:a.donutRoleNames.series,kind:t.VisualDataRoleKind.Grouping,displayName:i("Details"),displayOrder:e?3:2,description:i("Role_DisplayName_DetailsDonutChartDescription")},{name:a.donutRoleNames.y,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Values"),displayOrder:e?2:3,description:i("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:a.donutRoleNames.tootips,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),displayOrder:4,description:i("Role_Tooltips_Description"),joinPredicate:0}]),objects:a.donutChartObjectDescriptors,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.dataDotChartCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Value"),requiredTypes:[{numeric:!0},{integer:!0}]}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,responsive:i.responsive,responsiveLegacy:i.responsiveLegacy}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}}]}}}]}})(powerbi=powerbi||{}),(function(i){var o,r;o=i.visuals||(i.visuals={}),r=i.data.createDisplayNameGetter,o.decompositionTreeRoles={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},o.decompositionTreeObjectNames={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},o.decompositionTreeObjectPropertyNames={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},o.decompositionTreeBarsPerLevel={defaultValue:10,minValue:3,maxValue:30},o.getDecompositionTreeCapabilities=function(e){var t=[{name:o.decompositionTreeRoles.analyze,kind:i.VisualDataRoleKind.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:r("Role_DisplayName_Target"),description:r("DecompositionTree_Analyze_Tooltip")},{name:o.decompositionTreeRoles.explainBy,kind:i.VisualDataRoleKind.Grouping,displayName:r("Role_DisplayName_ExplainBy"),description:r("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:o.decompositionTreeRoles.tooltips,kind:i.VisualDataRoleKind.Measure,displayName:r("Role_DisplayName_Tooltips"),description:r("Role_Tooltips_Description"),joinPredicate:0}],a={select:[{for:{in:o.decompositionTreeRoles.analyze}},{for:{in:o.decompositionTreeRoles.tooltips}}]};return{dataRoles:t,dataViewMappings:[{conditions:[((t={})[o.decompositionTreeRoles.analyze]={max:1},t)],matrix:{rows:{for:{in:o.decompositionTreeRoles.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:a}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.decompositionTreeRoles.tooltips],supportEnhancedTooltips:!1},objects:((t={general:{displayName:r("Visual_General"),properties:{formatString:o.StandardObjectProperties.formatString}}})[o.decompositionTreeObjectNames.analysis]={displayName:r("Analysis"),description:r("Analysis"),properties:((a={})[o.decompositionTreeObjectPropertyNames.aiEnabled]={displayName:r("DecompositionTree_Formatting_EnableAI"),description:r("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},a[o.decompositionTreeObjectPropertyNames.aiMode]={displayName:r("DecompositionTree_AnalysisType"),description:r("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:r("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}},a)},t[o.decompositionTreeObjectNames.tree]={displayName:r("DecompositionTree_Formatting_Tree"),description:r("DecompositionTree_Formatting_Tree"),properties:((a={})[o.decompositionTreeObjectPropertyNames.density]={displayName:r("DecompositionTree_Density"),description:r("DecompositionTree_Density_Description"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_Density_Dense"),value:"dense"},{displayName:r("Default"),value:"default"},{displayName:r("DecompositionTree_Density_Sparse"),value:"sparse"}])}},a[o.decompositionTreeObjectPropertyNames.accentColor]={displayName:r("DecompositionTree_Formatting_Selected_Line"),description:r("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.connectorDefaultColor]={displayName:r("DecompositionTree_Formatting_Unselected_Line"),description:r("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.connectorType]={displayName:r("Style"),description:r("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:i.createEnumType([{displayName:r("Default"),value:"curve"},{displayName:r("Visual_StrokeLineJoin_Round"),value:"round"}])}},a[o.decompositionTreeObjectPropertyNames.responsiveLayout]={displayName:r("Visual_General_ResponsiveLabel"),description:r("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},a[o.decompositionTreeObjectPropertyNames.effectiveBarsPerLevel]={type:{integer:!0}},a[o.decompositionTreeObjectPropertyNames.barsPerLevel]={displayName:r("DecompositionTree_BarsPerLevel"),description:r("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},a[o.decompositionTreeObjectPropertyNames.defaultClickAction]={displayName:r("DecompositionTree_DefaultAction"),description:r("DecompositionTree_DefaultAction_Description"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:r("Collapse"),value:"toggle"}])}},a)},t[o.decompositionTreeObjectNames.dataBars]={displayName:r("Visual_Bars_Title"),description:r("Visual_ConditionalFormatting_DataBars"),properties:((a={})[o.decompositionTreeObjectPropertyNames.positiveBarColor]={displayName:r("DataBarsDialog_PositiveBar"),description:r("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.negativeBarColor]={displayName:r("DataBarsDialog_NegativeBar"),description:r("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.dataBarBackgroundColor]={displayName:r("DecompositionTree_Formatting_BarBackground"),description:r("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.dataBarColor]={displayName:r("DecompositionTree_DataBarColor"),description:r("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.dataBarWidthPercent]={displayName:r("DecompositionTree_Formatting_DataBarSize"),description:r("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},a[o.decompositionTreeObjectPropertyNames.dataBarScalingType]={displayName:r("DecompositionTree_Formatting_ScaleType"),description:r("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:i.createEnumType([{displayName:r("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:r("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:r("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},a[o.decompositionTreeObjectPropertyNames.axisStart]=o.StandardObjectProperties.axisStart,a[o.decompositionTreeObjectPropertyNames.axisEnd]=o.StandardObjectProperties.axisEnd,a)},t[o.decompositionTreeObjectNames.categoryLabels]={displayName:r("Visual_CategoryLabels"),description:r("DecompositionTree_Formatting_CategoryLabels_Description"),properties:((a={})[o.decompositionTreeObjectPropertyNames.categoryLabelFontFamily]=o.StandardObjectProperties.fontFamily,a[o.decompositionTreeObjectPropertyNames.categoryLabelFontSize]=o.StandardObjectProperties.fontSize,a[o.decompositionTreeObjectPropertyNames.categoryLabelBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.categoryLabelItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.categoryLabelUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.categoryLabelFontColor]=o.StandardObjectProperties.fontColor,a)},t[o.decompositionTreeObjectNames.dataLabels]={displayName:r("Visual_Tablix_Values"),description:r("DecompositionTree_Formatting_ValueLabels_Description"),properties:((a={})[o.decompositionTreeObjectPropertyNames.dataLabelFontFamily]=o.StandardObjectProperties.fontFamily,a[o.decompositionTreeObjectPropertyNames.dataLabelFontSize]=o.StandardObjectProperties.fontSize,a[o.decompositionTreeObjectPropertyNames.dataLabelBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.dataLabelItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.dataLabelUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.dataLabelFontColor]=o.StandardObjectProperties.fontColor,a[o.decompositionTreeObjectPropertyNames.dataLabelDisplayUnits]=o.StandardObjectProperties.labelDisplayUnits,a[o.decompositionTreeObjectPropertyNames.dataLabelPrecision]=o.StandardObjectProperties.labelPrecision,a)},t[o.decompositionTreeObjectNames.levelHeader]={displayName:r("Header_Plural"),description:r("DecompositionTree_Formatting_TreeHeader_Description"),properties:((a={})[o.decompositionTreeObjectPropertyNames.levelHeaderBackgroundColor]={displayName:r("Generic_Color"),description:r("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.levelTitleFontFamily]={displayName:r("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:r("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},a[o.decompositionTreeObjectPropertyNames.levelTitleFontSize]={displayName:r("DecompositionTree_Formatting_LevelTitle_FontSize"),description:r("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},a[o.decompositionTreeObjectPropertyNames.levelTitleBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.levelTitleItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.levelTitleUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.levelTitleFontColor]={displayName:r("Generic_Color"),description:r("Generic_Color"),type:{fill:{solid:{color:!0}}}},a[o.decompositionTreeObjectPropertyNames.showSubtitles]={displayName:r("DecompositionTree_Formatting_ShowSubtitles"),description:r("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},a[o.decompositionTreeObjectPropertyNames.levelSubtitleFontFamily]={displayName:r("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:r("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},a[o.decompositionTreeObjectPropertyNames.levelSubtitleFontSize]={displayName:r("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:r("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},a[o.decompositionTreeObjectPropertyNames.levelSubtitleBold]=o.StandardObjectProperties.bold,a[o.decompositionTreeObjectPropertyNames.levelSubtitleItalic]=o.StandardObjectProperties.italic,a[o.decompositionTreeObjectPropertyNames.levelSubtitleUnderline]=o.StandardObjectProperties.underline,a[o.decompositionTreeObjectPropertyNames.levelSubtitleFontColor]={displayName:r("Generic_Color"),description:r("Generic_Color"),type:{fill:{solid:{color:!0}}}},a)},t[o.decompositionTreeObjectNames.insights]={properties:((a={})[o.decompositionTreeObjectPropertyNames.isAINode]={type:{bool:!0}},a)},t),drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[o.decompositionTreeRoles.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[o.decompositionTreeRoles.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:o.decompositionTreeRoles.analyze,explainByRole:o.decompositionTreeRoles.explainBy,enableAIProperty:{objectName:o.decompositionTreeObjectNames.analysis,propertyName:o.decompositionTreeObjectPropertyNames.aiEnabled},highlightedAIMatrixNode:{objectName:o.decompositionTreeObjectNames.insights,propertyName:o.decompositionTreeObjectPropertyNames.isAINode},analysisType:{objectName:o.decompositionTreeObjectNames.analysis,propertyName:o.decompositionTreeObjectPropertyNames.aiMode}},ignoreHighlightFilter:!0}}}})(powerbi=powerbi||{}),(function(a){var i,o,t;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,t=i.StandardObjectProperties,i.filledMapRoleNames={category:"Category",series:"Series",x:"X",y:"Y",gradient:"Size",tooltips:"Tooltips"},i.getFilledMapCapabilities=function(e){return{dataRoles:(function(e){var t=[{name:i.filledMapRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Location"),description:o("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:i.filledMapRoleNames.series,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Legend"),description:o("Role_DisplayName_LegendDescription")},{name:i.filledMapRoleNames.y,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Latitude"),description:o("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:i.filledMapRoleNames.x,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Longitude"),description:o("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];e||t.push({name:i.filledMapRoleNames.gradient,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Gradient"),description:o("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]});return t.push({name:i.filledMapRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting),objects:{general:{displayName:o("Visual_General"),properties:{formatString:t.formatString}},legend:i.StandardObjectDescriptors.legend,dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:t.defaultColor,showAllDataPoints:t.showAllDataPoints,fill:t.defaultCategoryColor,fillRule:{displayName:o("Role_DisplayName_Values"),description:o("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:i.filledMapRoleNames.gradient,output:{property:"fill",selector:[i.filledMapRoleNames.category]}}},transparency:t.transparency}},labels:{displayName:o("Visual_DataPointsLabels"),properties:{show:t.show,color:t.dataColor,labelDisplayUnits:t.labelDisplayUnits,labelPrecision:t.labelPrecision}},categoryLabels:{displayName:o("Visual_CategoryLabels"),properties:{show:t.show}},mapControls:{displayName:o("Visual_MapControls"),description:o("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:o("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:o("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:o("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:o("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:o("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:o("Visual_MapGeocodingCulture"),type:{enumeration:i.GeocodingCulture.type}}}},mapStyles:{displayName:o("Visual_MapStyles"),description:o("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:o("Visual_MapTheme"),type:{enumeration:i.BingMapTheme.type}},showLabels:{displayName:o("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:t.show,strokeColor:{displayName:o("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},strokeWidth:t.strokeWidth}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:i.filledMapRoleNames.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:i.filledMapRoleNames.series,select:[{bind:{to:i.filledMapRoleNames.x}},{bind:{to:i.filledMapRoleNames.y}},{bind:{to:i.filledMapRoleNames.gradient}},{for:{in:i.filledMapRoleNames.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:i.filledMapRoleNames.series}},{composite:[{for:{in:i.filledMapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:i.filledMapRoleNames.gradient,direction:2}]}},drilldown:{roles:[i.filledMapRoleNames.category]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[i.filledMapRoleNames.tooltips],supportEnhancedTooltips:!0}}},i.filledMapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}})(powerbi=powerbi||{}),(function(i){var o,r,n;o=i.visuals||(i.visuals={}),r=i.data.createDisplayNameGetter,n=o.StandardObjectProperties,o.azureMapRoleNames={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips"},o.azureMapStyles={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},o.azureMapStylesEnum=i.createEnumType([{value:o.azureMapStyles.road,displayName:r("Visual_MapThemeRoad")},{value:o.azureMapStyles.satellite,displayName:r("Visual_AzureMapsSatelliteStyle")},{value:o.azureMapStyles.satelliteRoadLabels,displayName:r("ContentList_Datasets_Hybrid")},{value:o.azureMapStyles.grayscaleDark,displayName:r("Visual_AzureMapsGrayScaleDarkStyle")},{value:o.azureMapStyles.night,displayName:r("Visual_AzureMapsNightStyle")},{value:o.azureMapStyles.grayscaleLight,displayName:r("Visual_AzureMapsGrayScaleLightStyle")},{value:o.azureMapStyles.roadShadedRelief,displayName:r("Visual_AzureMapsTerraStyle")},{value:o.azureMapStyles.blank,displayName:r("ReportAppBar_Blank")},{value:o.azureMapStyles.blankAccessible,displayName:r("Visual_AzureMapsBlankAccessibleStyle")},{value:o.azureMapStyles.highContrastDark,displayName:r("Visual_AzureMapsHighContrastDarkStyle")},{value:o.azureMapStyles.highContrastLight,displayName:r("Visual_AzureMapsHighContrastLightStyle")}]),o.barShapeEnum=i.createEnumType([{value:0,displayName:r("Visual_AzureMapsBoxShape")},{value:1,displayName:r("Visual_AzureMapsCylinderShape")}]),o.scalingMethodEnum=i.createEnumType([{value:0,displayName:r("Visual_Axis_Linear")},{value:1,displayName:r("Visual_Axis_Log")},{value:2,displayName:r("Visual_AzureMapsCubicBezier")}]),o.pitchAlignmentEnum=i.createEnumType([{value:"map",displayName:r("Visual_ShapeMap_Map")},{value:"viewport",displayName:r("Visual_AzureMapsViewport")}]),o.layerPositionEnum=i.createEnumType([{value:"",displayName:r("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:r("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:r("Visual_AzureMapsLayerBelowRoads")}]),o.azureMapHeatMapUnitEnum=i.createEnumType([{value:"pixels",displayName:function(e){return e.get("Generic_Pixels")}},{value:"meters",displayName:function(e){return e.get("Visual_MapUnitMeters")}}]),o.azureMapObjectNames={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap"},o.azureMapObjectPropertyNames={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize"},o.getAzureMapCapabilities=function(e){return{dataRoles:(function(e){var t=[{name:o.azureMapRoleNames.y,kind:i.VisualDataRoleKind.GroupingOrMeasure,displayName:r("Role_DisplayName_Latitude"),description:r("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:o.azureMapRoleNames.x,kind:i.VisualDataRoleKind.GroupingOrMeasure,displayName:r("Role_DisplayName_Longitude"),description:r("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:o.azureMapRoleNames.series,kind:i.VisualDataRoleKind.Grouping,displayName:r("Role_DisplayName_Legend"),description:r("Role_DisplayName_LegendDescription")},{name:o.azureMapRoleNames.size,kind:i.VisualDataRoleKind.Measure,displayName:r("Role_DisplayName_Size"),description:r("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.azureMapRoleNames.tooltips,kind:i.VisualDataRoleKind.Measure,displayName:r("Role_DisplayName_Tooltips"),description:r("Role_Tooltips_Description"),joinPredicate:0}];null!=e&&e.azureMapsGeocoding&&t.unshift({name:o.azureMapRoleNames.category,kind:i.VisualDataRoleKind.Grouping,displayName:r("Role_DisplayName_Location"),description:r("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]});return t})(e),objects:(function(e){(t={general:{displayName:r("Visual_General"),properties:{formatString:n.formatString}},legend:o.StandardObjectDescriptors.legend,dataPoint:{displayName:r("Visual_DataPoint"),description:r("Visual_DataPointDescription"),properties:{showAllDataPoints:n.showAllDataPoints,fill:n.defaultCategoryColor}},labels:{displayName:r("Visual_DataPointsLabels"),properties:{show:n.show,color:n.dataColor,labelDisplayUnits:n.labelDisplayUnits,labelPrecision:n.labelPrecision}}})[o.azureMapObjectNames.mapControls]={displayName:r("Visual_AzureMapsMapSettings"),description:r("Visual_MapControlsDescription"),properties:((a={})[o.azureMapObjectPropertyNames.defaultStyle]={displayName:r("Visual_AzureMapsDefaultStyle"),description:r("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:o.azureMapStylesEnum}},a[o.azureMapObjectPropertyNames.showStylePicker]={displayName:r("Visual_AzureMapsStylePicker"),description:r("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.showLabels]={displayName:r("Visual_MapShowLabels"),description:r("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.showNavigationControls]={displayName:r("Visual_AzureMapsNavigationControls"),description:r("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.zoom]={displayName:r("Visual_ShapeMap_Zoom"),description:r("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.centerLatitude]={displayName:r("Visual_AzureMapsCenterLatitude"),description:r("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.centerLongitude]={displayName:r("Visual_AzureMapsCenterLongitude"),description:r("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.heading]={displayName:r("Visual_AzureMapsHeading"),description:r("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.pitch]={displayName:r("Visual_AzureMapsPitch"),description:r("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.autoZoom]={displayName:r("Visual_AutoZoom"),description:r("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.worldWrap]={displayName:r("Visual_AzureMapsWorldWrap"),description:r("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.showSelectionControl]={displayName:r("Visual_AzureMapsSelectionControl"),description:r("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}},a)},t[o.azureMapObjectNames.filledMap]={displayName:r("FilledMap_ToolTip"),description:r("Visual_AzureMapsFilledMapDescription"),properties:((a={show:n.show})[o.azureMapObjectPropertyNames.defaultColor]={displayName:r("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Visual_Fill_Transparency"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.strokeColor]={displayName:r("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.strokeTransparency]={displayName:r("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.strokeWidth]={displayName:r("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},a)},t[o.azureMapObjectNames.bubbleLayer]={displayName:r("Visual_Bubbles"),description:r("Visual_BubblesDescription"),properties:((a={show:n.show})[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Visual_Fill_Transparency"),description:r("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.bubbleRadius]={displayName:r("Visual_BubbleSize"),description:r("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.minBubbleRadius]={displayName:r("Visual_AzureMapsMinBubbleRadius"),description:r("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.radiusScalingMethod]={displayName:r("Visual_AzureMapsBubbleRadiusScalingMethod"),description:r("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:o.scalingMethodEnum}},a[o.azureMapObjectPropertyNames.maxRadius]={displayName:r("Visual_AzureMapsBubbleMaxRadius"),description:r("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.logScale]={displayName:r("Visual_AzureMapsLogScale"),description:r("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.x1]={displayName:r("Visual_AzureMapsX1"),description:r("Visual_AzureMapsX1Description"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.x2]={displayName:r("Visual_AzureMapsX2"),description:r("Visual_AzureMapsX2Description"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.y1]={displayName:r("Visual_AzureMapsY1"),description:r("Visual_AzureMapsY1Description"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.y2]={displayName:r("Visual_AzureMapsY2"),description:r("Visual_AzureMapsY2Description"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.defaultColor]={displayName:r("Visual_FillColor"),description:r("Visual_AzureMapsBubbleDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.strokeColor]={displayName:r("Visual_OutlineColor"),description:r("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.autoStrokeColor]={displayName:r("Visual_AzureMapsBubbleAutoStrokeColor"),description:r("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.strokeTransparency]={displayName:r("Visual_AzureMapsBubbleStrokeTransparency"),description:r("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.bubbleStrokeWidth]={displayName:r("Visual_AzureMapsBubbleStrokeWidth"),description:r("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.blur]={displayName:r("Visual_DropShadow_Blur"),description:r("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.pitchAlignment]={displayName:r("Visual_AzureMapsBubblePitchAlignment"),description:r("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:o.pitchAlignmentEnum}},a[o.azureMapObjectPropertyNames.zoomScaleFactor]={displayName:r("Visual_AzureMapsZoomScaleFactor"),description:r("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},a)},t[o.azureMapObjectNames.categoryLabels]={displayName:r("Visual_CategoryLabels"),description:r("Visual_CategoryLabelsDescription"),properties:{show:n.show,color:n.categoryColor,fontSize:n.fontSize,bold:n.bold,italic:n.italic,underline:n.underline,fontFamily:n.fontFamily,enableBackground:n.labelEnableBackground,backgroundColor:n.labelBackgroundColor,backgroundTransparency:n.labelBackgroundTransparency}},t[o.azureMapObjectNames.heatMapLayer]={displayName:r("Visual_HeatMap"),description:r("Visual_HeatMapDescription"),properties:((a={show:n.show})[o.azureMapObjectPropertyNames.heatMapRadius]={displayName:r("Visual_Radius"),description:r("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.heatMapRadiusUnit]={displayName:r("Visual_Forecast_Parameter_Units"),description:r("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:o.azureMapHeatMapUnitEnum}},a[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Transparency"),description:r("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.heatMapIntensity]={displayName:r("Visual_AzureMapsHeatMapIntensity"),description:r("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.heatMapColorLow]={displayName:r("Visual_Color0"),description:r("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.heatMapColorCenter]={displayName:r("Visual_Color50"),description:r("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.heatMapColorHigh]={displayName:r("Visual_Color100"),description:r("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.heatMapUseSize]={displayName:r("Visual_AzureMapsHeatMapUseSize"),description:r("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},a)},t[o.azureMapObjectNames.barChart]={displayName:r("Visual_AzureMapsBarChart"),description:r("Visual_AzureMapsBarChartDescription"),properties:((a={show:n.show})[o.azureMapObjectPropertyNames.barShape]={displayName:r("Visual_AzureMapsBarShape"),description:r("Visual_AzureMapsBarShapeDescription"),type:{enumeration:o.barShapeEnum}},a[o.azureMapObjectPropertyNames.height]={displayName:r("Visual_General_Properties_Height"),description:r("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.scaleHeightOnZoom]={displayName:r("Visual_AzureMapsScaleBarHeight"),description:r("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.thickness]={displayName:r("Visual_General_Properties_Width"),description:r("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.scaleThicknessOnZoom]={displayName:r("Visual_AzureMapsScaleBarThickness"),description:r("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.defaultColor]={displayName:r("Visual_FillColor"),description:r("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},a[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Transparency"),description:r("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},a)},t[o.azureMapObjectNames.commonDataOptions]={displayName:r("Visual_AzureMapsCommonDataLayer"),description:r("Visual_AzureMapsCommonDataLayerDescription"),properties:((a={})[o.azureMapObjectPropertyNames.unselectedTransparency]={displayName:r("Visual_AzureMapsUnselectedTransparency"),description:r("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.showZeros]={displayName:r("Visual_AzureMapsShowZeros"),description:r("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.showNegatives]={displayName:r("Visual_AzureMapsShowNegatives"),description:r("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.minDataValue]={displayName:r("Visual_AzureMapsMinDataValue"),description:r("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.maxDataValue]={displayName:r("Visual_AzureMapsMaxDataValue"),description:r("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}},a)},t[o.azureMapObjectNames.referenceLayer]={displayName:r("Visual_AzureMapsReferenceLayer"),description:r("Visual_AzureMapsReferenceLayerDescription"),properties:((a={})[o.azureMapObjectPropertyNames.additionalDatasource]={displayName:r("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:i.GeoJsonContentTypes.geojson}}},a)},t[o.azureMapObjectNames.traffic]={displayName:r("Visual_AzureMapsTrafficLayer"),description:r("Visual_AzureMapsTrafficLayerDescription"),properties:((a={show:n.show})[o.azureMapObjectPropertyNames.showIncidents]={displayName:r("Visual_AzureMapsShowIncidents"),description:r("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.showTrafficControl]={displayName:r("Visual_AzureMapsShowTrafficControl"),description:r("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}},a)},t[o.azureMapObjectNames.tileLayer]={displayName:r("Visual_AzureMapsTileLayer"),description:r("Visual_AzureMapsTileLayerDescription"),properties:((a={})[o.azureMapObjectPropertyNames.tileLayerUrl]={displayName:r("Url"),description:r("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},a[o.azureMapObjectPropertyNames.tileSize]={displayName:r("Visual_AzureMapsTileSize"),description:r("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.northBounds]={displayName:r("Visual_AzureMapsTileNorthBounds"),description:r("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.southBounds]={displayName:r("Visual_AzureMapsTileSouthBounds"),description:r("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.eastBounds]={displayName:r("Visual_AzureMapsTileEastBounds"),description:r("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.westBounds]={displayName:r("Visual_AzureMapsTileWestBounds"),description:r("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.mapTransparency]={displayName:r("Transparency"),description:r("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},a[o.azureMapObjectPropertyNames.isTMS]={displayName:r("Visual_AzureMapsTileIsTMS"),description:r("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},a[o.azureMapObjectPropertyNames.minZoom]={displayName:r("Visual_AzureMapsMinZoom"),description:r("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.maxZoom]={displayName:r("Visual_AzureMapsMaxZoom"),description:r("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},a[o.azureMapObjectPropertyNames.layerPosition]={displayName:r("Visual_AzureMapsLayerPosition"),description:r("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:o.layerPositionEnum}},a)};var t,a=t;null!=e&&e.azureMapsGeocoding&&(a[o.azureMapObjectNames.mapControls].properties[o.azureMapObjectPropertyNames.geocodingCulture]={displayName:r("Visual_MapGeocodingCulture"),type:{enumeration:o.GeocodingCulture.type}});return a})(e),dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{min:1,max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:i.VisualDataRoleKind.Measure},Y:{max:1,kind:i.VisualDataRoleKind.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:o.azureMapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:o.azureMapRoleNames.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:o.azureMapRoleNames.y}},{bind:{to:o.azureMapRoleNames.x}},{bind:{to:o.azureMapRoleNames.size}},{for:{in:o.azureMapRoleNames.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:o.azureMapRoleNames.series}},{composite:[{for:{in:o.azureMapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:i.VisualDataRoleKind.Grouping},Y:{max:1,kind:i.VisualDataRoleKind.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:o.azureMapRoleNames.series}},{composite:[{bind:{to:o.azureMapRoleNames.x}},{bind:{to:o.azureMapRoleNames.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:o.azureMapRoleNames.size}},{bind:{to:o.azureMapRoleNames.tooltips}}]},dataVolume:6}}],sorting:{custom:{},implicit:{clauses:[{role:o.azureMapRoleNames.size,direction:2}]}},drilldown:{roles:[o.azureMapRoleNames.category]},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[o.azureMapRoleNames.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0}},o.azureMapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},defaultColor:{objectName:"bubbleLayer",propertyName:"defaultColor"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"}}}})(powerbi=powerbi||{}),(function(a){var i,o,e;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,e=i.StandardObjectProperties,i.funnelRoleNames={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},i.FunnelChartObjectDescriptors={general:{displayName:o("Visual_General"),properties:{formatString:e.formatString}},categoryAxis:{displayName:o("Visual_CategoryLabels"),description:o("Visual_CategoryLabelOptionsDescription"),properties:{show:e.show,color:e.categoryColor,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily}},dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:e.defaultColor,showAllDataPoints:e.showAllDataPoints,fill:e.defaultCategoryColor,fillRule:{displayName:o("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:o("Visual_DataPointsLabels"),description:o("Visual_DataPointsLabelsDescription"),properties:{show:e.show,color:e.dataColor,labelPosition:{displayName:o("Visual_Position"),type:{enumeration:i.labelPosition.type},suppressFormatPainterCopy:!0},labelDisplayUnits:e.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},e.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:__assign(__assign({},e.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,funnelLabelStyle:{displayName:o("Visual_LabelStyle"),type:{enumeration:i.funnelLabelStyle.type}}}},percentBarLabel:{displayName:o("Visual_PercentBarLabel"),description:o("Visual_PercentBarLabelDescription"),properties:{show:e.show,color:e.dataColor,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily}}},i.funnelChartObjectProps=i.builder.getPropertyIdentifiers(i.FunnelChartObjectDescriptors),i.getFunnelChartCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:i.funnelRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o(t?"Role_DisplayName_Category":"Group"),description:o("Role_DisplayName_GroupFunnelDescription")},{name:i.funnelRoleNames.y,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Values"),description:o("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:i.funnelRoleNames.gradient,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Gradient"),description:o("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:i.funnelRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:i.FunnelChartObjectDescriptors,supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}},i.funnelChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.gaugeRoleNames={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},t.gaugeCapabilities={dataRoles:[{name:t.gaugeRoleNames.y,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Value"),description:a("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.gaugeRoleNames.minValue,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_MinValue"),description:a("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.gaugeRoleNames.maxValue,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_MaxValue"),description:a("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:t.gaugeRoleNames.targetValue,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_TargetValue"),description:a("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Tooltips"),description:a("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:i.formatString}},axis:{displayName:a("Visual_Gauge_Axis"),properties:{min:{displayName:a("Min"),placeHolderText:a("Visual_Auto"),type:{numeric:!0}},max:{displayName:a("Max"),placeHolderText:a("Visual_Auto"),type:{numeric:!0}},target:{displayName:a("Visual_Gauge_Axis_Target"),placeHolderText:a("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:a("Visual_DataPoint"),properties:{fill:i.fill,target:{displayName:a("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:a("Visual_DataPointsLabels"),properties:{show:i.show,color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},target:{displayName:a("Visual_Gauge_Axis_Target"),properties:{show:i.show,color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},calloutValue:{displayName:a("Visual_Gauge_CalloutValue"),properties:{show:i.show,color:i.dataColor,fontFamily:i.fontFamily,bold:i.bold,italic:i.italic,underline:i.underline,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,showDynamicLabels:i.showDynamicLabels,dynamicLabelValue:i.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0},t.gaugeProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,t.imageVisualObjectDescriptors={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:e("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:e("Visual_Image_Scaling_Type"),type:{enumeration:t.imageScalingType.type}}}}},t.imageVisualObjectProps=t.builder.getPropertyIdentifiers(t.imageVisualObjectDescriptors),t.imageVisualCapabilities={objects:t.imageVisualObjectDescriptors,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}})(powerbi=powerbi||{}),(function(t){var a,i;a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,a.keyDriverRoleNames={target:"Target",explainBy:"ExplainBy",details:"Details"},a.keyDriversObjectDescriptors={keyDrivers:{displayName:i("Analysis"),description:i("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:i("Visual_KeyDrivers_AllowKeyDrivers"),description:i("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:i("Visual_KeyDrivers_AllowProfiles"),description:i("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:i("Visual_KeyDrivers_NumericAnalysis"),description:i("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:a.keyDriversNumericAnalysis.type},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:i("Visual_KeyDrivers_AllowKeyDriversCounting"),description:i("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:i("KeyDriver_CountType"),description:i("KeyDriver_CountType_Description"),type:{enumeration:a.keyDriversCount.type}},selectedAnalysis:{type:{enumeration:a.keyDriverAnalysis.type},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:a.keyDriversSort.type},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:i("Visual_KeyDriversVisualColors"),description:i("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:i("Visual_KeyDriversVisualColors_PrimaryColor"),description:i("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:i("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:i("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:i("Visual_KeyDriversVisualColors_SecondaryColor"),description:i("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:i("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:i("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:i("Background_Color"),description:i("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:i("Visual_FontColor"),description:i("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:i("Visual_KeyDriversDrillVisualColors"),description:i("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:i("Visual_DefaultColor"),description:i("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:i("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:i("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},a.keyDriverProps=a.builder.getPropertyIdentifiers(a.keyDriversObjectDescriptors),a.getKeyDriversCapabilities=function(){var e;return{dataRoles:[{name:a.keyDriverRoleNames.target,kind:t.VisualDataRoleKind.GroupingOrMeasure,kindPreference:1,displayName:i("Role_DisplayName_Target"),description:i("Role_DisplayName_TargetDescription")},{name:a.keyDriverRoleNames.explainBy,kind:t.VisualDataRoleKind.GroupingOrMeasure,displayName:i("Role_DisplayName_ExplainBy"),description:i("Role_DisplayName_ExplainByDescription")},{name:a.keyDriverRoleNames.details,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Details"),description:i("Role_DisplayName_DetailsKeyDriversDescription")}],objects:a.keyDriversObjectDescriptors,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[((e={})[a.keyDriverRoleNames.target]={min:1,max:1},e)],table:{rows:{select:[{bind:{to:a.keyDriverRoleNames.target}},{for:{in:a.keyDriverRoleNames.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.realTimeLineChartCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Legend"),description:a("Role_DisplayName_LegendDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values"),description:a("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,responsive:i.responsive,responsiveLegacy:i.responsiveLegacy}},legend:{displayName:a("Visual_Legend"),description:a("Visual_LegendDescription"),properties:{show:i.show,position:i.legendPosition,showTitle:i.showLegendTitle,titleText:__assign(__assign({},i.legendTitle),{suppressFormatPainterCopy:!0}),labelColor:i.labelColor,fontSize:i.fontSize}},categoryAxis:{displayName:a("Visual_XAxis"),properties:{show:i.show,axisType:i.axisType,showAxisTitle:{displayName:a("Visual_Axis_Title"),description:a("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:i.axisStyle,labelColor:i.labelColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:a("Visual_YAxis"),properties:{show:i.show,showAxisTitle:{displayName:a("Visual_Axis_Title"),description:a("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:i.axisStyle,labelColor:i.labelColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision}},dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{defaultColor:i.defaultColor,fill:i.fill}},plotArea:{displayName:a("Visual_Plot"),properties:{transparency:i.transparency,image:i.image}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.scorecardCapabilities={dataViewMappings:[],objects:{scorecard:{displayName:a("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:a("ContentHeader_URL"),suppressFormatPainterCopy:!0},goalIds:{displayName:a("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:a("ExplorationBookmarks_Display"),type:{enumeration:e.createEnumType([{displayName:a("Tile_Generic"),value:"tile"},{displayName:a("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:t.StandardObjectProperties.backColor,foregroundColor:t.StandardObjectProperties.fontColor,fontFamily:t.StandardObjectProperties.fontFamily,tableBackgroundColor:t.StandardObjectProperties.backColor,showCommandBar:{type:{bool:!0},displayName:a("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:a("ThemeDialog_SubSection_Header"),properties:{show:t.StandardObjectProperties.show,showTitle:{type:{bool:!0},displayName:a("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:a("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:a("Cards")},foregroundColor:t.StandardObjectProperties.fontColor,backgroundColor:t.StandardObjectProperties.backColor}},columnHeaders:{displayName:a("Visual_Tablix_ColumnHeaders"),properties:{show:t.StandardObjectProperties.show,foregroundColor:t.StandardObjectProperties.fontColor}},goals:{displayName:a("MetricsName_New"),properties:{foregroundColor:t.StandardObjectProperties.fontColor,backgroundColor:t.StandardObjectProperties.backColor}},detailsPane:{displayName:a("DetailsPane"),properties:{foregroundColor:t.StandardObjectProperties.fontColor,backgroundColor:t.StandardObjectProperties.backColor,cardForegroundColor:{displayName:a("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:a("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:a("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:a("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:a("Visualization"),properties:{backgroundColor:t.StandardObjectProperties.backColor,backgroundTransparency:t.StandardObjectProperties.transparency,showScorecardName:{displayName:a("ScorecardDialog_Name"),description:a("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:t.StandardObjectProperties.fontFamily,scorecardNameFontSize:t.StandardObjectProperties.titleFontSize,scorecardNameFontColor:t.StandardObjectProperties.fontColor,scorecardNameBold:t.StandardObjectProperties.bold,scorecardNameItalic:t.StandardObjectProperties.italic,scorecardNameUnderline:t.StandardObjectProperties.underline,currentValueFontFamily:t.StandardObjectProperties.fontFamily,currentValueFontSize:t.StandardObjectProperties.titleFontSize,currentValueFontColor:t.StandardObjectProperties.fontColor,currentValueBold:t.StandardObjectProperties.bold,currentValueItalic:t.StandardObjectProperties.italic,currentValueUnderline:t.StandardObjectProperties.underline,targetValueFontFamily:t.StandardObjectProperties.fontFamily,targetValueFontSize:t.StandardObjectProperties.titleFontSize,targetValueFontColor:t.StandardObjectProperties.fontColor,targetValueBold:t.StandardObjectProperties.bold,targetValueItalic:t.StandardObjectProperties.italic,targetValueUnderline:t.StandardObjectProperties.underline,showGrowth:{displayName:a("ScorecardVisual_Growth"),description:a("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:t.StandardObjectProperties.fontFamily,growthFontSize:t.StandardObjectProperties.titleFontSize,growthFontColor:t.StandardObjectProperties.fontColor,growthBold:t.StandardObjectProperties.bold,growthItalic:t.StandardObjectProperties.italic,growthUnderline:t.StandardObjectProperties.underline,showGoalName:{displayName:a("MetricName"),description:a("MetricName"),type:{bool:!0}},goalNameFontFamily:t.StandardObjectProperties.fontFamily,goalNameFontSize:t.StandardObjectProperties.titleFontSize,goalNameFontColor:t.StandardObjectProperties.fontColor,goalNameBold:t.StandardObjectProperties.bold,goalNameItalic:t.StandardObjectProperties.italic,goalNameUnderline:t.StandardObjectProperties.underline,showOwner:{displayName:a("Owner_Lowercase"),description:a("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:a("Role_DisplayName_Size"),description:a("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:a("Due"),description:a("Due"),type:{bool:!0}},dueDateFontFamily:t.StandardObjectProperties.fontFamily,dueDateFontSize:t.StandardObjectProperties.titleFontSize,dueDateFontColor:t.StandardObjectProperties.fontColor,dueDateBold:t.StandardObjectProperties.bold,dueDateItalic:t.StandardObjectProperties.italic,dueDateUnderline:t.StandardObjectProperties.underline,showStatus:{displayName:a("Status"),description:a("Status"),type:{bool:!0}},showNotes:{displayName:a("Notes"),description:a("Notes"),type:{bool:!0}},notesFontSize:t.StandardObjectProperties.titleFontSize,notesFontColor:t.StandardObjectProperties.fontColor,showVisualization:{displayName:a("Visualization"),description:a("Visualization"),type:{bool:!0}},showLegends:{displayName:a("Visual_Legend"),description:a("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:a("ScorecardVisual_TargetLine"),description:a("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:t.StandardObjectProperties.fontColor,currentLineColor:t.StandardObjectProperties.fontColor,currentAreaShaded:{displayName:a("Visual_Shapes_ShadeArea"),description:a("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:a("Visual_XAxis_Hyphen"),description:a("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:t.StandardObjectProperties.fontFamily,xAxisFontSize:t.StandardObjectProperties.titleFontSize,xAxisFontColor:t.StandardObjectProperties.fontColor,xAxisBold:t.StandardObjectProperties.bold,xAxisItalic:t.StandardObjectProperties.italic,xAxisUnderline:t.StandardObjectProperties.underline,showYAxis:{displayName:a("Visual_YAxis_Hyphen"),description:a("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:t.StandardObjectProperties.fontFamily,yAxisFontSize:t.StandardObjectProperties.titleFontSize,yAxisFontColor:t.StandardObjectProperties.fontColor,yAxisBold:t.StandardObjectProperties.bold,yAxisItalic:t.StandardObjectProperties.italic,yAxisUnderline:t.StandardObjectProperties.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1},t.scorecardProps=t.builder.getPropertyIdentifiers(t.scorecardCapabilities.objects)})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).scriptVisualCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:e.data.createDisplayNameGetter("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).getPythonVisualCapabilities=function(){return{dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:e.data.createDisplayNameGetter("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}}}})(powerbi=powerbi||{}),(function(e){var t,a;t=(t=e.visuals||(e.visuals={})).samples||(t.samples={}),a=e.data.createDisplayNameGetter,t.consoleWriterCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Y"),description:a("Role_DisplayName_YDescription")}],dataViewMappings:[{categorical:{categories:{for:{in:"Category"}}}}]}})(powerbi=powerbi||{}),(function(e){function t(){}e=(e=e.visuals||(e.visuals={})).samples||(e.samples={}),t.converter=function(e){return window.console.log("converter"),window.console.log(e),{}},t.prototype.init=function(e){var t=d3.select(e.element.get(0)).append("div");t.append("h1").text("ConsoleWriter"),t.append("p").text("This IVisual writes messages passed to it to the javscript console output. Check your console for the actual messages passed. For more information, click below"),t.append("a").attr("href","https://microsoft.github.io/PowerBI-visuals/modules/powerbi.html").text("Online help"),window.console.log("init"),window.console.log(e)},t.prototype.onResizing=function(e){},t.prototype.update=function(e){window.console.log("update"),window.console.log(e)},e.ConsoleWriter=t})(powerbi=powerbi||{}),(function(n){var l,s,e,c,u,p,d;function m(e){var t;_.find(e.conditions,(function(e){return _.isEqual(e[l.LineChartRoles.Series],{min:1,max:1})&&_.isEqual(e[l.LineChartRoles.Y],{max:1})}))[l.LineChartRoles.Y2]={max:0},_.find(e.conditions,(function(e){return _.isEqual(e[l.LineChartRoles.Series],{min:1,max:1})&&_.isEqual(e[l.LineChartRoles.Y],{max:0})}))[l.LineChartRoles.Y2]={max:1},e.categorical?t=e.categorical.values.group.select:e.matrix&&(t=e.matrix.values.select),t.splice(1,0,{for:{in:l.LineChartRoles.Y2}})}l=n.visuals||(n.visuals={}),c=n.visuals.AnomalyDetectionColumns,u=n.visuals.AnomalyDetectionOutputRoles,p=n.data.createDisplayNameGetter,d=l.StandardObjectProperties,l.LineChartRoles={Rows:l.cartesianRoleNames.rows,Category:"Category",Series:"Series",Y:"Y",Y2:"Y2",Tooltips:"Tooltips"},l.LineChartObjectDescriptors=((e={general:{displayName:p("Visual_General"),properties:{formatString:d.formatString,responsive:d.responsive,responsiveLegacy:d.responsiveLegacy}},legend:{displayName:l.StandardObjectDescriptors.legend.displayName,description:l.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},l.StandardObjectDescriptors.legend.properties),{legendMarkerRendering:d.legendMarkerRendering,defaultToCircle:d.defaultToCircle,matchLineColor:d.matchLineColor})},subheader:__assign({},l.StandardObjectDescriptors.subheader)})[l.SmallMultiplesUtils.LayoutObjectName]=__assign({},l.StandardObjectDescriptors.smallMultiplesLayout),e.categoryAxis={displayName:p("Visual_XAxis"),properties:{show:d.show,start:d.axisStart,end:d.axisEnd,axisType:d.axisType,showAxisTitle:{displayName:p("Visual_Axis_Title"),description:p("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:d.axisStyle,labelColor:d.labelColor,fontFamily:d.fontFamily,fontSize:d.fontSize,bold:d.bold,italic:d.italic,underline:d.underline,invertAxis:d.invertAxis,labelDisplayUnits:d.labelDisplayUnits,labelPrecision:d.labelPrecision,logAxisScale:d.logAxisScale,concatenateLabels:{displayName:p("Visual_Axis_ConcatenateLabels"),description:p("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:d.preferredCategoryWidth,maxMarginFactor:d.maxMarginFactor,reverseStackOrder:d.reverseStackOrder,titleColor:d.titleColor,titleFontFamily:d.fontFamily,titleFontSize:d.titleFontSize,titleBold:d.bold,titleItalic:d.italic,titleUnderline:d.underline,titleText:d.titleText,gridlineShow:__assign(__assign({},d.show),{displayName:p("Visual_Gridline_Show")}),gridlineColor:d.lineColor,gridlineThickness:d.strokeWidth,gridlineStyle:d.lineStyle}},e.valueAxis={displayName:p("Visual_YAxis"),properties:{show:d.show,start:d.axisStart,end:d.axisEnd,invertAxis:d.invertAxis,sharedAxis:d.sharedAxis,scaleToFit:d.scaleToFit,showAxisTitle:{displayName:p("Visual_Axis_Title"),description:p("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:d.axisStyle,labelColor:d.labelColor,fontFamily:d.fontFamily,fontSize:d.fontSize,bold:d.bold,italic:d.italic,underline:d.underline,labelDisplayUnits:d.labelDisplayUnits,labelPrecision:d.labelPrecision,logAxisScale:d.logAxisScale,titleColor:d.titleColor,titleFontFamily:d.fontFamily,titleFontSize:d.titleFontSize,titleBold:d.bold,titleItalic:d.italic,titleUnderline:d.underline,titleText:d.titleText,gridlineShow:__assign(__assign({},d.show),{displayName:p("Visual_Gridline_Show")}),gridlineColor:d.lineColor,gridlineThickness:d.strokeWidth,gridlineStyle:d.lineStyle,switchAxisPosition:d.switchAxisPosition}},e.y2Axis={displayName:p("Visual_Y2Axis"),properties:__assign({show:d.show},_.omit(l.SecondaryAxisProperties,["alignZeros","switchAxisPosition","secShow"]))},e.zoom={displayName:l.StandardObjectDescriptors.zoom.displayName,properties:__assign(__assign({},l.StandardObjectDescriptors.zoom.properties),l.SecondaryAxisZoomObjectDescriptors.zoom.properties)},e.dataPoint={displayName:p("Visual_DataPoint"),description:p("Visual_DataPointDescription"),properties:{transparency:{displayName:p("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:d.defaultColor,fill:d.defaultDataPointColor,showAllDataPoints:d.showAllDataPoints}},e.labels={displayName:p("Visual_DataPointsLabels"),description:p("Visual_DataPointsLabelsDescription"),properties:{show:d.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:p("Visual_Show"),type:{bool:!0}},color:d.dataColor,labelDisplayUnits:d.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},d.labelPrecision),{suppressFormatPainterCopy:!0}),labelPosition:{displayName:p("Visual_Position"),type:{enumeration:l.labelPosition.type}},enableBackground:d.labelEnableBackground,backgroundColor:d.labelBackgroundColor,backgroundTransparency:d.labelBackgroundTransparency,showAll:{displayName:p("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:d.fontSize,bold:d.bold,italic:d.italic,underline:d.underline,fontFamily:d.fontFamily,labelDensity:{displayName:p("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:d.showDynamicLabels,dynamicLabelValue:d.dynamicLabelValue}},e.totals=l.StandardObjectDescriptors.totals,e.seriesLabels={displayName:p("Visual_SeriesLabels"),description:p("Visual_SeriesDescription"),properties:__assign({},l.SeriesObjectDescriptors.seriesLabels.properties)},e.lineStyles={displayName:p("Visual_Shapes"),description:p("Visual_ShapesDescription"),properties:{strokeWidth:d.strokeWidth,strokeLineJoin:d.strokeLineJoin,lineStyle:d.lineStyle,showMarker:d.showMarker,showMarkerByDefault:{type:{bool:!0}},markerShape:d.markerShape,markerSize:d.markerSize,markerColor:d.markerColor,stepped:d.stepped,showSeries:{displayName:p("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},e.plotArea={displayName:p("Visual_Plot"),properties:{transparency:d.transparency,image:d.image}},e.trend={displayName:p("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},lineColor:{displayName:p("Visual_Trend_Line_Color"),description:p("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:p("Visual_Trend_Line_Transparency"),description:p("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:p("Style"),description:p("Visual_Trend_Line_Style_Description"),type:{enumeration:l.lineStyle.type}},combineSeries:{displayName:p("Visual_Trend_Line_Combine_Series"),description:p("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},useHighlightValues:{displayName:p("Visual_Trend_Line_UseHighlightValues"),description:p("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}}}},e.scalarKey={properties:{min:{type:{dateTime:!0}}}},e.y1AxisReferenceLine={displayName:p("Visual_Reference_Line_Y"),description:p("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:p("Visual_Reference_Line_Value"),description:p("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:d.referenceLineColor,transparency:{displayName:p("Visual_Reference_Line_Transparency"),description:p("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:d.lineStyle,position:d.referenceLinePosition,dataLabelShow:d.dataLabelShow,dataLabelColor:d.dataLabelColor,dataLabelText:d.dataLabelText,dataLabelDecimalPoints:d.dataLabelDecimalPoints,dataLabelHorizontalPosition:d.dataLabelHorizontalPosition,dataLabelVerticalPosition:d.dataLabelVerticalPosition,dataLabelDisplayUnits:d.dataLabelDisplayUnits}},e.xAxisReferenceLine={displayName:p("Visual_Reference_Line_X"),description:p("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:p("Visual_Reference_Line_Value"),description:p("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:d.lineColor,transparency:{displayName:p("Visual_Reference_Line_Transparency"),description:p("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:d.lineStyle,position:d.referenceLinePosition,shadeRegion:d.shadeRegion,shadeColor:d.shadeColor,shadeTransparency:d.shadeTransparency,dataLabelShow:d.dataLabelShow,dataLabelColor:d.dataLabelColor,dataLabelText:d.dataLabelText,dataLabelDecimalPoints:d.dataLabelDecimalPoints,dataLabelHorizontalPosition:d.dataLabelHorizontalPosition,dataLabelVerticalPosition:d.dataLabelVerticalPosition,dataLabelDisplayUnits:d.dataLabelDisplayUnits}},e.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},e),l.lineChartObjectProps=l.builder.getPropertyIdentifiers(l.LineChartObjectDescriptors),l.getLineChartCapabilities=function(t,e,a){var i=a&&a.useModernFormatPane,o=__assign({},l.LineChartObjectDescriptors),r=[{name:l.LineChartRoles.Category,kind:n.VisualDataRoleKind.Grouping,displayName:p(i?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:p("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:l.LineChartRoles.Series,kind:n.VisualDataRoleKind.Grouping,displayName:p("Role_DisplayName_Legend"),displayOrder:i?4:2,description:p("Role_DisplayName_LegendDescription")},{name:l.LineChartRoles.Y,kind:n.VisualDataRoleKind.Measure,displayName:p(i?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:i?2:3,description:p("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],i=(t||r.push({name:l.LineChartRoles.Y2,kind:n.VisualDataRoleKind.Measure,displayName:p(i?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:i?3:4,description:p("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),a&&a.cartesianMultiples&&r.push({name:l.LineChartRoles.Rows,kind:n.VisualDataRoleKind.Grouping,displayName:p("Role_DisplayName_SmallMultiples"),displayOrder:5,description:p("Role_DisplayName_SmallMultiples_Description")}),r.push({name:l.LineChartRoles.Tooltips,kind:n.VisualDataRoleKind.Measure,displayName:p("Role_DisplayName_Tooltips"),displayOrder:6,description:p("Role_Tooltips_Description"),joinPredicate:0}),{dataRoles:r,objects:o,dataViewMappings:__spreadArray(__spreadArray([],(function(){var e=[];a&&a.cartesianMultiples&&e.push(function(){var e={conditions:[((e={})[l.LineChartRoles.Series]={max:0},e[l.LineChartRoles.Rows]={min:1},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:1},e[l.LineChartRoles.Rows]={min:1},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:0},e[l.LineChartRoles.Rows]={min:1},e)],matrix:{rows:{select:[{composite:[{for:{in:l.LineChartRoles.Rows}}],dataReductionAlgorithm:{window:{count:l.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultWindowSize}}},{composite:[{for:{in:l.LineChartRoles.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:l.LineChartRoles.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:l.LineChartRoles.Y}},{for:{in:l.LineChartRoles.Tooltips}}]},dataVolume:6}};t||m(e);return e}());return e.push(function(){var e={conditions:[((e={})[l.LineChartRoles.Series]={max:0},e[l.LineChartRoles.Rows]={max:0},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:1},e[l.LineChartRoles.Rows]={max:0},e),((e={})[l.LineChartRoles.Series]={min:1,max:1},e[l.LineChartRoles.Y]={max:0},e[l.LineChartRoles.Rows]={max:0},e)],categorical:{categories:{for:{in:l.LineChartRoles.Category}},values:{group:{by:l.LineChartRoles.Series,select:[{for:{in:l.LineChartRoles.Y}},{for:{in:l.LineChartRoles.Tooltips}}]}}}};t?s.applyLegacySampling(e):s.applyBinnedSampling(e);t||m(e);return e}()),e})(),!0),[{conditions:[((i={})[l.cartesianRoleNames.rows]={max:0},i[l.LineChartRoles.Series]={max:0},i),((i={})[l.cartesianRoleNames.rows]={max:0},i[l.LineChartRoles.Series]={min:1,max:1},i[l.LineChartRoles.Y]={max:1},i[l.LineChartRoles.Y2]={max:0},i),((i={})[l.cartesianRoleNames.rows]={max:0},i[l.LineChartRoles.Series]={min:1,max:1},i[l.LineChartRoles.Y]={max:0},i[l.LineChartRoles.Y2]={max:1},i)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[((r={})[l.cartesianRoleNames.rows]={max:0},r[l.LineChartRoles.Series]={max:0},r[l.LineChartRoles.Category]={min:1},r[l.LineChartRoles.Y]={min:1,max:1},r[l.LineChartRoles.Y2]={max:0},r)],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:l.LineChartRoles.Category}},values:{group:{by:l.LineChartRoles.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}},{conditions:[((o={})[l.LineChartRoles.Rows]={max:0},o[l.LineChartRoles.Series]={max:0},o[l.LineChartRoles.Category]={min:1},o[l.LineChartRoles.Y]={min:1,max:1},o[l.LineChartRoles.Y2]={max:0},o)],requiredProperties:[{objectName:l.AnomalyDetectionObjectConstants.capabilityObjectName,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:l.LineChartRoles.Category}},values:{group:{by:l.LineChartRoles.Series,select:[{for:{in:u.ExpectedValue}},{for:{in:u.ExpectedLow}},{for:{in:u.ExpectedHigh}},{for:{in:u.RawScore}},{for:{in:u.Anomaly}},{for:{in:u.BatchStart}},{for:{in:u.BatchEnd}}]}}}}],!1),sorting:{default:{}},drilldown:{roles:[l.LineChartRoles.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[l.LineChartRoles.Tooltips]},supportsDataDrivenAlerts:!(!a||!a.lineChartAlert),insights:{explainAnomalies:{anomalyDataPointObjectName:l.AnomalyDetectionObjectConstants.dataPointObjectName}},expandAndSort:[l.LineChartRoles.Category],supportsOnObjectFormatting:!0});return e&&t&&a&&a.flipStackOrder?i.objects.categoryAxis.properties.reverseStackOrder=d.reverseStackOrder:delete i.objects.categoryAxis.properties.reverseStackOrder,t?i.objects.totals=l.StandardObjectDescriptors.totals:(delete i.objects.totals,i.objects.referenceLine={displayName:p("Visual_Reference_Line"),description:p("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:p("Visual_Reference_Line_Value"),description:p("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:d.referenceLineColor,transparency:{displayName:p("Visual_Reference_Line_Transparency"),description:p("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:d.lineStyle,position:d.referenceLinePosition,dataLabelShow:d.dataLabelShow,dataLabelColor:d.dataLabelColor,dataLabelText:d.dataLabelText,dataLabelDecimalPoints:d.dataLabelDecimalPoints,dataLabelHorizontalPosition:d.dataLabelHorizontalPosition,dataLabelVerticalPosition:d.dataLabelVerticalPosition,dataLabelDisplayUnits:d.dataLabelDisplayUnits}}),t||e||(i.objects.error=__assign({},l.StandardObjectDescriptors.error),i.objects.forecast={displayName:p("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:d.show,displayName:{displayName:p("Name"),description:p("Visual_Forecast_DisplayName_Description"),type:{text:!0}},confidenceBandStyle:{displayName:p("Visual_Forecast_Confidence_Band_Style"),description:p("Visual_Forecast_Confidence_Band_Style_Description"),type:{enumeration:l.confidenceBandStyle.type}},lineColor:{displayName:p("Visual_Forecast_Line_Color"),description:p("Visual_Forecast_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:d.transparency,style:d.lineStyle,transform:{type:{queryTransform:{}}}}},a&&a.daxTransformEnabled&&(i.objects[l.AnomalyDetectionObjectConstants.capabilityObjectName]={displayName:p("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:((r={})[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.show]=d.show,r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.displayName]={displayName:p("Name"),description:p("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.markerShape]={displayName:p("Visual_AnomalyDetection_AnomalyShape"),description:p("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:l.anomalyMarkerShape.type}},r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.markerShapeSize]={displayName:p("Visual_AnomalyDetection_AnomalyShapeSize"),description:p("Visual_AnomalyDetection_AnomalyShapeSize_Description"),type:{numeric:!0}},r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.markerColor]={displayName:p("Visual_AnomalyDetection_AnomalyColor"),description:p("Visual_AnomalyDetection_AnomalyColor_Description"),type:{fill:{solid:{color:!0}}}},r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.confidenceBandStyle]={displayName:p("Visual_AnomalyDetection_RangeStyle"),description:p("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:l.confidenceBandStyle.type}},r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.transparency]={displayName:p("Visual_AnomalyDetection_RangeTransparency"),description:p("Visual_AnomalyDetection_RangeTransparency_Description"),type:{numeric:!0}},r[l.AnomalyDetectionVisualPlugin.anomalyDetectionPropertyNames.confidenceBandColor]={displayName:p("Visual_AnomalyDetection_RangeColor"),description:p("Visual_AnomalyDetection_RangeColor_Description"),type:{fill:{solid:{color:!0}}}},r[c.CategoryValue]={type:{dateTime:!0}},r[c.Value]={type:{numeric:!0}},r[c.ExpectedValue]={type:{numeric:!0}},r[c.ExpectedLow]={type:{numeric:!0}},r[c.ExpectedHigh]={type:{numeric:!0}},r[c.BatchStart]={type:{dateTime:!0}},r[c.BatchEnd]={type:{dateTime:!0}},r.transform={type:{queryTransform:{}}},r[l.AnomalyDetectionObjectConstants.explainByPropertyName]={type:{exprList:{}}},r[l.AnomalyDetectionObjectConstants.isAnomalyHighlighted]={type:{bool:!0}},r)})),i},l.lineChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{transparency:{objectName:"dataPoint",propertyName:"transparency"},defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},anomalyDetection:{show:l.AnomalyDetectionTransformConstants.showProperty},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"},legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},defaultToCircle:{objectName:"legend",propertyName:"defaultToCircle"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},lineStyles:{shadeArea:{objectName:"lineStyles",propertyName:"shadeArea"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},lineStyle:{objectName:"lineStyles",propertyName:"lineStyle"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showMarker:{objectName:"lineStyles",propertyName:"showMarker"},markerShape:{objectName:"lineStyles",propertyName:"markerShape"},markerSize:{objectName:"lineStyles",propertyName:"markerSize"},markerColor:{objectName:"lineStyles",propertyName:"markerColor"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},stepped:{objectName:"lineStyles",propertyName:"stepped"}}},(e=s=l.LineChartDataReduction||(l.LineChartDataReduction={})).applyLegacySampling=function(e){e.categorical,(e=e.categorical).dataReductionAlgorithm=void 0,e.categories.dataReductionAlgorithm={sample:{}},e.values.group.dataReductionAlgorithm={top:{}}},e.applyWindow=function(e,t){var a;e.categorical?(a=e.categorical)&&(a.dataReductionAlgorithm=void 0,a.categories.dataReductionAlgorithm={window:{count:200}},a.values.group.dataReductionAlgorithm={top:{count:60}}):t&&l.SmallMultiplesUtils.isSmallMultiplesMapping(e)&&(e.matrix.rows.select[1].dataReductionAlgorithm={top:{}})},e.applyBinnedSampling=function(e){var t;e.categorical?((t=e.categorical).dataReductionAlgorithm={binnedLineSample:{}},t.categories.dataReductionAlgorithm=void 0,t.values.group.dataReductionAlgorithm=void 0):e.matrix}})(powerbi=powerbi||{}),(function(a){var i,o,t;i=a.visuals||(a.visuals={}),o=a.data.createDisplayNameGetter,t=i.StandardObjectProperties,i.mapRoleNames={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"},i.getMapCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:i.mapRoleNames.category,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Location"),description:o("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:i.mapRoleNames.series,kind:a.VisualDataRoleKind.Grouping,displayName:o("Role_DisplayName_Legend"),description:o("Role_DisplayName_LegendDescription")},{name:i.mapRoleNames.y,kind:a.VisualDataRoleKind.GroupingOrMeasure,displayName:o("Role_DisplayName_Latitude"),description:o("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:i.mapRoleNames.x,kind:a.VisualDataRoleKind.GroupingOrMeasure,displayName:o("Role_DisplayName_Longitude"),description:o("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:i.mapRoleNames.size,kind:a.VisualDataRoleKind.Measure,displayName:o(t?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:o(t?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:i.mapRoleNames.gradient,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Gradient"),description:o("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:i.mapRoleNames.tooltips,kind:a.VisualDataRoleKind.Measure,displayName:o("Role_DisplayName_Tooltips"),description:o("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),objects:{general:{displayName:o("Visual_General"),properties:{formatString:t.formatString}},legend:i.StandardObjectDescriptors.legend,dataPoint:{displayName:o("Visual_DataPoint"),description:o("Visual_DataPointDescription"),properties:{defaultColor:t.defaultColor,showAllDataPoints:t.showAllDataPoints,fill:t.defaultCategoryColor,fillRule:{displayName:o("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:i.mapRoleNames.gradient,output:{property:"fill",selector:[i.mapRoleNames.category,i.mapRoleNames.x,i.mapRoleNames.y]}}},transparency:t.transparency}},categoryLabels:{displayName:o("Visual_CategoryLabels"),description:o("Visual_CategoryLabelsDescription"),properties:{show:t.show,color:t.categoryColor,fontSize:t.fontSize,bold:t.bold,italic:t.italic,underline:t.underline,fontFamily:t.fontFamily,enableBackground:t.labelEnableBackground,backgroundColor:t.labelBackgroundColor,backgroundTransparency:t.labelBackgroundTransparency}},bubbles:{displayName:o("Visual_Bubbles"),description:o("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:o("Visual_BubbleSize"),type:{integer:!0}}}},mapControls:{displayName:o("Visual_MapControls"),description:o("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:o("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:o("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:o("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:o("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:o("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:o("Visual_MapGeocodingCulture"),type:{enumeration:i.GeocodingCulture.type}}}},mapStyles:{displayName:o("Visual_MapStyles"),description:o("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:o("Visual_MapTheme"),type:{enumeration:i.BingMapTheme.type}},showLabels:{displayName:o("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:o("Visual_HeatMap"),properties:{show:t.show,filterRadius:{displayName:o("Visual_Radius"),type:{numeric:!0}},transparency:t.transparency,unit:{displayName:o("Visual_Forecast_Parameter_Units"),type:{enumeration:i.BingMapHeatMapUnit.type}},color0:{displayName:o("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:o("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:o("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,min:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:a.VisualDataRoleKind.Measure},Y:{max:1,kind:a.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:i.mapRoleNames.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:i.mapRoleNames.series,select:[{bind:{to:i.mapRoleNames.x}},{bind:{to:i.mapRoleNames.y}},{bind:{to:i.mapRoleNames.size}},{bind:{to:i.mapRoleNames.gradient}},{for:{in:i.mapRoleNames.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:a.VisualDataRoleKind.Grouping},Y:{max:1,kind:a.VisualDataRoleKind.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:a.VisualDataRoleKind.Grouping},Y:{max:1,kind:a.VisualDataRoleKind.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:i.mapRoleNames.x}},{bind:{to:i.mapRoleNames.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:i.mapRoleNames.series,select:[{bind:{to:i.mapRoleNames.size}},{bind:{to:i.mapRoleNames.gradient}},{for:{in:i.mapRoleNames.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:i.mapRoleNames.series}},{composite:[{for:{in:i.mapRoleNames.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:a.VisualDataRoleKind.Grouping},Y:{max:1,kind:a.VisualDataRoleKind.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:i.mapRoleNames.series}},{composite:[{bind:{to:i.mapRoleNames.x}},{bind:{to:i.mapRoleNames.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:i.mapRoleNames.tooltips}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:i.mapRoleNames.size,direction:2}]}},drilldown:{roles:[i.mapRoleNames.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:i.mapRoleNames.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[i.mapRoleNames.tooltips],supportEnhancedTooltips:!0}}},i.mapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.MultiRowCardObjectDescriptors={general:{properties:{formatString:i.formatString}},dataLabels:{displayName:a("Visual_DataPointsLabels"),description:a("Visual_DataPointsLabelsDescription"),properties:{color:i.dataColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},categoryLabels:{displayName:a("Visual_CategoryLabels"),description:a("Visual_CategoryLabelsDescription"),properties:{show:i.show,color:i.categoryColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},cardTitle:{displayName:a("Visual_CardTitle"),description:a("Visual_CardTitleDescription"),properties:{color:i.dataColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily}},card:{displayName:a("Card_ToolTip"),properties:{outline:i.outline,outlineStyle:i.outlineStyle,outlineColor:{displayName:a("Visual_OutlineColor"),description:a("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:a("Visual_OutlineWeight"),description:a("Visual_OutlineWeight_Desc"),type:{numeric:!0}},barShow:{displayName:a("Visual_MultiRowCard_BarShow"),description:a("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:a("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:a("Visual_MultiRowCard_BarWeight"),description:a("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:a("Visual_Padding"),description:a("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:a("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},t.multiRowCardObjectProps=t.builder.getPropertyIdentifiers(t.MultiRowCardObjectDescriptors),t.multiRowCardCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:a("Role_DisplayName_Fields"),description:a("Role_DisplayName_FieldsDescription")}],objects:t.MultiRowCardObjectDescriptors,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!1,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},t.multiRowCardProps={card:{outline:{objectName:"card",propertyName:"outline"},outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,t.textboxProps={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},t.textboxCapabilities={objects:{general:{displayName:e("Visual_General"),properties:((a={})[t.textboxProps.general.paragraphs.propertyName]={type:{paragraphs:{}},suppressFormatPainterCopy:!0},a)},text:{displayName:e("Text"),properties:((a={})[t.textboxProps.text.fontSize.propertyName]={displayName:e("Default_Font_Size"),type:{formatting:{fontSize:!0}}},a[t.textboxProps.text.fontFamily.propertyName]={displayName:e("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},a[t.textboxProps.text.color.propertyName]={displayName:e("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},a)},values:{properties:((e={})[t.textboxProps.values.expr.propertyName]={formatStringProperty:t.textboxProps.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},e[t.textboxProps.values.formatString.propertyName]=t.StandardObjectProperties.formatString,e)}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},t.TextRunNewline="\n",t.TextRunNewlineHidden="__Newline__"})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.cheerMeterCapabilities={dataRoles:[{name:"Category",kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Axis"),description:a("Role_DisplayName_AxisDescription")},{name:"Y",kind:e.VisualDataRoleKind.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:a("Role_DisplayName_Y"),description:a("Role_DisplayName_YDescription")}],dataViewMappings:[{categorical:{categories:{for:{in:"Category"}}}}],objects:{dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{fill:t.StandardObjectProperties.fill}}}}})(powerbi=powerbi||{}),(function(u){var a,i,e;function t(e,t,a){var i,o={min:1,max:1,kind:u.VisualDataRoleKind.Grouping},r={min:1,max:1,kind:u.VisualDataRoleKind.Grouping},n=(a&&(o={min:1,kind:u.VisualDataRoleKind.Grouping}),{max:1,kind:u.VisualDataRoleKind.Measure}),o=e?o:n,r=t?r:n,n={bind:{to:"X"}},l={bind:{to:"Y"}},s=[],c=[],n=(e?s.push(a?{for:{in:"X"}}:n):c.push(n),(t?s:c).push(l),s.length);return 2<=n||1===n&&e&&a?i={composite:s}:1===n&&(i=s[0]),{conditions:[{Category:{max:0},Series:{max:1},X:o,Y:r,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:o,Y:r,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},i],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:__spreadArray(__spreadArray([],c||[],!0),[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],!1)},dataVolume:4}}}function o(){return{general:{displayName:i("Visual_General"),properties:{formatString:e.formatString,responsive:e.responsive,responsiveLegacy:e.responsiveLegacy,dataVolume:{displayName:i("Visual_DataVolume"),description:i("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:a.StandardObjectDescriptors.legend.displayName,description:a.StandardObjectDescriptors.legend.description,properties:__assign(__assign({},a.StandardObjectDescriptors.legend.properties),a.GradientLegendObjectDescriptors.legend.properties)},categoryAxis:{displayName:i("Visual_XAxis"),properties:{show:e.show,start:e.axisStart,end:e.axisEnd,invertAxis:e.invertAxis,axisType:e.axisType,showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:e.axisStyle,labelColor:e.labelColor,fontFamily:e.fontFamily,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,labelDisplayUnits:e.labelDisplayUnits,labelPrecision:e.labelPrecision,logAxisScale:e.logAxisScale,preferredCategoryWidth:e.preferredCategoryWidth,maxMarginFactor:e.maxMarginFactor,treatNullsAsZero:{displayName:i("Visual_Scatter_TreatNullsAsZero"),description:i("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},titleColor:e.titleColor,titleFontFamily:e.fontFamily,titleFontSize:e.titleFontSize,titleBold:e.bold,titleItalic:e.italic,titleUnderline:e.underline,titleText:e.titleText,gridlineShow:__assign(__assign({},e.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:e.lineColor,gridlineThickness:e.strokeWidth,gridlineStyle:e.lineStyle,innerPadding:e.innerPadding}},valueAxis:{displayName:i("Visual_YAxis"),properties:{show:e.show,start:e.axisStart,end:e.axisEnd,invertAxis:e.invertAxis,treatNullsAsZero:{displayName:i("Visual_Scatter_TreatNullsAsZero"),description:i("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:e.axisStyle,labelColor:e.labelColor,fontFamily:e.fontFamily,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,labelDisplayUnits:e.labelDisplayUnits,labelPrecision:e.labelPrecision,logAxisScale:e.logAxisScale,titleColor:e.titleColor,titleFontFamily:e.fontFamily,titleFontSize:e.titleFontSize,titleBold:e.bold,titleItalic:e.italic,titleUnderline:e.underline,titleText:e.titleText,gridlineShow:__assign(__assign({},e.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:e.lineColor,gridlineThickness:e.strokeWidth,gridlineStyle:e.lineStyle,switchAxisPosition:e.switchAxisPosition}},zoom:a.StandardObjectDescriptors.zoom,dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{defaultColor:e.defaultColor,showAllDataPoints:e.showAllDataPoints,fill:e.defaultCategoryColor,fillRule:{displayName:i("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},bubbles:{displayName:i("Visual_Shapes"),description:i("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:i("Visual_BubbleSize"),type:{integer:!0}},markerShape:e.markerShape,showSeries:{displayName:i("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:i("Visual_Plot"),properties:{transparency:e.transparency,image:e.image}},categoryLabels:{displayName:i("Visual_CategoryLabels"),description:i("Visual_CategoryLabelsDescription"),properties:{show:e.show,color:e.categoryColor,fontSize:e.fontSize,bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,enableBackground:e.labelEnableBackground,backgroundColor:e.labelBackgroundColor,backgroundTransparency:e.labelBackgroundTransparency}},trend:{displayName:i("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},lineColor:{displayName:i("Visual_Trend_Line_Color"),description:i("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:i("Visual_Trend_Line_Transparency"),description:i("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},style:{displayName:i("Style"),description:i("Visual_Trend_Line_Style_Description"),type:{enumeration:a.lineStyle.type}},combineSeries:{displayName:i("Visual_Trend_Line_Combine_Series"),description:i("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}}}},xAxisReferenceLine:{displayName:i("Visual_Reference_Line_X"),description:i("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:e.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:e.lineStyle,position:e.referenceLinePosition,dataLabelShow:e.dataLabelShow,dataLabelColor:e.dataLabelColor,dataLabelText:e.dataLabelText,dataLabelDecimalPoints:e.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.dataLabelVerticalPosition,dataLabelDisplayUnits:e.dataLabelDisplayUnits}},y1AxisReferenceLine:{displayName:i("Visual_Reference_Line_Y"),description:i("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:e.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:e.lineStyle,position:e.referenceLinePosition,dataLabelShow:e.dataLabelShow,dataLabelColor:e.dataLabelColor,dataLabelText:e.dataLabelText,dataLabelDecimalPoints:e.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.dataLabelVerticalPosition,dataLabelDisplayUnits:e.dataLabelDisplayUnits}},referenceLine:{displayName:i("Visual_Reference_Line"),description:i("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:e.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:e.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:e.lineStyle,position:e.referenceLinePosition,dataLabelShow:e.dataLabelShow,dataLabelColor:e.dataLabelColor,dataLabelText:e.dataLabelText,dataLabelDecimalPoints:e.dataLabelDecimalPoints,dataLabelHorizontalPosition:e.dataLabelHorizontalPosition,dataLabelVerticalPosition:e.dataLabelVerticalPosition,dataLabelDisplayUnits:e.dataLabelDisplayUnits}},colorBorder:{displayName:i("Visual_ColorBorder"),properties:{show:e.show}},fillPoint:{displayName:i("Visual_FillPoint"),properties:{show:e.show,style:e.fillPointStyle}},colorByCategory:{displayName:i("Visual_ColorByCategory"),properties:{show:e.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:i("Visual_Scatter_SymmetryShading"),description:i("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:e.show,displayName:{displayName:i("Name"),type:{text:!0}},upperShadingColor:{displayName:i("Visual_Scatter_SymmetryShadingUpper"),description:i("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:i("Visual_Scatter_SymmetryShadingLower"),description:i("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:e.transparency}},ratioLine:{displayName:i("Visual_Scatter_RatioLine"),description:i("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{show:e.show,displayName:{displayName:i("Name"),type:{text:!0}},lineColor:e.referenceLineColor,transparency:e.lineTransparency,style:e.lineStyle}}}}a=u.visuals||(u.visuals={}),i=u.data.createDisplayNameGetter,e=a.StandardObjectProperties,a.scatterRoleNames={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",play:"Play",tooltips:"Tooltips"},a.getScatterChartCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:a.scatterRoleNames.category,kind:u.VisualDataRoleKind.Grouping,displayName:i(t?"Role_DisplayName_Values":"Details"),displayOrder:1,description:i("Role_DisplayName_DetailsScatterChartDescription")},{name:a.scatterRoleNames.series,kind:u.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Legend"),displayOrder:t?4:2,description:i("Role_DisplayName_LegendDescription")},{name:a.scatterRoleNames.x,kind:u.VisualDataRoleKind.GroupingOrMeasure,displayName:i("Role_DisplayName_X"),displayOrder:t?2:3,description:i("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:a.scatterRoleNames.y,kind:u.VisualDataRoleKind.GroupingOrMeasure,displayName:i("Role_DisplayName_Y"),displayOrder:t?3:4,description:i("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:a.scatterRoleNames.size,kind:u.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Size"),displayOrder:5,description:i("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:a.scatterRoleNames.gradient,kind:u.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Gradient"),displayOrder:6,description:i("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:a.scatterRoleNames.play,kind:u.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Play"),displayOrder:7}),t.push({name:a.scatterRoleNames.tooltips,kind:u.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),displayOrder:8,description:i("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),objects:o(),dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:u.VisualDataRoleKind.Measure},Y:{max:1,kind:u.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:u.VisualDataRoleKind.Measure},Y:{max:1,kind:u.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:u.VisualDataRoleKind.Measure},Y:{max:1,kind:u.VisualDataRoleKind.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},t(!0,!0,!1),t(!0,!1,!0),t(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:u.VisualDataRoleKind.Measure},Y:{max:1,kind:u.VisualDataRoleKind.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:u.VisualDataRoleKind.Measure},Y:{max:1,kind:u.VisualDataRoleKind.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[a.scatterRoleNames.category,a.scatterRoleNames.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}},a.getScatterChartObjectDescriptors=o,a.scatterChartObjectProps=a.builder.getPropertyIdentifiers(o()),a.scatterChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"},dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerShape:{objectName:"bubbles",propertyName:"markerShape"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{show:{objectName:"fillPoint",propertyName:"show"},style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:{show:{objectName:"ratioLine",propertyName:"show"},lineColor:{objectName:"ratioLine",propertyName:"lineColor"},transparency:{objectName:"ratioLine",propertyName:"transparency"},style:{objectName:"ratioLine",propertyName:"style"}},categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}})(powerbi=powerbi||{}),(function(i){var o,r,e;o=i.visuals||(i.visuals={}),r=i.data.createDisplayNameGetter,e=o.StandardObjectProperties,o.slicerRoles={value:"Values"},o.slicerObjectDescriptors={general:{displayName:r("Visual_General"),properties:{responsive:e.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:e.formatString,outlineColor:e.outlineColor,outlineWeight:e.outlineWeight,orientation:{displayName:r("Slicer_Orientation"),type:{enumeration:o.slicerOrientation.type}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:o.relativeSlicerRelativeQualifier.type},filterState:!0},relativePeriod:{type:{enumeration:o.relativeSlicerPeriod.typeDate},filterState:!0},relativeTimePeriod:{type:{enumeration:o.relativeSlicerPeriod.typeTime},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:r("Style"),type:{enumeration:o.slicerMode.type},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:r("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:r("Visual_SelectAll"),description:r("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:r("Visual_MultiSelectWithCtrl"),description:r("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:r("Visual_StrictSingleSelect"),description:r("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:r("Slicer_Header"),properties:{show:e.show,fontColor:e.fontColor,text:{displayName:r("Visual_Title_Text"),description:r("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:e.outline,outlineStyle:e.outlineStyle,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,showRestatement:{displayName:r("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:r("PendingIcon"),properties:{show:e.show,color:e.color,transparency:e.transparency,position:{displayName:r("Visual_LegendPosition"),type:{enumeration:i.visuals.iconPlacement.type}},size:{displayName:r("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:r("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:r("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:r("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:r("SearchBox"),properties:{outline:e.outline,outlineStyle:e.outlineStyle,borderColor:e.outlineColor,background:{displayName:r("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:r("Items"),properties:{fontColor:e.fontColor,background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:e.outline,outlineStyle:e.outlineStyle,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,expandCollapseToggleType:{displayName:r("Slicer_ExpandCollapse_Toggle"),type:{enumeration:o.slicerExpandCollapseToggle.type}},steppedLayoutIndentation:{displayName:r("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:r("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:r("Slicer_DateInputs"),properties:{fontColor:e.fontColor,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}},hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:r("Slicer_NumericInputs"),properties:{fontColor:e.fontColor,textSize:{displayName:r("Visual_TextSize"),type:{numeric:!0}},bold:e.bold,italic:e.italic,underline:e.underline,fontFamily:e.fontFamily,background:{displayName:r("Background_Color"),type:{fill:{solid:{color:!0}}}}}},slider:{displayName:r("Slicer_Slider"),properties:{show:e.show,color:{displayName:r("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},handleFillColor:{displayName:r("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:r("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:{displayName:r("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}}}},dateRange:{displayName:r("Slicer_DateRange"),properties:{includeToday:{displayName:r("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:r("RelativeSlicer_AnchorDate"),description:r("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},o.slicerProps=o.builder.getPropertyIdentifiers(o.slicerObjectDescriptors),o.getSlicerCapabilities=function(e){var t,a;return{dataRoles:[{name:o.slicerRoles.value,kind:i.VisualDataRoleKind.Grouping,displayName:r("Field"),description:r("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:o.slicerObjectDescriptors,drilldown:{roles:[o.slicerRoles.value],suppresDrillOperations:!0},dataViewMappings:((a=[{conditions:[((a={})[o.slicerRoles.value]={max:1,suppressDrill:!0},a)],categorical:{categories:{for:{in:o.slicerRoles.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}]).unshift({conditions:[((t={})[o.slicerRoles.value]={min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0},t)],matrix:{rows:{for:{in:o.slicerRoles.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),a),expandCollapse:(t=e,{roles:[o.slicerRoles.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==t||!t.fieldParameterDynamicSlicer)}),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n,l,s;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,l=t.StandardObjectProperties,t.navigatorProps={fill:t.tileLibraryProps.fill,outline:t.tileLibraryProps.outline,text:t.tileContentProps.text,shape:t.tileLibraryProps.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:t.tileLibraryProps.shadow,glow:t.tileLibraryProps.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},t.pageNavigatorProps=__assign(__assign({},t.navigatorProps),{pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}}),t.bookmarkNavigatorProps=__assign(__assign({},t.navigatorProps),{bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}}),t.navigatorObjectNames={fill:t.tileLibraryObjectNames.fill,outline:t.tileLibraryObjectNames.outline,text:t.tileContentObjectNames.text,shape:t.tileLibraryObjectNames.shape,layout:"layout",shadow:t.tileLibraryObjectNames.shadow,glow:t.tileLibraryObjectNames.glow,rotation:"rotation"},t.pageNavigatorObjectNames=__assign(__assign({},t.navigatorObjectNames),{pages:"pages"}),t.bookmarkNavigatorObjectNames=__assign(__assign({},t.navigatorObjectNames),{bookmarks:"bookmarks"}),t.navigatorObjectPropertyNames=__assign(__assign(__assign({},t.tileLibraryObjectPropertyNames),t.tileContentObjectPropertyNames),{orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"}),t.pageNavigatorObjectPropertyNames=__assign(__assign({},t.navigatorObjectPropertyNames),{showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"}),t.bookmarkNavigatorObjectPropertyNames=__assign(__assign({},t.navigatorObjectPropertyNames),{bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"}),(s={show:l.show})[t.tileLibraryObjectPropertyNames.fillColor]=l.fill,s[t.tileLibraryObjectPropertyNames.fillTransparency]=l.transparency,(i={show:l.show})[t.tileContentObjectPropertyNames.fontColor]=l.fontColor,i[t.tileContentObjectPropertyNames.fontSize]=l.fontSize,i[t.tileContentObjectPropertyNames.fontFamily]=l.fontFamily,i[t.tileContentObjectPropertyNames.underline]=l.underline,i[t.tileContentObjectPropertyNames.italic]=l.italic,i[t.tileContentObjectPropertyNames.bold]=l.bold,i[t.tileContentObjectPropertyNames.textVerticalAlignment]={displayName:e("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},i[t.tileContentObjectPropertyNames.textHorizontalAlignment]={displayName:e("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},i[t.tileContentObjectPropertyNames.textLeftMargin]={displayName:e("Visual_Margin_Left"),type:{integer:!0}},i[t.tileContentObjectPropertyNames.textRightMargin]={displayName:e("Visual_Margin_Right"),type:{integer:!0}},i[t.tileContentObjectPropertyNames.textTopMargin]={displayName:e("Visual_Margin_Top"),type:{integer:!0}},i[t.tileContentObjectPropertyNames.textBottomMargin]={displayName:e("Visual_Margin_Bottom"),type:{integer:!0}},l=i,(i={})[t.navigatorObjectPropertyNames.orientation]={displayName:e("Slicer_Orientation"),type:{enumeration:t.navigatorOrientation.type}},i[t.navigatorObjectPropertyNames.rowCount]={displayName:e("Small_Multiples_Layout_Rows"),type:{integer:!0}},i[t.navigatorObjectPropertyNames.columnCount]={displayName:e("Small_Multiples_Layout_Columns"),type:{integer:!0}},i[t.navigatorObjectPropertyNames.cellPadding]={displayName:e("Visual_Padding"),type:{integer:!0}},(o={})[t.navigatorObjectPropertyNames.rotation]={displayName:e("Visual_BasicShape_Rotate"),type:{integer:!0}},o[t.navigatorObjectPropertyNames.shapeRotation]={displayName:e("Visual_ShapeRotation"),type:{integer:!0}},o[t.navigatorObjectPropertyNames.textRotation]={displayName:e("Visual_TextRotation"),type:{integer:!0}},(r={})[t.pageNavigatorObjectPropertyNames.showHiddenPages]={displayName:e("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},r[t.pageNavigatorObjectPropertyNames.showTooltipPages]={displayName:e("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},r[t.pageNavigatorObjectPropertyNames.showByDefault]={displayName:e("Visual_Navigator_ShowByDefault"),type:{bool:!0}},r[t.pageNavigatorObjectPropertyNames.showPage]={displayName:e("Show"),type:{bool:!0},suppressFormatPainterCopy:!0},(n={})[t.bookmarkNavigatorObjectPropertyNames.bookmarkGroup]={displayName:e("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},n[t.bookmarkNavigatorObjectPropertyNames.allowDeselectionBookmark]={displayName:e("Visual_AllowDeselection"),description:e("Visual_AllowDeselection_Description"),type:{bool:!0}},n[t.bookmarkNavigatorObjectPropertyNames.deselectionBookmark]={displayName:e("Visual_LaunchOnDeselection"),description:e("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},n[t.bookmarkNavigatorObjectPropertyNames.hideDeselectedBookmark]={displayName:e("Visual_HideDeselectionBookmark"),description:e("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},n[t.bookmarkNavigatorObjectPropertyNames.selectedBookmark]={type:{text:!0}},t.navigatorInstanceId={default:"default",hover:"hover",press:"press",selected:"selected"},(a={})[t.navigatorObjectNames.fill]={displayName:e("Visual_Fill"),properties:s},a[t.navigatorObjectNames.outline]=t.tileLibraryObjectDescriptors.outline,a[t.navigatorObjectNames.text]={displayName:e("Text"),properties:l},a[t.navigatorObjectNames.shape]=t.tileLibraryObjectDescriptors.shape,a[t.navigatorObjectNames.layout]={displayName:e("Small_Multiples_Layout"),properties:i},a[t.navigatorObjectNames.shadow]=t.tileLibraryObjectDescriptors.shadow,a[t.navigatorObjectNames.glow]=t.tileLibraryObjectDescriptors.glow,a[t.navigatorObjectNames.rotation]={displayName:e("Visual_BasicShape_Rotate"),properties:o},s=a,t.pageNavigatorCapabilites={objects:__assign(__assign({},s),((l={})[t.pageNavigatorObjectNames.pages]={displayName:e("Pages"),properties:r},l)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},t.bookmarkNavigatorCapabilites={objects:__assign(__assign({},s),((i={})[t.bookmarkNavigatorObjectNames.bookmarks]={displayName:e("ExplorationBookmarksPane_Title"),properties:n},i)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}})(powerbi=powerbi||{}),(function(t){var e,a,i;e=t.visuals||(t.visuals={}),a=t.data.createDisplayNameGetter,i=e.StandardObjectProperties,e.getTableCapabilities=function(e){return{dataRoles:(e=(e=e)&&e.useModernFormatPane,[{name:"Values",kind:t.VisualDataRoleKind.GroupingOrMeasure,displayName:a(e?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]),objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:a("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:a("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:a("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:a("Visual_Grid"),properties:{outlineColor:i.outlineColor,outlineWeight:i.outlineWeight,gridVertical:{displayName:a("Visual_GridVertical"),description:a("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:a("Visual_GridVertical_Color"),description:a("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:a("Visual_GridVertical_Weight"),description:a("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:a("Visual_GridHorizontal"),description:a("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:a("Visual_GridHorizontal_Color"),description:a("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:a("Visual_GridHorizontal_Weight"),description:a("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:a("Visual_RowPadding"),description:a("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:a("Visual_Tablix_ImageHeight"),description:a("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:a("Visual_Tablix_ColumnHeaders"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor,wordWrap:{displayName:a("Visual_Word_Wrap"),type:{bool:!0}}}},values:{displayName:a("Visual_Tablix_Values"),properties:{outline:i.outline,backColor:{displayName:a("Background_Color"),description:a("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:a("Visual_FontColor"),description:a("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:a("Background_Color"),description:a("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:a("Visual_Tablix_FontColorSecondary"),description:a("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:a("Visual_Tablix_BackColorSecondary"),description:a("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:a("Visual_Tablix_UrlIcon"),description:a("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:a("Visual_Total"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor}},columnFormatting:{displayName:a("Visual_Tablix_ColumnFormatting"),properties:{fontColor:i.tablixFontColor,backColor:i.backColor,styleHeader:{displayName:a("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:a("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:a("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.matrixRoleNames={rows:"Rows",columns:"Columns",values:"Values"},t.matrixCapabilities={dataRoles:[{name:t.matrixRoleNames.rows,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Rows"),description:a("Role_DisplayName_RowsDescription")},{name:t.matrixRoleNames.columns,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Columns"),description:a("Role_DisplayName_ColumnsDescription")},{name:t.matrixRoleNames.values,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:a("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:a("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:a("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:a("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:a("Visual_Grid"),properties:{outlineColor:i.outlineColor,outlineWeight:i.outlineWeight,gridVertical:{displayName:a("Visual_GridVertical"),description:a("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:a("Visual_GridVertical_Color"),description:a("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:a("Visual_GridVertical_Weight"),description:a("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:a("Visual_GridHorizontal"),description:a("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:a("Visual_GridHorizontal_Color"),description:a("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:a("Visual_GridHorizontal_Weight"),description:a("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:a("Visual_RowPadding"),description:a("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:a("Visual_Tablix_ImageHeight"),description:a("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:a("Visual_Tablix_ColumnHeaders"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor}},rowHeaders:{displayName:a("Visual_Tablix_RowHeaders"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor,wordWrap:{displayName:a("Visual_Word_Wrap"),type:{bool:!0}}}},values:{displayName:a("Visual_Tablix_Values"),properties:{outline:i.outline,backColor:{displayName:a("Background_Color"),description:a("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:a("Visual_FontColor"),description:a("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:a("Background_Color"),description:a("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:a("Visual_Tablix_FontColorSecondary"),description:a("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:a("Visual_Tablix_BackColorSecondary"),description:a("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:a("Visual_Tablix_TotalSub"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor}},total:{displayName:a("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:i.outline,fontColor:i.tablixFontColor,backColor:i.backColor,applyToHeaders:{displayName:a("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:a("Visual_Tablix_ColumnFormatting"),properties:{fontColor:i.tablixFontColor,backColor:i.backColor,styleHeader:{displayName:a("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:a("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:a("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:a("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[t.matrixRoleNames.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[t.matrixRoleNames.columns],displayName:a("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:a("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:a("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[t.matrixRoleNames.rows],displayName:a("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:a("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:a("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,t.accessibleTableCapabilities={dataRoles:[{name:t.matrixRoleNames.rows,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Rows"),description:a("Role_DisplayName_RowsDescription")},{name:t.matrixRoleNames.columns,kind:e.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Columns"),description:a("Role_DisplayName_ColumnsDescription")},{name:t.matrixRoleNames.values,kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:t.StandardObjectProperties.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:t.matrixRoleNames.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:t.matrixRoleNames.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:t.matrixRoleNames.values}}}}]}})(powerbi=powerbi||{}),(function(a){var t,e,i,o;t=a.visuals||(a.visuals={}),i=a.data.createDisplayNameGetter,o=t.StandardObjectProperties,t.treemapRoles={group:"Group",details:"Details",values:"Values",gradient:"Gradient"},t.getTreemapCapabilities=function(e){return{dataRoles:(function(e,t){t=[{name:"Group",kind:a.VisualDataRoleKind.Grouping,displayName:i(t?"Role_DisplayName_Category":"Group"),description:i("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:a.VisualDataRoleKind.Grouping,displayName:i("Details")},{name:"Values",kind:a.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Values"),description:i("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];e||t.push({name:"Gradient",kind:a.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Gradient"),description:i("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0});return t.push({name:"Tooltips",kind:a.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),description:i("Role_Tooltips_Description"),joinPredicate:0}),t})(e&&e.cartesianConditionalFormatting,e&&e.useModernFormatPane),objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},legend:t.StandardObjectDescriptors.legend,dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{fill:o.defaultCategoryColor,fillRule:{displayName:i("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:i("Visual_DataPointsLabels"),description:i("Visual_DataPointsLabelsDescription"),properties:{show:o.show,color:o.dataColor,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily}},categoryLabels:{displayName:i("Visual_CategoryLabels"),description:i("Visual_CategoryLabelsDescription"),properties:{show:o.show,color:o.categoryColor,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}},(e=a.ensurePowerbiVisuals()).getTreemapCapabilities||(e.getTreemapCapabilities=function(){return a.visuals.getTreemapCapabilities()}),t.treemapProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.cardCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Fields"),description:a("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString}},labels:{displayName:a("Visual_DataPointLabel"),properties:{color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily,preserveWhitespace:{displayName:a("Visual_LabelPreserveWhitespace"),description:a("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:a("Visual_CategoryLabel"),properties:{show:i.show,color:i.dataColor,fontSize:i.fontSize,bold:i.bold,italic:i.italic,underline:i.underline,fontFamily:i.fontFamily,preserveWhitespace:{displayName:a("Visual_LabelPreserveWhitespace"),description:a("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:a("Visual_Word_Wrap"),properties:{show:i.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},t.cardProps={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n,l,s,c,u=e.visuals||(e.visuals={}),p=e.data.createDisplayNameGetter,d=u.StandardObjectProperties;u.CardVisualRoles={Data:"Data",Tooltips:"Tooltips"},u.cardVisualObjectNames={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",fill:u.tileLibraryObjectNames.fill,outline:u.tileLibraryObjectNames.outline,value:"value",label:"label",shapeCustomRectangle:u.tileLibraryObjectNames.shapeCustomRectangle,layout:"layout",shadowCustom:u.tileLibraryObjectNames.shadowCustom,glowCustom:u.tileLibraryObjectNames.glowCustom,verticalAlignment:"verticalAlignment",horizontalAlignment:"horizontalAlignment",Rotation:"textAngle",rotation:"rotation",cards:"cards",orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",image:"image",imageType:"imageType",imageUrl:"imageUrl",angle:"angle",position:"position",alignment:"alignment",spacing:"spacing",verticalSpacing:"verticalSpacing",padding:"padding",paddingSelection:"paddingSelection",leftMargin:"leftMargin",rightMargin:"rightMargin",topMargin:"topMargin",bottomMargin:"bottomMargin",shapeRotation:"shapeAngle",fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",transparency:"transparency",color:"color",width:"width",size:"size",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",customFormatString:"customFormatString",showBlankAs:"showBlankAs"},u.cardVisualContentProps={accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}}},(t={show:d.show})[u.tileLibraryObjectPropertyNames.fillColor]=d.fill,t[u.tileLibraryObjectPropertyNames.fillImage]=__assign(__assign({},d.image),{displayName:p("Dashboard_Theme_Background_Image")}),t[u.tileLibraryObjectPropertyNames.fillTransparency]=d.transparency,(a={show:d.show})[u.cardVisualObjectNames.fontColor]=d.fontColor,a[u.cardVisualObjectNames.fontSize]=d.fontSize,a[u.cardVisualObjectNames.fontFamily]=d.fontFamily,a[u.cardVisualObjectNames.underline]=d.underline,a[u.cardVisualObjectNames.italic]=d.italic,a[u.cardVisualObjectNames.bold]=d.bold,a[u.cardVisualObjectNames.horizontalAlignment]={displayName:p("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},a[u.cardVisualObjectNames.labelDisplayUnits]=__assign(__assign({},d.labelDisplayUnits),{type:{enumeration:u.displayUnitsWithCustom.type}}),a[u.cardVisualObjectNames.labelPrecision]=d.labelPrecision,a[u.cardVisualObjectNames.customFormatString]={displayName:p("Visual_FormatCode"),description:p("Visual_FormatCode_Description"),type:{text:!0}},a[u.cardVisualObjectNames.showBlankAs]={displayName:p("Visual_ShowBlankAs"),type:{text:!0}},a[u.cardVisualObjectNames.transparency]=d.transparency,(i={show:d.show})[u.cardVisualObjectNames.fontColor]=d.fontColor,i[u.cardVisualObjectNames.fontSize]=d.fontSize,i[u.cardVisualObjectNames.fontFamily]=d.fontFamily,i[u.cardVisualObjectNames.underline]=d.underline,i[u.cardVisualObjectNames.italic]=d.italic,i[u.cardVisualObjectNames.bold]=d.bold,i[u.cardVisualObjectNames.position]={displayName:p("Visual_Position"),type:{enumeration:u.CardVisualPositioning.type}},i[u.cardVisualObjectNames.transparency]=d.transparency,(o={})[u.cardVisualObjectNames.alignment]={displayName:p("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},o[u.cardVisualObjectNames.orientation]={displayName:p("Slicer_Orientation"),type:{enumeration:u.navigatorOrientation.type}},o[u.cardVisualObjectNames.rowCount]={displayName:p("Small_Multiples_Layout_Rows"),type:{integer:!0}},o[u.cardVisualObjectNames.columnCount]={displayName:p("Small_Multiples_Layout_Columns"),type:{integer:!0}},o[u.cardVisualObjectNames.cellPadding]={displayName:p("Visual_Padding"),type:{integer:!0}},(r={})[u.cardVisualObjectNames.angle]={displayName:p("Visual_BasicShape_Rotate"),type:{integer:!0}},r[u.cardVisualObjectNames.shapeRotation]={displayName:p("Visual_ShapeRotation"),type:{integer:!0}},r[u.cardVisualObjectNames.textRotation]={displayName:p("Visual_TextRotation"),type:{integer:!0}},(n={})[u.cardVisualObjectNames.verticalSpacing]={displayName:p("Visual_Spacing_Vertical"),type:{integer:!0}},(l={})[u.cardVisualObjectNames.paddingSelection]={displayName:p("Embed_Size"),type:{enumeration:u.paddingOptions.type}},l[u.cardVisualObjectNames.leftMargin]={displayName:p("Visual_Margin_Left"),type:{integer:!0}},l[u.cardVisualObjectNames.rightMargin]={displayName:p("Visual_Margin_Right"),type:{integer:!0}},l[u.cardVisualObjectNames.topMargin]={displayName:p("Visual_Margin_Top"),type:{integer:!0}},l[u.cardVisualObjectNames.bottomMargin]={displayName:p("Visual_Margin_Bottom"),type:{integer:!0}},(s={show:d.show})[u.cardVisualObjectNames.position]={displayName:p("Visual_Position"),type:{enumeration:u.legendPosition.borderSidesType}},s[u.cardVisualObjectNames.color]={displayName:p("Visual_Reference_Line_Color"),type:{fill:{solid:{color:!0}}}},s[u.cardVisualObjectNames.transparency]=d.transparency,s[u.cardVisualObjectNames.width]={displayName:p("Visual_General_Properties_Width"),type:{integer:!0}},(c={show:d.show})[u.cardVisualObjectNames.imageType]={displayName:p("Visual_ImageType"),type:{enumeration:u.imageType.type}},c[u.cardVisualObjectNames.image]=d.image,c[u.cardVisualObjectNames.imageUrl]={displayName:p("Image_Url"),type:{text:!0}},c[u.cardVisualObjectNames.transparency]=d.transparency,c[u.cardVisualObjectNames.position]={displayName:p("Visual_Position"),type:{enumeration:u.legendPosition.borderSidesType}},c[u.cardVisualObjectNames.padding]={displayName:p("Visual_Padding"),type:{integer:!0}},c[u.cardVisualObjectNames.size]={displayName:p("Visual_BubbleSize"),type:{integer:!0}},c[u.cardVisualObjectNames.altText]={displayName:p("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},u.cardVisualCapabilities={dataRoles:[{name:u.CardVisualRoles.Data,kind:e.VisualDataRoleKind.Measure,displayName:p("Data")}],objects:((d={general:{displayName:p("Visual_General"),properties:{formatString:d.formatString}}})[u.cardVisualObjectNames.fill]={displayName:p("Visual_Background"),properties:t},d[u.cardVisualObjectNames.outline]=u.tileLibraryObjectDescriptors.outline,d[u.cardVisualObjectNames.value]={displayName:p("Role_DisplayName_Values"),properties:a},d[u.cardVisualObjectNames.label]={displayName:p("Label"),properties:i},d[u.cardVisualObjectNames.shapeCustomRectangle]=u.tileLibraryObjectDescriptors.shapeCustomRectangle,d[u.cardVisualObjectNames.layout]={displayName:p("Small_Multiples_LayoutGroup"),properties:o},d[u.cardVisualObjectNames.shadowCustom]=u.tileLibraryObjectDescriptors.shadowCustom,d[u.cardVisualObjectNames.glowCustom]=u.tileLibraryObjectDescriptors.glowCustom,d[u.cardVisualObjectNames.rotation]={displayName:p("Visual_BasicShape_Rotate"),properties:r},d[u.cardVisualObjectNames.spacing]={displayName:p("RibbonChart_SeriesGapWidth"),properties:n},d[u.cardVisualObjectNames.padding]={displayName:p("Visual_Padding"),properties:l},d[u.cardVisualObjectNames.accentBar]={displayName:p("Visual_Outline_AccentBar"),properties:s},d[u.cardVisualObjectNames.image]={displayName:p("Image"),properties:c},d),dataViewMappings:[{conditions:[((t={})[u.CardVisualRoles.Data]={min:1},t)],matrix:{values:{for:{in:u.CardVisualRoles.Data}}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0},u.cardVisualProps={general:{formatString:u.StandardObjectPropertyIdentifiers.formatString},fill:u.tileLibraryProps.fill,outline:u.tileLibraryProps.outline,value:u.cardVisualContentProps.value,label:u.cardVisualContentProps.label,shapeCustomRectangle:u.tileLibraryProps.shapeCustomRectangle,layout:u.cardVisualContentProps.layout,shadowCustom:u.tileLibraryProps.shadowCustom,glowCustom:u.tileLibraryProps.glowCustom,rotation:u.cardVisualContentProps.rotation,spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}},padding:u.cardVisualContentProps.padding,accentBar:u.cardVisualContentProps.accentBar,image:u.cardVisualContentProps.image}})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){e=e&&e.useModernFormatPane;return{dataRoles:[{name:a.waterfallRoleNames.category,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Category"),description:i("Role_DisplayName_CategoryWaterfallDescription")},{name:a.waterfallRoleNames.breakdown,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_BreakdownWaterfall"),description:i("Role_DisplayName_BreakdownWaterfallDescription")},{name:a.waterfallRoleNames.y,kind:t.VisualDataRoleKind.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:i(e?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:i("Role_DisplayName_ValuesDescription")},{name:a.waterfallRoleNames.tooltips,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),description:i("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString,responsive:o.responsive,responsiveLegacy:o.responsiveLegacy}},legend:a.StandardObjectDescriptors.legend,categoryAxis:{displayName:i("Visual_XAxis"),properties:{show:o.show,showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,preferredCategoryWidth:o.preferredCategoryWidth,maxMarginFactor:o.maxMarginFactor,innerPadding:o.innerPadding,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleBold:o.bold,titleItalic:o.italic,titleUnderline:o.underline,titleText:o.titleText}},valueAxis:{displayName:i("Visual_YAxis"),properties:{show:o.show,start:o.axisStart,end:o.axisEnd,invertAxis:o.invertAxis,showAxisTitle:{displayName:i("Visual_Axis_Title"),description:i("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,totalsEnabled:o.totalsEnabled,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleBold:o.bold,titleItalic:o.italic,titleUnderline:o.underline,titleText:o.titleText,gridlineShow:__assign(__assign({},o.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:o.lineColor,gridlineThickness:o.strokeWidth,gridlineStyle:o.lineStyle,switchAxisPosition:o.switchAxisPosition}},labels:{displayName:i("Visual_DataPointsLabels"),description:i("Visual_DataPointsLabelsDescription"),properties:{show:o.show,color:o.dataColor,labelDisplayUnits:o.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},o.labelPrecision),{suppressFormatPainterCopy:!0}),fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily,labelOrientation:{displayName:i("Visual_LabelOrientation"),type:{enumeration:a.labelOrientation.type}},labelPosition:{displayName:i("Visual_Position"),type:{enumeration:a.labelPosition.type}},enableBackground:o.labelEnableBackground,backgroundColor:o.labelBackgroundColor,backgroundTransparency:o.labelBackgroundTransparency}},plotArea:{displayName:i("Visual_Plot"),properties:{transparency:o.transparency,image:o.image}},sentimentColors:{displayName:i("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:i("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:i("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:i("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:i("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:i("Visual_Reference_Line"),description:i("Visual_Reference_Line_Description"),objectCategory:2,properties:{show:o.show,displayName:{displayName:i("Name"),description:i("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},value:{displayName:i("Visual_Reference_Line_Value"),description:i("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},lineColor:o.referenceLineColor,transparency:{displayName:i("Visual_Reference_Line_Transparency"),description:i("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},style:o.lineStyle,position:o.referenceLinePosition,dataLabelShow:o.dataLabelShow,dataLabelColor:o.dataLabelColor,dataLabelText:o.dataLabelText,dataLabelDecimalPoints:o.dataLabelDecimalPoints,dataLabelHorizontalPosition:o.dataLabelHorizontalPosition,dataLabelVerticalPosition:o.dataLabelVerticalPosition,dataLabelDisplayUnits:o.dataLabelDisplayUnits}},breakdown:{displayName:i("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:i("Visual_Waterfall_MaxBreakdown"),description:i("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.waterfallRoleNames={category:"Category",breakdown:"Breakdown",y:"Y",tooltips:"Tooltips"},a.getWaterfallChartCapabilities=e,a.waterfallChartPropsNew=a.builder.getPropertyIdentifiers(e().objects),a.waterfallChartProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},sentimentColors:{increaseFill:{objectName:"sentimentColors",propertyName:"increaseFill"},decreaseFill:{objectName:"sentimentColors",propertyName:"decreaseFill"},totalFill:{objectName:"sentimentColors",propertyName:"totalFill"},otherFill:{objectName:"sentimentColors",propertyName:"otherFill"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},breakdown:{maxBreakdowns:{objectName:"breakdown",propertyName:"maxBreakdowns"}},valueAxis:{totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"}}}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.sunburstCapabilities={dataRoles:[{name:"Nodes",kind:e.VisualDataRoleKind.Grouping,displayName:a("Group")},{name:"Values",kind:e.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Values"),description:a("Role_DisplayName_ValuesDescription")}],objects:{general:{displayName:a("Visual_General"),properties:{formatString:i.formatString}},legend:{displayName:a("Visual_Legend"),description:a("Visual_LegendDescription"),properties:{show:i.show,position:i.legendPosition,showTitle:i.showLegendTitle,titleText:i.legendTitle,labelColor:i.labelColor,fontSize:i.fontSize}},dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{fill:{type:{fill:{solid:{color:!0}}}},fillRule:{displayName:a("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:a("Visual_DataPointsLabels"),description:a("Visual_DataPointsLabelsDescription"),properties:{show:i.show,color:i.dataColor,labelDisplayUnits:i.labelDisplayUnits,labelPrecision:i.labelPrecision}},categoryLabels:{displayName:a("Visual_CategoryLabels"),description:a("Visual_CategoryLabelsDescription"),properties:{show:i.show}}},dataViewMappings:[{conditions:[{Nodes:{min:0},Values:{max:1}}],matrix:{rows:{for:{in:"Nodes"}},columns:{for:{in:""}},values:{for:{in:"Values"}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}}},t.sunburstProps={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}}}})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){return{dataRoles:(e=(e=e)&&e.useModernFormatPane,[{name:a.kpiRoleNames.indicator,kind:t.VisualDataRoleKind.Measure,displayName:i(e?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:i("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:a.kpiRoleNames.trendLine,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_KPI_TrendLine"),description:i("Role_DisplayName_KPI_Trendline_Description")},{name:a.kpiRoleNames.goal,kind:t.VisualDataRoleKind.Measure,displayName:i(e?"Target":"Role_DisplayName_KPI_Goal"),description:i("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},indicator:{displayName:i("Role_DisplayName_KPI_Indicator"),description:i("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:i("Visual_DisplayUnits"),description:i("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:o.labelPrecision,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontFamily:o.fontFamily,fontColor:o.fontColor,showIcon:o.showIcon,iconSize:o.iconSize,verticalAlignment:{displayName:i("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:i("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}}}},trendline:{displayName:i("Role_DisplayName_KPI_TrendLine"),description:i("Role_DisplayName_KPI_Trendline_Description"),properties:{show:o.show,transparency:o.transparency}},goals:{displayName:i("Role_DisplayName_KPI_Goals"),description:i("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:i("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:i("Role_DisplayName_Label"),type:{text:!0}},fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,goalFontFamily:o.fontFamily,goalFontColor:o.fontColor,showDistance:{displayName:i("Distance"),type:{bool:!0}},distanceLabel:{displayName:i("Role_DisplayName_Label"),type:{enumeration:a.kpiDistanceLabel.type}},labelPrecision:o.labelPrecision,titleFontSize:o.fontSize,titleBold:o.bold,titleItalic:o.italic,titleUnderline:o.underline,distanceFontFamily:o.fontFamily,distanceFontColor:o.fontColor,direction:{displayName:i("Visual_KPI_DistanceDirection"),type:{enumeration:a.kpiDistanceDirection.type}}}},status:{displayName:i("Role_DisplayName_KPI_Color_Coding"),description:i("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:i("Visual_KPI_Direction"),type:{enumeration:a.kpiDirection.type}},goodColor:{displayName:i("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:i("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:i("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:i("ConditionalFormattingDialog_Date"),description:i("Role_DisplayName_KPI_Date_Description"),properties:{show:o.show,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,lastDateFontFamily:o.fontFamily,lastDateFontColor:o.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.kpiRoleNames={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"},a.getKPIStatusWithHistoryCapabilities=e,a.kpiPropsNewModel=a.builder.getPropertyIdentifiers(e().objects),a.kpiProps={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}})(powerbi=powerbi||{}),(function(t){var e,a,i,o,r;e=t.visuals||(t.visuals={}),a=t.data.createDisplayNameGetter,i=e.StandardObjectProperties,o=e.ShapeMapType.Role,r={general:{displayName:a("Visual_General"),properties:{formatString:i.formatString}},legend:e.StandardObjectDescriptors.legend,dataPoint:{displayName:a("Visual_DataPoint"),description:a("Visual_DataPointDescription"),properties:{defaultColor:i.defaultColor,showAllDataPoints:i.showAllDataPoints,fill:i.defaultCategoryColor,fillRule:{displayName:a("Role_DisplayName_Values"),description:a("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:o.value,output:{property:"fill",selector:[o.category]}}}}},shape:{displayName:a("Visual_Shape"),description:a("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:t.GeoJsonContentTypes.topojson}}},projectionEnum:{displayName:a("Visual_ShapeMap_Projection"),description:a("Visual_ShapeMap_Projection_Desc"),type:{enumeration:e.ShapeMapType.Projection.type}}}},defaultColors:{displayName:a("Visual_ShapeMap_DefaultColor"),description:a("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:a("Visual_ShapeMap_DefaultShow"),description:a("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:a("Visual_ShapeMap_DefaultColorColor"),description:a("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:{displayName:a("Visual_ShapeMap_BorderColor"),description:a("Visual_ShapeMap_BorderColor_Desc"),type:{fill:{solid:{color:!0}}}},borderThickness:{displayName:a("Visual_ShapeMap_BorderThickness"),description:a("Visual_ShapeMap_BorderThickness_Desc"),type:{numeric:!0}}}},zoom:{displayName:a("Visual_ShapeMap_Zoom"),description:a("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:a("Visual_ShapeMap_AutoZoom"),description:a("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:a("Visual_ShapeMap_SelectionZoom"),description:a("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:a("Visual_ShapeMap_ManualZoom"),description:a("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}},e.getShapeMapCapabilities=function(){var e;return{dataRoles:[{name:o.category,kind:t.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Location"),description:a("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:o.series,kind:t.VisualDataRoleKind.Grouping,displayName:a("Role_DisplayName_Legend"),description:a("Role_DisplayName_LegendDescription")},{name:o.value,kind:t.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Gradient"),description:a("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:o.tooltips,kind:t.VisualDataRoleKind.Measure,displayName:a("Role_DisplayName_Tooltips"),description:a("Role_Tooltips_Description"),joinPredicate:0}],objects:r,dataViewMappings:[{conditions:[((e={})[o.category]={min:0,max:1},e[o.series]={min:0,max:1},e[o.value]={min:0,max:1},e)],categorical:{categories:{for:{in:o.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:o.series,select:[{bind:{to:o.value}},{for:{in:o.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:o.value,direction:2}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}},e.shapeMapProps=t.visuals.builder.getPropertyIdentifiers(r)})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){return{dataRoles:(e=(e=e)&&e.useModernFormatPane,[{name:"Values",kind:t.VisualDataRoleKind.GroupingOrMeasure,displayName:i(e?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]),objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},grid:{displayName:i("Visual_Grid"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,gridVertical:{displayName:i("Visual_GridVertical"),description:i("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:i("Visual_GridVertical_Color"),description:i("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:i("Visual_GridVertical_Weight"),description:i("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:i("Visual_GridHorizontal"),description:i("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:i("Visual_GridHorizontal_Color"),description:i("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:i("Visual_GridHorizontal_Weight"),description:i("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:i("Visual_RowPadding"),description:i("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:i("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:i("Visual_General_Properties_Height"),description:i("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:i("Visual_General_Properties_Width"),description:i("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:i("Visual_Tablix_ColumnHeaders"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,alignment:o.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:i("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}}}},values:{displayName:i("Visual_Tablix_Values"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,backColor:{displayName:i("Background_Color"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:i("Visual_FontColor"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontColorPrimary:{displayName:i("Visual_FontColor"),description:i("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:i("Background_Color"),description:i("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:i("Visual_Tablix_FontColorSecondary"),description:i("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:i("Visual_Tablix_BackColorSecondary"),description:i("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}},icon:{displayName:i("Visual_Tablix_Icons"),description:i("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:i("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:i("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:i("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:i("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor}},columnFormatting:{displayName:i("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:i("Visual_DisplayUnits"),description:i("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:o.labelPrecision,fontColor:o.tablixFontColor,backColor:o.backColor,alignment:o.textAlignment,styleHeader:{displayName:i("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:i("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:i("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:i("Visual_ConditionalFormatting_DataBars"),description:i("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:{displayName:i("Sparkline_Label"),properties:{chartType:{displayName:i("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:a.sparklineChartType.type}},dataColor:{displayName:i("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:o.strokeWidth,markers:{displayName:i("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:a.sparklineMarkerType.type}},markerColor:o.markerColor,markerSize:{displayName:i("Visual_MarkerSize"),type:{integer:!0}},markerShape:o.markerShape}},accessibility:{displayName:i("Accessibility"),properties:{altTextColumns:{displayName:i("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:i("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.getTableExCapabilities=e,a.tableExProps=a.builder.getPropertyIdentifiers(e().objects)})(powerbi=powerbi||{}),(function(t){var a,i,o;function e(e){return{dataRoles:[{name:a.matrixRoleNames.rows,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Rows"),description:i("Role_DisplayName_RowsDescription")},{name:a.matrixRoleNames.columns,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Columns"),description:i("Role_DisplayName_ColumnsDescription")},{name:a.matrixRoleNames.values,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString}},grid:{displayName:i("Visual_Grid"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,gridVertical:{displayName:i("Visual_GridVertical"),description:i("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:i("Visual_GridVertical_Color"),description:i("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:i("Visual_GridVertical_Weight"),description:i("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:i("Visual_GridHorizontal"),description:i("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:i("Visual_GridHorizontal_Color"),description:i("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:i("Visual_GridHorizontal_Weight"),description:i("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:i("Visual_RowPadding"),description:i("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:i("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:i("Visual_General_Properties_Height"),description:i("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:i("Visual_General_Properties_Width"),description:i("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:i("Visual_Tablix_ColumnHeaders"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,alignment:o.textAlignment,titleAlignment:{displayName:i("Visual_TextAlignment_Title"),type:{enumeration:a.textAlignment.type}},autoSizeColumnWidth:{type:{bool:!0},displayName:i("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}}}},rowHeaders:{displayName:i("Visual_Tablix_RowHeaders"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,alignment:o.textAlignment,stepped:{displayName:i("Visual_PivotTable_SteppedLayout"),description:i("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:i("Visual_PivotTable_SteppedLayoutIndentation"),description:i("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}},showExpandCollapseButtons:{displayName:i("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:i("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:i("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}}}},values:{displayName:i("Visual_Tablix_Values"),properties:{outline:o.outline,outlineStyle:o.outlineStyle,outlineColor:o.outlineColor,outlineWeight:o.outlineWeight,backColor:{displayName:i("Background_Color"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:i("Visual_FontColor"),description:i("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,fontColorPrimary:{displayName:i("Visual_FontColor"),description:i("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:i("Background_Color"),description:i("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:i("Visual_Tablix_FontColorSecondary"),description:i("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:i("Visual_Tablix_BackColorSecondary"),description:i("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:i("Visual_PivotTable_ValuesBandedRowHeaders"),description:i("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:i("Visual_Tablix_UrlIcon"),description:i("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:{displayName:i("Visual_Word_Wrap"),type:{bool:!0}},valuesOnRow:{displayName:i("Visual_PivotTable_ValuesOnRow"),description:i("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:i("Visual_Tablix_Icons"),description:i("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:i("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:i("Visual_Tablix_TotalSub"),properties:{outline:o.outline,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,rowSubtotals:{type:{bool:!0},displayName:i("Visual_SubtotalRow"),description:i("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:i("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:i("Visual_SubtotalRow_Position"),type:{enumeration:a.rowSubtotalPosition.type},suppressFormatPainterCopy:!0},perRowLevel:{displayName:i("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:i("Visual_SubtotalColumn"),description:i("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:i("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:i("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:i("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:o.outline,fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:i("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:i("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{fontColor:o.tablixFontColor,fontFamily:o.fontFamily,fontSize:o.fontSize,bold:o.bold,italic:o.italic,underline:o.underline,backColor:o.backColor,applyToHeaders:{displayName:i("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:i("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:i("Visual_DisplayUnits"),description:i("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:o.labelPrecision,fontColor:o.tablixFontColor,backColor:o.backColor,alignment:o.textAlignment,styleHeader:{displayName:i("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:i("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:i("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:i("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:i("Visual_ConditionalFormatting_DataBars"),description:i("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:{displayName:i("Sparkline_Label"),properties:{chartType:{displayName:i("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:a.sparklineChartType.type}},dataColor:{displayName:i("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:o.strokeWidth,markers:{displayName:i("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:a.sparklineMarkerType.type}},markerColor:o.markerColor,markerSize:{displayName:i("Visual_MarkerSize"),type:{integer:!0}},markerShape:o.markerShape}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[a.matrixRoleNames.columns],displayName:i("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:i("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:i("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[a.matrixRoleNames.rows],displayName:i("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:i("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:i("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[a.matrixRoleNames.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[a.matrixRoleNames.rows,a.matrixRoleNames.columns]},expandCollapse:{roles:[a.matrixRoleNames.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==e||!e.fieldParameterDynamicSlicer)},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.getPivotTableCapabilities=e,a.pivotTableProps=a.builder.getPropertyIdentifiers(e().objects)})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),e=e.data.createDisplayNameGetter,t.qnaVisualObjectDescriptors={inputBox:{displayName:e("Visual_Qna_QuestionBox"),properties:{background:{displayName:e("Background_Color"),description:e("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:e("Visual_Qna_QuestionFontColor"),description:e("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:e("Visual_Qna_QuestionFontSize"),description:e("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:t.StandardObjectProperties.bold,questionItalic:t.StandardObjectProperties.italic,questionUnderline:t.StandardObjectProperties.underline,questionFontFamily:{displayName:e("Visual_Qna_QuestionFontFamily"),description:e("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:e("Visual_Qna_HoverColor"),description:e("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:e("Visual_Qna_AcceptedUnderlineColor"),description:e("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:e("Visual_Qna_ErrorUnderlineColor"),description:e("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:e("Visual_Qna_WarningUnderlineColor"),description:e("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:e("Visual_Qna_RestatementFontColor"),description:e("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:e("Visual_Qna_RestatementFontSize"),description:e("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:e("Visual_Qna_RestatementFontFamily"),description:e("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:e("Visual_Qna_CommitButtonBackgroundColor"),description:e("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:e("Visual_Qna_Suggestions"),properties:{show:t.StandardObjectProperties.show,headerFontColor:{displayName:e("Visual_Qna_HeaderFontColor"),description:e("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:e("Visual_Qna_HeaderFontSize"),description:e("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:t.StandardObjectProperties.bold,headerItalic:t.StandardObjectProperties.italic,headerUnderline:t.StandardObjectProperties.underline,headerFontFamily:{displayName:e("Visual_Qna_HeaderFontFamily"),description:e("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:e("Visual_Qna_CardBackgroundColor"),description:e("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:e("Visual_Qna_CardFontColor"),description:e("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:e("Visual_Qna_CardFontSize"),description:e("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:t.StandardObjectProperties.bold,cardItalic:t.StandardObjectProperties.italic,cardUnderline:t.StandardObjectProperties.underline,cardFontFamily:{displayName:e("Visual_Qna_CardFontFamily"),description:e("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},t.qnaVisualProps=t.builder.getPropertyIdentifiers(t.qnaVisualObjectDescriptors),t.qnaVisualCapabilities={objects:t.qnaVisualObjectDescriptors,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1}}})(powerbi=powerbi||{}),(function(t){var a,i,o;a=t.visuals||(t.visuals={}),i=t.data.createDisplayNameGetter,o=a.StandardObjectProperties,a.histogramColumnRoleNames={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},a.getHistogramCapabilities=function(e){return{dataRoles:[{name:a.histogramColumnRoleNames.category,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Axis"),requiredTypes:[{numeric:!0},{integer:!0}],description:i("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:a.histogramColumnRoleNames.series,kind:t.VisualDataRoleKind.Grouping,displayName:i("Role_DisplayName_Legend"),description:i("Role_DisplayName_LegendDescription")},{name:a.histogramColumnRoleNames.y,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Value"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:a.histogramColumnRoleNames.tooltips,kind:t.VisualDataRoleKind.Measure,displayName:i("Role_DisplayName_Tooltips"),description:i("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:i("Visual_General"),properties:{formatString:o.formatString,responsive:o.responsive,responsiveLegacy:o.responsiveLegacy}},legend:a.StandardObjectDescriptors.legend,categoryAxis:{displayName:i("Visual_XAxis"),properties:{show:o.show,start:o.axisStart,end:o.axisEnd,showAxisTitle:{displayName:i("Visual_Axis_Title"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleText:o.titleText,gridlineShow:__assign(__assign({},o.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:o.lineColor,gridlineThickness:o.strokeWidth,gridlineStyle:o.lineStyle}},valueAxis:{displayName:i("Visual_YAxis"),properties:{show:o.show,start:o.axisStart,end:o.axisEnd,showAxisTitle:{displayName:i("Visual_Axis_Title"),type:{bool:!0}},axisStyle:o.axisStyle,labelColor:o.labelColor,fontFamily:o.fontFamily,fontSize:o.fontSize,labelDisplayUnits:o.labelDisplayUnits,labelPrecision:o.labelPrecision,titleColor:o.titleColor,titleFontFamily:o.fontFamily,titleFontSize:o.titleFontSize,titleText:o.titleText,gridlineShow:__assign(__assign({},o.show),{displayName:i("Visual_Gridline_Show")}),gridlineColor:o.lineColor,gridlineThickness:o.strokeWidth,gridlineStyle:o.lineStyle}},dataPoint:{displayName:i("Visual_DataPoint"),description:i("Visual_DataPointDescription"),properties:{defaultColor:o.defaultColor,fill:o.defaultCategoryColor,fillRule:{displayName:i("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:i("Visual_DataPointsLabels"),description:i("Visual_DataPointsLabelsDescription"),properties:{show:o.show,showSeries:{displayName:i("Visual_Show"),type:{bool:!0}},color:o.dataColor,labelDisplayUnits:o.dataLabelDisplayUnits,labelPrecision:__assign(__assign({},o.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:i("Visual_LabelOrientation"),type:{enumeration:a.labelOrientation.type}},labelPosition:{displayName:i("Visual_Position"),type:{enumeration:a.labelPosition.type}},enableBackground:o.labelEnableBackground,backgroundColor:o.labelBackgroundColor,backgroundTransparency:o.labelBackgroundTransparency,labelOverflow:{displayName:i("Visual_LabelOverflow"),description:i("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:i("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:o.fontSize,fontFamily:o.fontFamily,labelDensity:{displayName:i("Visual_LabelDensity"),type:{integer:!0}}}},plotArea:{displayName:i("Visual_Plot"),properties:{transparency:o.transparency,image:o.image}},binning:{displayName:i("Visual_Binning"),suppressFormatPainterCopy:!0,properties:{binType:o.binType,numOfBins:o.numOfBins,binSize:o.binSize}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Category:{min:0,max:1},Y:{min:0,max:1},Series:{min:0,max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{count:500}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},sorting:{default:{}},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},Y:{min:0,max:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0}},a.histogramProps={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},showBorder:{objectName:"ribbonChart",propertyName:"showBorder"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},series:{seriesGapRatio:{objectName:"ribbonChart",propertyName:"seriesGapRatio"}},binning:{binType:{objectName:"binning",propertyName:"binType"},binCount:{objectName:"binning",propertyName:"binCount"},binSize:{objectName:"binning",propertyName:"binSize"}}}})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).dataQueryVisualRoles={values:"Values"},t.dataQueryVisualFormatIdentifier={objectName:"general",propertyName:"formatString"},t.dataQueryVisualOverrideDataReductionIdentifier={objectName:"overrideDataReduction",propertyName:"count"},t.dataQueryVisualSuppressJoinPredicateIdentifier={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},t.dataQueryVisualCapabilities={dataRoles:[{name:"Values",kind:e.VisualDataRoleKind.GroupingOrMeasure}],objects:{general:{properties:{formatString:t.StandardObjectProperties.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}})(powerbi=powerbi||{}),(function(e){var t,a,i;t=e.visuals||(e.visuals={}),a=e.data.createDisplayNameGetter,i=t.StandardObjectProperties,t.rdlVisualToolbarPositionEnum=e.createEnumType([{value:0,displayName:a("Top")},{value:1,displayName:a("Bottom")}]),t.rdlVisualCapabilities={advancedEditModeSupport:2,objects:{toolbar:{displayName:a("RdlVisual_Capabilities_Toolbar"),properties:{show:i.show,pageNavigation:{displayName:a("PageNavigation"),type:{bool:!0}},paramButton:{displayName:a("Parameters"),type:{bool:!0}},openReportButton:{displayName:a("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:a("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:a("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:t.rdlVisualToolbarPositionEnum}}}},export:{displayName:a("Export"),properties:{show:i.show,exportExcel:{displayName:a("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:a("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:a("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:a("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:a("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:a("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:a("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:a("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:a("RdlVisual_Capabilities_AutoFilter"),properties:{show:i.show}},reportInfo:{properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:e.VisualDataRoleKind.GroupingOrMeasure,displayName:a("Parameters"),description:a("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}]}})(powerbi=powerbi||{}),(function(e){(e.visuals||(e.visuals={})).capabilities={actionButton:e.visuals.getActionButtonCapabilities(),aiNarratives:e.visuals.getAINarrativesCapabilities(),animatedNumber:e.visuals.animatedNumberCapabilities,areaChart:e.visuals.getLineChartCapabilities(!1,!0),barChart:e.visuals.getColumnChartCapabilities(!0,!0),basicShape:e.visuals.basicShapeCapabilities,shape:e.visuals.shapeCapabilities,card:e.visuals.cardCapabilities,cardVisual:e.visuals.cardVisualCapabilities,multiRowCard:e.visuals.multiRowCardCapabilities,clusteredBarChart:e.visuals.getColumnChartCapabilities(!0),clusteredColumnChart:e.visuals.getColumnChartCapabilities(),columnChart:e.visuals.getColumnChartCapabilities(!1,!0),comboChart:e.visuals.getLegacyComboChartCapabilities(!1),dataDotChart:e.visuals.dataDotChartCapabilities,dataDotClusteredColumnComboChart:e.visuals.getLegacyComboChartCapabilities(!1),dataDotStackedColumnComboChart:e.visuals.getLegacyComboChartCapabilities(!0),donutChart:e.visuals.getDonutChartCapabilities(),funnel:e.visuals.getFunnelChartCapabilities(),gauge:e.visuals.gaugeCapabilities,hundredPercentStackedBarChart:e.visuals.getColumnChartCapabilities(!0,!0),hundredPercentStackedColumnChart:e.visuals.getColumnChartCapabilities(!1,!0),ribbonChart:e.visuals.getColumnChartCapabilities(!1,!0,!0),image:e.visuals.imageVisualCapabilities,lineChart:e.visuals.getLineChartCapabilities(!1,!1),stackedAreaChart:e.visuals.getLineChartCapabilities(!0,!0),lineStackedColumnComboChart:e.visuals.getComboChartCapabilities(!0),lineClusteredColumnComboChart:e.visuals.getComboChartCapabilities(!1),map:e.visuals.getMapCapabilities(),filledMap:e.visuals.getFilledMapCapabilities(),azureMap:e.visuals.getAzureMapCapabilities(),shapeMap:e.visuals.getShapeMapCapabilities(),treemap:e.visuals.getTreemapCapabilities(),pieChart:e.visuals.getDonutChartCapabilities(),scatterChart:e.visuals.getScatterChartCapabilities(),table:e.visuals.getTableCapabilities(),matrix:e.visuals.matrixCapabilities,slicer:e.visuals.getSlicerCapabilities(),pageNavigator:e.visuals.pageNavigatorCapabilites,bookmarkNavigator:e.visuals.bookmarkNavigatorCapabilites,textbox:e.visuals.textboxCapabilities,waterfallChart:e.visuals.getWaterfallChartCapabilities(),cheerMeter:e.visuals.cheerMeterCapabilities,heatMap:e.visuals.getMapCapabilities(),sunburst:e.visuals.sunburstCapabilities,scriptVisual:e.visuals.scriptVisualCapabilities,pythonVisual:e.visuals.getPythonVisualCapabilities(),kpi:e.visuals.getKPIStatusWithHistoryCapabilities(),realTimeLineChart:e.visuals.realTimeLineChartCapabilities,accessibleTable:e.visuals.accessibleTableCapabilities,pivotTableCapabilities:e.visuals.getPivotTableCapabilities(),keyDrivers:e.visuals.getKeyDriversCapabilities(),decompositionTree:e.visuals.getDecompositionTreeCapabilities(),qnaVisual:e.visuals.qnaVisualCapabilities,histogram:e.visuals.getHistogramCapabilities(),dataQueryVisual:e.visuals.dataQueryVisualCapabilities,scorecard:e.visuals.scorecardCapabilities,rdlVisual:e.visuals.rdlVisualCapabilities}})(powerbi=powerbi||{}),(function(e){var n,t;function a(){}n=e.visuals||(e.visuals={}),t=jsCommon.BrowserUtils,a.prototype.bindEvents=function(e,a,t,i){var o,r=this;!e||i?this.ticks&&this.ticks.on("click.select",null).on("keydown.select",null):(i=e.root,e=this.ticks=e.ticks,t&&(o=t.dataPointNavigationManager,t=t.pointSourceKey,o.isEmpty(t)||(n.InteractivityUtils.registerEnterPlotAreaHandler(i,o,t),n.InteractivityUtils.registerDataPointNavigationHandler(i,o,t),n.InteractivityUtils.registerClearCatcherShortcut(i,a))),e.on("click.select",(function(){return r.handleSelection(a)})).on("keydown.select",(function(){var e=d3.event,t=e.keyCode;32!==t&&13!==t||(e.preventDefault(),e.stopPropagation(),r.handleSelection(a))})))},a.prototype.renderSelection=function(t){var e;null!=(e=this.ticks)&&e.style("font-weight",(function(e){return e.selected?"700":null})).select("text").attr("aria-selected",(function(e){return t&&e.selected}))},a.prototype.renderFocus=function(e){t.focus(e)},a.prototype.handleSelection=function(t){n.InteractivityUtils.tryToSelectD3Target((function(e){return n.InteractivityUtils.handleSelection(e,t)}),!0)},n.AxisBehavior=a})(powerbi=powerbi||{}),(function(e){var n,l;function o(){}n=e.visuals||(e.visuals={}),l=jsCommon.BrowserUtils,o.prototype.bindEvents=function(e,a,t,i){var o=this,r=(this.legendIcons=e.legendIcons,this.legendLines=e.legendLines,this.visualStyle=e.visualStyle,e.legendRoot),e=(this.legendItems=e.legendItems,e.clearCatcher);i?this.unbindEventsFormatMode():(n.InteractivityUtils.registerClearCatcherShortcut(r,a),r.on("keydown",(function(){var e,t=d3.event;return l.noModifierPressed(t)&&27===t.keyCode&&t.target.classList.contains(n.HTMLLegendRenderer.LegendItemClassAndSelector.class)&&(e=r.node(),l.focus(e),t.preventDefault(),t.stopPropagation()),!1})),this.legendItems.on("click",(function(e){return o.handleSelection(a,e)})).on("keydown",(function(e){var t=d3.event.keyCode;32!==t&&13!==t||o.handleSelection(a,e)})),e&&e.on("click",(function(){l.isCtrlOrMeta(d3.event)||a.handleClearSelection()})))},o.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},o.prototype.renderSelection=function(t){var a=this,i=n.ColorHelper.getThemeColor(this.visualStyle,o.dimmedLegendColorName);this.legendIcons.styles({fill:function(e){return e.dataPoint&&(e=e.dataPoint),t&&!e.selected?i:e.color},stroke:function(e){return e.dataPoint&&(e=e.dataPoint),t&&!e.selected?i:e.color}}),this.legendLines.styles({stroke:function(e){return e.dataPoint&&(e=e.dataPoint),t&&!e.selected?i:e.lineColor}}),this.legendItems.attr("aria-selected",(function(e){return!(!t||!e.dataPoint.selected)})),this.visualStyle.isHighContrast&&(this.legendIcons.styles({"fill-opacity":function(e){return a.getOpacity(t,e)},"stroke-opacity":function(e){return a.getOpacity(t,e)}}),this.legendLines.styles({"stroke-opacity":function(e){return a.getOpacity(t,e)}}))},o.prototype.getOpacity=function(e,t){return t.dataPoint&&(t=t.dataPoint),e&&!t.selected?n.ColumnUtil.DimmedOpacity:n.ColumnUtil.DefaultOpacity},o.prototype.handleSelection=function(e,t){n.InteractivityUtils.handleSelection(t.dataPoint,e)},o.dimmedLegendColorName="foregroundNeutralTertiary",n.LegendBehavior=o})(powerbi=powerbi||{}),(function(e){var o;function t(){}o=e.visuals||(e.visuals={}),t.prototype.bindEvents=function(e,t,a,i){this.labelItems=e.labelItems,i?o.InteractivityUtils.removeStandardInteractivityHandlers(this.labelItems):o.InteractivityUtils.registerStandardSelectionHandler(this.labelItems,t)},t.prototype.renderSelection=function(e){e?this.labelItems.styles({opacity:function(e){return e.selected?t.DefaultLabelOpacity:t.DimmedLabelOpacity}}):this.labelItems.styles({opacity:t.DefaultLabelOpacity})},t.DefaultLabelOpacity=1,t.DimmedLabelOpacity=.6,o.LabelsBehavior=t})(powerbi=powerbi||{}),(function(o){var x,e,t,w,y,r,g;function P(){}x=o.visuals||(o.visuals={}),e=x.controls||(x.controls={}),t=jsCommon.CssConstants,w=t.createClassAndSelector("noUi-target"),y=t.createClassAndSelector("noUi-base"),r=t.createClassAndSelector("noUi-value"),g=t.createClassAndSelector("noUi-handle"),P.createOrUpdateSliders=function(e){var t=e.containers,p=e.axesData,d=e.zoomAxes,m=e.zoomData,y=e.zoomExtents,g=e.hasYAxisCategorical,h=e.yFlipped,b=e.maxLabelWidthLeft,f=e.maxLabelWidthRight,S=e.resetEventHandlers,v=e.hideSliders,C=e.visualHostServices,N=e.invertedState;t.each((function(e){var t,a,i,o,r,n,l,s=P.getAxisType(e,h),c=!1,u="y2"===s?(n=d.valueSecAxis,y.valueSecExtent):"y1"===s&&g||"x"===s&&!g?(n=d.categoryAxis,y.categoryExtent):(n=d.valueAxis,y.valueExtent);n&&(t=P.getAxisData(s,p),a=n.scale.domain(),i=n.axis.tickValues(),r=t.logAxisScale&&x.AxisHelper.isLogScaleAllowedFunc(a),"none"!==(o=v?"none":P.getScaleType(a,r))&&r&&(u=P.calcLogSliderValues(u),a=P.calcLogSliderValues(a),i=P.calcLogSliderValues(i)),r=P.getFormatFn(n,o),l=(n=d3.select(this)).select(w.selector),P.wasInverted(s,p,N)&&(l.node()&&l.node().noUiSlider.destroy(),c=!0),l.node()&&!c?P.updateSlider({slider:l,axisType:s,axisData:t,zoomData:m,hasYAxisCategorical:g,extent:u,scaleDomain:a,labelValues:i,maxLabelWidth:"left"===e?b:f,scaleType:o,formatFn:r,resetEventHandlers:S,visualHostServices:C}):P.createSlider({container:n,axisType:s,axisData:t,zoomData:m,hasYAxisCategorical:g,extent:u,scaleDomain:a,labelValues:i,maxLabelWidth:"left"===e?b:f,scaleType:o,formatFn:r,visualHostServices:C}))}))},P.createSlider=function(t){var r,e=t.container,a=t.axisType,i=t.axisData,o=t.zoomData,n=t.hasYAxisCategorical,l=t.extent,s=t.scaleDomain,c=t.labelValues,u=t.maxLabelWidth,p=t.scaleType,d=t.formatFn,m=t.visualHostServices;"none"!==p&&(e=e.append("div").attr("rtl","rtl"===document.dir),noUiSlider.create(e.node(),{start:l,range:{min:s[0],max:s[1]},margin:.001*(s[1]-s[0]),connect:!0,behaviour:"tap-drag",orientation:"x"===a?"horizontal":"vertical",direction:"x"===a?i.invertAxis?"rtl":"ltr":i.invertAxis?"ltr":"rtl",tooltips:!!o.showTooltip&&[{to:d},{to:d}],pips:o.showLabels?{mode:"values",values:c,format:{to:d,from:void 0}}:void 0}),e.select(y.selector).attr("drag-resize-disabled",!0).on("keydown",(function(){return d3.event.stopPropagation()})),this.applyVisualAxisStyles(e,a,i,u),r=P.getPropertyNames(a,n),e.node().querySelectorAll(g.selector).forEach((function(e){e.setAttribute("aria-label",t.visualHostServices.getLocalizedString("Visual_ZoomSlider"))})),e.node().noUiSlider.on("slide",_.throttle((function(e,t,a){var i=this.options.range.min,o=this.options.range.max;P.onSlide(r.min,r.max,r.size,a,i,o,p,m)}),100)),this.convertSliderToSubSelectable(e,a))},P.updateSlider=function(e){var r,t=e.slider,a=e.axisType,i=e.axisData,o=e.zoomData,n=e.hasYAxisCategorical,l=e.extent,s=e.scaleDomain,c=e.labelValues,u=e.maxLabelWidth,p=e.scaleType,d=e.formatFn,m=e.resetEventHandlers,y=e.visualHostServices;"none"===p?t.node().noUiSlider.destroy():(t.node().noUiSlider.updateOptions({start:l,range:{min:s[0],max:s[1]},margin:.001*(s[1]-s[0]),tooltips:!!o.showTooltip&&[{to:d},{to:d}],pips:o.showLabels?{mode:"values",values:c,format:{to:d,from:void 0}}:null},!1),this.applyVisualAxisStyles(t,a,i,u),m&&(r=P.getPropertyNames(a,n),t.node().noUiSlider.off("slide"),t.node().noUiSlider.on("slide",_.throttle((function(e,t,a){var i=this.options.range.min,o=this.options.range.max;P.onSlide(r.min,r.max,r.size,a,i,o,p,y)}),100))),this.convertSliderToSubSelectable(t,a))},P.convertSliderToSubSelectable=function(e,t){var a=this,i=(e.classed(x.HtmlSubSelectableClass,!0).attr(x.SubSelectableObjectNameAttribute,this.getAxisZoomSliderSubSelectableRegionAttribute(t)).attr(x.SubSelectableDisplayNameAttribute,"Visual_ZoomSlider").attr(x.SubSelectableTypeAttribute,0),e.node());x.HtmlSubSelectionHelper.setDataForElement(i,{getRegionOutlines:function(){return a.getSliderOutlines(i,t)}})},P.getSliderOutlines=function(e,t){var a=e.getBoundingClientRect(),e=e.querySelector(g.selector).getBoundingClientRect().width/2;return[{id:this.getAxisZoomSliderSubSelectableRegionAttribute(t),outline:{x:a.x-e,y:a.y-e,width:e+a.width+e,height:e+a.height+e,type:1}}]},P.getAxisZoomSliderSubSelectableRegionAttribute=function(e){switch(e){case"x":return"x-axis-zoom-slider";case"y1":return"y1-axis-zoom-slider";case"y2":return"y2-axis-zoom-slider"}},P.destroySliders=function(e){var t=e.containers,a=e.hasYAxisCategorical,i=e.yFlipped,o=e.visualHostServices;t.each((function(e){e=P.getAxisType(e,i);P.destroySlider({axisType:e,hasYAxisCategorical:a,visualHostServices:o})}))},P.destroySlider=function(e){var t=e.axisType,a=e.hasYAxisCategorical,e=e.visualHostServices,t=P.getPropertyNames(t,a),a={};a[t.min]=!0,a[t.max]=!0,a[t.size]=!0,e.persistProperties({remove:[{objectName:"zoom",properties:a,selector:void 0}]},!0)},P.onSlide=function(e,t,a,i,o,r,n,l){var s={},c={},u=(i=_.map(i,(function(e){return P.calcOriginalValue(e,n)})),o=P.calcOriginalValue(o,n),r=P.calcOriginalValue(r,n),i[1]-i[0]);i[0]===o&&i[1]===r?(c[e]=!0,c[t]=!0,c[a]=!0):i[0]===o?(c[e]=!0,s[t]=Number(!0),s[a]=u):i[1]===r?(s[e]=Number(!0),c[t]=!0,s[a]=u):(s[e]=i[0],s[t]=i[1],c[a]=!0),l.persistProperties({merge:[{objectName:"zoom",properties:s,selector:void 0}],remove:[{objectName:"zoom",properties:c,selector:void 0}]},!0)},P.getAxisType=function(e,t){switch(e){case"bottom":return"x";case"left":return t?"y2":"y1";case"right":return t?"y1":"y2"}},P.getPropertyNames=function(e,t){return"y2"===e?{min:x.zoomProps.valueSecMin.propertyName,max:x.zoomProps.valueSecMax.propertyName,size:x.zoomProps.valueSecSize.propertyName}:"y1"===e&&t||"x"===e&&!t?{min:x.zoomProps.categoryMin.propertyName,max:x.zoomProps.categoryMax.propertyName,size:x.zoomProps.categorySize.propertyName}:{min:x.zoomProps.valueMin.propertyName,max:x.zoomProps.valueMax.propertyName,size:x.zoomProps.valueSize.propertyName}},P.getFormatFn=function(e,t){var a;if("none"!==t)return a=e.axis.tickFormat(),function(e){return a(P.calcOriginalValue(e,t),0)}},P.calcLogSliderValues=function(e){return _.map(e,(function(e){return P.log10(Math.abs(e))}))},P.calcOriginalValue=function(e,t){switch(t){case"linear":return e;case"log":return Math.pow(10,e);case"rLog":return-Math.pow(10,e)}},P.applyVisualAxisStyles=function(e,t,a,i){a=a.labelFontProperties;e.selectAll(r.selector).styles(x.FontProperties.toHTMLStyle(a)),"x"!==t&&e.selectAll(r.selector).call(x.AxisHelper.LabelLayoutStrategy.clip,i,o.TextMeasurementService.svgEllipsis)},P.getAxisData=function(e,t){return t["y1"===e?"y":e]},P.getScaleType=function(e,t){return t?e[0]<0?"rLog":"log":"linear"},P.log10=function(e){return Math.log(e)/Math.log(10)},P.wasInverted=function(e,t,a){return"x"===e&&(null==a?void 0:a.x)!==t.x.invertAxis||"y1"===e&&(null==a?void 0:a.y)!==t.y.invertAxis||"y2"===e&&(null==a?void 0:a.y2)!==t.y2.invertAxis},e.AxisZoomSlider=P})(powerbi=powerbi||{}),(function(e){function t(){}function a(e,t,a){this.fontOffsetLeft=t,this.fontOffsetRight=a,this.previousLabelRightEdge=e}function l(e,t,a,i,o,r,n){this.fontOffsetLeft=t,this.fontOffsetRight=a,this.currentNode=i,this.scale=o,this.halfCategoryThickness=r,this.rotationPadding=n,this.previousLabelRightEdge=e,this.index=0;t=l.getLastChildIndex(i,0);this.groupEndPosition=o(t)+r-n}e=(e=e.visuals||(e.visuals={})).AxisTickCollisionUtils||(e.AxisTickCollisionUtils={}),t.prototype.willCollide=function(e){return!1},t.prototype.addItem=function(e){},t.prototype.skipItem=function(e){},e.NoCollisionDetector=t,a.prototype.willCollide=function(e){return e-this.fontOffsetLeft<=this.previousLabelRightEdge},a.prototype.addItem=function(e){this.previousLabelRightEdge=e+this.fontOffsetRight},a.prototype.skipItem=function(e){},e.CollisionDetector=a,l.prototype.willCollide=function(e){return l.isLastChild(this.currentNode)?e-this.fontOffsetLeft<=this.previousLabelRightEdge:e+this.fontOffsetRight>this.groupEndPosition},l.prototype.addItem=function(e){this.moveToNextNode(e)},l.prototype.skipItem=function(e){this.moveToNextNode(e)},l.prototype.moveToNextNode=function(e){var t=this.currentNode,a=this.currentNode=this.currentNode.next;this.index++,l.isLastChild(t)?(this.previousLabelRightEdge=this.groupEndPosition+2*this.rotationPadding,t=l.getLastChildIndex(a,this.index),this.groupEndPosition=this.scale(t)+this.halfCategoryThickness-this.rotationPadding):this.previousLabelRightEdge=e+this.fontOffsetRight},l.isLastChild=function(e){return null==e.next||e.parent!==e.next.parent},l.getLastChildIndex=function(e,t){for(var a=e,i=t;!l.isLastChild(a);)i++,a=a.next;return i},e.HierarchicalCollisionDetector=l})(powerbi=powerbi||{}),(function(A){var q,k,e,Q,Z,O,p,F,X,j,$,z,t;function J(e){return e<300?3:e<500?5:8}function ee(e){return e<150?3:e<300?5:8}function B(e,t){switch(t){case k.top:return d3.axisTop(e);case k.right:return d3.axisRight(e);case k.bottom:return d3.axisBottom(e);case k.left:return d3.axisLeft(e)}}function n(e){for(var t=0,a=e.length;t<a;t++){var i=e[t];if(i&&i.type&&!i.type.integer)return!0}return!1}function I(e,t,a,i,o,r){return!i||te(t)?l(e,t.domain()):c(a)?(i=e,0===(a=t.domain())[0]&&0===a[1]?[]:d((i=A.DateTimeSequence.calculate(A.PBIFormattingDate.fromTimeValue(a[0]),A.PBIFormattingDate.fromTimeValue(a[1]),i).sequence).map((function(e){return e.getTime()})),a[0],a[1])):s(e,t,o,r)}function l(e,t){var a=[];if(!(e<=0)){var i=t.length;if(i<e)return t;for(var o=0,r=Math.ceil(i/e);o<i;o+=r)a.push(t[o])}return a}function s(e,t,a,i){var o=[];if(e<=1)return[];var r,n,l,s=t,c=e;if(s.ticks){if((o=s.ticks(c)).length>e&&1<e&&(t=t.domain(),r=t[0],t=t[1],n=o.length,n=(t-r)/n,l=Math.floor(Math.log(n)/Math.LN10),n=(n=n/Math.pow(10,l))>=Math.sqrt(50)?Math.sqrt(2)*Math.pow(10,l+1):n>=Math.sqrt(10)?Math.sqrt(50)*Math.pow(10,l):n>=Math.sqrt(2)?Math.sqrt(10)*Math.pow(10,l):Math.sqrt(2)*Math.pow(10,l),c=Math.floor((t-r)/n),o=s.ticks(c)),o.length<p&&(o=s.ticks(c=e+1)),a&&1<o.length)for(var u=o[1]-o[0];0<u&&A.Double.lessWithPrecision(u,a)&&2<c;){if(c--,(o=s.ticks(c)).length<p){o=s.ticks(++c);break}u=o[1]-o[0]}return o.length<=1?[]:o=i?o:(function(e,t){void 0===t&&(t=1e-5);var a;return!e||e.length<2?e:(a=t*Math.abs(e[1]-e[0]),e.map((function(e){return Math.abs(e)<=a?0:e})))})(o)}return o}function P(e,t,a){var i=10===(null==t?void 0:t[0]),o=10===(null==t?void 0:t[1]),r=o&&i&&e[0]>=e[1];i&&!r||(e[0]-=Math.abs(a[0]),t&&(t[0]=0)),o&&!r||(e[1]+=Math.abs(a[1]),t&&(t[1]=0))}function a(e){return e&&(e.bool||e.numeric||e.text||e.dateTime)}function T(e){var t;return!(!e||!(e.text||e.bool||null!=(t=e.misc)&&t.barcode||null!=(t=e.geography)&&t.postalCode))}function te(e){return!e.invert}function c(e){return!(!e||!e.dateTime)}function H(t){return te(t)?t.domain().map((function(e){return t(e)})):t.range()}function r(e,t){var a=e.bandwidth(),i=H(e),e=e.domain();return i.length<2||i[0]>t?e[0]||0:(a=(i[1]-i[0]-a)/2,e[d3.bisect(i,t+a)-1])}function u(e,t,a,i,o){var r,n,l,s=H(e),c=e.domain(),o=o||1,u=e.bandwidth()/o;if(0!==c.length)return s[0]+(i=1===i?u/2:0)>t?1===a?void 0:{value:c[0],seriesIndex:0}:t>s[s.length-1]+u*o-i&&-1===a?void 0:(i=i*a*-1,r=s[1]-s[0]-u*o,1<o?(l=d3.bisect(s,t)-1,n=e(c[l]),e=_.map(d3.range(o),(function(e){return e*u+n})),(e=d3.bisect(e,t+i)-1)<0?{value:c[l-1],seriesIndex:o-1}:-1===a&&e==o-1&&l!==s.length-1&&t+i+r>s[l+1]?{value:c[l+1],seriesIndex:0}:{value:c[l],seriesIndex:e}):(-1===a&&(i+=r),l=d3.bisect(s,t+i)-1,{value:c[l],seriesIndex:0}))}function d(e,t,a){e=e.filter((function(e){return t<=e&&e<=a}));return 2<=e.length?e:[t,a]}function i(e){var t=e.pixelSpan,a=null==(a=e.domainOptions)?void 0:a.domain,i=e.metaDataColumn,o=e.outerPaddingRatio||0,r=null!=e.innerPaddingRatio?e.innerPaddingRatio:q.DefaultInnerPaddingRatio,n=!!e.isCategoryAxis,l=!!e.isScalar,s=!!e.isVertical,c=e.getValueFn,u=e.axisDisplayUnits,p=e.axisPrecision,d=!!e.is100Pct,m=e.margin,y=e.invertAxis||!1,g=e.totalsEnabled||!1,h=null!=(h=e.orientation)?h:s?k.left:k.bottom,b=e.logAxisScale||!1,f=e.outerPadding||0,S=e.formatString,v=!!e.useTickIntervalForDisplayUnits,C=e.categoryThickness,s=(0===f&&l&&s&&(e.outerPadding=f=1),i instanceof Array?q.CartesianHelper.getFirstMetadataColumn(i):i),s=Q.getCategoryValueType(s,l),d=l?W(S,s,d):void 0,N=(n&&(N=S,x=u,P=a,w=s)&&!(N&&"0"!==N&&"g"!==N&&"G"!==N||x&&1!==x||(!w.temporal||!w.temporal.year)&&!(w.integer&&P&&2===P.length&&E(P[0])&&E(P[1])))&&(v=!(S="0")),Q.createScale(e,d)),x=N.scale,w=N.bestTickCount,P=N.usingDefaultDomain,e=x.domain(),T=Q.isLogScaleAllowedFunc(a,s),V=(C&&l&&2===(null==a?void 0:a.length)&&(O=a[1]-a[0],j=e[1]-e[0],0<O)&&0<j&&(C=C*O/j),l&&!_.isEmpty(a)&&1===w?[a[0]]:I(w,x,s,l,d,b));if(b&&T)for(var D=0;10<V.length;)V=V.filter((function(e){return Q.powerOfTen(e,D)})),D++;var L,M,R,A,O=Q.createFormatter({scaleDomain:e,dataDomain:a,dataType:s,isScalar:l,formatString:S,bestTickCount:w,tickValues:V,useTickIntervalForDisplayUnits:v,axisDisplayUnits:u,axisPrecision:p,logAxisScale:b}),j=B(x,h).tickSizeInner(Q.DefaultInnerTickSize).tickSizeOuter(0).ticks(w).tickValues(V),d=[];return _.isEmpty(i)||(d=(function(e,t,a,i,o){var r=[];o=o||function(e){return e};r=a?(e.tickFormat((function(e){return a.format(o(e,i))})),t.map((function(e){return a.format(o(e,i))}))):t.map((function(e){return o(e,i)}));return r})(j,V,O,s,c)),!l&&C?L=Math.max(1,C-2*q.CartesianHelper.TickLabelPadding):1<V.length?(e=V,L=!(S=x)||_.isEmpty(e)?1:Math.abs(S(e[1])-S(e[0])),L-=2*F,m&&(v=x,u=V,p=m,c=f,S=L,e=_.times(u.length,_.constant(S)),m=p.left,p=p.right,M=v(_.head(u)),R=v(_.last(u)),v=H(v),A=v[0],v=v[1],M=2*(Math.abs(M-A)+m+c),A=2*(Math.abs(R-v)+p+c),e[0]=Math.min(M,S),e[u.length-1]=Math.min(A,S),R=e,L=void 0)):L=t-2*F,{scale:x,axis:j,formatter:O,values:d,axisType:s,axisLabel:q.converterHelper.createAxisLabel(i),isCategoryAxis:n,xLabelMaxWidth:L,categoryLabelMaxWidths:R,categoryThickness:C,outerPadding:f,outerPaddingRatio:o,innerPaddingRatio:r,usingDefaultDomain:P,isLogScaleAllowed:T,dataDomain:a,hasDisallowedZeroInDomain:l&&!T&&b,invertAxis:y,totalsEnabled:g,orientation:h}}function E(e){return _.isNumber(e)&&e===Math.floor(e)&&-1e4<e&&e<1e4}function m(e,t,a,i){a||((o=q.valueFormatter.createDisplayUnitSystem()).update(t-e),a=o.displayUnit&&o.displayUnit.value||1);var o=(e||0)/a,e=(t||0)/a;return i&&(o*=t=A.NumberFormat.getCustomFormatMetadata(i,!1,!1,!0).partsPerScale,e*=t),Math.max(y(o),y(e))}function y(e){if(0===e)return 0;e<0&&(e=-e);var t,a=Math.floor(A.Double.log10(e));return 0<=a?(t=5-(a+1))<=0?0:o(e,t):a<-5?5:-a-1+o(e/A.Double.pow10(a+1),5)}function o(e,t){var a=e.toFixed(t),i=a.indexOf(".");if(-1!==i)for(var o=a.length;o-- >i;)if("0"!==a[o])return o-i;return 0}function W(e,t,a){var i;return e&&!A.NumberFormat.isStandardFormat(e)?(i=A.NumberFormat.getCustomFormatMetadata(e,!0).precision,-1<e.indexOf("%")&&(i+=2),Math.pow(10,-i)):a?.01:t.integer?1:0}function V(e,t,a,i){return void 0===a&&(a=0),void 0===i&&(i=q.DefaultInnerPaddingRatio),d3.scaleBand().range([0,e]).paddingInner(i).paddingOuter(a).domain(t)}function L(e,t,a,i,o,r,n){return void 0===o&&(o=0),e&&Q.isLogScaleAllowedFunc(a,i)?g(t,a,o,r):D(t,a,o,r,n)}function g(e,t,a,i){void 0===a&&(a=0);e=d3.scaleLog().range([a,e-a]).domain([t[0],t[1]]).clamp(!0),a=e.domain();return i&&a[0]!==-Number.MAX_VALUE&&a[1]!==Number.MAX_VALUE&&e.nice(),e}function D(e,t,a,i,o){void 0===a&&(a=0);e=d3.scaleLinear().range([a,e-a]).domain([t[0],t[1]]).clamp(o),a=e.domain();return i&&a[0]!==-Number.MAX_VALUE&&a[1]!==Number.MAX_VALUE&&e.nice(i),e}function h(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var l={forced:!1,source:0},s={forced:!1,source:0},c={forced:!1,source:0,value:null},u={forced:!1,source:0,value:null};function a(e,t){var t="min"===t,a=t?l:s,i=t?c:u,o=null!=(n=null==(n=e.domainSources)?void 0:n[t?0:1])?n:0,r=!!e.forced&&!!e.forced[t?0:1],n=e.domain[t?0:1];null!=n&&(e=function(e){0===o&&(i.value=e,i.forced=r)},null==i.value&&e(n),o>a.source?(a.value=n,a.source=o,a.forced=r):o===a.source&&(r&&!a.forced?(a.value=n,a.forced=!0,e(n)):!r&&a.forced||(a.value=t?Math.min(n,null!=(t=a.value)?t:Number.POSITIVE_INFINITY):Math.max(n,null!=(t=a.value)?t:Number.NEGATIVE_INFINITY),e(a.value))))}for(var i,o,r=0,n=e;r<n.length;r++){var p=n[r];p&&p.domain&&(a(p,"min"),a(p,"max"))}if(void 0!==l.value||void 0!==s.value)return{type:1,domain:[(i=(o=null!=c.value&&null!=u.value&&(0===l.source||0===s.source)&&(u.value<l.value||s.value<c.value))?c:l).value,(o=o?u:s).value],forced:[i.forced,o.forced],domainSources:[i.source,o.source]}}function b(e){return!0===e.isStacked}function G(e,t){return _.isEmpty(e.categoryLabelMaxWidths)?e.xLabelMaxWidth:b(e)?e.categoryLabelMaxWidths[t]:(t=e.axis.tickValues().indexOf(t),e.categoryLabelMaxWidths[t])}q=A.visuals||(A.visuals={}),X=jsCommon.API,j=A.visuals.AxisTickCollisionUtils,$=q.Units.FontSize,z=jsCommon.PixelConverter,t=jsCommon.Errors.TypeAssertionError,q.emptyDomain=[0,0],(e=k=q.AxisOrientation||(q.AxisOrientation={}))[e.top=0]="top",e[e.bottom=1]="bottom",e[e.left=2]="left",e[e.right=3]="right",Q=q.AxisHelper||(q.AxisHelper={}),p=2,F=3,Q.StackedAxisPadding=5,Q.DefaultInnerTickSize=6,Q.getRecommendedNumberOfTicksForXAxis=J,Q.getRecommendedNumberOfTicksForYAxis=ee,Q.axisFactory=B,Q.getBestNumberOfTicks=function(e,t,a,i,o){var r=e[0],e=e[1];return isNaN(r)||isNaN(e)?3:r===e?o||i?1:3:a<=1||e<=1&&-1<=r||n(t)?a:Math.min(e-r+1,a)},Q.hasNonIntegerData=n,Q.getRecommendedTickValues=I,Q.getRecommendedTickValuesForAnOrdinalRange=l,Q.getRecommendedTickValuesForAQuantitativeRange=s,Q.getMargin=function(e,t,a,i){return 0===J(e-a)||0===ee(t-i)?{top:0,right:a,bottom:i,left:0}:{top:20,right:30,bottom:40,left:30}},Q.getTickLabelMargins=function(e,t,a,i,o,r,n,l,s,c,u,p){var d,m,y=e,g=!1,h=(y.plotArea?(d=y.plotArea,t=y.yMarginLimit,a=y.textWidthMeasurer,i=y.textHeightMeasurer,o=y.axes,r=y.bottomMarginLimit,m=y.axesFontProperties,l=y.rotate90,s=y.showOnRight,c=y.renderXAxis,u=y.renderY1Axis,p=y.renderY2Axis,g=null!=y.numHierarchyLevels&&0<y.numHierarchyLevels):(X.deprecated("Calling getTickLabelMargins without a property bag is deprecated"),d=e,e=n.fontFamily,b=parseInt(n.fontSize,10),m={x:{tickLabels:{family:e,size:$.createFromPx(b)},title:{family:e,size:$.createFromPx(b)}},y:{tickLabels:{family:e,size:$.createFromPx(b)},title:{family:e,size:$.createFromPx(b)}},y2:{tickLabels:{family:e,size:$.createFromPx(b)},title:{family:e,size:$.createFromPx(b)}}},(n.fontWeight||n.fontStyle||n.fontVariant||n.whiteSpace)&&X.deprecated('getTickLabelMargins now ignores the following properties in the "properties" object: fontWeight, fontStyle, fontVariant, whiteSpace')),o.x),e=o.y1,b=o.y2,f=h.values,S=0,v=0,n=0,o=0,C=0,N=0,F=0,z=null!=h.innerPaddingRatio?.5-h.innerPaddingRatio/2:0,B=h.categoryThickness?h.categoryThickness*z:0,I=te(h.scale),x=0,z=(void 0!==h.outerPadding?x=h.outerPadding:void 0!==h.xLabelMaxWidth&&(x=Math.max(0,(d.width-h.xLabelMaxWidth*f.length)/2)),c&&!_.isEmpty(f));if(0!==J(d.width)||0!==ee(d.height)){var H,w,P=void 0,P=l||g&&h.isCategoryAxis?Z.DefaultVerticalRotation:Z.DefaultRotation,E=(u&&(c=m.y.tickLabels,e.categoryIdentities&&(c=q.FontProperties.inherit(c,{weight:"700"})),C=(w=q.AxesLayoutUtils.getAxisTickLabelMargins(e,c,a,i)).maxWidth,n=Math.max(n,w.overflow.top),o=Math.max(o,w.overflow.bottom),H=w.textHeight),b&&p&&(N=(w=q.AxesLayoutUtils.getAxisTickLabelMargins(b,m.y2.tickLabels,a,i)).maxWidth,n=Math.max(n,w.overflow.top),o=Math.max(o,w.overflow.bottom)),m.x.tickLabels),T=q.FontProperties.toTextProperties(E),V=h.scale,D=V.domain(),L=i(T);if(z){var G=Math.floor(r/L);h.categoryIdentities&&!h.willLabelsWordBreak&&(T.fontWeight="700");for(var M=0,W=f.length;M<W;M++){var R,U,K,A,Y,O=void 0,j=(T.text=f[M],a(T));h.willLabelsWordBreak?(R=_.isEmpty(h.categoryLabelMaxWidths)?h.xLabelMaxWidth:h.categoryLabelMaxWidths[M],O=jsCommon.WordBreaker.splitByWidth(T.text,T,a,R,G).length*L,j=R):!h.willLabelsFit&&I?(U=(R=E.size.pt<=q.CartesianHelper.DefaultAxisFontSizeInPt)?0:L*P.sine,K=R?0:L*P.cosine,O=j*P.sine+K,j=j*P.cosine+U):O=L+-5,0===M?I?(S=h.willLabelsFit?j/2-B-x:j-B-x,S=Math.max(S,0)):1<D.length&&(A=0,A=j/2-(Y=h.invertAxis?V(D[1]):V(D[0])),A=Math.max(A,0),h.invertAxis&&s?v=A:S=A):M===W-1&&(I?(h.willLabelsFit||h.willLabelsWordBreak)&&(v=j/2-B-x,v=Math.max(v,0)):1<D.length&&(A=0,Y=h.invertAxis?V(D[0]):V(D[1]),A=j/2-(d.width-Y),A=Math.max(A,0),h.invertAxis&&s?S=A:v=A)),F=Math.max(F,O)}S=Math.min(S,35),v=Math.min(v,35)}}var k,l=0,c=0,p=Math.min(Math.max(o,Math.ceil(F)),r),l=s?(c=Math.min(Math.max(S,N),t),Math.min(Math.max(v,C),t)):(c=Math.min(Math.max(S,C),t),Math.min(Math.max(v,N),t));return g&&(h.isCategoryAxis&&z&&(p+=(k=L+Q.StackedAxisPadding)*(y.numHierarchyLevels-1)),e.isCategoryAxis)&&u&&(k=H+Q.StackedAxisPadding,s?l+=k*(y.numHierarchyLevels-1):c+=k*(y.numHierarchyLevels-1)),{yTop:Math.ceil(n),yLeft:Math.ceil(c),yBottom:Math.ceil(o),yRight:Math.ceil(l),xMax:Math.ceil(p),stackHeight:k,overflow:{top:Math.ceil(n),bottom:Math.ceil(o),left:Math.ceil(S),right:Math.ceil(v)}}},Q.getTickLabelMarginsForAxis=function(e,t,a,i,o){var r=e.scale,n=e.axis.tickValues();if(_.isEmpty(n))return{maxWidth:0,overflow:{top:0,bottom:0}};p=Q.isScaleBand(r)?(d=(p=r.range())[0],p[1]):(p=H(r),d=_.head(p),_.last(p));for(var l,s,c,u=e.values,e=d<p?(l=d,s=r(_.head(n)),c=p,r(_.last(n))):(l=p,s=r(_.last(n)),c=d,r(_.head(n))),p=o({text:""+_.head(u),fontFamily:t,fontSize:z.toString(a)}),d=Math.max(0,-(s-p/2-l)),r=Math.max(0,e+p/2-c),m=0,y=0,g=u.length;y<g;y++)var h={text:""+u[y],fontFamily:t,fontSize:z.toString(a)},m=Math.max(m,i(h));return{maxWidth:m,overflow:{top:d,bottom:r}}},Q.columnDataTypeHasValue=a,Q.createOrdinalType=function(){return A.ValueType.fromDescriptor({text:!0})},Q.isOrdinal=T,Q.isScaleBand=te,Q.isDateTime=c,Q.invertScale=function(e,t,a,i,o){return te(e)?0===a?{value:r(e,t)}:u(e,t,a,i,o):{value:e.invert(t)}},Q.extent=function(e){return te(e),e.range()},Q.scaleRange=H,Q.getCategoryThickness=function(e){var t=H(e);return t.length<2&&Q.isScaleBand(e)?(e=e.range())[1]-e[0]:t[1]-t[0]},Q.invertOrdinalScale=r,Q.invertOrdinalSimpleScaleWithDirection=u,Q.findClosestXAxisIndex=function(e,t,a){var i=[(a=a.domain())[0],a[1]],o=-1;if(!(i[1]<i[0])){var r,n=Number.MAX_VALUE;for(r in t){var l=t[r].categoryValue;l<i[0]||i[1]<l||(l=Math.abs(e-l))<n&&(n=l,o=parseInt(r,10))}}return o},Q.adjustDomainWithConstantPixelDifference=function(e,t,a,i){var o;return a<e||t<i?(a=Math.abs(Math.min(a-e,0)),i=Math.max(i-t,0),o=t-e,{domain:[e=e-a*Math.pow(o,2)/((o-i)*(o-a)-a*i),t+i*(t-e)/(o-i)],adjusted:!0}):{domain:void 0,adjusted:!1}},Q.lookupOrdinalIndex=function(e,t){var a=-1,i=Number.MAX_VALUE,o=e.domain();if(o.length<2)return 0;var r,n=(e(1)-e(0))/2;for(r in o){var l=e(r),l=Math.abs(t-(l+n));l<i&&(i=l,a=parseInt(r,10))}return a},Q.diffScaled=function(e,t,a){return 0==(t=e(t)-e(a))?0:t<0?Math.min(t,-1):Math.max(t,1)},Q.createDomain=function(e,t,a,i){if(a&&!T(t))return 0===e.length?void 0:(a=_.flatMap(e,(function(e){return _.flatMap(e.data,(function(e){return[null==e?void 0:e.categoryValue]}))})),h.apply(void 0,__spreadArray([Q.createScalarDomainOptions(d3.extent(a),0)],i||[],!1)));var o=[];if(!_.isEmpty(e))for(var r=0,n=e[0].data;r<n.length;r++){var l=n[r];l.highlight||o.push(l.categoryIndex)}return{domain:o,type:0}},Q.assertScalarDomain=function(e){if(2!==e.length&&!_.every(e,(function(e){return null==e||_.isNumber(e)})))throw new t("CartesianAxisScalarDomain")},Q.ensureValuesInRange=d,Q.getCategoryValueType=function(e,t){return a(null==e?void 0:e.type)?e.type:A.ValueType.fromDescriptor(t?{numeric:!0}:{text:!0})},Q.shouldIncludeZero=function(e){var t,a=null==e?void 0:e.domain;return!(a&&2===a.length&&(t=10===(e=e.domainSources)[0]?a[0]:void 0,e=10===e[1]?a[1]:void 0,0<t||e<0))},Q.createAxis=function(e){var t=i(e);return e.axisZoom&&!e.skipAxisZoomUpdate&&(e.axisZoom.updateAxisOptions(t,e),t=i(e)),t},Q.createStackedAxis=function(e){e.axis,e.scale,e.tickFormat;var t=null!=e.orient?e.orient:k.bottom,a=e.axis;return B(e.scale,t).tickSizeInner(e.innerTickSize||0).tickSizeOuter(e.outerTickSize||0).ticks(a.tickArguments()).tickValues(a.tickValues()).tickFormat(e.tickFormat)},Q.createScale=function(e,t){var a,i,o,r=e.pixelSpan,n=e.metaDataColumn,l=null!=(l=e.outerPadding)?l:0,s=null!=(s=e.innerPaddingRatio)?s:q.DefaultInnerPaddingRatio,c=!!e.isScalar,u=!!e.isVertical,p=e.forcedTickCount,d=e.categoryThickness,m=!!e.shouldClamp,y=e.maxTickCount,g=e.allowSingleScalarTick,h=e.preventNice,b=!!e.includeZero,f=e.invertAxis,S=e.domainOptions,v=e.domainOptions,C=e.zeroScalarDomain,e=e.logAxisScale,S=null==S?void 0:S.domain,n=n instanceof Array?n:[n],N=q.CartesianHelper.getFirstMetadataColumn(n),N=Q.getCategoryValueType(N,c),x=(u?ee:J)(r);y&&y<x&&(x=y);(y=null==S?void 0:S.slice())&&c&&b&&(b=0,e&&Q.isLogScaleAllowedFunc(y,N)&&(b=_.every(y,(function(e){return 0<e}))?1:-1),y[0]=Math.min(b,y[0]),y[y.length-1]=Math.max(b,y[y.length-1]));var b=x,w=!1;return null==S||2===S.length&&null==S[0]&&null==S[1]||2!==S.length&&c?(w=!0,S=N.dateTime||!T(N)?q.emptyDomain:[],a=T(N)?V(r,S,d?l/d:0,s):L(e,r,S,N,l,b,void 0)):(c&&2===y.length&&(Q.assertScalarDomain(y),b=void 0!==p?0!==x?p:0:Q.getBestNumberOfTicks(y,n,x,N.dateTime,g),S=y,i=v.domainSources,t=t,o=e,y=isNaN(S[0])||isNaN(S[1])?q.emptyDomain:(S[0]===S[1]?null==t||.2*Math.abs(S[1])>=t?P(S,i,[.2*S[0],.2*S[1]]):0!==S[1]&&P(S,i,[t,t]):o||Math.abs(S[0])<1e-4&&Math.abs(S[0]/(S[1]-S[0]))<1e-4&&10!==(null==i?void 0:i[0])&&(S[0]=0),S)),c&&N.numeric&&!N.dateTime?(Q.assertScalarDomain(y),t=b=2===v.domain.length&&0===v.domain[0]&&0===v.domain[1]&&C&&(P(y,v.domainSources,C),void 0===p)?Q.getBestNumberOfTicks(y,n,x,N.dateTime,g):b,a=L(e,r,y,N,l,t=h||g&&2===y.length&&y[0]===y[1]?0:t,m)):c&&N.dateTime?a=D(r,y,l,null,m):(N.text||N.dateTime||N.numeric||N.bool)&&(a=V(r,y,d?l/d:0,s),b=0===x?0:Math.min(y.length,(r-2*l)/q.CartesianHelper.MinOrdinalRectThickness))),u&&c&&a.range(H(a).reverse()),f&&a.range(a.range().reverse()),q.ColumnUtil.normalizeInfinityInScale(a),{scale:a,bestTickCount:b,usingDefaultDomain:w}},Q.createFormatter=function(e){var t=e.scaleDomain,a=e.dataDomain,i=e.dataType,o=e.isScalar,r=e.formatString,n=e.bestTickCount,l=e.tickValues,s=e.useTickIntervalForDisplayUnits,c=e.axisPrecision,u=e.logAxisScale,e=e.axisDisplayUnits;if(o){if(i.dateTime)return q.valueFormatter.create({format:r,value:A.PBIFormattingDate.fromTimeValue((1===n?a:t)[0]),value2:A.PBIFormattingDate.fromTimeValue(1===n?a[0]:t[1]),tickCount:n,columnType:i});if(s&&1<l.length)return o=[l[0],l[1]],u&&_.every(l,(function(e){return e<=0}))&&(o=[l[l.length-2],l[l.length-1]]),q.valueFormatter.create({format:r,value:e||o[1]-o[0],value2:0,allowFormatBeautification:!0,columnType:i,precision:null!=c?c:m(o[0],o[1],e,r)});if(1===l.length)return q.valueFormatter.create({format:r,value:e||(s?_.head(l):0),allowFormatBeautification:!0,precision:c})}return q.valueFormatter.createDefaultFormatter(r,!0)},Q.calculateAxisPrecision=m,Q.getMinTickValueInterval=W,Q.createValueDomain=function(e,t){return 0===e.length?null:(e=_.flatMap(e,(function(e){return _.flatMap(e.data,(function(e){return[null==e?void 0:e.value]}))})),t&&e.push(0),d3.extent(e))},Q.createUncertaintyAwareValueDomain=function(e,t){var a,i;return 0===e.length?null:_.some(e,(function(e){return null==(e=e.uncertainty)?void 0:e.renderUncertainty}))?(a=d3.min(e,(function(e){var t;return null!=(t=e.uncertainty)&&t.renderUncertainty?d3.min(e.data,(function(e){return e&&d3.min([e.value,null==(e=e.uncertainty)?void 0:e.lower])})):d3.min(e.data,(function(e){return e&&e.value}))})),i=d3.max(e,(function(e){var t;return null!=(t=e.uncertainty)&&t.renderUncertainty?d3.max(e.data,(function(e){return e&&d3.max([e.value,null==(e=e.uncertainty)?void 0:e.upper])})):d3.max(e.data,(function(e){return e&&e.value}))})),t&&(a=null==a?0:Math.min(a,0),i=null==i?0:Math.max(i,0)),[a,i]):Q.createValueDomain(e,t)},Q.getAxisFormatString=function(e){if(1<=e.length)for(var t=0,a=e;t<a.length;t++){var i=a[t],i=_.first(i.data);if(i)return i.labelFormatString}},Q.createIntervalDomain=function(e){return[_.min(e.map((function(e){return _.min(e.data.map((function(e){return e.categoryValue.min})))}))),_.max(e.map((function(e){return _.max(e.data.map((function(e){return e.categoryValue.max})))})))]},(O=Z=Q.LabelLayoutStrategy||(Q.LabelLayoutStrategy={})).willLabelsFit=function(e,t,a,i){var o,r=e.values;return 0!==r.length&&(o=void 0!==e.xLabelMaxWidth?e.xLabelMaxWidth:t/r.length,!r.some((function(e){return i.text=e,a(i)>o})))},O.willLabelsWordBreak=function(i,o,e,r,t,n,l){var a=i.values,s=void 0!==i.xLabelMaxWidth?i.xLabelMaxWidth:e/a.length,c=o.bottom/O.DefaultRotation.sine,e=t(l),u=Math.max(1,Math.floor(o.bottom/e));return 0!==a.length&&!a.some((function(e){return l.text=e,!jsCommon.WordBreaker.hasBreakers(e)&&r(l)>s}))&&a.filter((function(e,t){var t=(o.left+i.outerPadding+i.categoryThickness*(t+.5)-10)/O.DefaultRotation.cosine,t=Math.min(t,c),a=jsCommon.WordBreaker.splitByWidth(e,l,r,s,u,n).join(" "),e=(l.text=e,n(l,t));return q.TextUtil.removeEllipses(a).length>=q.TextUtil.removeEllipses(e).length})).length>=a.length>>1},O.DefaultRotation={sine:Math.sin(Math.PI*(35/180)),cosine:Math.cos(Math.PI*(35/180)),tangent:Math.tan(Math.PI*(35/180)),transform:"rotate(-35)",dy:"-0.5em",textAnchor:"end"},O.DefaultVerticalRotation={sine:Math.sin(.5*Math.PI),cosine:Math.cos(.5*Math.PI),tangent:Math.tan(.5*Math.PI),transform:"rotate(-90)",dy:"-0.65em",textAnchor:"end"},O.DefaultRotationForYAxisHierarchy={sine:Math.sin(.5*Math.PI),cosine:Math.cos(.5*Math.PI),tangent:Math.tan(.5*Math.PI),transform:"rotate(-90)",dy:"-0.45em",textAnchor:"middle",x:0,y:0,dx:0},O.rotate=function(e,t,n,l,a,s,c,i,u){var o,p,r,d,m,y,g,h,b,f,S,v,C,N,x,w,P,T,V,D,L,M,R=0;"object"==typeof t?(n=t.textTruncator,l=t.textProperties,a=t.needRotate,s=t.needEllipsis,c=t.axisProperties,i=t.margin,u=t.rotate90,o=t.firstVisibleNode,R=t.rotationPadding||0,p=t.dropLabelsOnOverlap,r=t.height,d=!!t.y1Hierarchy):(r=t,X.deprecated("Calling rotate without using the property bag is deprecated.")),a?(m=d?O.DefaultRotationForYAxisHierarchy:u?O.DefaultVerticalRotation:O.DefaultRotation,y=A.Double.equalWithPrecision(Math.abs(m.cosine),0,1e-10),g=i.left-(y?10:0),t=z.fromPointToPixel(q.CartesianHelper.DefaultAxisFontSizeInPt),i=l.fontSize,h=parseFloat(i),b=h<=t,i=A.TextMeasurementService.estimateSvgTextHeight(l),f=c.scale,S=H(f),v=Q.getCategoryThickness(f),C=i*m.sine,i=y?0:i*m.cosine,N=(y?0:i/m.tangent)+(x=C/2),w=!!o,b?(T=r/m.sine,P=-5.5):(P=-(((t=t/2)+i)*m.sine),T=a?(r-t-i-(!u||w?0:t))/m.sine:void 0),V=f.bandwidth()/2,a=v/2,D=p?w?(L=R+S[0]+V-a,new j.HierarchicalCollisionDetector(L,N,x,o,f,a,R)):(L=R-(u?0:g),new j.CollisionDetector(L,N,x)):new j.NoCollisionDetector,M=-1,e.each((function(e,t){var a=d3.select(this),i=S[t]+V;if(p&&D.willCollide(i))D.skipItem(i),a.text(null);else{D.addItem(i);var o=a.text();if(l.text=o,y)if(d&&u){if(!o)return;var r=c;M=_.indexOf(r.adjustedValues,o,M+1),r=r.categoryLabelMaxWidths[M]}else r=T;else r=((b?c.outerPadding+c.categoryThickness*(t+.5):i)+g-C)/m.cosine;(u||s||r<T)&&(t=n(l,Math.min(r,T)))!==o&&a.text(t);i=a.attr("x");a.style("text-anchor",m.textAnchor).attrs({x:null!=m.x?m.x:i,y:null!=m.y?m.y:h,dx:null!=m.dx?m.dx:P,dy:m.dy,transform:m.transform})}}))):e.each((function(e){var t=d3.select(this),a=t.text(),e=(l.text=a,G(c,e)),e=n(l,e);e!==a&&t.text(e),t.style("text-anchor","middle").attrs({dx:"0em",dy:"1em",transform:"rotate(0)"})}))},O.wordBreak=function(e,i,o){var r=null;e.each((function(e){var t,a,e=G(i,e);null==r&&(a=A.TextMeasurementService.getSvgMeasurementProperties(this),t=A.TextMeasurementService.estimateSvgTextHeight(a),a=A.TextMeasurementService.estimateSvgTextBaselineDelta(a),r=10+t-a),d3.select(this).style("text-anchor","middle").attrs({dx:null,dy:null,y:r+"px",transform:"rotate(0)"}),q.TextUtil.wordBreak(this,e,o)}))},O.clip=function(e,t,a){0!==e.size()&&e.each((function(){var e=d3.select(this);a(e.node(),t)}))},Q.createScaleBand=V,Q.isLogScaleAllowedFunc=function(e,t){return null!=e&&!c(t)&&(0<e[0]&&0<e[1]||e[0]<0&&e[1]<0)},Q.createLogScale=g,Q.createLinearScale=D,Q.getRangeForColumn=function(e){var t={};return e&&(t.min=null==e.min?null==e.minLocal?d3.min(e.values):e.minLocal:e.min,t.max=null==e.max?null==e.maxLocal?d3.max(e.values):e.maxLocal:e.max),t},Q.isScalarAxisDomain=function(e){return 1===(null==e?void 0:e.type)},Q.isOrdinalAxisDomain=function(e){return 0===(null==e?void 0:e.type)},Q.applyCustomizedDomain=function(e,t){var a=[void 0,void 0];return t&&2===t.length&&(a=[t[0],t[1]]),e&&2===e.length&&(null!=e[0]&&(a[0]=e[0]),null!=e[1])&&(a[1]=e[1]),null==a[0]&&null==a[1]||null!=a[0]&&null!=a[1]&&a[0]>a[1]?t:a},Q.getMergedUserDomains=function(e){var e=_.filter(e.includeDomains,(function(e){return _.includes(e.domainSources,10)}));return null!=(e=null==(e=Q.mergeScalarAxisDomains.apply(Q,e||[]))?void 0:e.domain)?e:[void 0,void 0]},Q.mergeDomains=function(){for(var e,t,a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];for(var o=0,r=a;o<r.length;o++){var n,l=r[o];l&&(n=l[0],l=l[1],null!=n&&(e=Math.min(n,void 0===e?Number.POSITIVE_INFINITY:e)),null!=l)&&(t=Math.max(l,void 0===t?Number.NEGATIVE_INFINITY:t))}return[e,t]},Q.createScalarDomainOptions=function(e,t,a){return e&&{type:1,domain:e,domainSources:Q.generateScalarDomainSources(e,t),forced:a}},Q.createOrdinalDomainOptions=function(e){return e&&{type:0,domain:e}},Q.generateScalarDomainSources=function(e,t){return[null!=e[0]?t:void 0,null!=e[1]?t:void 0]},Q.mergeScalarAxisDomains=h,Q.hasForcedDomain=function(e){return e&&e.forced&&(e.forced[0]||e.forced[1])},Q.createAxisLabel=function(e,t,a,i){return i=(i=void 0===i?!1:i)?"secAxisStyle":"axisStyle",null!=e&&e[i]?q.AxisViewModel.createAxisLabel(e[i],t,a):t},Q.scaleShouldClamp=function(e,t){return!(!e||!t||e.length<2||t.length<2||e[0]===t[0]&&e[1]===t[1])},Q.normalizeNonFiniteNumber=function(e){return isNaN(e)?null:e===Number.POSITIVE_INFINITY?Number.MAX_VALUE:e===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:e},Q.powerOfTen=function(e,t){void 0===t&&(t=0);var e=Math.abs(e),a=Math.log(e)/Math.LN10,a=Math.ceil(a-1e-12);return e/Math.pow(10,a)==1&&a%Math.pow(2,t)==0},Q.isHierarchical=function(e){return e.isHierarchical},Q.isStackedAxisProperties=b,Q.getMaxWidth=G,Q.orient=function(e,t,a){return delete e.node().__axis,(e=B(t.scale(),k[a])).tickArguments(t.tickArguments()),e.tickValues(t.tickValues()),e.tickFormat(t.tickFormat()),e.tickSize(t.tickSize()),e.tickSizeInner(t.tickSizeInner()),e.tickSizeOuter(t.tickSizeOuter()),e.tickPadding(t.tickPadding()),e}})(powerbi=powerbi||{}),(function(S){var v,C,e,l,i,s;function N(e,t,a,i){this.hostServices=t,this.isScrollable=a,this.featureSwitches=i,this._zoomData=__assign({},N.DefaultOptions),this.axesLabels={},this.zoomContext=d3.select(e.get(0)).append("div").attr("class","axisZoom").style("position","absolute"),this.zoomAxes={categoryAxis:void 0,valueAxis:void 0,valueSecAxis:void 0},this.zoomExtents={categoryExtent:void 0,valueExtent:void 0,valueSecExtent:void 0}}v=S.visuals||(S.visuals={}),C=v.controls.AxisZoomSlider,e=jsCommon.CssConstants.createClassAndSelector,l=S.data.DataRoleHelper,i=jsCommon.PixelConverter,s=e("zoom"),N.prototype.destroy=function(){this.zoomContext.selectAll(s.selector).remove()},N.prototype.update=function(e){var t=e.dataViews,a=e.hasScalarCategoryAxis;if(this.hasSmallMultiples=e.hasSmallMultiples,this.hasYAxisCategorical=e.hasYAxisCategorical,this.hasSmallMultiples||!this.isScrollable?this._zoomData=__assign({},N.DefaultOptions):this._zoomData=e.zoomData,a||(this._zoomData.showOnCategoryAxis=!1),this.hasValueAxis=!1,this.hasCategoryAxis=!1,this.hasY2Axis=!1,t){for(var i=0,o=t;i<o.length;i++){var r=o[i];this.hasCategoryAxis=this.hasCategoryAxis||(l.hasRoleInDataView(r,v.cartesianRoleNames.category)||l.hasRoleInDataView(r,v.cartesianRoleNames.x))&&a,this.hasValueAxis=this.hasValueAxis||l.hasRoleInDataView(r,v.cartesianRoleNames.y),this.hasY2Axis=this.hasY2Axis||l.hasRoleInDataView(r,v.cartesianRoleNames.y2)}var e=this._zoomData,t=e.showOnValueAxis,n=e.showOnValueSecAxis,e=e.showOnCategoryAxis;this._zoomData.showOnValueAxis=t&&this.hasValueAxis,this._zoomData.showOnValueSecAxis=n&&this.hasY2Axis,this._zoomData.showOnCategoryAxis=e&&this.hasCategoryAxis}},N.prototype.render=function(e){var t=this,a=e.cartesianAxesLayout,p=e.axesData,d=e.categoryAxisTitleSliceUid,m=e.valueAxisTitleSliceUid,y=e.y2AxisTitleSliceUid,g=__assign({},this.baseZoomAxesPosition),i=a.margin,o=0,h=(g.bottom&&(g.bottom.width-=i.left+i.right,l=!1,p&&p.isComboChart?p.show&&p.hasY2Role&&(l=!0):p&&p.show&&(l=!0),n=(p&&null!=p.defaultSeriesWidth?(n=100*p.defaultSeriesWidth/g.bottom.width,Math.min(Math.max(1,n),50)):p.seriesMaximumWidth)/100,l&&(o=n*g.bottom.width),g.bottom.width-=o,g.bottom.left+=p.seriesPosition===v.labelSeriesPosition.right?i.left:i.left+o,!this.hasYAxisCategorical)&&this.xOuterPadding&&(g.bottom.left+=this.xOuterPadding,g.bottom.width-=2*this.xOuterPadding),g.left&&(g.left.top+=i.top,g.left.height-=i.top+i.bottom),g.right&&(g.right.top+=i.top,g.right.height-=i.top+i.bottom),this.axesLabels),r=this.yFlipped,n=null==(l=this.zoomAxes.categoryAxis)?void 0:l.scale.domain(),i=null==(o=this.zoomAxes.valueAxis)?void 0:o.scale.domain(),o=null==(l=this.zoomAxes.valueSecAxis)?void 0:l.scale.domain(),l=a.shouldRenderAxis,b=!(l.x||l.y||l.y2)||n&&n[0]===n[1]||i&&i[0]===i[1]||o&&o[0]===o[1],f=this.featureSwitches&&this.featureSwitches.onObject&&e.formatMode;this.zoomContext.selectAll(s.selector).style("top",(function(e){return g[e].top?g[e].top+"px":null})).style("left",(function(e){return g[e].left?g[e].left+"px":null})).style("width",(function(e){return g[e].width+"px"})).style("height",(function(e){return g[e].height+"px"})).call((function(e){return C.createOrUpdateSliders({containers:e,axesData:p,zoomAxes:t.zoomAxes,zoomData:t.zoomData,zoomExtents:t.zoomExtents,hasYAxisCategorical:t.hasYAxisCategorical,yFlipped:t.yFlipped,maxLabelWidthLeft:t.maxZoomLabelWidthLeft,maxLabelWidthRight:t.maxZoomLabelWidthRight,resetEventHandlers:t.resetEventHandlers,hideSliders:b,visualHostServices:t.hostServices,invertedState:t.invertedState})})).each((function(s){var c,e=d3.select(this);switch(s){case"bottom":c="x";break;case"left":c=r?"y2":"y";break;case"right":c=r?"y":"y2"}var u=p[c].titleFontProperties,t=[],e=(p[c].showAxisTitle&&!b&&(t=[h[c]]),e.selectAll(".title").data(t,(function(e){return e})));e.enter().append("span").attr("class","title").merge(e).each((function(e){var t,a=d3.select(this),e=v.FontProperties.toTextProperties(u,e),i=g[s].height,o=g[s].width,r=u.size.px;switch(s){case"bottom":t=o,a.style("top",i-r+"px").style("left","50%").style("width","100%").style("transform","translateX(-50%)");break;case"left":a.style("width",(t=i)+"px").style("transform","translateX(-".concat(i/2,"px)rotate(-90deg)")).style("top",i/2-N.SliderHandleRadius+"px");break;case"right":a.style("width",(t=i)+"px").style("transform","translateX(-".concat(i/2-8,"px)rotate(-90deg)")).style("top",i/2-N.SliderHandleRadius+"px").style("left",o-r+"px")}e=S.TextMeasurementService.getTailoredTextOrDefault(e,t);if(a.styles(v.FontProperties.toHTMLStyle(u)).text(e),f){a.classed(v.HtmlSubSelectableClass,!0).attr(v.SubSelectableDisplayNameAttribute,"Visual_Axis_Title").attr(v.SubSelectableTypeAttribute,1);var n=void 0;switch(c){case"x":a.attr(v.SubSelectableObjectNameAttribute,"x-axis-title");var l=p.categoryAxis===p.x?d:m,n=v.OnObjectUtil.getHorizontalCenteredTitleDirectEdit(l,h.x);break;case"y":a.attr(v.SubSelectableObjectNameAttribute,"y1-axis-title");l=p.categoryAxis===p.y?d:m;n=v.OnObjectUtil.getVerticalTitleDirectEdit(l,h.y);break;case"y2":a.attr(v.SubSelectableObjectNameAttribute,"y2-axis-title"),n=v.OnObjectUtil.getVerticalTitleDirectEdit(y,h.y2)}n&&a.attr(v.SubSelectableDirectEdit,JSON.stringify(n))}})),e.exit().remove()})),this.invertedState={x:p.x.invertAxis,y:p.y.invertAxis,y2:p.y2.invertAxis}},N.prototype.renderContainers=function(e,t,a,i){var o,r,n,l,s=this,c=(void 0===a&&(a=0),this.resetEventHandlers=void 0!==this.yFlipped&&t.y.switchAxisPosition!==this.yFlipped||void 0!==this.isLogScaleX&&t.x.logAxisScale!==this.isLogScaleX||void 0!==this.isLogScaleY1&&t.y.logAxisScale!==this.isLogScaleY1||void 0!==this.isLogScaleY2&&t.y2.logAxisScale!==this.isLogScaleY2,this.yFlipped=t.y.switchAxisPosition,this.isLogScaleX=t.x.logAxisScale,this.isLogScaleY1=t.y.logAxisScale,this.isLogScaleY2=t.y2.logAxisScale,{top:0,left:0,right:0,bottom:0}),u=[],p=(this.zoomData.show&&(d=(o=this.zoomData).show,n=o.showOnCategoryAxis,r=o.showOnValueAxis,p=o.showOnValueSecAxis,o=o.showLabels,d)&&(d=n&&!this.hasYAxisCategorical||r&&this.hasYAxisCategorical,r=r&&!this.hasYAxisCategorical||n&&this.hasYAxisCategorical,n=p,d&&(c.bottom+=16,o&&(c.bottom+=t.x.labelFontProperties.size.px+N.StaticPadding),t.x.showAxisTitle&&(c.bottom+=t.x.titleFontProperties.size.px+N.StaticPadding),u.push("bottom")),(r&&!this.yFlipped||n&&this.yFlipped)&&(this.maxZoomLabelWidthLeft=this.getMaxYLabelWidth("left",this.yFlipped,t),l=o?16+this.maxZoomLabelWidthLeft+N.StaticPadding:16,c.left+=l+8,t.y.showAxisTitle&&!this.yFlipped?c.left+=t.y.titleFontProperties.size.px+N.StaticPadding:t.y2.showAxisTitle&&this.yFlipped&&(c.left+=t.y2.titleFontProperties.size.px+N.StaticPadding),u.push("left")),n&&!this.yFlipped||r&&this.yFlipped)&&(this.maxZoomLabelWidthRight=this.getMaxYLabelWidth("right",this.yFlipped,t),l=o?16+this.maxZoomLabelWidthRight+N.StaticPadding:16,c.right+=l+8,t.y2.showAxisTitle&&!this.yFlipped?c.right+=t.y2.titleFontProperties.size.px+N.StaticPadding:t.y.showAxisTitle&&this.yFlipped&&(c.right+=t.y.titleFontProperties.size.px+N.StaticPadding),u.push("right")),this.baseZoomAxesPosition=this.calculateZoomAxesPositions(u,e,c,a),this.zoomContext.selectAll(".zoom").data(u,(function(e){return e}))),d=(p.enter().append("div").attr("class",(function(e){return"zoom zoom-"+e})).attr("tabindex",0).attr("focus-nav-mode","Hierarchy").attr("role","group").attr("aria-label",this.hostServices.getLocalizedString("Slicer_Slider")).style("position","absolute"),p.exit());return this.resetEventHandlers||d.call((function(e){return C.destroySliders({containers:e,hasYAxisCategorical:s.hasYAxisCategorical,yFlipped:s.yFlipped,visualHostServices:s.hostServices})})),d.remove(),_.some(c,(function(e){return 0!==e}))?c:void 0},N.prototype.updateShowAxisTitles=function(e,t){var a=this.zoomData,i=a.show,o=a.showOnCategoryAxis,r=a.showOnValueAxis,a=a.showOnValueSecAxis;return i?(i=this.hasYAxisCategorical?r:o,o=this.hasYAxisCategorical?o:r,{x:e.x&&!i,y:e.y&&!o,y2:e.y2&&!a}):e},N.prototype.updateAxisTitles=function(e){this.zoomData.show&&(this.axesLabels=__assign(__assign({},this.axesLabels),e))},N.prototype.updateAxisOptions=function(e,t){var a;t.isScalar&&this.zoomData.show&&(t.isCategoryAxis?this.zoomData.showOnCategoryAxis&&(this.zoomAxes.categoryAxis=e,a=N.getAxisRange(e,this.zoomData.categoryMin,this.zoomData.categoryMax,this.zoomData.categorySize),this.zoomExtents.categoryExtent=a.domain,t.domainOptions=v.AxisHelper.createScalarDomainOptions(a.domain),t.preventNice=t.preventNice||a.force,t.includeZero=t.includeZero&&!a.force,this.hasYAxisCategorical||(this.xOuterPadding=e.outerPadding)):t.isSecValueAxis?this.zoomData.showOnValueSecAxis&&(this.zoomAxes.valueSecAxis=e,a=N.getAxisRange(e,this.zoomData.valueSecMin,this.zoomData.valueSecMax,this.zoomData.valueSecSize),this.zoomExtents.valueSecExtent=a.domain,t.domainOptions=v.AxisHelper.createScalarDomainOptions(a.domain),t.preventNice=t.preventNice||a.force,t.includeZero=t.includeZero&&!a.force):this.zoomData.showOnValueAxis&&(this.zoomAxes.valueAxis=e,a=N.getAxisRange(e,this.zoomData.valueMin,this.zoomData.valueMax,this.zoomData.valueSize),this.zoomExtents.valueExtent=a.domain,t.domainOptions=v.AxisHelper.createScalarDomainOptions(a.domain),t.preventNice=t.preventNice||a.force,t.includeZero=t.includeZero&&!a.force))},N.prototype.skipMergingValueAxisDomains=function(){return this.zoomData.show&&(this.zoomData.showOnValueAxis||this.zoomData.showOnValueSecAxis)},N.getAxisRange=function(e,t,a,i){var e=e.scale.domain(),o=[void 0,void 0],i=(null!=i?o=null!=a?[e[0],Math.min(e[0]+i,e[1])]:[Math.max(e[1]-i,e[0]),e[1]]:(o[0]=null!=t&&t>=e[0]&&t<e[1]?t:e[0],o[1]=null!=a&&a>e[0]&&a<=e[1]?a:e[1]),!(null==i&&null==a&&null==t||o[0]===e[0]&&o[1]===e[1]));return{domain:o,force:i}},Object.defineProperty(N.prototype,"zoomData",{get:function(){return this._zoomData},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"context",{get:function(){return this.zoomContext},enumerable:!1,configurable:!0}),N.converter=function(e){e=null==(e=null==e?void 0:e.metadata)?void 0:e.objects;return{show:S.DataViewObjects.getValue(e,v.zoomProps.show,N.DefaultOptions.show),showOnValueAxis:S.DataViewObjects.getValue(e,v.zoomProps.showOnValueAxis,N.DefaultOptions.showOnValueAxis),valueMin:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.valueMin,null)),valueMax:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.valueMax,null)),valueSize:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.valueSize,null)),showOnCategoryAxis:S.DataViewObjects.getValue(e,v.zoomProps.showOnCategoryAxis,N.DefaultOptions.showOnCategoryAxis),categoryMin:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.categoryMin,null)),categoryMax:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.categoryMax,null)),categorySize:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.categorySize,null)),showOnValueSecAxis:S.DataViewObjects.getValue(e,v.zoomProps.showOnValueSecAxis,N.DefaultOptions.showOnValueSecAxis),valueSecMin:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.valueSecMin,null)),valueSecMax:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.valueSecMax,null)),valueSecSize:this.clampValue(S.DataViewObjects.getValue(e,v.zoomProps.valueSecSize,null)),showLabels:S.DataViewObjects.getValue(e,v.zoomProps.showLabels,N.DefaultOptions.showLabels),showTooltip:S.DataViewObjects.getValue(e,v.zoomProps.showTooltip,N.DefaultOptions.showTooltip)}},N.clampValue=function(e){return isNaN(e)||"number"!=typeof e?null:e},N.prototype.enumerateObjectInstances=function(e){var t,a;this.showZoomCard()&&(a={selector:null,properties:{show:(t=this.zoomData).show},objectName:"zoom"},this.hasCategoryAxis&&(a.properties.showOnCategoryAxis=t.showOnCategoryAxis),this.hasValueAxis&&(a.properties.showOnValueAxis=t.showOnValueAxis),this.hasY2Axis&&(a.properties.showOnValueSecAxis=t.showOnValueSecAxis),a.properties.showLabels=t.showLabels,a.properties.showTooltip=t.showTooltip,e.pushInstance(a))},N.prototype.getZoomCard=function(e){var t,a=this;if(this.showZoomCard()&&e)return t=this.zoomData,(e=new v.builder.FormattingCardBuilder(new v.builder.FormattingCardUidBuilder("zoom"),"Visual_ZoomSlider",[v.zoomProps.show,v.zoomProps.showOnCategoryAxis,v.zoomProps.showOnValueAxis,v.zoomProps.showOnValueSecAxis,v.zoomProps.showLabels,v.zoomProps.showTooltip],function(e){return a.hostServices.getLocalizedString(e)})).addTopLevelToggle("show",(function(){return new v.builder.ToggleSwitchBuilder({descriptor:v.zoomProps.show,value:t.show}).build()})).addGroup(void 0,(function(e){a.hasCategoryAxis&&e.addSimpleSlice("categoryAxis",new v.builder.ToggleSwitchBuilder({descriptor:v.zoomProps.showOnCategoryAxis,value:t.showOnCategoryAxis}).build(),(function(e){return e.withCustomDisplayName(a.hasYAxisCategorical?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen")})),a.hasValueAxis&&e.addSimpleSlice("valueAxis",new v.builder.ToggleSwitchBuilder({descriptor:v.zoomProps.showOnValueAxis,value:t.showOnValueAxis}).build(),(function(e){return e.withCustomDisplayName(a.hasYAxisCategorical?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen")})),a.hasY2Axis&&e.addSimpleSlice("valueSecAxis",new v.builder.ToggleSwitchBuilder({descriptor:v.zoomProps.showOnValueSecAxis,value:t.showOnValueSecAxis}).build(),(function(e){return e.withCustomDisplayName("Visual_Y2Axis_Hyphen")})),e.addSimpleSlice("labels",new v.builder.ToggleSwitchBuilder({descriptor:v.zoomProps.showLabels,value:t.showLabels}).build()).addSimpleSlice("tooltips",new v.builder.ToggleSwitchBuilder({descriptor:v.zoomProps.showTooltip,value:t.showTooltip}).build())})),e.build()},N.prototype.showZoomCard=function(){return!this.hasSmallMultiples},N.prototype.calculateZoomAxesPositions=function(e,t,a,i){for(var o={},r=t.height-a.bottom-(i=void 0===i?0:i),n=t.width-a.right,l=r-a.top,s=n-a.left,c=N.SliderHandleRadius,u=0,p=e;u<p.length;u++){var d=p[u];switch(d){case"bottom":o.bottom={top:r,left:a.left-c,width:s+2*c,height:a.bottom};break;case"left":o.left={top:-c,left:null,width:a.left,height:l+2*c};break;case"right":o.right={top:-c,left:n,width:a.right,height:l+2*c}}}return o},N.prototype.getMaxYLabelWidth=function(e,t,a){return a?(t={text:"1234567",fontFamily:(e=a["y1"===(a=this.getAxisType(e,t))?"y":a].labelFontProperties).family,fontSize:i.toString(e.size.px),fontWeight:e.weight,fontStyle:e.style,fontVariant:e.variant,whiteSpace:e.whiteSpace},S.TextMeasurementService.measureSvgTextWidth(t)):50},N.prototype.getAxisType=function(e,t){var a;switch(e){case"bottom":a="x";break;case"left":a=t?"y2":"y1";break;case"right":a=t?"y1":"y2"}return a},N.DefaultOptions={show:!1,showOnValueAxis:!0,showOnValueSecAxis:!1,showOnCategoryAxis:!0,showLabels:!1,showTooltip:!1},N.StaticPadding=5,N.SliderHandleRadius=8,v.AxisZoom=N,v.zoomProps={show:{objectName:"zoom",propertyName:"show"},showOnValueAxis:{objectName:"zoom",propertyName:"showOnValueAxis"},valueMin:{objectName:"zoom",propertyName:"valueMin"},valueMax:{objectName:"zoom",propertyName:"valueMax"},valueSize:{objectName:"zoom",propertyName:"valueSize"},showOnCategoryAxis:{objectName:"zoom",propertyName:"showOnCategoryAxis"},categoryMin:{objectName:"zoom",propertyName:"categoryMin"},categoryMax:{objectName:"zoom",propertyName:"categoryMax"},categorySize:{objectName:"zoom",propertyName:"categorySize"},showOnValueSecAxis:{objectName:"zoom",propertyName:"showOnValueSecAxis"},valueSecMin:{objectName:"zoom",propertyName:"valueSecMin"},valueSecMax:{objectName:"zoom",propertyName:"valueSecMax"},valueSecSize:{objectName:"zoom",propertyName:"valueSecSize"},showLabels:{objectName:"zoom",propertyName:"showLabels"},showTooltip:{objectName:"zoom",propertyName:"showTooltip"}}})(powerbi=powerbi||{}),(function(S){var m=S.visuals.builder;S.colorEnumerationHelperModuleFactory=function(){var h=S.DataViewObjects,b=S.visuals,f=b.lineChartProps.dataPoint.showAllDataPoints;function r(e){var t,i=e.groupBuilder,o=e.colorProps,r=e.featureSwitches,n=e.options,l=n.categories,e=n.dataView.metadata&&n.dataView.metadata.objects,a=h.getValue(e,f,!!n.showAllDataPoints),s=h.getFillColor(e,b.columnChartProps.dataPoint.fill),c=(s||(s=h.getFillColor(e,b.columnChartProps.dataPoint.defaultColor)||n.style.colorPalette.dataColors.getColorByIndex(0).value),n.fillInstanceKind),u=(null==c&&(c=r.expressionBasedFormatting?3:1),{solid:{color:s}}),s={value:s};if(1&c&&(t=null),o.fill&&(c=__assign(__assign({},o.fill),{selector:{data:[S.data.DataViewWildcard.create(1)]},altConstantValueSelector:t,instanceKind:c}),n.noDefaultFillColor?n.hideShowAllToggle&&i.addSimpleSlice("defaultColor",new m.EmptyControlBuilder({descriptor:c,value:void 0}).build(),(function(e){return e.withCustomDisplayName("PropertyPane_ConditionalFormatting_DialogLauncherSliceTitle")})):i.addSimpleSlice("defaultColor",new m.ColorPickerBuilder({descriptor:c,value:s}).build(),(function(e){return e.withCustomDisplayName("Default")}))),o.showAllDataPoints&&!n.hideShowAllToggle&&i.addSimpleSlice("showAll",new m.ToggleSwitchBuilder({descriptor:__assign(__assign({},f),{selector:{data:[S.data.DataViewWildcard.create(1)]},altConstantValueSelector:t}),value:h.getValue(e,f,!!n.showAllDataPoints)}).build(),(function(e){return e.withDisabled(n.disableShowAllToggle)})),a)for(var p=0,d=l.length;p<d;p++)!(function(e){var t=l[e],e={value:t.color||u.solid.color},a=S.data.Selector.normalizeSelector(t.identity.getSelector());n.multipleRole&&(a=S.data.Selector.clone(a)).data.unshift(S.data.DataViewRoleWildcard.fromRoles([n.multipleRole])),i.addSimpleSlice(r.onObjectFormatPaneUid?"datapoint":t.displayName,new m.ColorPickerBuilder({descriptor:__assign(__assign({},o.fill),{selector:a,instanceKind:1}),value:e}).build(),(function(e){return e.withCustomDisplayName(t.displayName,!1).withDisabled(n.disableShowAllToggle)}))})(p)}function n(e,r){for(var n=e.groupBuilder,l=e.dataPoints,s=e.seriesColorProps,c=e.localize,u=e.featureSwitches,t=0,a=null==l?void 0:l.length;t<a;t++)!(function(e){var t=l[e],a={value:t.color},i=t.displayName||c("DataPointColorTitle"),o=S.data.Selector.normalizeSelector(t.identity.getSelector()),t=void 0;u.onObjectFormatPaneUid?(t="datapoint",r&&(t="".concat(t,"-").concat(e))):t=i,n.addSimpleSlice(t,new m.ColorPickerBuilder({descriptor:__assign(__assign({},s.fill),{selector:o,instanceKind:1}),value:a}).build(),(function(e){return e.withCustomDisplayName(i,!1).withDisabled(r&&!S.data.Selector.equals(r,o))}))})(t)}return{enumerateCategoryDataColors:function(e,t){if(e.dataView){var a,i,o,r=e.enumeration,n=e.categories,l=e.supportDataPointTransparency,s=e.dataView.metadata&&e.dataView.metadata.objects,c=!!e.noDefaultFillColor,u=h.getValue(s,f,!!e.showAllDataPoints),p=e.dataPointTransparency,d=h.getFillColor(s,b.columnChartProps.dataPoint.fill),s=(d||(d=h.getFillColor(s,b.columnChartProps.dataPoint.defaultColor)||e.style.colorPalette.dataColors.getColorByIndex(0).value),e.fillInstanceKind),m=(null==s&&(s=t.expressionBasedFormatting?3:1),{solid:{color:d}}),t={objectName:"dataPoint",selector:{data:[S.data.DataViewWildcard.create(1)]},properties:{}},d=(c||(_.assign(t.properties,{fill:m}),t.propertyInstanceKind={fill:s}),1&s&&(t.altConstantValueSelector=null),l&&_.assign(t.properties,{transparency:p}),{showAllDataPoints:u});if(_.assign(t.properties,d),r.pushInstance(t),u)for(var y=0,g=n.length;y<g;y++)o=i=void 0,a=n[a=y],i=a.color||m.solid.color,o=S.data.Selector.normalizeSelector(a.identity.getSelector()),e.multipleRole&&(o=S.data.Selector.clone(o)).data.unshift(S.data.DataViewRoleWildcard.fromRoles([e.multipleRole])),r.pushInstance({objectName:"dataPoint",displayName:a.displayName,selector:o,properties:{fill:{solid:{color:i}}},propertyInstanceKind:{fill:1}})}},enumerateSeriesDataColors:function(e,t){for(var a=e.enumeration,i=e.dataPoints,o=0,r=i.length;o<r;o++){var n=i[o];a.pushInstance({objectName:"dataPoint",displayName:n.displayName,selector:S.data.Selector.normalizeSelector(n.identity.getSelector()),properties:{fill:{solid:{color:n.color}}},propertyInstanceKind:{fill:1}})}},getSeriesDataColorsFormattingModel:function(t,a,i){function o(e){return a.getLocalizedString(e)}var r={fill:{objectName:"dataPoint",propertyName:"fill"}},e=new m.FormattingCardBuilder(new m.FormattingCardUidBuilder("colors"),"Visual_Colors",r,o);return e.addGroup(void 0,(function(e){n({groupBuilder:e,dataPoints:t,seriesColorProps:r,localize:o,featureSwitches:i})})),e.build()},getCategoryDataColorsFormattingModel:function(t,a,i){var o,e;if(t.dataView)return o={fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},(e=new m.FormattingCardBuilder(new m.FormattingCardUidBuilder("colors"),"Visual_Colors",o,function(e){return i.getLocalizedString(e)})).addGroup("colors",(function(e){r({colorProps:o,featureSwitches:a,groupBuilder:e,hostService:i,options:t})})),e.build()},appendCategoryColorSlicesToGroup:r,appendSeriesColorSlicesToGroup:n,getSeriesColorSliceUid:function(e){var t,a=e.dataPoint,i=e.featureSwitches,o=e.groupUid,r=e.localize,e=e.seriesIndex;return i.onObjectFormatPaneUid?(t="datapoint",e&&(t="".concat(t,"-").concat(e))):t=a.displayName||r("DataPointColorTitle"),"".concat(o,"-").concat(t)}}}})(powerbi=powerbi||{}),(function(T){var A,e,O;function V(e,t,a,i){return e||(t&&!a?A.ColorHelper.getThemeColor(i,A.DataLabelViewModel.DefaultInsideLabelColorName):A.ColorHelper.getThemeColor(i,A.DataLabelViewModel.DefaultLabelColorName))}function x(e){var t=_.map(e,(function(e){switch(e){case 4:return 128;case 2:return 64;case 1:return 32;default:return}})).filter((function(e){return void 0!==e}));return e.concat(t)}A=T.visuals||(T.visuals={}),e=jsCommon.CssConstants.createClassAndSelector,(O=A.ColumnUtil||(A.ColumnUtil={})).DimmedOpacity=.4,O.DefaultOpacity=1,O.UncertaintyGroup=e("uncertainty"),O.UncertaintyBars=e("uncertainty-bars"),O.UncertaintyBar=e("uncertainty-bar"),O.UncertaintyMarkers=e("uncertainty-markers"),O.UncertaintyMarker=e("uncertainty-marker"),O.UncertaintyMarkerActive=e("uncertainty-marker-active"),O.SeriesClasses=e("series"),O.validLabelPositionsAutoClustered=[16,4,1,2],O.validLabelPositionsAutoStacked=[1,4,2],O.validTotalLabelPositions=[16],O.getCategoryAxis=function(a,e,i,t,o,r,n,l,s,c,u,p,d,m){return(e=A.AxisHelper.createAxis({pixelSpan:e,domainOptions:A.AxisHelper.createDomain(a.series,null!=(e=null==(e=a.categoryMetadata)?void 0:e.type)?e:T.ValueType.fromDescriptor({text:!0}),i.isScalar,r),axisZoom:o,metaDataColumn:a.categoryMetadata,formatString:A.valueFormatter.getFormatString(a.categoryMetadata,A.columnChartProps.general.formatString),outerPadding:i.categoryThickness*i.outerPaddingRatio,outerPaddingRatio:i.outerPaddingRatio,isCategoryAxis:!0,isScalar:i.isScalar,isVertical:t,categoryThickness:i.categoryThickness,useTickIntervalForDisplayUnits:!0,getValueFn:function(e,t){return A.CartesianHelper.lookupXValue(a,e,t,i.isScalar)},logAxisScale:n,axisDisplayUnits:l,axisPrecision:s,margin:c,allowSingleScalarTick:i.isScalar,preventNice:u,innerPaddingRatio:p,invertAxis:!!i.isScalar&&d,orientation:m})).categoryIdentities=a.categoryIdentities,i.categoryThickness=e.categoryThickness,e},O.applyInteractivity=function(e,t){t&&e.attr("draggable","true").on("dragstart",t)},O.getFillOpacity=function(e,t,a,i,o){return void 0===o&&(o=O.DefaultOpacity),a&&i&&t?e?o:0:i&&!t||a&&!e?O.DimmedOpacity*o:o},O.getClosestColumnIndex=function(e,t){for(var a=0,i=Number.MAX_VALUE,o=0,r=t.length;o<r;o++){var n=Math.abs(e-t[o]);n<i&&(i=n,a=o)}return a},O.setSelectedColumnOpacity=function(e,t,a,i,o){var r=!o,t=((e=e.selectAll(O.SeriesClasses.selector).selectAll("rect"+t)).filter((function(e){return e.categoryIndex===a})).interrupt().style("fill-opacity",O.DefaultOpacity),e.filter((function(e){var t;return void 0===i||o?e.categoryIndex!==a:(t=e.categoryIndex===i,e=e.categoryIndex!==a,t&&e)})));(r?t.transition():t).style("fill-opacity",O.DimmedOpacity)},O.drawSeries=function(e,t,a){return e.strokeSettings&&e.strokeSettings.visible&&t.style("stroke",e.strokeSettings.color).style("stroke-width",e.strokeSettings.width),t=t.selectAll(O.SeriesClasses.selector).data(e.series,(function(e){return e.key})),(e=t.enter().append("g").classed(O.SeriesClasses.class,!0).merge(t)).styles({fill:function(e){return e.color}}),t.exit().remove(),e},O.drawDefaultShapes=function(a,e,t,i,o,r,n,l,s){var c,o=o?function(e){return _.filter(e.data,(function(e){return!!e.value}))}:function(e){return e.data},e=e.selectAll(i.selector).data(o,(function(e){return e.key})),o=jsCommon.BrowserUtils.isInternetExplorerOrEdge(),u=r&&r.hasSelection(),p=e.enter().append("rect").attr("class",(function(e){return i.class.concat(e.highlight?" highlight":"")})).merge(e);return s&&s.formatMode&&(c=s.elementRestrictOptions,p.classed(A.HtmlSubSelectableClass,!0).attr(A.SubSelectableObjectNameAttribute,"columns").attr(A.SubSelectableTypeAttribute,3),p.each((function(){var t=this;A.HtmlSubSelectionHelper.setDataForElement(t,{outlineRestrictionOptions:c,getDisplayName:function(){var e=d3.select(t).datum();return n.getLocalizedString(l?"MiniToolbar_Bars":"MiniToolbar_Columns",a.series[e.seriesIndex].displayName)}})}))),r&&p.attrs({tabindex:0,focusable:!0,role:"option","aria-selected":function(e){return e.selected},"aria-label":function(e){return null!=e.value?e.value:"null"},"data-automation-type":"column-chart-rect"}).classed(A.SetFocusRingClassName,!o),p.style("fill-opacity",(function(e){return O.getFillOpacity(e.selected,e.highlight,u,a.hasHighlights)})).style("fill",(function(e){return e.color!==a.series[e.seriesIndex].color?e.color:null})).attr("aria-hidden",(function(e){return!!e.highlight||null})).attrs(t.shapeLayout),e.exit().remove(),p},O.drawUncertainty=function(e,t,a,i,o,r,n){var l,s,c=e.series,u=e.hasHighlights;if(void 0!==i&&(l=_.filter(c,(function(e){return e.uncertainty.renderUncertainty})),x=!_.isEmpty(l)),x){var p,d,m,y,g,h,b=n&&n.hasSelection(),f=function(e){return O.getFillOpacity(e.selected,e.highlight,b,u)},S=r/2,e=i.scale.range(),v=i.scale,c=(g=t?(p=function(e){return o.shapeLayout.y(e)+S-(e.drawThinner?S/2:0)},d=function(e){return"translate(".concat(v(e.value),", ").concat(p(e),")")},m=d3.line().x(o.uncertaintyLayout.lower).y(p).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.lower&&(!u||e.highlight)})),y=d3.line().x(o.uncertaintyLayout.upper).y(p).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.upper&&(!u||e.highlight)})),e[1]<e[0]):(h=function(e){return o.shapeLayout.x(e)+S-(e.drawThinner?S/2:0)},d=function(e){return"translate(".concat(h(e),", ").concat(v(e.value),")")},m=d3.line().x(h).y(o.uncertaintyLayout.lower).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.lower&&(!u||e.highlight)})),y=d3.line().x(h).y(o.uncertaintyLayout.upper).defined((function(e){return e&&e.uncertainty&&null!=e.uncertainty.upper&&(!u||e.highlight)})),e[1]>e[0]),a.selectAll(O.UncertaintyGroup.selector).data([1]).join("g").attr("class",O.UncertaintyGroup.class)),C=Math.min(10,r-2),N=c.selectAll(O.UncertaintyBars.selector).data(_.filter(l,(function(e){return e.uncertainty.bar.show})),(function(e){return e.identity.getKey()})).join("g").attr("class",O.UncertaintyBars.class).style("fill",(function(e){return e.uncertainty.bar.color})).style("stroke",(function(e){return e.uncertainty.bar.borderColor})).style("stroke-width",(function(e){return e.uncertainty.bar.borderWidth})).order().each((function(e){var t;null==e||_.isEmpty(e.data)||(t=e.uncertainty.bar,e=_.filter(e.data,(function(e){return!!e&&(!u||e.highlight)&&e.uncertainty&&(e.uncertainty.lower||e.uncertainty.upper)})),d3.select(this).selectAll(O.UncertaintyBar.selector).data(e,(function(e){return e.identity.getKey()})).join("path").attr("class",O.UncertaintyBar.class).attr("transform",d).style("fill-opacity",(function(e){return b?f(e):null})).style("stroke-opacity",(function(e){return b?f(e):null})).attr("d",(function(e){return d3.symbol().type(A.UncertaintyHelper.errorBarSymbol(e,t,v)).size(C)()})))})),x=_.filter(l,(function(e){return e.uncertainty.markers.showMarker}));if(_.isEmpty(x))c.selectAll(O.UncertaintyMarkers.selector).remove();else{for(var w=new A.MarkerRenderer,P=a.selectAll("defs").data([1]).join("defs"),T=[],V=0,D=x;V<D.length;V++){var L=D[V];T.push(L.uncertainty.markers),L.uncertainty.markersFlipped&&T.push(L.uncertainty.markersFlipped)}w.ensureMarkers(P,T);var M=c.selectAll(O.UncertaintyMarkers.selector).data(x,(function(e){return e.identity.getKey()})).join("g").attr("class",O.UncertaintyMarkers.class).style("stroke-opacity",0).style("stroke-width",2).order(),R=M.selectAll(O.UncertaintyMarker.selector).data((function(t){return _.map(["upper","lower"],(function(e){return{seriesData:t,type:e}}))})).join("path").attr("class",O.UncertaintyMarker.class).style("stroke-width","inherit").style("opacity",b?O.getFillOpacity(!1,!0,b,u):null).attr("d",(function(e){return("upper"===e.type&&!g||"lower"===e.type&&g?y:m)(e.seriesData.data)}));w.renderUncertaintyMarkers(R),(s=function(e,a){e?(e=M.selectAll(O.UncertaintyMarkerActive.selector).data((function(t){return _.map(["upper","lower"],(function(e){return{seriesData:{uncertainty:t.uncertainty,data:_.filter(t.data,(function(e){return e.selected&&e.uncertainty&&(e.highlight||!a)}))},type:e}}))})).join("path").attr("class",O.UncertaintyMarkerActive.class).style("stroke-width","inherit").attr("d",(function(e){return("upper"===e.type&&!g||"lower"===e.type&&g?y:m)(e.seriesData.data)})),w.renderUncertaintyMarkers(e)):M.selectAll(O.UncertaintyMarkerActive.selector).remove()})(b,u)}}else a.selectAll(O.UncertaintyGroup.selector).remove();return{bars:N,markerPaths:R,markerDefs:P,updateActiveHighlightMarkers:s}},O.orderColumnChartShapes=function(e){var t=[O.SeriesClasses,O.UncertaintyGroup];A.D3Helper.orderShapesByClass(e,t)},O.drawDefaultLabels=function(e,t,a,i,o,r){if(void 0===o&&(o=!1),e){for(var n=e.data(),l=[],s=0,c=n.length;s<c;s++)Array.prototype.push.apply(l,n[s].data);return A.DataLabelViewModel.drawDefaultLabelsForDataPointChart(l,t,a,i,o,r)}A.DataLabelViewModel.cleanDataLabels(t)},O.normalizeInfinityInScale=function(e){for(var t=e.domain(),a=0,i=t.length;a<i;++a)t[a]===Number.POSITIVE_INFINITY?t[a]=Number.MAX_VALUE:t[a]===Number.NEGATIVE_INFINITY&&(t[a]=-Number.MAX_VALUE);e.domain(t)},O.calculatePosition=function(e,t){var a=t.xScale,i=t.yScale,o=i(0),r=a(0);switch(e.chartType){case 18:case 50:return r+Math.abs(A.AxisHelper.diffScaled(a,0,e.valueAbsolute))+A.AxisHelper.diffScaled(a,e.position-e.valueAbsolute,0)+A.DataLabelViewModel.defaultColumnLabelMargin;case 10:return r+A.AxisHelper.diffScaled(a,Math.max(0,e.value),0)+A.DataLabelViewModel.defaultColumnLabelMargin;case 20:case 52:case 68:return o+A.AxisHelper.diffScaled(i,e.position,0)-A.DataLabelViewModel.defaultColumnLabelMargin;case 12:return o+A.AxisHelper.diffScaled(i,Math.max(0,e.value),0)-A.DataLabelViewModel.defaultColumnLabelMargin}},O.createLabelDataPoints=function(p,e,d,m,y,g,h,b){for(var f=[],S=p.series,v=A.DataLabelViewModel.createColumnFormatterCacheManager(),C=e.shapeLayout,N=p.scalarCategoryAxis,t=function(e,t){var s=S[e],c=s.labelSettings||p.dataLabelsSettings;if(!c.show)return f[e]={labelDataPoints:[],maxNumberOfLabels:0},"continue";for(var a=void 0,u=(a=!(100===c.labelDensity)&&N?A.DataLabelRenderer.getNumberOfLabelsToRender(d.viewportWidth,c.labelDensity,4,A.MinMaxLabelDataPointSorter.estimatedLabelWidth):s.data.length,A.DataLabelRenderer.getLabelUnitAndPrecisionForAxis(m,c)),i=[],o=function(e,t){var a=e.dynamicLabelValue,i=(a=null!=a&&a.enabled&&null!=a&&a.value?("number"==typeof(i=null==(i=e.dynamicLabelValue)?void 0:i.value)&&(a=v.getOrCreate(null==a?void 0:a.formatString,c,u.units,u.getPrecision(!(null==a||!a.formatString),s.type)),i=A.DataLabelRenderer.getLabelFormattedText(a.format(i))),jsCommon.StringExtensions.encodeHtml(i)):(a=void 0,a=d.is100Pct?A.DataLabelViewModel.hundredPercentFormat:e.labelFormatString,i=v.getOrCreate(a,c,u.units,u.getPrecision(!!a,s.type)),A.DataLabelRenderer.getLabelFormattedText(i.format(e.value))),c.fontProperties),o=A.FontProperties.toTextProperties(i,a),r=T.TextMeasurementService.measureSvgTextWidth(o),o=T.TextMeasurementService.estimateSvgTextHeight(o,!0),n={left:C.x(e),top:C.y(e),width:C.width(e),height:C.height(e)},l=(g?function(e){switch(e){case A.labelPosition.insideEnd:return[4];case A.labelPosition.insideCenter:return[1];case A.labelPosition.insideBase:return[2];case A.labelPosition.outsideEnd:return[16];default:return O.validLabelPositionsAutoClustered}}:function(e){switch(e){case A.labelPosition.insideEnd:return[4];case A.labelPosition.insideBase:return[2];case A.labelPosition.insideCenter:return[1];default:return O.validLabelPositionsAutoStacked}})(c.position),t=(c.labelOverflow&&(l=x(l)),y?0<=e.value?t?4:3:t?3:4:0<=e.value?t?2:1:t?1:2);return{isPreferred:!1,text:a,textSize:{width:r,height:o},outsideFill:V(e.labelFill,!1,d.isComboChart,h),insideFill:V(e.labelFill,!0,d.isComboChart,h),parentType:1,parentShape:{rect:n,orientation:t,validPositions:l},identity:e.identity,fontProperties:i,hasBackground:c.enableBackground,backgroundColor:c.backgroundColor,backgroundTransparency:c.backgroundTransparency}},r=0,n=s.data;r<n.length;r++){var l=n[r];null==l||null==l.value||p.hasHighlights&&!l.highlight||(l=o(l,b),i.push(l))}f[e]={labelDataPoints:i,maxNumberOfLabels:a}},a=0,i=S.length;a<i;a++)t(a);return p&&p.scalarCategoryAxis?new A.MinMaxLabelDataPointSorter({unsortedLabelDataPointGroups:f,series:S,viewport:{width:d.viewportWidth,height:d.viewportHeight},yScale:m.scale}).getSortedDataLabels():f},O.createTotalLabelDataPoints=function(e,t,a,i,o,r,n,l){for(var s,c,u,p,d,m,y=[],g=A.DataLabelViewModel.createColumnFormatterCacheManager(),h=t.shapeLayout,b=e.totalLabelsSettings,f=A.DataLabelRenderer.getLabelUnitAndPrecisionForAxis(i,b),S=[],v=0;v<e.totals.length;v++){var C=e.totals[v];if(C){var N=[];e.totalLabelsSettings.showPositiveAndNegative?(N.push(C.positive),N.push(C.negative)):N.push(C.net);for(var x=0,w=N;x<w.length;x++){var _,P=w[x];0!==P&&(P=P,s=v,_=l,p=d=p=u=c=void 0,m=void 0,s=e.totals[s],c=g.getOrCreate(s.dynamicFormatString||n,b,f.units,b.precision),c=A.DataLabelRenderer.getLabelFormattedText(c.format(P)),u=b.fontProperties,p=A.FontProperties.toTextProperties(u,c),d=T.TextMeasurementService.measureSvgTextWidth(p),p=T.TextMeasurementService.estimateSvgTextHeight(p,!0),m={value:m=P,position:m=b.showPositiveAndNegative?m:0<P?s.positive:s.negative,valueAbsolute:0,valueOriginal:P,categoryIndex:s.categoryIndex,categoryValue:s.categoryValue,labelSettings:void 0,color:void 0,originalValue:void 0,originalPosition:void 0,originalValueAbsolute:void 0,key:void 0,chartType:void 0,seriesIndex:void 0,selected:void 0,identity:void 0},m={left:h.x(m),top:h.y(m),width:h.width(m),height:o?h.height(m):0},P=o?0<=P?_?4:3:_?3:4:0<=P?_?2:1:_?1:2,_={isPreferred:!1,text:c,textSize:{width:d,height:p},outsideFill:V(null==s?void 0:s.labelFill,!1,a.isComboChart,r),insideFill:V(null==s?void 0:s.labelFill,!0,a.isComboChart,r),parentType:1,parentShape:{rect:m,orientation:P,validPositions:O.validTotalLabelPositions},identity:void 0,fontProperties:u,hasBackground:b.enableBackground,backgroundColor:b.backgroundColor,backgroundTransparency:b.backgroundTransparency,isTotal:!0},S.push(_))}}}return y.push({labelDataPoints:S,maxNumberOfLabels:2*e.totals.length,isTotal:!0}),y},O.createUncertaintyLabels=function(l,e,t,s,h,b,f){for(var c=[],u=l.series,S=A.DataLabelViewModel.createColumnFormatterCacheManager(),v=e.shapeLayout,C=e.uncertaintyLayout,N=t/2,x=N/2,a=function(e,t){var d=u[e],a=d.uncertainty;if(!a||!a.renderUncertainty||!a.labels.show)return c[e]={labelDataPoints:[],maxNumberOfLabels:0},"continue";for(var m=a.labels,y=m.fontProperties,g=A.DataLabelRenderer.getLabelUnitAndPrecisionForAxis(s,m),i=[],o=0,r=d.data;o<r.length;o++){var n=r[o];null==n||null==n.value||l.hasHighlights&&!n.highlight||null==n.uncertainty||(n=(function(e){for(var t=[],a=A.UncertaintyHelper.formatUncertaintyByErrorFormat(e.value,e.uncertainty,m.errorFormat),i=[a.lower,a.upper],o=0;o<2;o++){var r,n,l,s,c,u=i[o],p=1===o;null!=(p?e.uncertainty.upper:e.uncertainty.lower)&&(r=void 0,r=m.errorFormat===A.errorFormat.relativePercentage?A.UncertaintyHelper.formatUncertaintyRelativePercentage(u,f):(n=e.labelFormatString,n=S.getOrCreate(n,m,g.units,g.getPrecision(!!n,d.type)),A.DataLabelRenderer.getLabelFormattedText(n.format(u))),n=A.FontProperties.toTextProperties(y,r),u=T.TextMeasurementService.measureSvgTextWidth(n)+A.DataLabelViewModel.LabelDensityPadding,l=T.TextMeasurementService.estimateSvgTextHeight(n,!0),c=s=void 0,c=h?(s={x:p?C.upper(e):C.lower(e),y:v.y(e)+(e.drawThinner?x:N)},[p?8:4]):(s={x:v.x(e)+(e.drawThinner?x:N),y:p?C.upper(e):C.lower(e)},[p?1:2]),p={isPreferred:!1,text:r,textSize:{width:u,height:l},outsideFill:y.color||A.ColorHelper.getThemeColor(b,A.DataLabelViewModel.DefaultLabelColorName),insideFill:y.color||A.ColorHelper.getThemeColor(b,A.DataLabelViewModel.DefaultInsideLabelColorName),parentType:0,parentShape:{point:s,radius:0,validPositions:c},identity:void 0,fontProperties:y,hasBackground:m.enableBackground,backgroundColor:m.backgroundColor,backgroundTransparency:m.backgroundTransparency},t.push(p))}return t})(n),_.isEmpty(n))||i.push.apply(i,n)}c[e]={labelDataPoints:i,maxNumberOfLabels:100}},i=0,o=u.length;i<o;i++)a(i);return c},O.concatOverflowPositions=x,(e=A.StackedUtil||(A.StackedUtil={})).getSize=function(e,t,a){return A.AxisHelper.diffScaled(e,a=void 0===a?0:a,t)},e.calcValueDomain=function(e,t){var a;return 0===e.length?{min:0,max:10}:(a=d3.min(e,(function(e){return d3.min(e.data,(function(e){return e.position-e.valueAbsolute}))})),e=d3.max(e,(function(e){return d3.max(e.data,(function(e){return e.position}))})),t&&(a=T.Double.roundToPrecision(a,1e-4),e=T.Double.roundToPrecision(e,1e-4)),{min:a,max:e})},e.getStackedMultiplier=function(e,t){for(var a=0,i=0,o=0,r=e.length;o<r;o++){var n=e[o][t];0<(n=A.AxisHelper.normalizeNonFiniteNumber(n))?a+=n:n<0&&(i-=n)}var l=a+i;return{pos:a?a/l/a:1,neg:i?i/l/i:1}}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).StackedUtil||(e.StackedUtil={})).clearColumns=function(e,t){e.selectAll(t.selector).data([]).exit().remove()}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ClusteredUtil||(e.ClusteredUtil={})).clearColumns=function(e,t){e.selectAll(t.selector).data([]).exit().remove()}})(powerbi=powerbi||{}),(function(e){var r;function t(){this.cache={}}r=e.visuals||(e.visuals={}),t.prototype.getOrCreate=function(e,t,a,i){null==i&&(i=t.precision);var i={formatString:e,displayUnits:t.displayUnits,precision:e?r.DataLabelViewModel.getLabelPrecision(i,e):i,value2:a},o=JSON.stringify(i);return this.cache[o]||(this.cache[o]=r.valueFormatter.create(r.DataLabelViewModel.getOptionsForLabelFormatter(t,e,a,i.precision))),this.cache[o]},r.ColumnFormatterCacheManager=t})(powerbi=powerbi||{}),(function(m){var y,o,e,g;function l(e,t){for(var a=[],i=0,o=e;i<o.length;i++)for(var r=o[i],n=r.values,l=y.valueFormatter.getFormatString(r.source,t),s=y.valueFormatter.create({format:l,value:n[0],value2:n[n.length-1],displayUnitSystemType:m.DisplayUnitSystemType.Verbose,columnType:r.source.type}),c=0,u=r.values.length;c<u;c++){var p=r.values[c],p=s.format(p),d=a[c];d||a.splice(c,0,d=[]),d.push(p)}return _.map(a,(function(e){return e.join(" ")}))}function s(e,t){var a=o.getCategoryLevels(e),a=o.concatenateCategoryLevels(a),i={},t=(i[t]=!0,{displayName:a.displayName,roles:i,type:m.ValueType.fromPrimitiveTypeAndCategory(1)}),a=_.last(e).source;return void 0!==a.isMeasure&&(t.isMeasure=a.isMeasure),t.queryName=a.queryName,t}y=m.visuals||(m.visuals={}),g=m.data.HierarchyVisitor,(e=y.DataViewConcatenateUtil||(y.DataViewConcatenateUtil={})).concatenateCategories=function(e,t,a){var i,o,r,n;return e&&e.categorical&&!_.isEmpty(e.categorical.categories)?(t=l(i=e.categorical.categories,t),a=s(i,a),o=m.Prototype.inheritSingle(e),(r=m.Prototype.inheritSingle(o.metadata.columns)).push(a),(n=m.Prototype.inheritSingle(o.metadata)).columns=r,o.metadata=n,r=e.categorical,n=m.data.DataViewCategoricalUtils.getCategoriesDataViewObjects(r.categories),a={source:a,values:t},(t=e.categorical.categories[0]).identity&&(a.identity=t.identity),t.identityFields&&(a.identityFields=t.identityFields),n&&(a.objects=n),t=[a],(n=m.Prototype.inheritSingle(r)).categories=t,n.originalCategories=i,o.categorical=n,o):e},e.buildConcatenatedValues=l,e.buildConcatenatedMetadataColumn=s,e.concatenateValues=function(e){return e.join(" ")},(e=o=y.CategoryLevelUtils||(y.CategoryLevelUtils={})).concatenateCategoryLevels=function(e){return{displayName:_.map(e,(function(e){return e.displayName})).join(" "),value:_.map(e,(function(e){return e.value})).join(" ")}},e.getCategoryLevels=function(e,t,a){for(var i=null!=t,o=null,r=null,n=null,l=[],s=0,c=e;s<c.length;s++){var u,p=c[s],d=p.source;d&&(null!=(u=d.expr?g.getProperty(d.expr):null)?(u===o?r=d.displayName:(null!==o&&l.push({displayName:o+" "+r,value:n?n.join(" "):null}),o=u,r=d.displayName,n=i?[]:null),i&&n.push(y.converterHelper.formatFromMetadataColumn(p.values[t],d,a,!1))):(null!=o&&(l.push({displayName:o+" "+r,value:n?n.join(" "):null}),n=r=o=null),l.push({displayName:d.displayName,value:i?y.converterHelper.formatFromMetadataColumn(p.values[t],d,a,!1):null})))}return null!=o&&l.push({displayName:"".concat(o," ").concat(r),value:i&&n?n.join(" "):null}),l}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ConditionalEvaluator||(e.ConditionalEvaluator={})).processCases=function(e,t){return _.find(e.cases,(function(e){return e.pattern===t}))||e.defaultCase}})(powerbi=powerbi||{}),(function(o){var n,e,i;function t(e){e=a(e);return null!=e&&!0===e.imageUrl}function a(e){return e&&e.type&&e.type.misc}n=o.visuals||(o.visuals={}),i=o.data.DataRoleHelper,(e=n.converterHelper||(n.converterHelper={})).categoryIsAlsoSeriesRole=function(e,t,a){return!!(e.categories&&0<e.categories.length)&&(e=e.categories[0]).source&&i.hasRole(e.source,t)&&i.hasRole(e.source,a)},e.getPivotedCategories=function(e,t,a){var i;return void 0===a&&(a=function(e){return _.last(e.categories).values}),e.categories&&0<e.categories.length?(i=_.last(e.categories),a=a(e),0<i.values.length?{categories:a,categoryFormatter:n.valueFormatter.create({format:n.valueFormatter.getFormatString(i.source,t),value:a[0],value2:a[a.length-1],displayUnitSystemType:o.DisplayUnitSystemType.Verbose,columnType:i.source.type}),categoryIdentities:i.identity,categoryObjects:i.objects}:{categories:[],categoryFormatter:{format:n.valueFormatter.format}}):{categories:[null],categoryFormatter:{format:n.valueFormatter.format}}},e.getSeriesName=function(e){return void 0!==e.groupName?e.groupName:e.queryName},e.getFormattedLegendLabel=function(e,t,a){var i=e,o=e.displayName;return void 0!==e.groupName&&(i=t.source,o=e.groupName),n.valueFormatter.format(o,n.valueFormatter.getFormatString(i,a))},e.createAxisLabel=function(e){var t;return e instanceof Array?(t=[],t=e.map((function(e){return e?e.displayName:""})).filter((function(e,t,a){return""!==e&&a.indexOf(e)===t})),t=n.valueFormatter.formatListAnd(t)):e&&(t=e.displayName),t},e.createAxesLabels=function(e,t,a,i){var o=null,r=null;return e&&a&&a.displayName&&(o=a.displayName),t&&(e=[],i)&&(e=i.map((function(e){return e?e.displayName:""})).filter((function(e,t,a){return""!==e&&a.indexOf(e)===t})),r=n.valueFormatter.formatListAnd(e)),{xAxisLabel:o,yAxisLabel:r}},e.isImageUrlColumn=t,e.isWebUrlColumn=function(e){return null!=(e=a(e))&&!0===e.webUrl},e.hasImageUrlColumn=function(e){return!(!e||!e.metadata||_.isEmpty(e.metadata.columns))&&_.some(e.metadata.columns,(function(e){return!0===t(e)}))},e.formatFromMetadataColumn=function(e,t,a,i,o){return void 0===i&&(i=!0),o||(!i&&t&&t.format&&(i=!0),o=n.valueFormatter.getFormatString(t,a,i)),!o&&t&&(o=t.format),n.valueFormatter.format(e,o)}})(powerbi=powerbi||{}),(function(i){var a,e;a=i.visuals||(i.visuals={}),(e=a.DataLabelUtil||(a.DataLabelUtil={})).determineDataLabelFillColor=function(e){return e.categoricalDataReader,e.categoricalDataReader.labels.labelFillColorReader.getDataLabelFillColor(e)},e.determineCategoryLabelFillColor=function(e){return e.categoricalDataReader,e.categoricalDataReader.labels.labelFillColorReader.getCategoryLabelFillColor(e)},e.determineTotalLabelFillColor=function(e){return e.categoricalDataReader,e.categoricalDataReader.labels.labelFillColorReader.getTotalLabelFillColor(e)},e.getLabelSelectorsByColumn=function(e){return null!=(e=null==(e=null==(e=d3.select(e).datum())?void 0:e.identity)?void 0:e.getSelectorsByColumn())?e:{}},e.isAssignedColor=function(e){return"Default"!==e.colorSource},e.getLabelSeriesSelectorsByColumn=function(e,t){var a;if(t)for(var i=d3.select(e).datum().identity,o=0,r=t;o<r.length;o++){var n=r[o];if(null!=(a=null==n?void 0:n.identity)&&a.includes(i))return n.identity.getSelectorsByColumn()}},e.updateFontPropertiesColor=function(e,t){return t=t.color!==e?a.FontProperties.inherit(t,{color:e}):t},e.getDataLabelColorSelector=function(e,t,a){return a=__assign(__assign(__assign({},t),a),{data:[i.data.DataViewWildcard.create(1)]}),e?a:t},e.extractDynamicLabel=function(e){return e.categoricalDataReader,e.categoricalDataReader.labels.dynamicLabelReader.getDynamicLabel(e)}})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).DataReductionConfiguration||(e.DataReductionConfiguration={})).MaxIntersectionCount=3500,e.MaxPotentialIntersectionCount=4900})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).EventBubblingUtil||(e.EventBubblingUtil={})).handled=function(e){if(e)return!!e.handled},e.markAsHandled=function(e){e&&(e.handled=!0)}})(powerbi=powerbi||{}),(function(a){var p,c,i,d,m;function u(e,t,a,i,o){var r,n,l,s=t.weight&&d.getValue(e,t.weight),c=t.style&&d.getValue(e,t.style),u=t.underline&&d.getValue(e,t.underline);return t.size&&null!=(n=d.getValue(e,t.size))&&(r=t.sizeInPixels?p.Units.FontSize.createFromPx(+n):p.Units.FontSize.createFromPt(+n)),t.bold&&(n=d.getValue(e,t.bold),l=(null==o?void 0:o.weight)===m.boldValue,s=n||l?m.boldValue:s),t.italic&&(n=d.getValue(e,t.italic),l=(null==o?void 0:o.style)===m.italicValue,c=n||l?m.italicValue:c),t.underline&&(n=d.getValue(e,t.underline),l=(null==o?void 0:o.textDecoration)===m.underlineValue,u=n||l?m.underlineValue:u),{color:t.color&&a.getColorForPropertyName(e,t.color,i),family:t.family&&d.getValue(e,t.family),lineHeight:t.lineHeight&&d.getValue(e,t.lineHeight),size:r,style:c,variant:t.variant&&d.getValue(e,t.variant),weight:s,whiteSpace:t.whiteSpace&&d.getValue(e,t.whiteSpace),textDecoration:u}}function o(e,t){e.color&&(t.fill=e.color),e.family&&(t.fontFamily=e.family),e.lineHeight&&(t.lineHeight=e.lineHeight),e.size&&(t.fontSize=e.size?i.toString(e.size.px):void 0),e.style&&(t.fontStyle=e.style),e.variant&&(t.fontVariant=e.variant),e.weight&&(t.fontWeight=e.weight),e.whiteSpace&&(t.whiteSpace=e.whiteSpace)}function r(e,t){void 0===t&&(t=0);for(var a={},i=Object.getPrototypeOf({}),o=0;o<=t&&null!=e&&e!==i;o++)_.forOwn(e,(function(e,t){void 0===a[t]&&(a[t]=e)})),e=Object.getPrototypeOf(e);return a}p=a.visuals||(a.visuals={}),i=jsCommon.PixelConverter,d=a.DataViewObject,m=jsCommon.CssConstants,(c=p.FontProperties||(p.FontProperties={})).createFromDataViewObject=function(e,t,a,i,o){return e=u(e,t,a,i,o),o?c.inherit(o,e):e},c.createFromObjectOrStyle=function(e,t,a,i,o,r,n,l){var s=u(e,t,a,void 0),r=i=p.TextHelper.getFontPropertiesForTextClass(i,r);return t.color&&(a=a.getColorForPropertyName(e,t.color,o),r=l?c.inherit(i,{color:a}):c.inherit({color:a},i)),(r=n?c.inherit(n,r):r)?c.inherit(r,s):s},c.inherit=function(e,t){return e=a.Prototype.inherit(e),t&&(!t.color&&null!==t.color||(e.color=t.color),t.family&&(e.family=t.family),t.lineHeight&&(e.lineHeight=t.lineHeight),t.size&&(e.size=t.size),t.style&&(e.style=t.style),t.variant&&(e.variant=t.variant),t.weight&&(e.weight=t.weight),t.whiteSpace&&(e.whiteSpace=t.whiteSpace),t.textDecoration)&&(e.textDecoration=t.textDecoration),e},c.inheritToSvgStyle=function(e,t){return c.toSVGStyle(c.inherit(e,t))},c.toTextProperties=function(e,t,a){return{text:t,fontFamily:(e=a?r(e):e).family,fontSize:e.size?i.toString(e.size.px):void 0,fontWeight:e.weight,fontStyle:e.style,fontVariant:e.variant,whiteSpace:e.whiteSpace}},c.toHTMLStyle=function(e){var t={};return e.color&&(t.color=e.color),e.family&&(t["font-family"]=e.family),e.lineHeight&&(t["line-height"]=e.lineHeight),e.size&&(t["font-size"]=e.size?i.toString(e.size.px):void 0),e.variant&&(t["font-variant"]=e.variant),e.whiteSpace&&(t["white-space"]=e.whiteSpace),t["font-weight"]=e.weight||null,t["font-style"]=e.style||null,t["text-decoration"]=e.textDecoration||null,t},c.applyStyleToElement=function(e,t){return o(e,t.style),t},c.applyStyle=o,c.toSVGStyle=function(e){var t={};return e.color&&(t.fill=e.color),e.family&&(t["font-family"]=e.family),e.lineHeight&&(t["line-height"]=e.lineHeight),e.size&&(t["font-size"]=e.size?i.toString(e.size.px):void 0),e.variant&&(t["font-variant"]=e.variant),e.whiteSpace&&(t["white-space"]=e.whiteSpace),t["font-weight"]=e.weight||null,t["font-style"]=e.style||null,t["text-decoration"]=e.textDecoration||null,t},c.excludeInheritedProperties=r,c.flatten=function(e){return r(e,Number.MAX_VALUE)},c.toD3Style=function(t){return{color:function(e){return t(e).color},"font-family":function(e){return t(e).family},"font-size":function(e){return t(e).size?i.toString(t(e).size.px):void 0},"font-style":function(e){return t(e).style},"font-variant":function(e){return t(e).variant},"font-weight":function(e){return t(e).weight},"white-space":function(e){return t(e).whiteSpace},"text-decoration":function(e){return t(e).textDecoration}}},c.toDataViewPropertyValues=function(e){return __assign(__assign({},e),{color:e.color?{solid:{color:e.color}}:void 0})}})(powerbi=powerbi||{}),(function(A){var O,j,k,n,l,u,e,F;function z(e){return{solid:{color:O.ColorHelper.getThemeColor(e,k)}}}O=A.visuals||(A.visuals={}),e=jsCommon.CssConstants.createClassAndSelector,F=A.data.DataRoleHelper,(j=O.ForecastHelper||(O.ForecastHelper={})).forecastObjectName="forecast",j.forecastValueRole="forecast.ForecastValue",j.forecastConfidenceHighBoundRole="forecast.ConfidenceHighBound",j.forecastConfidenceLowBoundRole="forecast.ConfidenceLowBound",k="foregroundDark",j.defaults={displayName:"",confidenceBandStyle:O.confidenceBandStyle.fill,transparency:80,style:O.lineStyle.solid},j.quarterHierarchyLevelPrefixResorceKey="Visual_Quarter_Abbreviated",n=e("forecast-line"),l=e("forecast-error-range"),u=e("forecast-line-layer"),j.enumerateObjectInstances=function(e,t,a,i){var o;(o=_.isEmpty(t)?o:t[0])?((t={})[j.ForecastPropertyNames.show]=o.show,t[j.ForecastPropertyNames.displayName]=o.displayName,t[j.ForecastPropertyNames.lineColor]=o.lineColor,t[j.ForecastPropertyNames.style]=o.style,t[j.ForecastPropertyNames.confidenceBandStyle]=o.confidenceBandStyle,t[j.ForecastPropertyNames.transparency]=o.transparency,e.pushInstance({selector:o.selector,properties:t,objectName:j.forecastObjectName})):(o={selector:{id:"0"},properties:{show:!1,lineColor:z(a),style:j.defaults.style,confidenceBandStyle:j.defaults.confidenceBandStyle,transparency:j.defaults.transparency},objectName:j.forecastObjectName,disabledReason:i},e.pushInstance(o))},j.isDataViewForForecast=function(e){if(e&&e.categorical&&e.categorical.values)for(var t=0,a=e.categorical.values.grouped();t<a.length;t++){var i=a[t];if(_.some(i.values,(function(e){return F.hasRoleInValueColumn(e,"forecast.ForecastValue")})))return!0}return!1},j.readDataView=function(e,t,a){if(!(e&&e.categorical&&t&&t.categorical))return[];if(e=e.categorical,_.isEmpty(e.categories)||_.isEmpty(e.values))return[];var i=O.ScalarUtils.getScalarKeys(e.categories[0]),o=i?_.map(i.values,(function(e){return e.min})):e.categories[0].values,r=e.values.grouped();if(_.isEmpty(o)||_.isEmpty(r))return[];var n,l=F.getMeasureIndexOfRole(r,j.forecastValueRole),s=F.getMeasureIndexOfRole(r,j.forecastConfidenceHighBoundRole),c=F.getMeasureIndexOfRole(r,j.forecastConfidenceLowBoundRole),u=[],p=(function(e){var t=[];if(e&&e.categorical&&e.categorical.values){e=_.head(e.categorical.values.grouped());if(e)for(var a=0,i=e.values;a<i.length;a++){var o=i[a],r=o.source.queryName,o=A.DataViewObjects.getUserDefinedObjects(o.source.objects,j.forecastObjectName);t[r]=o}}return t})(t),d=0,m=O.ColorHelper.create(a);for(n in p){var y,g=p[n];for(y in g){for(var h=g[y],b=A.DataViewObject.getValue(h,j.ForecastPropertyNames.show,!1),f=A.DataViewObject.getValue(h,j.ForecastPropertyNames.displayName),S={solid:{color:m.getColorForPropertyName(h,j.ForecastPropertyNames.lineColor,k)}},v=A.DataViewObject.getValue(h,j.ForecastPropertyNames.confidenceBandStyle,j.defaults.confidenceBandStyle),C=A.DataViewObject.getValue(h,j.ForecastPropertyNames.transparency,j.defaults.transparency),h=A.DataViewObject.getValue(h,j.ForecastPropertyNames.style,j.defaults.style),N=(O.ColorHelper.create(a,{objectName:"dataPoint",propertyName:"fill"},z(a).solid.color),r[d]),x=[],w=N.values[l].highlights||N.values[l].values,P=N.values[s].highlights||N.values[s].values,T=N.values[c].highlights||N.values[c].values,V=0;V<o.length;V++){var D,L,M=O.AxisHelper.normalizeNonFiniteNumber(o[V]),R=O.AxisHelper.normalizeNonFiniteNumber(w[V]);null!=M&&null!=R&&(D=O.AxisHelper.normalizeNonFiniteNumber(P[V]),L=O.AxisHelper.normalizeNonFiniteNumber(T[V]),x.push({point:{x:M,y:R},upperBound:{x:M,y:D},lowerBound:{x:M,y:L}}))}u.push({selector:{id:y,metadata:n},points:x,show:b,displayName:f,lineColor:S,confidenceBandStyle:v,transparency:C,style:h}),d++}}return u},j.render=function(e,t,s,c,a,i){var o=t.select(u.selector),r=(t=(o=o.empty()?t.insert("g",":first-child").classed(u.class,!0):o).selectAll(l.selector).data(e||[])).enter().insert("path",":first-child").classed(l.class,!0).merge(t);r.transition().ease(d3.easeLinear).duration(i).attr("d",(function(e){for(var t=d3.line().x((function(e){return s(e.x)})).y((function(e){return c(e.y)})),a=[],i=0,o=e.points.slice().reverse();i<o.length;i++){var r=o[i];a.push({x:r.lowerBound.x,y:r.lowerBound.y})}for(var n=0,l=e.points;n<l.length;n++){r=l[n];a.push({x:r.upperBound.x,y:r.upperBound.y})}return t(a)})),r.each((function(e){var t=d3.select(this),a={},i=(100-e.transparency)/100;a["fill-opacity"]=i,a["stroke-opacity"]=i,e.confidenceBandStyle===O.confidenceBandStyle.fill?(a.stroke="transparent",a.fill=e.lineColor.solid.color):e.confidenceBandStyle===O.confidenceBandStyle.line?(a.stroke=e.lineColor.solid.color,a.fill="transparent"):e.confidenceBandStyle===O.confidenceBandStyle.none&&(a.stroke="transparent",a.fill="transparent"),t.styles(a)})),t.exit().remove(),(t=(r=o.selectAll(n.selector).data(e||[])).enter().append("path").classed(n.class,!0).merge(r)).transition().ease(d3.easeLinear).duration(i).attr("d",(function(e){return d3.line().x((function(e){return s(e.point.x)})).y((function(e){return c(e.point.y)}))(e.points)})),t.each((function(e){var t=d3.select(this),a={};a.stroke=e.lineColor.solid.color,a.fill="transparent",e.style===O.lineStyle.dashed?a["stroke-dasharray"]="5, 5":e.style===O.lineStyle.dotted?(a["stroke-dasharray"]="1, 5",a["stroke-linecap"]="round"):e.style===O.lineStyle.solid&&(a["stroke-dasharray"]=null,a["stroke-linecap"]=null),t.styles(a)})),r.exit().remove()}})(powerbi=powerbi||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).ForecastHelper||(e.ForecastHelper={})).ForecastPropertyNames||(e.ForecastPropertyNames={})).show="show",e.displayName="displayName",e.lineColor="lineColor",e.confidenceBandStyle="confidenceBandStyle",e.transparency="transparency",e.style="style"})(powerbi=powerbi||{}),(function(e){var t;(e=(e=e.visuals||(e.visuals={})).FormattingConstants||(e.FormattingConstants={})).SubSelectableFocusOrders=Object.freeze(((t={}).background=10,t.title=20,t["legend-title"]=30,t["legend-items"]=40,t["y1-axis-title"]=50,t["y1-axis-values"]=60,t["y1-axis-zoom-slider"]=70,t["y2-axis-title"]=80,t["y2-axis-values"]=90,t["y2-axis-zoom-slider"]=100,t["x-axis-values"]=110,t["x-axis-title"]=120,t["x-axis-zoom-slider"]=130,t["horizontal-gridlines"]=140,t["vertical-gridlines"]=150,t.lines=1e3,t.markers=1010,t.columns=1020,t.bars=1030,t["data-labels"]=1040,t["total-labels"]=1050,t["series-labels"]=1060,t["category-labels"]=1070,t)),e.SeriesIncrementAmount=1e3,e.UndefinedFocusOrder=999999})(powerbi=powerbi||{}),(function(e){var a,i;function o(e){var t;return a.builder.isCompositeSlice(e)?(t=_.values(null==(t=null==e?void 0:e.control)?void 0:t.properties),null==(t=null==(t=_.find(t,(function(e){return!!e})))?void 0:t.descriptor)?void 0:t.selector):null==(t=null==(e=null==(t=null==e?void 0:e.control)?void 0:t.properties)?void 0:e.descriptor)?void 0:t.selector}function r(e,t){return t?"".concat(e).concat("___").concat(i.getKey(t)):e}a=e.visuals||(e.visuals={}),i=e.data.Selector,(e=a.FormattingModelUtil||(a.FormattingModelUtil={})).getSliceSelector=o,e.getSliceDescriptors=function(e){var t;return a.builder.isCompositeSlice(e)?(t=_.values(e.control.properties),_.filter(t,(function(e){return!!e})).map((function(e){return e.descriptor}))):[e.control.properties.descriptor]},e.concatSliceUidAndSelectorKey=r,e.getSliceUid=function(e,t){return t?r(e.uid,o(e)):e.uid}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).GeoJsonHelper||(e.GeoJsonHelper={})).getTopoJsonShapeKeys=function(e){try{for(var t=e.objects[Object.keys(e.objects)[0]].geometries,a=!1,i={},o=0,r=t;o<r.length;o++){var n=r[o],a=a||null!=n.id;if(n.properties)for(var l=Object.keys(n.properties),s=0,c=l;s<c.length;s++)i[c[s]]=!0}for(var u=Object.keys(i).sort(),p=(_.pull(u,"id"),[]),d=0,m=t;d<m.length;d++){var n=m[d],y=[];if(a&&y.push(n.id),n.properties)for(var g=0,h=u;g<h.length;g++){var b=h[g];y.push(n.properties[b])}p.push(y)}if(u=(a?["id"]:[]).concat(u),!_.isEmpty(u)&&!_.isEmpty(p))return{names:u,values:p}}catch(e){}}})(powerbi=powerbi||{}),(function(C){var N,x,e,s,g,w,c,_,a,P,l,i,u,o,t;function r(e){return t.test(e)}function h(e,t){void 0===e&&(e=N.visualStyles.create());var a=N.ColorHelper.getThemeColor(e,P.DefaultLabelColorName),a=N.FontProperties.inherit(P.DefaultFontProperties,{color:a}),e=N.TextHelper.getFontPropertiesForTextClass(e,t);return{show:!1,position:0,displayUnits:0,precision:P.defaultLabelPrecision,fontProperties:N.FontProperties.inherit(a,e),bold:!1,italic:!1,underline:!1}}function T(e){switch(e){case N.funnelLabelStyle.data:return N.funnelLabelStyle.labelStyleFlagEnum.data;case N.funnelLabelStyle.percentOfFirst:return N.funnelLabelStyle.labelStyleFlagEnum.percentOfFirst;case N.funnelLabelStyle.percentOfPrevious:return N.funnelLabelStyle.labelStyleFlagEnum.percentOfPrevious;case N.funnelLabelStyle.dataAndPercentOfFirst:return N.funnelLabelStyle.labelStyleFlagEnum.dataAndPercentOfFirst;case N.funnelLabelStyle.dataAndPercentOfPrevious:return N.funnelLabelStyle.labelStyleFlagEnum.dataAndPercentOfPrevious;default:return N.funnelLabelStyle.labelStyleFlagEnum.data}}function V(e){switch(e){case N.labelStyle.data:return N.labelStyle.labelStyleFlagEnum.data;case N.labelStyle.percent:return N.labelStyle.labelStyleFlagEnum.percent;case N.labelStyle.categoryAndData:return N.labelStyle.labelStyleFlagEnum.categoryAndData;case N.labelStyle.categoryAndPercent:return N.labelStyle.labelStyleFlagEnum.categoryAndPercent;case N.labelStyle.dataAndPercent:return N.labelStyle.labelStyleFlagEnum.dataAndPercent;case N.labelStyle.categoryAndDataAndPercent:return N.labelStyle.labelStyleFlagEnum.categoryAndDataAndPercent;default:N.labelStyle.category;return N.labelStyle.labelStyleFlagEnum.category}}function p(e,t){void 0===t&&(t=!1);var a=[];e.selectAll(u.selector).data(a).exit().remove(),e.selectAll(l.selector).remove(),t&&(e.selectAll(o.selector).data(a).exit().remove(),e.selectAll(i.selector).remove())}function d(e,i,o){void 0===o&&(o="Desktop_FileMenu_Options");var r=e.options,n=e.dataLabelsProps,l=e.omitGroupDisplayNames,t=e.cardBuilder,s=e.selector,c=e.hostServices,u=r.dataLabelsSettings,e=i||t;i&&i.addSimpleSlice("showSeries",new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.showSeries),{selector:s}),value:u.show}).build(),(function(e){return e.withDisabled(!s).withCustomDisplayName("Visual_Show_Data_Labels")})),e.addGroup("options",(function(e){l||e.withDisplayName(o),!i&&s&&r.show&&e.addSimpleSlice("showSeries",new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.showSeries),{selector:s}),value:u.show}).build(),(function(e){return e.withDisabled(!s).withCustomDisplayName("Visual_Show_Data_Labels")})),n.labelOrientation&&e.addSimpleSlice("labelOrientation",new x.DropdownBuilder({descriptor:__assign(__assign({},n.labelOrientation),{selector:s}),value:u.labelOrientation}).build(),(function(e){return e.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!s)}));var t,a=n.labelPosition||n.position;a&&(t=r.positionObject||void 0,e.addSimpleSlice("position",new x.DropdownBuilder({descriptor:__assign(__assign({},a),{selector:s}),value:null!=(a=u.position)?a:0<t.length?t[0]:"Auto",filterValues:t}).build(),(function(e){return e.withCustomDisplayName("Visual_Position")}))),n.overflow&&e.addSimpleSlice("overflow",new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.overflow),{selector:s}),value:u.overflow}).build(),(function(e){return e.withDisabled(u&&u.position===N.donutLabelPosition.outside)})),n.labelStyle&&e.addSimpleSlice("labelContents",new x.DropdownBuilder({descriptor:__assign(__assign({},n.labelStyle),{selector:s}),value:u.labelStyle}).build(),(function(e){return e.withCustomDisplayName("Visual_LabelContents")})),n.labelDensity&&r.labelDensity&&(a=r.dataLabelsSettings)&&e.addSimpleSlice("labelDensity",x.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},n.labelDensity),{selector:s}),value:a.labelDensity,localize:function(e){return c.getLocalizedString(e)}}).build(),(function(e){return e.withCustomDescription("Visual_LabelDensity_Description")}))}))}function m(t,e,a,i){void 0===a&&(a="Role_DisplayName_Values"),void 0===i&&(i=!1);var o=t.cardBuilder;(e?e:o).addGroup("values",(function(e){return n(e,t,a,i),e.build()}))}function n(e,i,t,a){void 0===t&&(t="Role_DisplayName_Values"),void 0===a&&(a=!1);var o,r,n,l,s,c,u,p,d=i.options,m=i.featureSwitches,y=i.dataLabelsProps,g=i.omitGroupDisplayNames,h=i.selector,b=i.repetitionSelector,f=i.displayDisabledSlices,S=d.dataLabelsSettings,v=(d.labelStyle&&(o=V(S.labelStyle)),d.funnelLabelStyle&&(r=T(S.labelStyle)),d.style||N.visualStyles.create());g||e.withDisplayName(t),a?e.withDisabled(!0,void 0):((y.fontFamily||y.fontSize)&&e.addCompositeSlice("font","Font",(function(){var e,t=new x.FontControlBuilder;return d.fontFamily&&y.fontFamily&&t.withFontFamily({descriptor:__assign(__assign({},y.fontFamily),{selector:h}),value:S.fontProperties.family||N.DEFAULT_FONT_FAMILY}),d.fontSize&&y.fontSize&&(e={descriptor:__assign(__assign({},y.fontSize),{selector:h}),value:S.fontProperties.size.pt},d.fontSizeRange&&(e.options={minValue:{type:0,value:S.minFontSize},maxValue:{type:1,value:S.maxFontSize}}),t.withFontSizeProperties(e)),m.enableBIU&&(d.bold&&y.bold&&t.withBold({descriptor:__assign(__assign({},y.bold),{selector:h}),value:S.bold}),d.italic&&y.italic&&t.withItalic({descriptor:__assign(__assign({},y.italic),{selector:h}),value:S.italic}),d.underline)&&y.underline&&t.withUnderline({descriptor:__assign(__assign({},y.underline),{selector:h}),value:S.underline}),t.build()})),y.matchSeriesColor&&e.addSimpleSlice("matchSeriesColor",(function(){return new N.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},y.matchSeriesColor),{selector:h}),value:d.matchSeriesColor}).build()})),y.color&&e.addSimpleSlice("color",(function(){var e,t={value:S.fontProperties.color||N.ColorHelper.getThemeColor(v,P.DefaultLabelColorName)},a=D(i);return i.includeAltConstantValueSelector?e=null:i.individualSelector&&(e=h),new x.ColorPickerBuilder({descriptor:__assign(__assign({},y.color),{selector:N.DataLabelUtil.getDataLabelColorSelector(i.individualSelector,h,b),instanceKind:a,altConstantValueSelector:e}),value:t}).build()}),(function(e){return e.withDisabled(d.matchSeriesColor)})),y.background&&e.addSimpleSlice("background",new x.DropdownBuilder({descriptor:__assign(__assign({},y.background),{selector:h}),value:S.enableBackgroundWithAuto}).build(),(function(e){return e.withDisabled(S&&S.position===N.donutLabelPosition.outside)})),g=y.labelDisplayUnits||y.displayUnits,d.displayUnits&&void 0!==d.dataLabelsSettings.displayUnits&&g&&e.addSimpleSlice("displayUnits",new x.DropdownBuilder({descriptor:__assign(__assign({},g),{selector:h}),value:S.displayUnits}).build(),(function(e){return e.withAliasName("Decimal")})),n=y.labelPrecision||y.precision,(d.precision&&o&&w.hasFlag(o,_.flagLabelStyleData)||d.precision&&r&&w.hasFlag(r,N.funnelLabelStyle.flagLabelStyleData)||d.precision&&!o&&n)&&(l=S.precision,e.addSimpleSlice("precision",(function(){return new x.NumUpDownBuilder({descriptor:__assign(__assign({},n),{selector:h}),value:l===P.defaultLabelPrecision?null:l,options:{minValue:{type:0,value:0},maxValue:{type:1,value:P.MaxLabelPrecision}}}).build()}))),(d.percentagePrecision&&o&&w.hasFlag(o,_.flagLabelStylePercent)||d.percentagePrecision&&r&&w.hasFlag(r,N.funnelLabelStyle.flagLabelStylePercentOfFirst)||w.hasFlag(r,N.funnelLabelStyle.flagLabelStylePercentOfPrevious)||d.percentagePrecision&&!o&&y.percentagePrecision)&&(s=S.percentagePrecision,e.addSimpleSlice("percentagePrecision",(function(){return new x.NumUpDownBuilder({descriptor:__assign(__assign({},y.percentagePrecision),{selector:h}),value:s===P.defaultPercentageLabelPrecision?null:s,options:{minValue:{type:0,value:0},maxValue:{type:1,value:P.MaxLabelPrecision}}}).build()}),(function(e){return e.withCustomDisplayName("Visual_PercentagePrecision")}))),d.wordWrap&&y.wordWrap&&e.addSimpleSlice("wordWrap",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},y.wordWrap),{selector:h}),value:S.wordWrap}).build()}),(function(e){return e.withCustomDisplayName("TextWrap")})),d.preserveWhitespace&&y.preserveWhitespace&&e.addSimpleSlice("preserveWhitespace",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},y.preserveWhitespace),{selector:h}),value:S.preserveWhitespace}).build()})),c=f&&!!f.labelOverflow,(d.labelOverflow&&y.labelOverflow||c)&&e.addSimpleSlice("labelOverflow",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},y.labelOverflow),{selector:h}),value:c?void 0:S.labelOverflow}).build()}),(function(e){return e.withDisabled(a||c).withCustomDescription("Visual_DataLabel_OverflowDescription")})),d.showPositiveAndNegative&&y.showPositiveAndNegative&&e.addSimpleSlice("showPositiveAndNegative",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},y.showPositiveAndNegative),{selector:h}),value:S.showPositiveAndNegative}).build()})),m.measureDrivenDataLabels&&y.showDynamicLabels&&(u=S.showDynamicLabels&&d.showDynamicLabels||!1,y.showDynamicLabels&&e.addSimpleSlice("showDynamicLabels",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},y.showDynamicLabels),{selector:h}),value:S.showDynamicLabels}).build()}),(function(e){return e.withCustomDescription("Visual_ShowCustomLabel")})),t=i.omitDynamicLabelSelector?void 0:__assign(__assign({},h),{data:[C.data.DataViewWildcard.create(1)],highlightMatching:1}),p={propertyName:y.dynamicLabelValue.propertyName,objectName:y.dynamicLabelValue.objectName,selector:t,instanceKind:2,propertyTypes:{text:!0}},e.addSimpleSlice("dynamicLabelValue",(function(){return new x.FieldPickerBuilder({descriptor:p,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build()}),(function(e){return e.withDisabled(!u)}))))}function D(e){return null!=e.instanceKind?e.instanceKind:e.individualSelector?3:1}function y(t,e){var a=t.options,i=t.cardBuilder,e=e?e:i;null!=a.enableBackground&&e.addGroup("background",(function(e){b(e,t)}))}function b(e,t,a){var i=t.options,o=t.hostServices,r=t.dataLabelsProps,n=t.selector;a?e.addSimpleSlice("enableBackground",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.enableBackground),{selector:n}),value:i.enableBackground}).build()})):e.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.enableBackground),{selector:n}),value:i.enableBackground}).build()})),e.addSimpleSlice("backgroundColor",new x.ColorPickerBuilder({descriptor:__assign(__assign({},r.backgroundColor),{selector:n}),value:{value:i.backgroundColor}}).build(),(function(e){a?e.withDisabled(!i.enableBackground):e.withCustomDisplayName("Generic_Color")})).addSimpleSlice("backgroundTransparency",x.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.backgroundTransparency),{selector:n}),value:Math.round(100*i.backgroundTransparency),localize:function(e){return o.getLocalizedString(e)}}).build(),(function(e){return e.withDisabled(a&&!i.enableBackground)}))}function f(e,t,a){void 0===a&&(a="Desktop_FileMenu_Options");var i=e.seriesOptions,o=e.seriesLabelsProps,r=e.omitGroupDisplayNames,n=e.cardBuilder,l=e.selector,s=i.seriesLabelsSettings,e=n;t&&(e=t).addSimpleSlice("showSeries",new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.show),{selector:l}),value:s.show}).build(),(function(e){return e.withDisabled(t&&!l)})),e.addGroup("options",(function(e){r||e.withDisplayName(a),t||e.addSimpleSlice("showSeries",new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.show),{selector:l}),value:s.show}).build(),(function(e){return e.withDisabled(t&&!l)})),void 0!==i.seriesMaximumWidth&&e.addSimpleSlice("seriesMaximumWidth",new x.NumUpDownBuilder({descriptor:__assign(__assign({},o.seriesMaximumWidth),{selector:l}),value:i.defaultSeriesWidth?null:i.seriesMaximumWidth,options:{minValue:{type:0,value:P.MinLabelValue},maxValue:{type:1,value:P.MaxLabelValue}}}).build(),(function(e){return e.withDisabled(!!l)})),o.seriesPosition&&null!=i.seriesPosition&&e.addSimpleSlice("position",new x.DropdownBuilder({descriptor:__assign(__assign({},o.seriesPosition),{selector:l}),value:i.seriesPosition}).build(),(function(e){return e.withDisabled(!!l)}))}))}function S(e,t,a){void 0===a&&(a="Role_DisplayName_Values");var i=e.seriesOptions,o=e.featureSwitches,r=e.seriesLabelsProps,n=e.cardBuilder,l=e.omitGroupDisplayNames,s=e.selector,c=i.seriesLabelsSettings,u=i.style||N.visualStyles.create();(t?t:n).addGroup("values",(function(e){l||e.withDisplayName(a),(r.seriesFontFamily||r.seriesFontSize)&&e.addCompositeSlice("font","Font",(function(){var e,t=new x.FontControlBuilder;return i.fontFamily&&r.seriesFontFamily&&t.withFontFamily({descriptor:__assign(__assign({},r.seriesFontFamily),{selector:s}),value:c.fontProperties.family||N.DEFAULT_FONT_FAMILY}),i.fontSize&&r.textSize&&(e={descriptor:__assign(__assign({},r.textSize),{selector:s}),value:c.fontProperties.size.pt},i.fontSizeRange&&(e.options={minValue:{type:0,value:c.minFontSize},maxValue:{type:1,value:c.maxFontSize}}),t.withFontSizeProperties(e),o.enableBIU)&&(t.withBold({descriptor:__assign(__assign({},r.bold),{selector:s}),value:c.bold}),t.withItalic({descriptor:__assign(__assign({},r.italic),{selector:s}),value:c.italic}),t.withUnderline({descriptor:__assign(__assign({},r.underline),{selector:s}),value:c.underline})),t.build()})),r.seriesColor&&e.addSimpleSlice("seriesColor",(function(){var e={value:c.seriesColor||N.ColorHelper.getThemeColor(u,P.DefaultLabelColorName)};return new x.ColorPickerBuilder({descriptor:__assign(__assign({},r.seriesColor),{selector:s}),value:e}).build()})),r.seriesWordWrap&&null!=i.seriesWordWrap&&!i.selector&&e.addSimpleSlice("seriesWordWrap",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.seriesWordWrap),{selector:s}),value:i.seriesWordWrap}).build()}))}))}function v(e,t){function a(e){return o.getLocalizedString(e)}var i=e.seriesOptions,o=e.hostServices,r=e.seriesLabelsProps,n=e.cardBuilder,l=e.selector,e=t?t:n;null!=i.enableBackground&&e.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},r.enableBackground),{selector:l}),value:i.enableBackground}).build()})).addSimpleSlice("backgroundColor",new x.ColorPickerBuilder({descriptor:__assign(__assign({},r.backgroundColor),{selector:l}),value:{value:i.backgroundColor}}).build()).addSimpleSlice("backgroundTransparency",x.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},r.backgroundTransparency),{selector:l}),value:Math.round(100*i.backgroundTransparency),localize:a}).build())}))}function L(e,t,a){e.validValues||(e.validValues={}),e.validValues[t]=a}function M(e,t,a){void 0===a&&(a="Desktop_FileMenu_Options");var i=e.isShowCategory,o=e.props,r=e.omitGroupDisplayNames,n=e.cardBuilder,l=e.selector,s=e.style,t=t||n,c=null!=(n=e.dataLabelSettings)?n:h(s);t.addGroup("options",(function(e){r||e.withDisplayName(a),l&&e.addSimpleSlice("showSeries",new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.show),{selector:l}),value:i?c.showCategory:c.show}).build())}))}function R(e,t,a){void 0===a&&(a="Role_DisplayName_Values");var i=e.extraLabelConfig,o=e.props,r=e.showValueColor,n=e.omitGroupDisplayNames,l=e.cardBuilder,s=e.selector,c=e.style,u=e.featureSwitches,p=null!=(d=e.dataLabelSettings)?d:h(c),d=l,t=(t&&(d=t),(new x.FontControlBuilder).withFontFamily({descriptor:__assign(__assign({},o.fontFamily),{selector:s}),value:null!=(c=p.fontProperties.family)?c:P.DefaultLabelFontFamily}).withFontSizeProperties({descriptor:__assign(__assign({},o.fontSize),{selector:s}),value:null!=(l=p.fontProperties.size.pt)?l:P.DefaultFontSizeInPt})),m=(u.enableBIU&&t.withBold({descriptor:__assign(__assign({},o.bold),{selector:s}),value:p.bold}).withItalic({descriptor:__assign(__assign({},o.italic),{selector:s}),value:p.italic}).withUnderline({descriptor:__assign(__assign({},o.underline),{selector:s}),value:p.underline}),t.build()),y=e.individualSelector?__assign(__assign({},s),{data:[g.create()]}):s;d.addGroup("values",(function(e){n||e.withDisplayName(a),e.addCompositeSlice("font","Font",m),r&&e.addSimpleSlice("color",new x.ColorPickerBuilder({descriptor:__assign(__assign({},o.color),{selector:y,instanceKind:i&&i.propertyInstanceKind?i.propertyInstanceKind.value:null}),value:{value:null!=(e=p.categoryLabelColor)?e:p.fontProperties.color}}).build())}))}function A(e,t){function a(e){return i.getLocalizedString(e)}var i=e.hostServices,o=e.props,r=e.cardBuilder,n=e.selector,l=e.style,s=null!=(e=e.dataLabelSettings)?e:h(l);s&&s.enableBackground&&r.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("show",(function(){return new x.ToggleSwitchBuilder({descriptor:__assign(__assign({},o.enableBackground),{selector:n}),value:s.enableBackground}).build()})).addSimpleSlice("color",new x.ColorPickerBuilder({descriptor:__assign(__assign({},o.backgroundColor),{selector:n}),value:{value:null!=(e=s.backgroundColor)?e:N.ColorHelper.getThemeColor(l,P.DefaultLabelBackgroundColorName)}}).build(),(function(e){return e.withCustomDisplayName("Generic_Color")})).addSimpleSlice("transparency",x.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},o.backgroundTransparency),{selector:n}),value:Math.round(100*(null!=(e=s.backgroundTransparency)?e:P.DefaultLabelBackgroundTransparency)),localize:a}).build())}))}N=C.visuals||(C.visuals={}),x=C.visuals.builder,e=jsCommon.CssConstants.createClassAndSelector,s=jsCommon.CssConstants,g=C.data.DataViewWildcard,w=jsCommon.EnumExtensions,c=N.Units.FontSize,_=N.labelStyle,a=jsCommon.PixelConverter,(P=N.DataLabelViewModel||(N.DataLabelViewModel={})).DefaultLabelFontSizeInPt=9,P.minLabelFontSize=8,P.labelMargin=8,P.defaultLabelDensity=50,P.MapPolylineOpacity=.5,P.defaultComboChartLabelBackgroundOpacity=.3,P.LabelDensityBufferFactor=3,P.LabelDensityPadding=6,P.startingLabelOffset=8,P.maxLabelOffset=8,P.maxLabelWidth=50,P.hundredPercentFormat="0.00 %;-0.00 %;0.00 %",P.DefaultFontSizeInPt=9,P.DefaultLabelFontFamily=N.Font.Family.regularSecondary.css,P.StandardFontFamily=N.Font.Family.regular.css,P.DefaultLabelFontWeight="400",P.DefaultLabelFontStyle="normal",P.DefaultLabelFontDecoration="none solid rgb(0, 0, 0)",P.DefaultFontWeight="normal",P.LabelTextProperties={fontFamily:N.Font.Family.regularSecondary.css,fontSize:a.fromPoint(P.DefaultFontSizeInPt),fontWeight:P.DefaultFontWeight},P.DefaultFontProperties={family:P.DefaultLabelFontFamily,size:c.createFromPt(P.DefaultFontSizeInPt),weight:P.DefaultFontWeight,style:null,textDecoration:null},P.DefaultLabelColorName="foregroundNeutralSecondaryAlt",P.DefaultInsideLabelColorName="foregroundLight",P.DefaultLabelBackgroundColorName="backgroundDark",P.DefaultLabelBackgroundTransparency=.9,P.horizontalLabelBackgroundPadding=4,P.verticalLabelBackgroundPadding=2,P.defaultTreeMapMinorLabelTextSize=10,P.defaultTreeMapMajorLabelTextSize=12,P.DefaultTreeMapDataLabelMinFontSize=7,P.DefaultTreeMapDataLabelMaxFontSize=40,P.defaultColumnLabelMargin=5,P.defaultColumnHalfLabelHeight=4,P.DefaultDy="-0.15em",P.defaultLabelPrecision=void 0,P.defaultPercentageLabelPrecision=void 0,P.MaxLabelPrecision=15,P.MinLabelValue=1,P.MaxLabelValue=50,l=e("labels"),i=e("lines"),u=e("data-labels"),o=e("line-label"),P.labelGraphicsContextClass=e("labelGraphicsContext"),P.labelBackgroundGraphicsContextClass=e("labelBackgroundGraphicsContext"),P.labelSeriesGraphicsContextClass=e("labelSeriesGraphicsContext"),P.labelSeriesBackgroundGraphicsContextClass=e("labelSeriesBackgroundGraphicsContext"),e="---",t=new RegExp("^[^"+e+"]*?["+e+"]"),P.getLabelTailoredText=function(e){return e={label:e.label,maxWidth:e.maxWidth,format:e.format,formatter:e.formatter,fontProperties:e.fontProperties||void 0},P.getLabelFormattedText(e)},P.createColumnFormatterCacheManager=function(){return new N.ColumnFormatterCacheManager},P.getOptionsForLabelFormatter=function(e,t,a,i){return{displayUnitSystemType:C.DisplayUnitSystemType.DataLabels,format:t,precision:i,value:e.displayUnits,value2:a,allowFormatBeautification:!0}},P.getTextSize=function(e,t){return N.DataLabelRenderer.getTextSize(e,t&&t.size?t.size.pt:void 0,t?t.family:void 0)},P.updateLabelSettingsFromLabelsObject=function(e,t,a,i,o){var r,n,l;void 0===i&&(i=N.visualStyles.create()),void 0===o&&(o=!1),e&&(i=N.ColorHelper.create(i),void 0!==e.showByDefault&&(t.showByDefault=e.showByDefault),void 0!==e.show&&(t.show=e.show),void 0!==e.showSeries&&(t.show=e.showSeries),void 0!==e.labelDisplayUnits&&(t.displayUnits=e.labelDisplayUnits),void 0!==e.labelPrecision&&(t.precision=0<=e.labelPrecision?e.labelPrecision:P.defaultLabelPrecision),void 0!==e.percentageLabelPrecision&&(t.percentagePrecision=0<=e.percentageLabelPrecision?e.percentageLabelPrecision:P.defaultPercentageLabelPrecision),l=(void 0!==e.bold?e:t).bold,r=(void 0!==e.italic?e:t).italic,n=(void 0!==e.underline?e:t).underline,t.fontProperties={color:i.getColorForPropertyNameWithDefaultColor(e,"color",t.fontProperties.color),size:void 0!==e.fontSize?c.createFromPt(+e.fontSize):t.fontProperties.size,family:void 0!==e.fontFamily?e.fontFamily:t.fontProperties.family,weight:l?s.boldValue:s.normalValue,style:r?s.italicValue:s.normalValue,textDecoration:n?s.underlineValue:s.noneValue},void 0!==e.showAll&&(t.showLabelPerSeries=e.showAll),void 0!==e.labelStyle?t.labelStyle=e.labelStyle:void 0!==e.funnelLabelStyle&&(t.labelStyle=e.funnelLabelStyle),void 0!==e.labelOrientation&&(t.labelOrientation=(a?e:t).labelOrientation),e.labelPosition&&(t.position=e.labelPosition),void 0!==e.labelOverflow&&(t.labelOverflow=e.labelOverflow),l=!1,void 0!==e.enableBackground&&(t.enableBackground=e.enableBackground,l=e.enableBackground),(e.backgroundColor||l)&&(t.backgroundColor=i.getColorForPropertyName(e,"backgroundColor",P.DefaultLabelBackgroundColorName)),null!=e.backgroundTransparency?t.backgroundTransparency=e.backgroundTransparency/100:l&&(t.backgroundTransparency=o?P.defaultComboChartLabelBackgroundOpacity:P.DefaultLabelBackgroundTransparency),void 0!==e.preserveWhitespace&&(t.preserveWhitespace=e.preserveWhitespace),void 0!==e.showPositiveAndNegative&&(t.showPositiveAndNegative=e.showPositiveAndNegative),void 0!==e.bold&&(t.bold=e.bold),void 0!==e.italic&&(t.italic=e.italic),void 0!==e.underline&&(t.underline=e.underline),void 0!==e.showDynamicLabels&&(t.showDynamicLabels=e.showDynamicLabels),void 0!==e.dynamicLabelValue)&&(t.dynamicLabelValue=e.dynamicLabelValue)},P.updateSeriesLabelSettingsFromLabelsObject=function(e,t,a,i){var o,r,n;void 0===i&&(i=!1),e&&(a=N.ColorHelper.create(a),void 0!==e.showByDefault&&(t.showByDefault=e.showByDefault),void 0!==e.show&&(t.show=e.show),void 0!==e.seriesColor&&(t.seriesColor=a.getColorForPropertyNameWithDefaultColor(e,"seriesColor",e.seriesColor)),n=(void 0!==e.bold?e:t).bold,o=(void 0!==e.italic?e:t).italic,r=(void 0!==e.underline?e:t).underline,t.fontProperties={size:void 0!==e.textSize?c.createFromPt(+e.textSize):t.fontProperties.size,family:void 0!==e.seriesFontFamily?e.seriesFontFamily:t.fontProperties.family,weight:n?s.boldValue:s.normalValue,style:o?s.italicValue:s.normalValue,textDecoration:r?s.underlineValue:s.noneValue},void 0!==e.showAll&&(t.showLabelPerSeries=e.showAll),e.seriesPosition&&(t.seriesPosition=e.seriesPosition),e.seriesWordWrap&&(t.seriesWordWrap=e.seriesWordWrap),e.seriesMaximumWidth&&(t.seriesMaximumWidth=e.seriesMaximumWidth,t.defaultSeriesWidth=null),n=!1,void 0!==e.enableBackground&&(t.enableBackground=e.enableBackground,n=e.enableBackground),(e.backgroundColor||n)&&(t.backgroundColor=a.getColorForPropertyName(e,"backgroundColor",P.DefaultLabelBackgroundColorName)),null!=e.backgroundTransparency?t.backgroundTransparency=e.backgroundTransparency/100:n&&(t.backgroundTransparency=i?P.defaultComboChartLabelBackgroundOpacity:P.DefaultLabelBackgroundTransparency),void 0!==e.bold&&(t.bold=e.bold),void 0!==e.italic&&(t.italic=e.italic),void 0!==e.underline)&&(t.underline=e.underline)},P.updateLabelSettingsFromLabelsObjectWithLabelDensity=function(e,t,a,i,o){void 0===i&&(i=N.visualStyles.create()),P.updateLabelSettingsFromLabelsObject(e,t,a,i,o=void 0===o?!1:o),e&&void 0!==e.labelDensity&&(t.labelDensity=e.labelDensity)},P.isRtl=r,P.combineStrings=function(e,t){e=e?e.filter((function(e){return null!=e&&0<e.length})):[],t=t||"";for(var a=[];0<e.length;){var i=e.shift();0<a.length&&r(a[a.length-1])&&!r(i)&&(a[a.length-1]=a[a.length-1]+""),a.push(i)}return a.join(t)},P.getDefaultLabelSettings=function(e){var t=e.labelColor,a=e.fontSize,i=e.fontFamily,o=e.textClassName,r=e.style||N.visualStyles.create(),n=!!e.show,l=!!e.preserveWhitespace,e=!!e.noColor,s=r&&!e&&N.ColorHelper.getThemeColor(r,P.DefaultLabelColorName),a=N.FontProperties.inherit(P.DefaultFontProperties,{size:a?c.createFromPt(a):void 0,family:i,color:!e&&(t||s)}),i=N.TextHelper.getFontPropertiesForTextClass(r,o,e),t={show:n,showByDefault:!0,position:0,displayUnits:0,precision:P.defaultLabelPrecision,fontProperties:N.FontProperties.inherit(a,i),bold:!1,italic:!1,underline:!1};return Object.defineProperties(t,{preserveWhitespace:{value:l,writable:!0}}),t},P.getDefaultPointLabelSettings=h,P.getFunnelLabelStyleFlagType=T,P.getLabelStyleFlagType=V,P.getLabelPrecision=function(e,t){if(e!==P.defaultLabelPrecision)return e;if("g"!==t&&"G"!==t){if(t){e=C.NumberFormat.getComponents(t).positive,t=C.NumberFormat.getCustomFormatMetadata(e,!0);if(t.hasDots)return t.optionalPrecision?void 0:t.precision}return 0}},P.drawDefaultLabelsForDataPointChart=function(e,t,a,i,o,r,n){if(o=(o=void 0===o?!1:o)&&!!r,i=(function(e,t,a,i){void 0===a&&(a=!1);void 0===i&&(i=!1);if(0===e.length)return p(t,!0),null;t.select(l.selector).empty()&&t.append("g").classed(l.class,!0);var o=null!=e[0].key,r=null!=e[0].identity,o=o?function(e){return e.key}:r?function(e){return e.identity.getKey()}:void 0,r=a?t.select(l.selector).selectAll(u.selector).data(e,(function(e){return e.data.identity.getKey()})):null!=o?t.select(l.selector).selectAll(u.selector).data(e,o):t.select(l.selector).selectAll(u.selector).data(e),a=r.enter().append("text").classed(u.class,!0);i&&a.style("opacity",0);return r})((new C.DataLabelManager).hideCollidedLabels(i,e,a),t,!1,o),e=i.enter().append("text").classed(u.class,!0),o&&e.style("opacity",0),t=e.merge(i))return(o?(t.text((function(e){return e.labeltext})).transition().duration(r).styles(a.style).style("opacity",(function(e){return n?N.ColumnUtil.getFillOpacity(e.selected,!1,n,!1):1})).attrs({x:function(e){return e.labelX},y:function(e){return e.labelY}}),i.exit().transition().duration(r).style("opacity",0)):(t.attrs({x:function(e){return e.labelX},y:function(e){return e.labelY}}).text((function(e){return e.labeltext})).styles(a.style),i.exit())).remove(),t},P.cleanDataLabels=p,P.getLabelFormattedText=function(e){var t={text:e.formatter?e.formatter.format(e.label):C.formattingService.formatValue(e.label,e.format),fontFamily:e.fontProperties.family||P.LabelTextProperties.fontFamily,fontSize:a.fromPoint(e.fontProperties.size.pt),fontWeight:P.LabelTextProperties.fontWeight};return C.TextMeasurementService.getTailoredTextOrDefault(t,e.maxWidth||P.maxLabelWidth)},P.getLabelLayoutXYForWaterfall=function(e,t,a,i){return N.CartesianHelper.getLabelLayoutXYForWaterfall(e,t,a,i)},P.enumerateDataLabels=function(e,t,a,i){e.enumeration;var o=e.style||N.visualStyles.create();if(e.dataLabelsSettings){var r,n,l={objectName:i&&i.objectName||"labels",selector:e.selector,properties:{},propertyInstanceKind:{color:null!=t&&t.expressionBasedFormatting&&!e.selector?3:1}};if(e.show&&e.selector?l.properties.showSeries=e.dataLabelsSettings.show:e.show&&(l.properties.show=e.dataLabelsSettings.show),e.labelStyle&&(l.properties.labelStyle=e.dataLabelsSettings.labelStyle,r=P.getLabelStyleFlagType(e.dataLabelsSettings.labelStyle)),e.funnelLabelStyle&&(l.properties.funnelLabelStyle=e.dataLabelsSettings.labelStyle,n=P.getFunnelLabelStyleFlagType(e.dataLabelsSettings.labelStyle)),l.properties.color=e.dataLabelsSettings.fontProperties.color||N.ColorHelper.getThemeColor(o,P.DefaultLabelColorName),e.displayUnits&&(l.properties.labelDisplayUnits=e.dataLabelsSettings.displayUnits),(e.precision&&r&&w.hasFlag(r,_.flagLabelStyleData)||e.precision&&n&&w.hasFlag(n,N.funnelLabelStyle.flagLabelStyleData)||e.precision&&!r)&&(o=e.dataLabelsSettings.precision,l.properties.labelPrecision=o===P.defaultLabelPrecision?null:o,L(l,"labelPrecision",{numberRange:{min:0,max:P.MaxLabelPrecision}})),(e.percentagePrecision&&r&&w.hasFlag(r,_.flagLabelStylePercent)||e.percentagePrecision&&n&&w.hasFlag(n,N.funnelLabelStyle.flagLabelStylePercentOfFirst)||w.hasFlag(n,N.funnelLabelStyle.flagLabelStylePercentOfPrevious)||e.percentagePrecision&&!r)&&(o=e.dataLabelsSettings.percentagePrecision,l.properties.percentageLabelPrecision=o===P.defaultPercentageLabelPrecision?null:o,L(l,"percentageLabelPrecision",{numberRange:{min:0,max:P.MaxLabelPrecision}})),e.labelOrientation&&(l.properties.labelOrientation=e.dataLabelsSettings.labelOrientation),e.position&&(l.properties.labelPosition=e.dataLabelsSettings.position,e.positionObject)&&L(l,"labelPosition",e.positionObject),e.labelOverflow&&(l.properties.labelOverflow=e.dataLabelsSettings.labelOverflow),e.fontSize&&(l.properties.fontSize=e.dataLabelsSettings.fontProperties.size.pt,e.fontSizeRange)&&L(l,"fontSize",{numberRange:{min:e.dataLabelsSettings.minFontSize,max:e.dataLabelsSettings.maxFontSize}}),e.fontFamily&&(l.properties.fontFamily=e.dataLabelsSettings.fontProperties.family||N.DEFAULT_FONT_FAMILY),t&&t.enableBIU&&(e.bold&&(l.properties.bold=e.dataLabelsSettings.bold||!1),e.italic&&(l.properties.italic=e.dataLabelsSettings.italic||!1),e.underline)&&(l.properties.underline=e.dataLabelsSettings.underline||!1),e.labelDensity&&(n=e.dataLabelsSettings)&&(l.properties.labelDensity=n.labelDensity),null!=e.enableBackground&&(l.properties.enableBackground=e.enableBackground),e.enableBackground&&(l.properties.backgroundColor=e.backgroundColor,l.properties.backgroundTransparency=Math.round(100*e.backgroundTransparency)),e.preserveWhitespace&&(l.properties.preserveWhitespace=e.dataLabelsSettings.preserveWhitespace),e.showPositiveAndNegative&&(l.properties.showPositiveAndNegative=e.dataLabelsSettings.showPositiveAndNegative),t&&t.measureDrivenDataLabels&&(e.showDynamicLabels&&(l.properties.showDynamicLabels=e.dataLabelsSettings.showDynamicLabels),e.dynamicLabelValue)&&(l.properties.dynamicLabelValue=e.dataLabelsSettings.dynamicLabelValue),e.showAll&&(l.properties.showAll=!!e.dataLabelsSettings.showLabelPerSeries),a)for(var s in a)l.properties[s]=a[s];return i&&i.propertyInstanceKind&&(l.propertyInstanceKind=i.propertyInstanceKind),e.enumeration.pushInstance(l)}},P.getDefaultDataLabelsProps=function(e){return{color:{objectName:e,propertyName:"color"},displayUnits:{objectName:e,propertyName:"labelDisplayUnits"},fontFamily:{objectName:e,propertyName:"fontFamily"},fontSize:{objectName:e,propertyName:"fontSize"},position:{objectName:e,propertyName:"labelPosition"},percentagePrecision:{objectName:e,propertyName:"percentageLabelPrecision"},precision:{objectName:e,propertyName:"labelPrecision"},show:{objectName:e,propertyName:"show"},labelStyle:{objectName:e,propertyName:"labelStyle"},bold:{objectName:e,propertyName:"bold"},italic:{objectName:e,propertyName:"italic"},underline:{objectName:e,propertyName:"underline"}}},P.addDataLabelsOptionsFormattingGroup=d,P.addDataLabelsValuesFormattingGroup=m,P.addDataLabelsValuesFormattingSlicesToGroup=n,P.determineInstanceKindForDataLabel=D,P.generateLabelIndividualSelector=function(e){var t;return!(!e.hasCategories||e.hasSeriesSelector&&e.hasDynamicSeries||null==(t=e.featureSwitches)||!t.conditionalFormattingDataLabels||(null==(t=e.featureSwitches)||!t.categoricalSecondaryCF)&&e.hasDynamicSeries)},P.addDataLabelsBackgroundFormattingGroup=y,P.addDataLabelsBackgroundFormattingSlicesToGroup=b,P.getDataLabelsFormattingModel=function(e){var t=e.options,a=e.dataLabelsProps,i=e.cardBuilder,o=e.customDescription,r=e.omitDescription,n=t.dataLabelsSettings;if(n)return r||i.withDescription(o||"Visual_DataPointsLabelsDescription"),a.show&&i.addTopLevelToggle("show",(function(){return new x.ToggleSwitchBuilder({descriptor:a.show,value:n.show}).build()})),(a.position||a.labelPosition||a.labelStyle||a.labelOrientation)&&d(e),m(e),null!=t.enableBackground&&a.enableBackground&&y(e),i.build()},P.createDataLabelsFormattingContainers=function(e,t){var a=e.options,i=e.dataLabelsProps;a.dataLabelsSettings&&((i.position||i.labelStyle||i.labelOrientation)&&d(e,t),m(e,t),null!=a.enableBackground)&&i.enableBackground&&y(e,t)},P.addSeriesLabelsOptionsFormattingGroup=f,P.addSeriesLabelsValuesFormattingGroup=S,P.addSeriesLabelsBackgroundFormattingGroup=v,P.getSeriesLabelsFormattingModel=function(e){var t=e.seriesOptions,a=e.seriesLabelsProps,i=e.cardBuilder,o=t.seriesLabelsSettings;if(o)return i.withDescription("Visual_SeriesDescription"),a.show&&i.addTopLevelToggle("show",(function(){return new x.ToggleSwitchBuilder({descriptor:a.show,value:o.show}).build()})),a.seriesPosition&&f(e),S(e),null!=t.enableBackground&&a.enableBackground&&v(e),i.build()},P.createSeriesLabelsFormattingContainers=function(e,t){var a=e.seriesOptions,i=e.seriesLabelsProps;a.seriesLabelsSettings&&(i.seriesPosition&&f(e,t),S(e,t),null!=a.enableBackground)&&i.enableBackground&&v(e,t)},P.enumerateSeriesDataLabels=function(e,t,a,i){e.enumeration;var o=e.style||N.visualStyles.create();if(e.seriesLabelsSettings){var r={objectName:i&&i.objectName||"seriesLabels",selector:e.selector,properties:{},propertyInstanceKind:{color:null!=t&&t.expressionBasedFormatting&&!e.selector?3:1}};if(e.show&&(r.properties.show=e.seriesLabelsSettings.show),r.properties.seriesColor=e.seriesLabelsSettings.seriesColor||N.ColorHelper.getThemeColor(o,P.DefaultLabelColorName),null==e.seriesPosition||e.selector||(r.properties[N.lineChartProps.seriesLabels.seriesPosition.propertyName]=e.seriesPosition),e.fontSize&&(r.properties[N.lineChartProps.seriesLabels.textSize.propertyName]=e.seriesLabelsSettings.fontProperties.size.pt,e.fontSizeRange)&&(o={numberRange:{min:e.seriesLabelsSettings.minFontSize,max:e.seriesLabelsSettings.maxFontSize}},L(r,N.lineChartProps.seriesLabels.textSize.propertyName,o)),e.fontFamily&&(r.properties[N.lineChartProps.seriesLabels.seriesFontFamily.propertyName]=e.seriesLabelsSettings.fontProperties.family||N.DEFAULT_FONT_FAMILY),t.enableBIU&&(e.bold&&(r.properties.bold=e.seriesLabelsSettings.bold||!1),e.italic&&(r.properties.italic=e.seriesLabelsSettings.italic||!1),e.underline)&&(r.properties.underline=e.seriesLabelsSettings.underline||!1),null!=e.enableBackground&&(r.properties.enableBackground=e.enableBackground),e.enableBackground&&(r.properties.backgroundColor=e.backgroundColor,r.properties.backgroundTransparency=Math.round(100*e.backgroundTransparency)),null==e.seriesWordWrap||e.selector||(r.properties[N.lineChartProps.seriesLabels.seriesWordWrap.propertyName]=e.seriesWordWrap),null==e.seriesMaximumWidth||e.selector||(r.properties[N.lineChartProps.seriesLabels.seriesMaximumWidth.propertyName]=e.defaultSeriesWidth?null:e.seriesMaximumWidth,o={numberRange:{min:P.MinLabelValue,max:P.MaxLabelValue}},L(r,N.lineChartProps.seriesLabels.seriesMaximumWidth.propertyName,o)),e.showAll&&(r.properties.showAll=!!e.seriesLabelsSettings.showLabelPerSeries),a)for(var n in a)r.properties[n]=a[n];return i&&i.propertyInstanceKind&&(r.propertyInstanceKind=i.propertyInstanceKind),e.enumeration.pushInstance(r)}},P.enumerateCategoryLabels=function(e,t,a,i,o,r,n,l){void 0===o&&(o=!1),void 0===n&&(n=N.visualStyles.create());var s=t||P.getDefaultPointLabelSettings(n),c={objectName:l&&l.objectName?l.objectName:"categoryLabels",selector:null,properties:{}};a&&(c.properties.color=s.categoryLabelColor||s.fontProperties.color),c.properties.show=o?s.showCategory:s.show,c.properties.fontSize=t?t.fontProperties.size.pt:P.DefaultFontSizeInPt,c.properties.fontFamily=t?t.fontProperties.family:P.DefaultLabelFontFamily,i.enableBIU&&(c.properties.bold=!!t&&t.bold,c.properties.italic=!!t&&t.italic,c.properties.underline=!!t&&t.underline),c.properties.enableBackground=!!t&&!!t.enableBackground,t&&t.enableBackground&&(c.properties.enableBackground=!0,c.properties.backgroundColor=t.backgroundColor||N.ColorHelper.getThemeColor(n,P.DefaultLabelBackgroundColorName),c.properties.backgroundTransparency=null!=t.backgroundTransparency?Math.round(100*t.backgroundTransparency):Math.round(100*P.DefaultLabelBackgroundTransparency)),r&&(c.properties.fontSize=r),l&&l.propertyInstanceKind&&(c.propertyInstanceKind=l.propertyInstanceKind),e.pushInstance(c)},P.getCategoryLabelsCard=function(t){var e=t.cardName,a=t.isShowCategory,i=t.props,o=t.revertToDefaultProps,r=t.showBackground,n=t.showValueColor,l=t.style,s=t.featureSwitches,c=t.disabled,u=t.disabledReason,p=null!=(d=t.dataLabelSettings)?d:h(l),d=new N.builder.FormattingCardBuilder(new N.builder.FormattingCardUidBuilder("categoryLabels"),e,o,t.localize),e=(new N.builder.FontControlBuilder).withFontFamily({descriptor:i.fontFamily,value:null!=(e=p.fontProperties.family)?e:P.DefaultLabelFontFamily}).withFontSizeProperties({descriptor:i.fontSize,value:null!=(o=p.fontProperties.size.pt)?o:P.DefaultFontSizeInPt}),m=(s.enableBIU&&e.withBold({descriptor:i.bold,value:p.bold}).withItalic({descriptor:i.italic,value:p.italic}).withUnderline({descriptor:i.underline,value:p.underline}),e.build());return d.withDescription("Visual_CategoryLabelOptionsDescription").addTopLevelToggle("show",(function(){return new x.ToggleSwitchBuilder({descriptor:i.show,value:a?p.showCategory:p.show}).build()})).addGroup("values",(function(e){r&&e.withDisplayName("Role_DisplayName_Values"),e.addCompositeSlice("font","Font",m),n&&e.addSimpleSlice("color",new N.builder.ColorPickerBuilder({descriptor:i.color,value:{value:null!=(e=p.categoryLabelColor)?e:p.fontProperties.color}}).build())})),r&&d.addGroup("background",(function(e){e.withDisplayName("Visual_Background").addTopLevelToggle("show",(function(){return new x.ToggleSwitchBuilder({descriptor:i.enableBackground,value:p.enableBackground}).build()})).addSimpleSlice("color",new N.builder.ColorPickerBuilder({descriptor:i.backgroundColor,value:{value:null!=(e=p.backgroundColor)?e:N.ColorHelper.getThemeColor(l,P.DefaultLabelBackgroundColorName)}}).build()).addSimpleSlice("transparency",x.SliderBuilder.getTransparencySliderBuilder({descriptor:i.backgroundTransparency,value:Math.round(100*(null!=(e=p.backgroundTransparency)?e:P.DefaultLabelBackgroundTransparency)),localize:t.localize}).build())})),c&&d.withDisabled(!0,u),d.build()},P.addCategoryLabelsOptionsFormattingGroup=M,P.addCategoryLabelsValuesFormattingGroup=R,P.addCategoryLabelsBackgroundFormattingGroup=A,P.createCategoryLabelsFormattingContainers=function(e,t){M(e,t),R(e,t),e.showBackground&&A(e)}})(powerbi=powerbi||{}),(function(C){var N,e,t,x,w,o,r,a;function p(e){var t=0===e.labelOrientation,a=t?e.boundingBox.width:e.boundingBox.width/2,t=e.hasBackground&&t?x.horizontalLabelBackgroundPadding:0;return e.boundingBox.left+a-t}function P(e){var t=0===e.labelOrientation,a=t?e.boundingBox.height/2:e.boundingBox.height,t=e.hasBackground&&!t?x.verticalLabelBackgroundPadding:0;return e.wordBreak&&(a=e.boundingBox.height/2,t=-x.verticalLabelBackgroundPadding),e.boundingBox.top+a-t}function i(e){function t(e){return l?(!i||!e.hasBackground)&&(i||o&&null!=e.tooltip)?"all":"none":o&&null!=e.tooltip?"all":"none"}var a=e.dataLabels,i=e.formatMode,o=e.hasTooltip,r=e.labelContext,n=e.numeric,l=e.onObject,e=e.twoRows,s={transform:function(e){var t="translate("+p(e)+","+P(e)+")";return 0===e.labelOrientation?t+"rotate(-90)":t},dy:w},c=(n&&(s.dy=void 0),r.selectAll(x.LabelSelector).data(a,M)),u=c.enter().append("text").classed(x.LabelClass,!0).merge(c),c=(l&&d(u,(function(e){return i&&!e.hasBackground})),u.interrupt().text((function(e){return e.text})).attrs(s).style("text-anchor",(function(e){return e.textAnchor})).styles((function(e){return N.FontProperties.toSVGStyle(e.fontProperties)})),c.exit().remove(),s={transform:function(e){return"translate("+(e.boundingBox.left+e.boundingBox.width/2)+","+(t=void 0!==(e=e).text?e.boundingBox.height/2:e.boundingBox.height,e.boundingBox.top+t)+")";var t},dy:w},n&&(s.dy=void 0),_.filter(e?a:[],(function(e){return!_.isEmpty(e.secondRowText)}))),n=r.selectAll(x.SecondLineLabelSelector).data(c,(function(e,t){return e.identity?e.identity.getKeyWithoutHighlight():t.toString()})),e=n.enter().append("text").classed(x.SecondLineLabelClass,!0).merge(n);l&&d(e,(function(e){return i&&!e.hasBackground})),e.interrupt().text((function(e){return e.secondRowText})).attrs(s).style("text-anchor",(function(e){return e.textAnchor})).styles((function(e){return N.FontProperties.toSVGStyle(e.fontProperties)})),o&&(u.append("title").text((function(e){return e.tooltip})),e.append("title").text((function(e){return e.tooltip})));return u.style("pointer-events",t),e.style("pointer-events",t),n.exit().remove(),u}function n(e,t,a,i,o,r,n,l,s){var c={transform:function(e){var t=o?x.horizontalSeriesLabelPadding:-x.horizontalSeriesLabelPadding,a=(a=e.hasBackground?x.horizontalLabelBackgroundPadding:0,e.boundingBox.left+a+t),t="translate(".concat(a,",").concat(P(e),")");return 0===e.labelOrientation?t+"rotate(-90)":t},dy:w},e=e.selectAll(x.LabelSeriesSelector).data(a,M),u=e.enter().append("text").classed(x.LabelSeriesClass,!0).merge(e),p=(s&&u.classed(N.HtmlSubSelectableClass,!0).attr(N.SubSelectableObjectNameAttribute,"series-labels").attr(N.SubSelectableDisplayNameAttribute,"Visual_SeriesLabels").attr(N.SubSelectableTypeAttribute,1),[]),d=0,s=(u.interrupt().text((function(e){return r?e.text:L(e.text,e.fontProperties&&e.fontProperties.size?e.fontProperties.size.pt:void 0,e.fontProperties?e.fontProperties.family:void 0,i)})).attrs(c).styles((function(e){return N.FontProperties.toSVGStyle(e.fontProperties)})).styles({"text-anchor":o?"start":"end","white-space":"pre"}),u.nodes());if(r)for(var c=C.TextMeasurementService.estimateSvgTextHeight(x.LabelTextProperties),m=l+c+(n.height-c-l)/2,y=0,g=s;y<g.length;y++){var h=(v=g[y]).textContent,b=C.TextMeasurementService.getSvgMeasurementProperties(v),h=(v.textContent=null,V(h,b,i,n.height-m,void 0,!0,!0)),h=T(v,h,b,i);a[d].hasBackground&&p.push(h),d++}else for(var f=0,S=s;f<S.length;f++){var v=S[f];a[d].hasBackground&&p.push(D(v)),d++}e.exit().remove();c=_.filter(a,(function(e){return e.hasBackground})),l=t.selectAll("rect");return(l=l.data(c,M)).enter().append("rect").merge(l).attr("transform",(function(e,t){var a=e.boundingBox.left,t=(o||(a-=p[t]),o?x.horizontalSeriesLabelPadding:-x.horizontalSeriesLabelPadding);return"translate("+(a+=t)+","+(t=0,(a=e).wordBreak||(t=(a.boundingBox.height+2*x.verticalLabelBackgroundPadding)/4),a.boundingBox.top-t)+")"})).attr("rx",4).attr("ry",4).attr("width",(function(e,t){return p[t]+2*x.horizontalLabelBackgroundPadding})).attr("height",(function(e){return void 0===e.text&&void 0===e.secondRowText?0:e.boundingBox.height+2*x.verticalLabelBackgroundPadding})).style("fill",(function(e){return e.backgroundColor})).style("fill-opacity",(function(e){return 1-e.backgroundTransparency})),l.exit().remove(),u}function T(e,t,a,i){for(var o=d3.select(e),r=C.TextMeasurementService.estimateSvgTextHeight(a),n=Math.min(t.length,2),l=0,s=0;s<n;s++){a.text=t[s],2<t.length&&s&&(a.text=t[s].concat("..."));var c=C.TextMeasurementService.getTailoredTextOrDefault(a,i),c=(o.append("tspan").attr("id","wordWrap".concat(t[s])).attrs({x:0,dy:s?r:w}).text(c),C.TextMeasurementService.measureSvgTextWidth(a,c)),l=l<c?c:l}return l}function V(e,t,a,i,o,r,n){void 0===o&&(o=0),void 0===r&&(r=!1),void 0===n&&(n=!1);o=C.TextMeasurementService.estimateSvgTextHeight(t)+o,i=Math.max(1,Math.floor(i/o));return jsCommon.WordBreaker.splitByWidth(e,t,C.TextMeasurementService.measureSvgTextWidth,a,i,null,!1,r,n)}function D(e){var t=C.TextMeasurementService.getSvgMeasurementProperties(e),e=e.textContent;return C.TextMeasurementService.measureSvgTextWidth(t,e)}function l(e,t,a,i,o,r){void 0===i&&(i=!1),void 0===o&&(o=d3.easeCubicInOut);var n={transform:function(e){var t="translate("+p(e)+","+P(e)+")";return 0===e.labelOrientation?t+"rotate(-90)":t},dy:w},i=(i&&(n.dy=void 0),e.selectAll(x.LabelSelector).data(t,M)),e=i.enter().append("text").classed(x.LabelClass,!0).style("opacity",0).attrs(n).merge(i);return r&&e.classed(N.HtmlSubSelectableClass,!0).attr(N.SubSelectableObjectNameAttribute,(function(e){return e.isCategory?"category-labels":"data-labels"})).attr(N.SubSelectableDisplayNameAttribute,"Visual_DataPointsLabels").attr(N.SubSelectableTypeAttribute,1),e.text((function(e){return e.text})).style("text-anchor",(function(e){return e.textAnchor})).styles((function(e){return N.FontProperties.toSVGStyle(e.fontProperties)})).transition().ease(o).duration(a).attrs(n).style("opacity",1),i.exit().transition().duration(a).style("opacity",0).remove(),e}function s(e){var t=e.context,a=e.dataLabels,i=e.formatMode,e=e.onObject,a=_.filter(a,(function(e){return e.hasBackground})),t=t.selectAll("rect"),a=(t=t.data(a,M)).enter().append("rect").merge(t);return a.classed(x.LabelBackgroundClass,!0).attr("x",(function(e){return e.boundingBox.left-x.horizontalLabelBackgroundPadding})).attr("y",(function(e){return e.boundingBox.top-x.verticalLabelBackgroundPadding})).attr("rx",4).attr("ry",4).attr("width",(function(e){return e.boundingBox.width+2*x.horizontalLabelBackgroundPadding})).attr("height",(function(e){return void 0===e.text&&void 0===e.secondRowText?0:e.boundingBox.height+2*x.verticalLabelBackgroundPadding})).style("fill",(function(e){return e.backgroundColor})).style("fill-opacity",(function(e){return 1-e.backgroundTransparency})),e&&d(a,(function(e){return i&&e.hasBackground})),t.exit().remove(),a}function d(e,t){e.classed(N.HtmlSubSelectableClass,(function(e){return t(e)})).attr(N.SubSelectableObjectNameAttribute,(function(e){return t(e)?e.isCategory?"category-labels":e.isTotal?"total-labels":"data-labels":null})).attr(N.SubSelectableDisplayNameAttribute,(function(e){return t(e)?e.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null})).attr(N.SubSelectableTypeAttribute,(function(e){return t(e)?1:null}))}function c(e,t,a,i,o){void 0===i&&(i=!1),void 0===o&&(o=d3.easeCubicInOut);i=_.filter(t,(function(e){return e.hasBackground})),t=e.selectAll("rect").data(i,M),e=t.enter().append("rect").style("fill-opacity",0).merge(t);return e.transition().ease(o).duration(a).attrs({x:function(e){return e.boundingBox.left-x.horizontalLabelBackgroundPadding},y:function(e){return e.boundingBox.top-x.verticalLabelBackgroundPadding},rx:4,ry:4,width:function(e){return e.boundingBox.width+2*x.horizontalLabelBackgroundPadding},height:function(e){return void 0===e.text&&void 0===e.secondRowText?0:e.boundingBox.height+2*x.verticalLabelBackgroundPadding}}).style("fill",(function(e){return e.backgroundColor})).style("fill-opacity",(function(e){return 1-e.backgroundTransparency})),t.exit().transition().duration(a).style("fill-opacity",0).remove(),e}function u(e,t){var a;this.noPrecision=!0,0===t.displayUnits&&(a=e.formatter,this.units=a&&a.displayUnit&&a.displayUnit.value,null==t.precision)&&(this.noPrecision=!1,(t=a&&a.options)&&t.precision?this.precisionForAxis=e.formatter.options.precision+1:(a=e.axis.tickValues())&&a.length&&(e=a[0],a=1<a.length?a[1]:void 0,this.precisionForAxis=N.AxisHelper.calculateAxisPrecision(e,a,10*(this.units||1),t&&t.format)))}function L(e,t,a,i){var o=x.LabelTextProperties,e={text:e,fontFamily:a||o.fontFamily,fontSize:jsCommon.PixelConverter.fromPoint(t),fontWeight:o.fontWeight};return C.TextMeasurementService.getTailoredTextOrDefault(e,i)}function M(e,t){return e.key||(e.identity?e.identity.getKeyWithoutHighlight():t)}N=C.visuals||(C.visuals={}),e=jsCommon.CssConstants.createClassAndSelector,t=jsCommon.PixelConverter,(x=N.DataLabelRenderer||(N.DataLabelRenderer={})).DefaultLabelFontSizeInPt=9,x.MapPolylineOpacity=.5,x.LabelDensityBufferFactor=3,x.LabelDensityPadding=6,x.LineStrokeWidth=1,x.startingLabelOffset=8,x.maxLabelOffset=8,x.maxLabelWidth=50,x.hundredPercentFormat="0.00 %;-0.00 %;0.00 %",x.DefaultFontSizeInPt=9,x.DefaultLabelFontFamily=N.Font.Family.regularSecondary.css,x.defaultFontProperties={family:x.DefaultLabelFontFamily,size:N.Units.FontSize.createFromPt(x.DefaultFontSizeInPt),weight:"normal"},x.LabelTextProperties={fontFamily:N.Font.Family.regularSecondary.css,fontSize:t.fromPoint(x.DefaultLabelFontSizeInPt),fontWeight:"normal"},x.horizontalLabelBackgroundPadding=4,x.verticalLabelBackgroundPadding=2,x.horizontalSeriesLabelPadding=5,w="-0.25em",x.labelGraphicsContextClass=e("labelGraphicsContext"),x.labelBackgroundGraphicsContextClass=e("labelBackgroundGraphicsContext"),t=e("label"),x.LabelClass=t.class,x.LabelSelector=t.selector,t=e("label-background"),x.LabelBackgroundClass=t.class,x.LabelBackgroundSelector=t.selector,t=e("seriesLabel"),x.LabelSeriesClass=t.class,x.LabelSeriesSelector=t.selector,t=e("label-second-line"),x.SecondLineLabelClass=t.class,x.SecondLineLabelSelector=t.selector,o=e("leader-lines"),r=e("line-label"),x.drawDefaultLabels=i,x.drawDefaultSeriesLabels=n,x.seriesWordBreak=T,x.checkWordBreak=V,x.getSeriesLabelWidth=D,x.animateDefaultLabels=l,x.drawLabelBackground=s,x.animateLabelBackground=c,x.drawLabelLeaderLines=function(e,t,a,i){e.select(o.selector).empty()&&e.append("g").classed(o.class,!0),(e=e.select(o.selector).selectAll("polyline").data(t,a)).enter().append("polyline").classed(r.class,!0).merge(e).attr("points",(function(e){return e.leaderLinePoints})).style("stroke",(function(e){return i||(e.fontProperties?e.fontProperties.color:void 0)})).style("stroke-width",x.LineStrokeWidth),e.exit().remove()},x.drawLabelsAndBackgrounds=function(e){var t=i(e);return s({context:e.backgroundContext,dataLabels:e.dataLabels,formatMode:e.formatMode,onObject:e.onObject}),t},x.drawSeriesLabelsAndBackgrounds=function(e){return n(e.labelContext,e.backgroundContext,e.dataLabels,e.availableWidth,e.position,e.seriesWordWrap,e.plotArea,e.seriesFontSize,e.formatMode)},x.animateLabelsAndBackgrounds=function(e){var t=l(e.labelContext,e.dataLabels,e.duration,e.numeric,e.easeType,e.formatMode);return c(e.backgroundContext,e.dataLabels,e.duration,e.numeric,e.easeType),t},x.getLabelFormattedText=function(e,t,a){return a?a.format(e):C.formattingService.formatValue(e,t)},u.prototype.getPrecision=function(e,t){if(!this.noPrecision)return this.units?this.precisionForAxis:e?void 0:t&&t.integer?0:this.precisionForAxis},a=u,x.UnitsAndPrecision=a,x.getLabelUnitAndPrecisionForAxis=function(e,t){return new a(e,t)},x.createColumnFormatterCacheManager=function(){return new N.ColumnFormatterCacheManager},x.getDisplayUnitValueFromAxisFormatter=function(e,t){return e&&e.displayUnit&&0===t.displayUnits?e.displayUnit.value:null},x.removeDuplicates=function(e){for(var t=[],a={},i=0,o=e;i<o.length;i++){var r,n,l=o[i];null!=l&&(r=1===l.parentType,(n=a[l.text])?(function(t,e,a){return e.some((function(e){return a?N.shapes.Rect.equals(t.parentShape.rect,e.rect):N.shapes.Point.equals(t.parentShape.point,e.point)}))})(l,n,r)||(t.push(l),n.push(l.parentShape)):(t.push(l),a[l.text]=[l.parentShape]))}return t},x.getDataLabelLayoutOptions=function(e){return 10!==e?{maximumOffset:x.maxLabelOffset,startingOffset:x.startingLabelOffset,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:N.CartesianHelper.dataLabelLayoutMaximumOffset,startingOffset:N.CartesianHelper.dataLabelLayoutStartingOffset,offsetIterationDelta:N.CartesianHelper.dataLabelLayoutOffsetIterationDelta,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}},x.getSeriesLabelFormattedText=L,x.getTextSize=function(e,t,a){var i=x.LabelTextProperties,e={text:e,fontFamily:a||i.fontFamily,fontSize:jsCommon.PixelConverter.fromPoint(t),fontWeight:i.fontWeight};return{width:C.TextMeasurementService.measureSvgTextWidth(e),height:C.TextMeasurementService.estimateSvgTextHeight(e)}},x.getNumberOfLabelsToRender=function(e,t,a,i){return null==t||0===t?a:(t=t/100,e=Math.ceil(e/i),1==t?e:a+Math.floor(t*(e-a)))}})(powerbi=powerbi||{}),(function(e){var a,i,t,o,r;function n(e,t){t=parseFloat(t);if(e){var a,i=r[e.graphic.toUpperCase()];if(i&&!isNaN(t))return a=i.statusValues,e.normalizedFiveStateKpiRange&&5===a.length&&(t*=2),e=t+(a.length>>1),[i.kpiIconClass,a[e]].join(" ").trim()}}function l(e,t){if(e)return(1===t?[a,i,e]:[a,e]).join(" ")}e=(e=e.visuals||(e.visuals={})).KpiUtil||(e.KpiUtil={}),a="powervisuals-glyph",i="big-kpi",r={"THREE CIRCLES COLORED":o={kpiIconClass:"circle",statusValues:t=["kpi-red","kpi-yellow","kpi-green"]},"TRAFFIC LIGHT - SINGLE":o,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:t},"ROAD SIGNS":o={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},"THREE SYMBOLS CIRCLED COLORED":o,"TRAFFIC LIGHT":o={kpiIconClass:"traffic-light",statusValues:t},"THREE TRAFFIC LIGHTS RIMMED COLORED":o,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:t={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},"SMILEY FACE":t,THERMOMETER:t,CYLINDER:t,"THREE SIGNS COLORED":t,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":o={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},"GAUGE - ASCENDING":o,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}},e.getClassForKpi=function(e,t,a){return l(n(e,t),a)},e.getKpiImageMetadata=function(e,t,a){if(e=e&&e.kpi){t=n(e,t);if(t)return{caption:t,statusGraphic:e.graphic,class:l(t,a)}}},e.isKpi=function(e){return!(!e||!e.kpi)}})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).DateUtil||(e.DateUtil={})).isEqual=function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.getTime()===t.getTime()},e.getDifferenceInDays=function(e,t){return e=Math.abs(e.valueOf()-t.valueOf()),Math.floor(e/864e5)}})(powerbi=powerbi||{}),(function(e){var y,t;function h(e){this.unsortedLabelDataPointGroups=e.unsortedLabelDataPointGroups,this.series=e.series,this.yScale=e.yScale,this.y2Scale=e.y2Scale,this.viewport=e.viewport}e=e.visuals||(e.visuals={}),(t=y=y||{})[t.Minimum=0]="Minimum",t[t.Maximum=1]="Maximum",t[t.Neither=2]="Neither",h.prototype.getSortedDataLabels=function(){for(var c=this.unsortedLabelDataPointGroups,u=[],p=this,e=0,t=c.length;e<t;e++)!(function(e){var t=c[e],a=h.maxNumberToSortFactor*t.maxNumberOfLabels;if(_.isEmpty(t.labelDataPoints))return;var i=t.labelDataPoints,o=[],e=p.series[e],r=e.data,r=_.some(r,(function(e){return e&&e.highlight}))?_.filter(r,(function(e){return e&&null!=e.value&&e.highlight})):_.filter(r,(function(e){return e&&null!=e.value})),n=h.getMinMaxInRange(0,r.length-1,r),l=p.addFirstLastMaxMin(i,o,n.maxIndex,n.minIndex),s=void 0;a<=l||(e=e.isY2?p.y2Scale:p.yScale,s=p.calculateWeights(i,r,n,e),i=Math.max(a-l,0),l+=p.addLocalMinMaxes(s,o,n.maxIndex,n.minIndex,i)),a<=l||(r=Math.max(a-l,0),p.addNonMinMaxes(s,o,r)),u.push({labelDataPoints:o,maxNumberOfLabels:t.maxNumberOfLabels})})(e);return u},h.prototype.calculateWeights=function(e,t,a,i){for(var o,r=t.length,n=this.findMinMaxesBasedOnSmoothedValues(e,t),l=Math.abs(i(a.maxValue)-i(a.minValue)),s=0,c=n.length;s<c;s++){var u,p=n[s],d=void 0;null!=(d=o?(Math.abs((i(o.value)-i(p.value))/l)+Math.abs(o.index-p.index)/(r-1))/2:d)&&o&&(null!=(u=e[o.index]).weight?u.weight=(u.weight+d)/2:u.weight=d,e[p.index].weight=d),o=p}for(var m=0,y=e;m<y.length;m++){var g=y[m];g.weight<h.minimumWeightToConsiderMinMax&&(g.weight=void 0)}return e},h.prototype.findMinMaxesBasedOnSmoothedValues=function(e,t){for(var a=[],i=this.getWindowSize(t),o=i>>1,r=this.calculateSmoothedValues(t,i),n=0,l=e.length;n<l;n++){var s=this.getMinMaxType(n,r);s!==y.Neither&&(s={index:n,type:s,value:t[n].value},a.push(s))}for(var c=0,u=a.length;c<u;c++){var p,d=a[c],m=a[c+1];(p=a[c-1])&&m&&(p=h.getMinMaxInRange(Math.max(p.index,d.index-o),Math.min(m.index,d.index+o),t),m=d.type===y.Maximum?p.maxIndex:p.minIndex,d.index=m,d.value=t[m].value)}return a},h.getMinMaxInRange=function(e,t,a){for(var i,o,r,n,l=e,s=a.length;l<=t&&l<s;l++){var c=a[l].value;null!=c&&((void 0===i||c<i)&&(i=c,r=l),void 0===o||o<c)&&(o=c,n=l)}return{minIndex:r,minValue:i,maxIndex:n,maxValue:o}},h.prototype.getWindowSize=function(e){return 1|e.length/this.viewport.width*h.estimatedLabelWidth},h.prototype.calculateSmoothedValues=function(e,t){for(var a,i=h.getGaussianDistribution(t),o=[],r=0,n=e.length;r<n;r++)1===t?o.push(e[r].value):(a=this.getSmoothedValue(e,r,t,i),o.push(a));return o},h.getGaussianDistribution=function(e){for(var t=[],a=e>>1,i=a,o=a/2,r=0;r<a;r++){var n=+Math.pow(Math.E,(r-i)*(r-i)*-1/(2*o*o));t.push(n)}t.push(1);for(r=a-1;0<=r;r--)t.push(t[r]);return t},h.prototype.getSmoothedValue=function(e,t,a,i){if(null==e[t].value)return e[t].value;for(var a=a>>1,o=t+a,r=0,n=0,l=e.length-1,s=t-a,c=0;s<=o;s++,c++){var u=e[Math.max(0,Math.min(s,l))].value;null!=u&&(r+=u*i[c],n++)}return r/n},h.prototype.addFirstLastMaxMin=function(e,t,a,i){var o,r=0;return _.isEmpty(e)||(t.push(e[0]),r++,0!=(o=e.length-1)&&(t.push(e[o]),r++),0!==a&&a!==o&&(t.push(e[a]),r++),0!==i&&i!==o&&(t.push(e[i]),r++)),r},h.prototype.addLocalMinMaxes=function(e,t,a,i,o){for(var r=e.length-1,e=_.filter(e,(function(e,t){return 0!==t&&t!==r&&t!==a&&t!==i&&null!=e.weight})),n=_.sortBy(e,(function(e){return-e.weight})),l=0,s=0,c=Math.min(n.length,o);s<c;s++)t.push(n[s]),l++;return l},h.prototype.addNonMinMaxes=function(e,t,a){for(var i,o=[],r=0,n=e.length;r<n;r++)null!=e[r].weight?i&&0<i.count&&(o.push(i),i=null):i?i.count++:i={startingIndex:r,count:1};for(var l=0;0<o.length&&l<a;){for(var s=0,c=0,u=0,p=o.length;u<p;u++){var d=o[u].count;s<d&&(s=d,c=u)}var m,y,g=o.splice(c,1)[0];1===g.count?t.push(e[g.startingIndex]):(m=(g.count>>1)+g.startingIndex,t.push(e[m]),0<(y=m-g.startingIndex)&&o.push({startingIndex:g.startingIndex,count:y}),0<(y=g.startingIndex+g.count-m-1)&&o.push({startingIndex:m+1,count:y})),l++}},h.prototype.getMinMaxType=function(e,t){var a,i=t[e];return null==t[e]||t.length<2?y.Neither:null==t[e-1]?t[e+1]>i?y.Minimum:y.Maximum:null==t[e+1]?t[e-1]>i?y.Minimum:y.Maximum:(a=t[e-1],t=t[e+1],null==a&&null==t?y.Neither:null==a?i<t?y.Minimum:y.Maximum:null==t?i<a?y.Minimum:y.Maximum:i<a&&i<t?y.Minimum:a<i&&t<i?y.Maximum:y.Neither)},h.estimatedLabelWidth=40,h.minimumWeightToConsiderMinMax=.015,h.maxNumberToSortFactor=2,t=h,e.MinMaxLabelDataPointSorter=t})(powerbi=powerbi||{}),(function(e){function t(e,t,a,i,o){void 0===t&&(t=!0),void 0===a&&(a=250),void 0===i&&(i=1700),void 0===o&&(o=100),this.callback=e,this.enabled=t,this.distanceFactor=a,this.timeFactor=i,this.sampleTime=o,this.points=[]}e=e.visuals||(e.visuals={}),t.prototype.addPoint=function(e,t){for(var a=this.points,i=Date.now();!(_.isEmpty(a)||i-a[0].timestamp<this.sampleTime);)a.shift();a.push({x:e,y:t,timestamp:i})},t.prototype.hasStarted=function(){return this.started},t.prototype.start=function(){var i,e,t,a,o,r,n,l,s,c,u,p=this;!this.enabled||this.points.length<=1||(this.started&&this.stop(),i=d3.easeCubicOut,t=_.last(this.points),a=_.head(this.points),e=t.x-a.x,o=t.y-a.y,t=e/(e=t.timestamp-a.timestamp),a=o/e,o=window.distanceFactor||this.distanceFactor,r=t*o,n=a*o,l=Math.sqrt(Math.pow(t,2)+Math.pow(a,2))*window.timeFactor||this.timeFactor,c=s=0,this.started=!0,u=d3.timer((function(e){var t,a;(p.stopRequested||(a=Math.min(1,+e/l),a=i(a),s+=t=a*r-s,c+=a=a*n-c,p.callback&&(0<Math.abs(t)||0<Math.abs(a))&&p.callback(t,a),l<e))&&(p.clearState(),u.stop())})))},t.prototype.stop=function(){this.started&&(this.stopRequested=!0)},t.prototype.clearState=function(){this.started=!1,this.stopRequested=!1},e.Inertia=t})(powerbi=powerbi||{}),(function(e){var i,o,r,a,t,n;function l(e,i){e.on("click",(function(e){b(e.data||e,i)})),e.on("keydown.select",(function(e){var t=d3.event,a=t.keyCode;32!==a&&13!==a||(b(e.data||e,i),t.preventDefault(),t.stopPropagation())}),!0)}function s(e){e.on("click",null),e.on("keydown.select",null)}function c(e){e.on("contextmenu",null)}function u(e){return!!e.data}function p(e){return!!e.data}function d(e,t){e.on("contextmenu",(function(e){h(e.data||e,t)}))}function m(e,t,a){e.on(t.node(),"click",(function(){g((function(e){b(e.data||e,a)}),void 0)})),e.on(t.node(),"keydown.select",(function(){var e=d3.event.keyCode;32!==e&&13!==e||g((function(e){b(e.data||e,a)}),!0)}),!0)}function y(e,t,a){e.on(t.node(),"contextmenu",(function(){g((function(e){h(e.data||e,a)}),void 0)}))}function g(e,t){var a=d3.event,i=a.target,i=d3.select(i).datum();i&&(e(i),t)&&(a.preventDefault(),a.stopPropagation())}function h(e,t){var a=d3.event;n.isCtrlOrMeta(a)||(a.preventDefault(),i.EventBubblingUtil.markAsHandled(a),a=r.getPositionOfLastInputEvent(),t.handleContextMenu(e,a))}function b(e,t){var a=r.getPositionOfLastInputEvent(),i=d3.event;o.markSelectionHandled(i),t.handleSelection(e,jsCommon.SelectionUtility.getMultiSelectMode(i),a)}i=e.visuals||(e.visuals={}),n=jsCommon.BrowserUtils,(e=o=i.VisualEvent||(i.VisualEvent={})).markSelectionHandled=function(e){e.selectionHandled=!0},e.isSelectionHandled=function(e){return!!e.selectionHandled},(r=i.InteractivityUtils||(i.InteractivityUtils={})).getPositionOfLastInputEvent=function(){var e=d3.event;return{x:e.clientX,y:e.clientY}},a="keydown.clearCatcher",r.registerClearCatcherShortcut=function(e,t){e.on(a,(function(){var e=d3.event;67===e.keyCode&&e.ctrlKey&&e.shiftKey&&(t.handleClearSelection(),e.preventDefault(),e.stopPropagation())}))},r.removeClearCatcherShortcut=function(e){e.on(a,null)},r.registerStandardInteractivityHandlers=function(e,t){l(e,t),d(e,t)},r.registerStandardSelectionHandler=l,r.removeStandardSelectionHandler=s,r.removeStandardContextMenuHandler=c,r.removeStandardInteractivityHandlers=function(e){s(e),c(e)},r.isSelectableDataPointContainer=u,r.DataPointNavigationEvent="keydown.dataPoint",r.registerDataPointNavigationHandler=function(e,i,o){e.on(r.DataPointNavigationEvent,(function(){var t=d3.event,a=t.keyCode;9!==a&&37!==a&&39!==a&&38!==a&&40!==a||g((function(e){t.preventDefault(),t.stopPropagation();e=e.data||e;i.handleKeyDownEvent(o,e.categoryIndex,e.seriesIndex,a,t.shiftKey)}),void 0)}))},r.removeDataPointNavigationHandler=function(e){e.on(r.DataPointNavigationEvent,null)},r.isNavigableDataPointContainer=p,t="keydown.enterPlotArea",r.registerEnterPlotAreaHandler=function(a,i,o){a.on(t,(function(){var e=d3.event,t=e.keyCode;13===t?(e.preventDefault(),e.stopPropagation(),i.goToFirstElement(o)):27===t&&e.target!==a.node()&&(e.preventDefault(),e.stopPropagation(),t=a.node(),n.focus(t))}))},r.removeEnterPlotAreaHandler=function(e){e.on(t,null)},r.registerStandardContextMenuHandler=d,r.registerGroupInteractivityHandlers=function(e,t,a){m(e,t,a),y(e,t,a)},r.removeGroupSelectionHandler=function(e,t){e.on(t.node(),"click",(function(){return null})),e.on(t.node(),"keydown.select",(function(){return null}))},r.registerGroupSelectionHandler=m,r.registerGroupContextMenuHandler=y,r.tryToSelectD3Target=g,r.appendUseElementForFocus=function(e,t,a){e.selectAll("use").remove(),e.append("use").attr("href","#".concat(i.CurrentFocusDataPointId,"-").concat(t,"-").concat(a)).style("pointer-events","none").style("fill","none")},r.removeUseElementForFocus=function(e){e.selectAll("use").remove()},r.handleSelection=b,r.handleClearSelection=function(e,t){var a=d3.event;n.isCtrlOrMeta(a)||o.isSelectionHandled(a)||t&&(null==t||!t(a))||e.handleClearSelection()},r.lassoSelectPoints=function(e,t,a){var i=0;n.isCtrlOrMeta(e)?i=3:e.shiftKey&&(i=1),a.handleMultipleSelection(t,i,!0)},r.lassoSelectPointsWithMode=function(e,t,a){a.handleMultipleSelection(e,t,!0)}})(powerbi=powerbi||{}),(function(t){var a=t.visuals||(t.visuals={}),l=t.data.DataViewMatrixUtils,n=(a.getInvalidValueWarnings=function(e,t,a,i,o,r){return new n(t,a,i,r,o).getWarningMessages(e)},e.prototype.getWarningMessages=function(e){this.loadWarningStatus(e);e=[];return this.hasNaN&&!this.supportsNaN&&e.push(new a.NaNNotSupportedWarning),(this.hasNegativeInfinity&&!this.supportsNegativeInfinity||this.hasPositiveInfinity&&!this.supportsPositiveInfinity)&&e.push(new a.InfinityValuesNotSupportedWarning),this.hasOutOfRange&&e.push(new a.ValuesOutOfRangeWarning),e},e.prototype.loadWarningStatus=function(e){this.hasNaN=!1,this.hasNegativeInfinity=!1,this.hasOutOfRange=!1,this.hasPositiveInfinity=!1;for(var t=0,a=e;t<a.length;t++){var i=a[t];this.preferMatrixDV&&i.matrix?this.readMatrix(i):this.readCategorical(i)}},e.prototype.readCategorical=function(e){var t=e&&e.categorical&&e.categorical.values?e.categorical.values:null;if(t)for(var a=this.valueIndicesToIgnore(_.map(t,(function(e){return e.source}))),i=0,o=t.length;i<o;i++)if(!_.includes(a,i)){var r=t[i];if(r.values)for(var n=0,l=r.values;n<l.length;n++){var s=l[n];this.checkValue(s)}}},e.prototype.valueIndicesToIgnore=function(e){var t=this,a=[];if(!_.isEmpty(this.ignoreRoles))for(var i=0;i<e.length;i++){var o=e[i],o=o&&o.roles&&Object.keys(o.roles);!_.isEmpty(o)&&_.every(o,(function(e){return _.includes(t.ignoreRoles,e)}))&&a.push(i)}return a},e.prototype.readMatrix=function(e){var r=this,n=(e.matrix,this.valueIndicesToIgnore(e.matrix.valueSources));t.data.DataViewMatrixUtils.forEachNodeDepthFirst(e.matrix.rows.root,(function(e,t){if(l.isLeafNode(e)){if(e.values)for(var a=0,i=Object.keys(e.values);a<i.length;a++){var o=i[a],o=e.values[o];_.includes(n,o.valueSourceIndex)||r.checkValue(o&&o.value)}return 1}return r.hasNaN&&r.hasPositiveInfinity&&r.hasNegativeInfinity&&r.hasOutOfRange?0:1}))},e.prototype.checkValue=function(e){isNaN(e)?this.hasNaN=!0:e===Number.POSITIVE_INFINITY?this.hasPositiveInfinity=!0:e===Number.NEGATIVE_INFINITY?this.hasNegativeInfinity=!0:(e<-1e300||1e300<e)&&(this.hasOutOfRange=!0)},e);function e(e,t,a,i,o){this.supportsNaN=e,this.supportsNegativeInfinity=t,this.supportsPositiveInfinity=a,this.preferMatrixDV=i,this.ignoreRoles=o}})(powerbi=powerbi||{}),(function(e){(e=e.visuals||(e.visuals={})).getCoordinates=function(e,t,a){if(void 0===a&&(a=1),t){for(var i,o=d3.event;i=o.sourceEvent;)o=i;var t=e.getBoundingClientRect(),r=[(o.clientX-t.left-e.clientLeft)/a,(o.clientY-t.top-e.clientTop)/a]}else{t=d3.touches(e);t&&0<t.length&&(r=t[0])}return r},e.getElementCenterCoordinates=function(e,t,a){return void 0===a&&(a=1),e=e.getBoundingClientRect(),t=t.getBoundingClientRect(),0===e.width&&0===e.height?[t.width/2/a,t.height/2/a]:[(e.left-t.left+e.width/2)/a,(e.top-t.top+e.height/2)/a]}})(powerbi=powerbi||{}),(function(e){var a,o,r,t;function i(e){var t=this;this.requireKeyModifier=e,this.uiScale=1,this.isSpaceKeyPressed=!1,this.initiateKeyboardDrag=!1,this.lassoMousemoveCallback=function(){t.drag(d3.event)},this.lassoMouseupCallback=function(){t.wasDragged&&d3.event.stopPropagation(),t.endDrag(d3.event),t.body.on("mousemove.lasso",null),t.body.on("mouseup.lasso",null)},this.lassoClickCallback=function(){t.wasDragged&&d3.event.stopPropagation(),t.body.on("click.lasso",null)},this.lassoKeyUpCallback=function(){t.crosshairSVG&&"Space"===d3.event.code&&(d3.event.stopPropagation(),t.isSpaceKeyPressed=!1,t.endKeyboardDrag())},this.lassoBodyKeyUpCallback=function(){"Space"===d3.event.code&&(t.body.on("keydown.keyboardLasso",null),t.body.on("keyup.keyboardLasso",null))},this.lassoKeyBlurCallback=function(){t.crosshairSVG&&t.removeLasso(),d3.select(d3.event.currentTarget).on("blur.keyboardLasso",null)},this.announceLassoKeyboardEnd=function(e){t.hostServices.alertScreenReader(t.hostServices.getLocalizedString("LassoRectangleWidth",[Math.round(e.right-e.left)])),t.hostServices.alertScreenReader(t.hostServices.getLocalizedString("LassoRectangleHeight",[Math.round(e.bottom-e.top)]))}}function n(e){this.behavior=e}function l(e){this.hostServices=e}a=e.visuals||(e.visuals={}),o=jsCommon.BrowserUtils,r=jsCommon.KeyUtils,t=jsCommon.DOMConstants,a.PlotAreaLassoSelectionLimit=3500,a.extractBoundingRectFromLasso=function(e,t){return(t=void 0===t||t)?{left:e.dataSpace.left.value,top:e.dataSpace.top.value,right:e.dataSpace.right.value,bottom:e.dataSpace.bottom.value}:{left:e.pixelValue.left,top:e.pixelValue.top,right:e.pixelValue.right,bottom:e.pixelValue.bottom}},i.prototype.init=function(e,t,a,i){this.body=d3.select("body"),this.surfaces=e,this.svg=t,this.hostServices=a,this.featureSwitches=i,this.initDragEvents(),this.behaviors=[],this.forceLasso=!1},i.prototype.setUiScale=function(e){this.uiScale=e},i.prototype.setForceLasso=function(e){this.forceLasso=e;for(var t=0,a=this.surfaces;t<a.length;t++)a[t].classed("pendingLasso",e)},i.prototype.initDragEvents=function(){for(var t=this,a=this,e=0,i=this.surfaces;e<i.length;e++)!(function(e){e.on("mousedown.lasso",(function(){t.startDrag(d3.event)&&(t.body.on("mousemove.lasso",t.lassoMousemoveCallback,!0),t.body.on("mouseup.lasso",t.lassoMouseupCallback,!0),t.body.on("click.lasso",t.lassoClickCallback,!0))}),!0),a.featureSwitches.keyboardShortcutsLassoSelect&&(e.on("keydown.keyboardLasso",(function(){"KeyS"===d3.event.code||"Space"===d3.event.code||r.isArrowKeyboardEventCode(d3.event.code)||d3.event.shiftKey||d3.event.ctrlKey?("Space"===d3.event.code&&(d3.event.preventDefault(),t.isSpaceKeyPressed=!0,t.crosshairSVG)&&d3.event.stopPropagation(),o.isCtrlOrMeta(d3.event)||d3.event.altKey||d3.event.shiftKey||"KeyS"!==d3.event.code||(d3.event.stopPropagation(),t.startKeyboardDrag(),t.crosshairSVG&&(t.body.on("keydown.keyboardLasso",(function(){"Space"===d3.event.code&&(t.isSpaceKeyPressed=!0,d3.event.stopPropagation()),t.body.on("keyup.keyboardLasso",t.lassoBodyKeyUpCallback,!0)}),!0),e.on("blur.keyboardLasso",t.lassoKeyBlurCallback,!0))),t.crosshairSVG&&r.isArrowKeyboardEventCode(d3.event.code)&&(d3.event.preventDefault(),d3.event.stopPropagation(),t.keyboardDrag())):t.removeLasso()}),!0),e.on("keyup.keyboardLasso",a.lassoKeyUpCallback,!0))})(i[e])},i.prototype.removeLasso=function(){this.dragRect&&(this.dragRect=void 0),this.dragRectSelection&&(this.dragRectSelection.remove(),this.dragRectSelection=void 0),this.crosshairSVG&&(this.crosshairSVG.remove(),this.crosshairSVG=void 0),this.lassoPointerPosition=void 0,this.initiateKeyboardDrag=!1},i.prototype.startKeyboardDrag=function(){var e=this.lassoPointerPosition=a.getElementCenterCoordinates(d3.event.target,this.svg.node(),this.uiScale);this.crosshairSVG||(this.crosshairSVG=this.svg.append("path").attr("id","lasso-pointer").attr("fill","#000").attr("stroke","#fff").attr("stroke-linecap","square").attr("d","M11.03 1V.5H8.97v8.458h2.06V1Zm.558 8.005h-.5V11.05H19.5V9.005h-7.912Zm-2.676.5v-.5H.5V11.05H8.912V9.505Zm2.117 2.037v-.5H8.971V19.5h2.058v-7.958Z").attr("transform","translate(".concat(e[0]-10,",").concat(e[1]-10,")")))},i.prototype.keyboardDrag=function(){var e,t=this.lassoPointerPosition;if(this.crosshairSVG&&this.lassoPointerPosition)switch(d3.event.code){case"ArrowRight":this.lassoPointerPosition=[Math.min(this.svg.node().clientWidth,t[0]+5),t[1]];break;case"ArrowLeft":this.lassoPointerPosition=[Math.max(0,t[0]-5),t[1]];break;case"ArrowUp":this.lassoPointerPosition=[t[0],Math.max(0,t[1]-5)];break;case"ArrowDown":this.lassoPointerPosition=[t[0],Math.min(this.svg.node().clientHeight,t[1]+5)]}this.lassoPointerPosition&&(e={x:this.lassoPointerPosition[0],y:this.lassoPointerPosition[1]},this.wasDragged=this.isBeingDragged(e)),this.crosshairSVG&&this.lassoPointerPosition&&this.crosshairSVG.attr("transform","translate(".concat(this.lassoPointerPosition[0]-10,",").concat(this.lassoPointerPosition[1]-10,")")),this.isSpaceKeyPressed&&(this.dragRectSelection||(this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0)),this.initiateKeyboardDrag||(this.dragStart={x:t[0],y:t[1]},this.initiateKeyboardDrag=!0),this.updateDragRect(this.lassoPointerPosition))},i.prototype.endKeyboardDrag=function(){var e,t;this.wasDragged&&this.dragRect&&(e=this.createMouseEvent(d3.event),t={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height},this.onRectEnd(e,t),this.removeLasso(),this.announceLassoKeyboardEnd(t))},i.prototype.createMouseEvent=function(e){return new MouseEvent("mousemove.keyboardLasso",{ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,altKey:e.altKey})},i.prototype.startDrag=function(e){if(this.wasDragged=!1,this.removeLasso(),!this.forceLasso&&(!this.onRectStart(e)||!o.isCtrlOrMeta(e)&&!e.shiftKey&&(0!==this.hostServices.getViewMode()||this.requireKeyModifier)))return!1;this.requireKeyModifier&&d3.event.stopPropagation();e=a.getCoordinates(this.svg.node(),!0,this.uiScale);return this.dragStart={x:e[0],y:e[1]},this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0),this.updateDragRect(e),!0},i.prototype.endDrag=function(e){var t=a.getCoordinates(this.svg.node(),!0,this.uiScale),t=(this.updateDragRect(t),{left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height});this.wasDragged&&(this.onRectEnd(e,t),this.announceLassoKeyboardEnd(t),e.stopPropagation()),this.removeLasso(),this.setForceLasso(!1),this.dragRect&&(this.dragRect=null)},i.prototype.drag=function(e){e.stopPropagation();var t,e=a.getCoordinates(this.svg.node(),!0,this.uiScale);this.wasDragged||(t={x:e[0],y:e[1]},this.wasDragged=this.isBeingDragged(t)),this.updateDragRect(e)},i.prototype.updateDragRect=function(e){e=this.dragRect=this.getDragRect(e,this.dragStart);this.renderDragRect(e)},i.prototype.renderDragRect=function(e){this.dragRectSelection&&this.dragRectSelection.attrs({x:e.left,y:e.top,width:e.width,height:e.height})},i.prototype.onRectEnd=function(e,t){for(var a=0,i=this.behaviors;a<i.length;a++){var o=i[a];o.onRectEnd&&o.onRectEnd({event:e,rect:t})}},i.prototype.onRectStart=function(e){for(var t=!0,a=0,i=this.behaviors;a<i.length;a++){var o=i[a];o.onDragStart&&(t=t&&o.onDragStart(e))}return t},i.prototype.getDragRect=function(e,t){var a=e[0]-t.x,i=e[1]-t.y;return{left:Math.min(t.x,e[0]),top:Math.min(t.y,e[1]),width:this.crosshairSVG&&0==a?1:Math.abs(a),height:this.crosshairSVG&&0==i?1:Math.abs(i)}},i.prototype.isBeingDragged=function(e){return this.dragStart&&(3<=Math.abs(e.x-this.dragStart.x)||3<=Math.abs(e.y-this.dragStart.y))},a.PlotAreaLassoManager=i,n.prototype.onRectEnd=function(e){var t=e.event,e=e.rect;e.bottom!==e.top&&e.left!==e.right&&this.selectRegion(t,e)},n.prototype.onRectHover=function(e){var t=e.event,e=e.rect;this.behavior.hoverLassoRegion&&this.behavior.hoverLassoRegion(t,e)},n.prototype.onDragStart=function(e){return e.button===t.MouseButton.Main},n.prototype.selectRegion=function(e,t){this.behavior.lassoSelectRect&&this.behavior.lassoSelectRect(e,t)},a.LassoSelectionBehavior=n,l.prototype.onRectEnd=function(e){var t=e.event,e=e.rect;2===t.button?this.unzoomRegion():this.zoomRegion(e)},l.prototype.zoomRegion=function(e){this.hostServices.persistProperties({replace:[{objectName:"categoryAxis",properties:{start:e.left,end:e.right},selector:null},{objectName:"valueAxis",properties:{start:e.bottom,end:e.top},selector:null}]})},l.prototype.unzoomRegion=function(){this.hostServices.persistProperties({remove:[{objectName:"categoryAxis",properties:{start:null,end:null},selector:null},{objectName:"valueAxis",properties:{start:null,end:null},selector:null}]})},a.LassoZoomBehavior=l})(powerbi=powerbi||{}),(function(n){var l,e,r,i;function o(e,t){e.properties[l.lineChartProps.lineStyles.showMarker.propertyName]=t.showMarker,t.showMarker&&(e.properties[l.lineChartProps.lineStyles.markerShape.propertyName]=t.shape,e.properties[l.lineChartProps.lineStyles.markerSize.propertyName]=t.size,e.properties[l.lineChartProps.lineStyles.markerColor.propertyName]=t.color)}l=n.visuals||(n.visuals={}),r=n.visuals.builder,i=n.data.Selector.normalizeSelector,(e=l.LineStyle||(l.LineStyle={})).readFromStaticObjects=function(e,t,a){return{shadeArea:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.shadeArea,!1),strokeWidth:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.strokeWidth,l.CartesianHelper.defaultLineStrokeWidth),lineJoin:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.strokeLineJoin,l.strokeLineJoin.defaultValue),style:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.lineStyle,l.lineStyle.solid),markerProperties:t?l.MarkerProperties.readFromStaticObjects(e,a):l.MarkerProperties.getDefault(),stepped:n.DataViewObjects.getValue(e,l.lineChartProps.lineStyles.stepped,!1)}},e.readFromSeriesObjects=function(e,t,a,i,o){var r=n.Prototype.inherit(t),t=l.MarkerProperties.readFromSeries(e,t.markerProperties,a,o,!i);return r.markerProperties=t,e.data.hasSeries()&&i&&(o=e.objects.getSeriesDataObjects(a),null!=(t=n.DataViewObjects.getValue(o,l.lineChartProps.lineStyles.strokeWidth))&&(r.strokeWidth=t),null!=(i=n.DataViewObjects.getValue(o,l.lineChartProps.lineStyles.strokeLineJoin))&&(r.lineJoin=i),null!=(e=n.DataViewObjects.getValue(o,l.lineChartProps.lineStyles.lineStyle))&&(r.style=e),null!=(a=n.DataViewObjects.getValue(o,l.lineChartProps.lineStyles.shadeArea))&&(r.shadeArea=a),null!=(t=n.DataViewObjects.getValue(o,l.lineChartProps.lineStyles.stepped)))&&(r.stepped=t),r},e.getDefault=function(){return{strokeWidth:l.CartesianHelper.defaultLineStrokeWidth,lineJoin:l.strokeLineJoin.defaultValue,style:l.lineStyle.solid,markerProperties:l.MarkerProperties.getDefault(),shadeArea:!1,stepped:!1}},e.populateInstance=o,e.enumerate=function(e){var t=e.style,a={selector:i(e.selector),properties:{shadeArea:t.shadeArea,strokeWidth:t.strokeWidth,strokeLineJoin:t.lineJoin},objectName:l.lineChartProps.lineStyles.lineStyle.objectName};a.properties[l.lineChartProps.lineStyles.lineStyle.propertyName]=t.style,o(a,t.markerProperties),a.properties[l.lineChartProps.lineStyles.stepped.propertyName]=t.stepped,null!=(t=e.showSeries)&&(a.properties.showSeries=t),e.enumeration.pushInstance(a)},e.addLineStyleFormattingContainers=function(e,t){var a=e.styleProps,i=e.style,o=e.selector;t.addGroup("shape",(function(e){e.withDisplayName("Visual_Shape"),a.lineStyle&&e.addSimpleSlice("style",new r.DropdownBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.lineStyle),{selector:o}),value:i.style}).build()),a.strokeLineJoin&&e.addSimpleSlice("strokeLineJoin",new r.DropdownBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.strokeLineJoin),{selector:o}),value:i.lineJoin}).build()),a.strokeWidth&&e.addSimpleSlice("strokeWidth",new r.NumUpDownBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.strokeWidth),{selector:o}),value:i.strokeWidth,options:{minValue:{type:0,value:0},maxValue:{type:1,value:12},unitSymbol:l.visualLocKeys.PixelUnitSymbol}}).build()),a.stepped&&e.addSimpleSlice("stepped",new r.ToggleSwitchBuilder({descriptor:__assign(__assign({},l.lineChartObjectProps.lineStyles.stepped),{selector:o}),value:i.stepped}).build())}))},e.getStrokeDashArrayFromLineStyle=function(e){switch(e){case l.lineStyle.dashed:return"5, 5";case l.lineStyle.dotted:return"1, 5";default:l.lineStyle.solid;return null}},e.getSrokeDashArrayForLegend=function(e){switch(e){case l.lineStyle.dashed:return"7,5";case l.lineStyle.dotted:return"2.5,3.1";default:l.lineStyle.solid;return null}},e.getStrokeLineCapFromLineStyle=function(e){switch(e){case l.lineStyle.dashed:case l.lineStyle.solid:return null;case l.lineStyle.dotted:return"round";default:return null}}})(powerbi=powerbi||{}),(function(o){var u=o.visuals||(o.visuals={}),t=((u.ListViewFactory||(u.ListViewFactory={})).createListView=function(e){return new t(e)},u.ListViewLoadMoreDataThreshold=.8,n.prototype.scrollTo=function(e){this.scrollInner.scrollTop(e)},n.prototype.scrollRowIntoView=function(t,a){var i=this,e=this.options,o=e.rowHeight,r=e.paddingBetween,e=e.paddingOuter,n=Math.min(Math.max(t,0),this._totalRows-1),l=this.scrollTop,s=this.getContainerHeight(),c=this.getRowStartPosition(n,o,r,e),n=this.getTotalRowHeight(n,o,r,e),o=this.getNeededScrollChange(c,n,l,s);this.setFocusCallback=a,0!==o?(this.scrollTo(l+o),this.pendingFocusCallback=function(e){e?i.pendingScrollCallback=function(){return i.scrollRowIntoView(t,a)}:i.setFocusCallback&&i.setFocusCallback()}):this.setFocusCallback&&this.setFocusCallback()},n.prototype.getTotalRowHeight=function(e,t,a,i){return 0===e&&(t+=i),e===this._totalRows&&(t+=i),0<e&&(t+=a),t},n.prototype.getNeededScrollChange=function(e,t,a,i){return e<a?Math.floor(e-a):(a=a+i)<(i=e+t)?Math.floor(i-a):0},n.prototype.onScroll=function(){var t=this;this.scrollTop=this.scrollbarInner.node().scrollTop,void 0===this.scrollTimeoutId&&(this.scrollTimeoutId=window.requestAnimationFrame((function(){var e=t.renderImpl(t.options.rowHeight,t.options.paddingBetween,t.options.paddingOuter);t.scrollTimeoutId=void 0,t.pendingFocusCallback&&(t.pendingFocusCallback(e.loadedMore),t.pendingFocusCallback=void 0)})))},n.prototype.resetCallBacks=function(){this.pendingFocusCallback=void 0,this.pendingScrollCallback=void 0,this.setFocusCallback=void 0},n.prototype.destroy=function(){this.scrollInner&&this.scrollInner.scrollbar("destroy"),this.resetCallBacks(),this.clearRenderingTimeout()},n.prototype.getContainerHeight=function(){if(this.options.getContainerHeight){var e=this.options.getContainerHeight();if(null!=e)return e}return $(this.options.baseContainer.node()).outerHeight()},n.setDefaultOptions=function(e){e.rowHeight=n.valueOrDefault(e.rowHeight,n.defaultRowHeight),e.paddingBetween=n.valueOrDefault(e.paddingBetween,n.defaultPaddingBetween),e.paddingOuter=n.valueOrDefault(e.paddingOuter,n.defaultPaddingOuter)},n.valueOrDefault=function(e,t){return e||0===e?e:t},n.prototype.getRowHeight=function(){return this.options.rowHeight},n.prototype.rowHeight=function(e){return this.options.rowHeight=e,this},n.prototype.paddingBetween=function(e){return this.options.paddingBetween=e,this},n.prototype.paddingOuter=function(e){return this.options.paddingOuter=e,this},n.prototype.data=function(e,t,a,i){return void 0===a&&(a=!1),this._data=e,this.getDatumIndex=t,this.setTotalRows(),a&&($(this.scrollbarInner.node()).scrollTop(0),this.resetCallBacks()),this.render(i).catch((function(e){return jsCommon.Trace.error(e)})),this},n.prototype.viewport=function(e){return this.render().catch((function(e){return jsCommon.Trace.error(e)})),this},n.prototype.empty=function(){this._data=[],this.resetCallBacks(),this.render().catch((function(e){return jsCommon.Trace.error(e)}))},n.prototype.clearRenderingTimeout=function(){void 0!==this.renderDelay&&(this.renderDelay.cancel(),this.renderDelay=void 0),void 0!==this.scrollTimeoutId&&(window.cancelAnimationFrame(this.scrollTimeoutId),this.scrollTimeoutId=void 0)},n.prototype.render=function(a){return __awaiter(this,void 0,o.Promise,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:this.clearRenderingTimeout(),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,this.delay()];case 2:return e.sent()?[2]:[3,4];case 3:return this.renderDelay=void 0,[7];case 4:return[4,this.getRowHeightInternal()];case 5:return t=e.sent(),this.renderImpl(t.rowHeight,t.paddingBetween,t.paddingOuter),a&&a(),this.pendingScrollCallback&&(this.pendingScrollCallback(),this.pendingScrollCallback=void 0),[2]}}))}))},n.prototype.delay=function(){return this.renderDelay=new e,this.renderDelay.promise},n.prototype.canScrollTop=function(){return 0!==this.scrollTop},n.prototype.getScroll=function(){return Object.defineProperty(e.prototype,"scrollHeight",{get:function(){return this.self.getTotalHeight(this.self.options.rowHeight,this.self.options.paddingBetween,this.self.options.paddingOuter)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"visibleHeight",{get:function(){return this.self.getContainerHeight()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollTop",{get:function(){return this.self.scrollTop},enumerable:!1,configurable:!0}),new e(this);function e(e){this.self=e}},n.prototype.getTotalHeight=function(e,t,a){t=n.valueOrDefault(t,n.defaultPaddingBetween),a=n.valueOrDefault(a,n.defaultPaddingOuter);return this.options.scrollEnabled?Math.max(0,this._totalRows*e+(this._totalRows-1)*t+2*a):this.getContainerHeight()},n.prototype.renderImpl=function(e,t,a){e=this.getTotalHeight(e,t,a),this.scrollContainer.style("height",e+"px").attr("height",e),t={listView:this,loadMoreData:!0,rowHeight:this.options.rowHeight||n.defaultRowHeight,paddingBetween:this.options.paddingBetween||n.defaultPaddingBetween,paddingOuter:this.options.paddingOuter||n.defaultPaddingOuter,scrollTop:this.scrollTop,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer};return this.scrollToFrame(t)},n.prototype.stopTouchPropagation=function(){var e=d3.event;this.options.isReadMode()&&("touchstart"===e.type&&e.touches&&1===e.touches.length&&e.stopPropagation(),"touchmove"===e.type)&&e.stopPropagation()},n.prototype.defaultScrollToFrame=function(e){var t,a,i,o=e.loadMoreData,r=e.rowHeight,n=e.paddingBetween,l=e.paddingOuter,s=e.scrollTop,c=e.totalRows,e=e.visibleGroupContainer,n=(n||l?i=!this._totalRows||!this.options.rowHeight||r<1?(a=u.SVGUtil.translateWithPixels(t=0,0),1):(t=this.getRowIndex(s,r,n,l,!1),a=u.SVGUtil.translateWithPixels(0,0<t?this.getRowStartPosition(t,r,n,l):0),this.getRowIndex(s+this.getContainerHeight(),r,n,l,!0)-t+1):(i=this.getVisibleRowsWithoutPadding(),t=Math.max(0,Math.min(Math.floor(s/r),c-i+1)),a=u.SVGUtil.translateWithPixels(0,t*r)),e.styles({transform:function(e){return a},"-webkit-transform":a}),t+i);return this.currentScrollPosition={startIndex:t,endIndex:n},this.performScrollToFrame(t,n,c,i,o)},n.prototype.getFirstVisibleRow=function(){if(!_.isEmpty(this.visibleData))return this.visibleData[0]},n.prototype.reachedLastRowContent=function(){var e,t,a,i;return 0<this._totalRows&&(e=(a=this.options).rowHeight,t=a.paddingBetween,a=a.paddingOuter,i=this._totalRows-1,this.getRowStartPosition(i,e,t,a)+(0==i?a:t)<this.scrollTop+this.getContainerHeight())},n.prototype.performScrollToFrame=function(e,t,a,i,o){var r=this.options,n=this.visibleGroupContainer,e=(this.visibleData=this._data.slice(e,Math.min(t,a)),!1),l=n.selectAll(".row").data(this.visibleData,this.getDatumIndex);return l.exit().remove(),l.enter().append("div").classed("row",!0).attr("role","none").call((function(e){return r.enter(e)})).merge(l).order(),n.selectAll(".row:not(.transitioning)").call((function(e){return r.update(e)})),o&&(r.customLoadMoreCheck?r.customLoadMoreCheck():(l=t,i!==(n=a)&&l>=n*u.ListViewLoadMoreDataThreshold))&&(e=r.loadMoreData()===u.LoadMoreDataStatus.TriggeredLoadMore),r.afterScroll&&r.afterScroll(),this.setFocusCallback&&this.setFocusCallback(),{loadedMore:e}},n.prototype.getCurrentPosition=function(){return this.currentScrollPosition},n.prototype.setTotalRows=function(){var e=this._data;this._totalRows=e?e.length:0},n.prototype.getVisibleRowsWithoutPadding=function(){var e=this.options,t=e.rowHeight,e=e.scrollEnabled,a=this.getContainerHeight();return!t||t<1?1:(a=a/t,e?Math.min(Math.ceil(a)+1,this._totalRows)||1:Math.min(Math.floor(a),this._totalRows)||1)},n.prototype.getRowIndex=function(e,t,a,i,o){var r=Math.min(e<t+i?0:Math.floor((e-t-i)/(t+a))+1,this._totalRows-1);return r=this.getRowStartPosition(r,t,a,i)===e?o?Math.max(r-1,0):r:r},n.prototype.getRowStartPosition=function(e,t,a,i){return e*t+Math.max(0,e-1)*a+(0<e?i:0)},n.prototype.getRowHeightInternal=function(){var e,t,a=this,i=this.factory.defer(),o=this,r=o.options;return this.cancelMeasurePass&&this.cancelMeasurePass(),this._data&&this._data.length&&r?r&&r.doNotRenderToCalculateRowHeight?i.resolve({rowHeight:r.rowHeight,paddingBetween:r.paddingBetween,paddingOuter:r.paddingOuter}):(e={listView:this,loadMoreData:!1,rowHeight:this.options.rowHeight||n.defaultRowHeight,paddingBetween:n.defaultPaddingBetween,paddingOuter:n.defaultPaddingOuter,scrollTop:this.scrollbarInner.node().scrollTop,totalRows:this._totalRows,visibleGroupContainer:this.visibleGroupContainer,baseContainer:this.options.baseContainer},this.scrollToFrame(e),t=window.requestAnimationFrame((function(){var e=o.visibleGroupContainer.selectAll(".row").filter((function(){return""!==this.textContent||null!==this.querySelector("img")}));(e=e.empty()?o.visibleGroupContainer.select(".row"):e).empty()||(e=e.nodes(),e=a.calculateRowHeight(e),o.rowHeight(e),i.resolve({rowHeight:e,paddingBetween:n.defaultPaddingBetween,paddingOuter:n.defaultPaddingOuter})),o.cancelMeasurePass=void 0})),this.cancelMeasurePass=function(){window.cancelAnimationFrame(t),i.reject({code:"cancelMeasurePass",ignorable:!0})}):(o.rowHeight(n.defaultRowHeight),o.paddingBetween(n.defaultPaddingBetween),o.paddingOuter(n.defaultPaddingOuter),i.resolve({rowHeight:r.rowHeight,paddingBetween:r.paddingBetween,paddingOuter:r.paddingOuter})),i.promise},n.prototype.calculateRowHeight=function(e){for(var t=e.length<2?e.length:2,a=0,i=0;i<t;i++)a=Math.max(a,this.measureElementHeight(e[i]));return a},n.prototype.measureElementHeight=function(e){e=$(e);return Math.ceil(Math.max(e.outerHeight(!0),e.children().first().outerHeight(!0)))},n.defaultRowHeight=1,n.defaultPaddingBetween=0,n.defaultPaddingOuter=0,n);function n(e){var t=this,a=(this._data=[],this.scrollTop=0,this.factory=o.createJQueryPromiseFactory(),e=this.options=$.extend(!0,{},e),this.scrollbarInner=e.baseContainer.append("div").classed("scrollbar-inner",!0).attr("role","none").on("scroll",(function(){return t.onScroll()})),this.scrollContainer=this.scrollbarInner.append("div").classed("scrollRegion",!0).attr("role","none").on("touchstart",(function(){return t.stopTouchPropagation()})).on("touchmove",(function(){return t.stopTouchPropagation()})).style("overflow-y","hidden"),this.visibleGroupContainer=this.scrollContainer.append("div").classed("visibleGroup",!0).attr("role","none"),this.scrollInner=$(this.scrollbarInner.node()),this.scrollInner.scrollbar({ignoreOverlay:!1,ignoreMobile:!1,onDestroy:function(){return t.scrollbarInner.on("scroll",null)}}),$(e.baseContainer.node())),i=a.find(".scroll-element");i.attr("drag-resize-disabled","true"),e.scrollEnabled&&i.css("pointer-events","auto"),a.find(".scroll-wrapper").attr("role","none"),this.scrollToFrame=this.options.scrollToFrame||this.defaultScrollToFrame,n.setDefaultOptions(e)}a.prototype.complete=function(){this.resolve(!1)},a.prototype.cancel=function(){window.clearTimeout(this.timeoutId),this.resolve(!0)};var e=a;function a(){var t=this;this.promise=new o.Promise(function(e){t.resolve=e}),this.timeoutId=setTimeout(this.complete.bind(this))}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).MapSubscriptionKeys||(e.MapSubscriptionKeys={})).Keys={BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S",AzureKey:"xfefTl4ZST_fZb9l-IT5EpZqJGKpqQOsHTXeyoi3zeQ"}})(powerbi=powerbi||{}),(function(i){var n,u,l=i.visuals||(i.visuals={}),T=n=l.MapUtil||(l.MapUtil={}),a=(T.createPushPin=function(e,t,a,i){var o={draggable:!1};return o.icon=t,new Microsoft.Maps.Pushpin(e,o)},T.renderAfterResize=function(e){e&&(e=e._v8Map&&e._v8Map._sizeHelper)&&_.isFunction(e.pollSize)&&e.pollSize()},T.mapTypeIdFromTheme=function(e){return e=Microsoft.Maps.MapTypeId[e]},T.Settings={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:l.MapSubscriptionKeys.Keys.BingKey},T.StreetsideModeManagerInterval=16,e.prototype.ensureMap=function(e){return i.ensureMap(this.promiseFactory,this.loader,this.mapControlUrl,e)},e.prototype.createMapControl=function(e,t){return new Microsoft.Maps.Map(e,t)},e.prototype.loadAzureMapScripts=function(e){return i.loadAzureMapScripts(this.promiseFactory,this.loader,e)},e.prototype.createAzureMapControl=function(e){var t=e.element,a=e.locale,i=e.sasTokenCallback,a={language:a,style:"blank",view:"Auto",disableTelemetry:!0,progressiveLoading:e.progressiveLoading};return i?a.authOptions={authType:atlas.AuthenticationType.sas,getToken:i}:a.subscriptionKey=l.MapSubscriptionKeys.Keys.AzureKey,this.createAzureMapControlCore(t,a)},e.prototype.createAzureMapControlCore=function(e,t){return new atlas.Map(e,t)},e.prototype.isAzureMapSupported=function(){return atlas.isSupported(!1)},e);function e(e,t,a){this.promiseFactory=e,this.loader=t,this.mapControlUrl=a}function o(e,t){return e<-90||90<e||t<-180||180<t}function d(e,t,a){return Math.min(Math.max(e,t),a)}function V(){return r(T.DefaultLevelOfDetail)}function r(e){return 23===e?2147483648:Math.floor(e)===e?256<<e:256*Math.pow(2,e)}function D(e,a,t){for(var i=t&&t.xAdjust,o=t&&t.unconstrained,r=new Float64Array(e.length),n=function(e,t){e=(e+=.5)*a+.5,t=(t+=.5)*a+.5,i&&(e+=i*a),r[l]=e,r[l+1]=t},l=0;l<e.length;l+=2){var s=e[l],c=e[l+1];o||(s=d(s,T.MinAllowedLatitude,T.MaxAllowedLatitude),c=d(c,T.MinAllowedLongitude,T.MaxAllowedLongitude)),u.fromLatLong(s,c,n)}return r}function s(e,t,a,i){e=D(new Float64Array([e,t]),r(a),i);return{x:e[0],y:e[1]}}function c(e,t,a){return u.toLatLong((e-.5)/a-.5,(t-.5)/a-.5)}function p(e,t,a){e=c(e,t,r(a));return new Microsoft.Maps.Location(e.latitude,e.longitude)}function m(e,t){return s(e.latitude,e.longitude,t)}function t(e){for(var t={latitude:-90,longitude:180},a={latitude:90,longitude:-180},i=0;i<e.length;i+=2)t.latitude=Math.max(e[i],t.latitude),t.longitude=Math.min(e[i+1],t.longitude),a.latitude=Math.min(e[i],a.latitude),a.longitude=Math.max(e[i+1],a.longitude);return t.longitude=d(t.longitude,-180,180),a.longitude=d(a.longitude,-180,180),{top:t.latitude,bottom:a.latitude,left:t.longitude,right:a.longitude}}function y(e,t,a){t=new Microsoft.Maps.Point(t,a),a=e.tryPixelToLocation(t,Microsoft.Maps.PixelReference.page);e.setView({center:a})}T.MapControlFactory=a,T.createDefaultMapControlFactory=function(e,t){return new a(e,t,"https://www.bing.com/api/maps/mapcontrol")},T.setCreateDefaultMapControlFactory=function(e){T.createDefaultMapControlFactory=e},T.latLongIsInvalid=function(e,t){return e?o(e.latitude,e.longitude):t},T.isLatLongInvalid=o,T.normalizeLongitude=function(e){for(;e<-180;)e+=360;for(;180<e;)e-=360;return e},T.MinAllowedLatitude=-85.05112878,T.MaxAllowedLatitude=85.05112878,T.MinAllowedLongitude=-180,T.MaxAllowedLongitude=180,T.TileSize=256,T.MaxLevelOfDetail=23,T.MinLevelOfDetail=1,T.DefaultLevelOfDetail=11,T.WorkerErrorName="___error___",T.DefaultFillOpacity=.5,T.LeaderLineColorName="foregroundDark",T.CategoryTypes={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},T.MapLassoButtonClass="mapLassoButton",T.MapLassoButtonHighContrastClass="mapLassoButtonHighContrast",T.MapLassoButtonSelector=".".concat(T.MapLassoButtonClass),T.MapLassoButtonId="MapLassoButton",T.NavBarContainerClass="NavBar_Container",T.NavBarSelector=".".concat(T.NavBarContainerClass),T.NavBarButtonClass="NavBar_Button",T.NavButtonIconClass="NavButton_Icon",T.RectangleSelectKey="Rectangle_Select",T.PlotAreaClass="plot-area",T.PlotAreaSelector=".".concat(T.PlotAreaClass),T.ZoomInButtonClass="NavBar_zoomIn",T.ZoomOutButtonClass="NavBar_zoomOut",T.ZoomButtonSelector=".".concat(T.ZoomInButtonClass,", .").concat(T.ZoomOutButtonClass),T.NavBarButtonDisplayedSelector="".concat(T.MapLassoButtonSelector,", .").concat(T.ZoomInButtonClass,", #").concat(T.ZoomOutButtonClass),T.clip=d,T.getAbsoluteMapSize=V,T.getMapSize=r,(g=u=T.Mercator||(T.Mercator={})).fromLatLong=function(e,t,a){if(t/=360,e=Math.sin(e*Math.PI/180),e=-Math.log((1+e)/(1-e))/(4*Math.PI),!a)return{x:t,y:e};a(t,e)},g.toLatLong=function(e,t,a){if(t=Math.exp(4*-t*Math.PI),t=180*Math.asin((t-1)/(t+1))/Math.PI,e*=360,!a)return{latitude:t,longitude:e};a(t,e)},T.getFilledMapParams=function(e,t){switch(e){case T.CategoryTypes.Continent:case T.CategoryTypes.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case T.CategoryTypes.City:return{level:1,maxPolygons:5,strokeWidth:t<200?6:0};default:return t<100?{level:1,maxPolygons:5,strokeWidth:6}:t<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}},T.latLongToPixelXYArray=D,T.latLongToPixelXY=s,T.latLongToAbsoluteXY=function(e,t,a){return s(e,t,T.DefaultLevelOfDetail,a)},T.latLongFromPixelXY=c,T.latLongFromAbsoluteXY=function(e,t){return c(e,t,T.getMapSize(T.DefaultLevelOfDetail))},T.pixelXYToLocation=p,T.locationToPixelXY=m,T.locationRectToRectXY=function(e,t){var a=m(e.getNorthwest(),t),e=m(e.getSoutheast(),t);return new i.visuals.Rect(a.x,a.y,e.x-a.x,e.y-a.y)},T.absoluteXYToLocation=function(e,t){return p(e,t,T.DefaultLevelOfDetail)},T.getLocationBoundingRect=t,T.getLocationBoundaries=function(e){return e=t(e),Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(e.top,e.left),new Microsoft.Maps.Location(e.bottom,e.right))},T.parseEncodedSpatialValueArray=function(e){for(var t=[],a=0,i=0,o=0,r=4294967296;a<e.length;){for(var n=0,l=0;;){if(a>=e.length)return null;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".indexOf(e.charAt(a++));if(-1===s)return null;var c=(31&s)*Math.pow(2,l),n=(c/r|n/r)*r+((c%r|n%r)>>>0);if(l+=5,s<32)break}var u=Math.floor((Math.sqrt(8*n+5)-1)/2),p=(n-=u*(u+1)/2,Math.floor(n)),u=u-p,u=1e-5*(i+=u>>1^-(1&u));t.push(d(1e-5*(o+=p>>1^-(1&p)),-90,90)),t.push(u)}return new Float64Array(t)},T.expandLocationRect=function(e,t){return t&&(e?(t.west<e.west&&(e.west=t.west),t.east>e.east&&(e.east=t.east),t.south<e.south&&(e.south=t.south),t.north>e.north&&(e.north=t.north)):e=__assign({},t)),e},T.calcShapeData=function(e){if(!_.isEmpty(e)){for(var t=!1,a=0,i=e;a<i.length;a++){var o=i[a];o.nativeBing&&!o.geographic&&(o.geographic=T.parseEncodedSpatialValueArray(o.nativeBing),o.geographic)&&(t=!0)}if(t){for(var r,n=[],l=0,s=e;l<s.length;l++){var c=s[l];(w=c.geographic)&&(f=T.getLocationBoundaries(w),c.adjustedBounds={west:f.getWest(),north:f.getNorth(),east:f.getEast(),south:f.getSouth()},c.absoluteBounds=T.locationRectToRectXY(f,T.DefaultLevelOfDetail),n.push({location:c,bounds:f,xAdjust:0}))}for(var u=-1,p=0;p<n.length;++p){var d=(x=n[p]).bounds.width*x.bounds.height;(-1===u||r<d)&&(u=p,r=d)}for(var m=V(),y=n[u].bounds.getWest(),g=n[u].bounds.getEast(),h=0,b=n;h<b.length;h++){var f,S=(f=(x=b[h]).bounds).getWest(),v=f.getEast();v<y&&S+360-g<y-v&&(x.xAdjust=1),g<S&&y-(v-360)<S-g&&(x.xAdjust=-1),x.xAdjust&&(v=360*x.xAdjust,(S=x.location.adjustedBounds).west+=v,S.east+=v,x.location.absoluteBounds.left+=x.xAdjust*m)}for(var C=0,N=n;C<N.length;C++){var x,w,P=(x=N[C]).location;!(w=P.geographic)||P.absolute||(P.absolute=D(w,m,{xAdjust:x.xAdjust}))}}}},(T.CurrentLocation||(T.CurrentLocation={})).createPushpin=function(e){return T.createPushPin(e,'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="#FF5F00" cx="12" cy="12" r="6"></circle><circle fill="none" stroke="#FF5F00" stroke-width="2" cx="12" cy="12" r="10"></circle></svg>',24,24)},T.moveMap=y,T.moveMapDelta=function(e,t,a){var i=e.tryLocationToPixel(e.getCenter(),Microsoft.Maps.PixelReference.page);y(e,i.x-t,i.y-a)},h.prototype.reCalc=function(e,t,a){var i=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()],o=(this._baseRect||(r=n.locationToPixelXY(this._locationRect.getNorthwest(),11),o=n.locationToPixelXY(this._locationRect.getSoutheast(),11),this._baseRect=new l.Rect(r.x,r.y,o.x-r.x,o.y-r.y)),e.tryLocationToPixel(i)),r=o[0].x+t/2,i=o[0].y+a/2,t=e.getZoom()-11,a=Math.pow(2,t),e=this._baseRect.width*a,t=o[1].y-o[0].y;this._currentRect=new l.Rect(r,i,e,t)},Object.defineProperty(h.prototype,"scale",{get:function(){return this._baseRect?this._currentRect.width/this._baseRect.width:1},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"transform",{get:function(){var e=this._baseRect,t=this._currentRect,a=new l.Transform;return a.translate(t.left,t.top),a.scale(t.width/e.width,t.height/e.height),a.translate(-e.left,-e.top),a},enumerable:!1,configurable:!0}),h.prototype.transformToString=function(e){e=e.matrix;return"matrix("+e.m00+" "+e.m10+" "+e.m01+" "+e.m11+" "+e.m02+" "+e.m12+")"};var g=h;function h(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}l.MapPolygonInfo=g})(powerbi=powerbi||{}),(function(l){var s,a,r,i,n,t;function e(){this.markerKeyModifier="",this.shouldCycleKeyModifier=jsCommon.BrowserUtils.isInternetExplorerOrEdge(),this.uniqueIdentifier=_.uniqueId()}function o(e){return c(e,t.DefaultSize)}function c(e,t){switch(e){case s.markerShape.circle:return"M 0 0 m ".concat(-t," 0 a ").concat(t," ").concat(t," 0 1 0 ").concat(2*t," 0 a ").concat(t," ").concat(t," 0 1 0 ").concat(-2*t," 0");case s.markerShape.square:return"M 0 0 m ".concat(-t," ").concat(-t," l ").concat(2*t," 0 l 0 ").concat(2*t," l ").concat(-2*t," 0 z");case s.markerShape.diamond:return"M 0 0 m ".concat(-t," 0 l ").concat(t," ").concat(-t," l ").concat(t," ").concat(t," l ").concat(-t," ").concat(t," z");case s.markerShape.triangle:return"M 0 0 m ".concat(-t," ").concat(t," l ").concat(t," ").concat(-2*t," l ").concat(t," ").concat(2*t," z");case s.markerShape.x:return"M 0 0 m ".concat(-t," ").concat(-t," l ").concat(2*t," ").concat(2*t," m ").concat(2*-t," 0 l ").concat(2*t," ").concat(2*-t);case s.markerShape.shortDash:return"M 0 0 l ".concat(t," 0");case s.markerShape.longDash:return"M 0 0 m ".concat(-t," 0 l ").concat(2*t," 0");case s.markerShape.plus:return"M 0 0 m ".concat(-t," 0 l ").concat(2*t," 0 m ").concat(-t," ").concat(-t," l 0 ").concat(2*t);case s.markerShape.lowerErrorBar:return"M 0 0 m 0 ".concat(-t," l 0 ").concat(2*t," m ").concat(-t," 0 l ").concat(2*t," 0");case s.markerShape.upperErrorBar:return"M 0 0 m 0 ".concat(t," l 0 ").concat(2*-t," l ").concat(-t," 0 l ").concat(2*t," 0");case s.markerShape.none:return null}}s=l.visuals||(l.visuals={}),i=jsCommon.BrowserUtils,n=jsCommon.Color,(a=s.MarkerProperties||(s.MarkerProperties={})).readFromStaticObjects=function(e,t){return _.isEmpty(e)?a.getDefault():{lineDashType:s.lineStyle.solid,showMarkerByDefault:l.DataViewObjects.getValue(e,s.lineChartProps.lineStyles.showMarkerByDefault,!0),showMarker:l.DataViewObjects.getValue(e,s.lineChartProps.lineStyles.showMarker,!1),shape:l.DataViewObjects.getValue(e,s.lineChartProps.lineStyles.markerShape,s.markerShape.defaultValue),size:l.DataViewObjects.getValue(e,s.lineChartProps.lineStyles.markerSize,r.DefaultSize),color:s.ColorHelper.create(t).getColorForProperty(e,s.lineChartProps.lineStyles.markerColor,void 0)}},a.readFromSeries=function(e,t,a,i,o){var r,n=l.Prototype.inherit(__assign(__assign({},t),{showMarker:t.showMarker&&t.showMarkerByDefault}));return n.key="seriesMarker"+a,!e.data.hasSeries()||o?n.color=t.color||e.colors.createBySeries(a,void 0,s.ForegroundColorName):(o=e.objects.getSeriesDataObjects(a),null!=(r=l.DataViewObjects.getValue(o,s.lineChartProps.lineStyles.showMarker))&&(n.showMarker=r),null!=(r=l.DataViewObjects.getValue(o,s.lineChartProps.lineStyles.markerShape))&&(n.shape=r),null!=(r=l.DataViewObjects.getValue(o,s.lineChartProps.lineStyles.markerSize))&&(n.size=+r),null!=(r=s.ColorHelper.create(i).getColorForProperty(o,s.lineChartProps.lineStyles.markerColor,void 0))?n.color=r:t.color||(n.color=e.colors.createBySeries(a,void 0,s.ForegroundColorName))),n},a.getDefault=function(){return{lineDashType:s.lineStyle.solid,showMarker:!1,showMarkerByDefault:!0,shape:s.markerShape.defaultValue,size:r.DefaultSize,color:void 0}},e.prototype.ensureMarkers=function(e,t){var a=this,t=this.modifyMarkersIfNeeded(t,this.shouldCycleKeyModifier),i=e.selectAll("marker").data(t.filter((function(e){return e.showMarker})),(function(e){return a.getMarkerId(e)})),o=i.enter().append("marker").merge(i),o=(o.append("path").classed("markerPaths",!0),o.attrs({id:function(e){return a.getMarkerId(e)},markerUnits:"strokeWidth",orient:function(e){return null!=(e=e.orient)?e:0},refX:0,refY:0,viewBox:"-6 -6 12 12"}).transition().duration(1).attrs({markerHeight:function(e){return e.size},markerWidth:function(e){return e.size}}),i.exit().remove(),e.selectAll(".markerPaths").data(t.filter((function(e){return e.showMarker})),(function(e){return a.getMarkerId(e)})));o.attr("d",(function(e){return e.lineRadius?r.getPathWithIncomingLine(e.shape,e.size,e.lineRadius):r.getPath(e.shape)})).style("stroke-width",(function(e){return e.lineRadius?e.strokeSize/(e.size/5):r.getStrokeWidth(e.shape)})).style("stroke-opacity",(function(e){return null!=e.transparency?n.convertTransparencyToOpacity(e.transparency):1})).style("stroke",(function(e){var t;return null!=(t=e.strokeColor)?t:e.color})).style("fill",(function(e){return e.color})).style("opacity",(function(e){return null!=e.transparency?n.convertTransparencyToOpacity(e.transparency):null})),o.exit().remove()},e.prototype.renderMarkers=function(e){var a=this;e.attr("marker-start",(function(e,t){return a.getMarkerKey(e.lineStyle.markerProperties)})).attr("marker-mid",(function(e,t){return a.getMarkerKey(e.lineStyle.markerProperties)})).attr("marker-end",(function(e,t){return a.getMarkerKey(e.lineStyle.markerProperties)}))},e.prototype.renderUncertaintyMarkers=function(e){function t(e){var t=e.seriesData.uncertainty.markers;switch(e.type){case"upper":return a.getMarkerKey(t);case"lower":return a.getMarkerKey(e.seriesData.uncertainty.markersFlipped||t);default:e.type}}var a=this;e.attr("marker-start",t).attr("marker-mid",t).attr("marker-end",t)},e.prototype.shouldDisableAnimations=function(){return this.shouldCycleKeyModifier},e.prototype.getMarkerId=function(e){return e.key+"-"+this.uniqueIdentifier+(e.modifier||"")},e.prototype.getMarkerKey=function(e){var t;return e.showMarker?(t=i.isSafari()||i.isIOSWebView()?window.location.href:"",e=e.key,"url('".concat(t,"#").concat(e,"-").concat(this.uniqueIdentifier).concat(this.markerKeyModifier,"')")):null},e.prototype.modifyMarkersIfNeeded=function(e,t){return t?(t=[],this.cycleMarkerKeyModifier(),(t=this.modifyMarkerProperties(e,"a")).push.apply(t,this.modifyMarkerProperties(e,"b")||[]),t):e},e.prototype.cycleMarkerKeyModifier=function(){"a"===this.markerKeyModifier?this.markerKeyModifier="b":this.markerKeyModifier="a"},e.prototype.modifyMarkerProperties=function(e,t){return _.map(e,(function(e){e=l.Prototype.inherit(e);return e.modifier=t,e}))},e.sizeRatio=10/12,s.MarkerRenderer=e,(t=r=s.Markers||(s.Markers={})).DefaultSize=5,t.getPath=o,t.getStrokeWidth=function(e){switch(e){case s.markerShape.circle:case s.markerShape.square:case s.markerShape.diamond:case s.markerShape.triangle:case s.markerShape.none:return 0;case s.markerShape.x:case s.markerShape.plus:case s.markerShape.lowerErrorBar:case s.markerShape.upperErrorBar:return 1;case s.markerShape.shortDash:case s.markerShape.longDash:return 2}},t.resolveMarkerShape=function(e,t,a){var i=null==e?void 0:e.showMarker;switch(t){case s.legendMarkerRendering.markerOnly:return i?e.shape:a;case s.legendMarkerRendering.markerCircleDefault:return i?e.shape:s.markerShape.circle;case s.legendMarkerRendering.lineAndMarker:return i?e.shape:s.markerShape.none;case s.legendMarkerRendering.lineOnly:return s.markerShape.none;default:return s.markerShape.circle}},t.resolveMarkerColor=function(e,t,a,i){return e&&(a!==s.legendMarkerRendering.markerOnly&&a!==s.legendMarkerRendering.markerCircleDefault||!i&&e.showMarker)&&e.color||t},t.getPathWithRadius=c,t.getPathWithIncomingLine=function(e,t,a){var i=(a+1)/(t/5);switch(e){case s.markerShape.none:return null;case s.markerShape.x:return"M ".concat(i,",1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-").concat(i,",1");case s.markerShape.shortDash:return"M ".concat(i,",1 L 5,1 L 5,-1 L -").concat(i,",-1 L -").concat(i,",1");case s.markerShape.longDash:return"M ".concat(i,",1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -").concat(i,",1");case s.markerShape.plus:return"M ".concat(i,",1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-").concat(i,",1");default:return o(e)}}})(powerbi=powerbi||{}),(function(e){var u;((u=e.visuals||(e.visuals={})).NavigationUtils||(u.NavigationUtils={})).getNextFromFlattenedViewModel=function(e,t,a,i,o){var r,n,l,s=t,c=a;switch(o){case u.DataDirection.PreviousCategory:case u.DataDirection.NextCategory:i!==u.DataPointNavigationStrategy.SeriesOnly&&(n=o===u.DataDirection.PreviousCategory?-1:1,s=(r=_.filter(e,(function(e){return e.seriesIndex===a})))[l=(l=(l=n+_.findIndex(r,(function(e){return e.categoryIndex===t})))>=r.length?0:l)<0?r.length-1:l].categoryIndex);break;case u.DataDirection.NextSeries:case u.DataDirection.PreviousSeries:i!==u.DataPointNavigationStrategy.CategoryOnly&&(s=(r=[e[l=(l=(l=(n=o===u.DataDirection.PreviousSeries?-1:1)+_.findIndex(e,(function(e){return e.categoryIndex===t&&e.seriesIndex===a})))>=e.length?0:l)<0?e.length-1:l].categoryIndex,e[l].seriesIndex])[0],c=r[1])}return{categoryIndex:s,seriesIndex:c}}})(powerbi=powerbi||{}),(function(D){var L,M,r;function m(e,a){return _.filter(e,(function(e){var t=e.value;return 0!==e.axis||_.isUndefined(t)||!a||a.dateTime===t instanceof Date||a.numeric===_.isNumber(t)}))}function V(e,t,a,i){e=m(e,s(t).axisType),t=o(e,t,a);return i?l(e):n(t)}function o(e,a,i){return _.filter(e,(function(e){var t;return M.isHorizontal(e,a)?0<=(t=(e.isY2&&(null==(t=a.y2)?void 0:t.scale)||a.y1.scale)(e.value))&&t<=i.height:0<=(t=a.x.scale(e.value))&&t<=i.width}))}function y(e,t,a){e===M.xAxisRefLineObjectName&&a&&(a.dateTime?t.propertyTypes[M.ReferenceLineProps.value]={dateTime:!0}:a.numeric&&(t.propertyTypes[M.ReferenceLineProps.value]={numeric:!0}))}function n(e){return _.filter(e,(function(e){return e.show&&(_.isNumber(e.value)||e.value instanceof Date)}))}function l(e){return _.filter(e,(function(e){return e.shadeRegionProperties.shadeRegion!==L.referenceLineShadeRegion.none}))}function s(e){return e.x.isCategoryAxis?e.x:e.y1}L=D.visuals||(D.visuals={}),r=jsCommon.CssConstants.createClassAndSelector,(M=L.ReferenceLineHelper||(L.ReferenceLineHelper={})).xAxisRefLineObjectName="xAxisReferenceLine",M.y1AxisRefLineObjectName="y1AxisReferenceLine",M.enumerateObjectInstances=function(e,t,a,i,o,r,n){if(!o){o=m(t,r);if(_.isEmpty(o))y(i,d={selector:{id:"0"},properties:{show:!1,lineColor:{solid:{color:a}},transparency:50,style:L.lineStyle.dashed,position:L.referenceLinePosition.front,dataLabelShow:!1},objectName:i,propertyTypes:{}},r),e.pushInstance(d);else for(var l=0,s=o;l<s.length;l++){var c,u=s[l],p=u.dataLabelProperties&&u.dataLabelProperties.show,d={selector:u.selector,properties:{show:u.show,displayName:u.displayName,value:u.value,lineColor:u.color,transparency:u.transparency,style:u.style,position:u.position},objectName:u.type,propertyTypes:{},propertyInstanceKind:{}};n&&n.xAxisRefLineImprovements&&(d.propertyInstanceKind[M.ReferenceLineProps.value]=3,c=u.shadeRegionProperties,d.properties[M.ReferenceLineProps.shadeRegion]=c.shadeRegion,u.shadeRegionProperties.shadeRegion!==L.referenceLineShadeRegion.none)&&(d.properties[M.ReferenceLineProps.shadeColor]=c.shadeColor,d.properties[M.ReferenceLineProps.shadeTransparency]=c.shadeTransparency),(d.properties[M.ReferenceLineProps.dataLabelShow]=p)&&(c=u.dataLabelProperties,d.properties[M.ReferenceLineProps.dataLabelColor]=c.color,d.properties[M.ReferenceLineProps.dataLabelText]=c.text,d.properties[M.ReferenceLineProps.dataLabelHorizontalPosition]=c.horizontalPosition,d.properties[M.ReferenceLineProps.dataLabelVerticalPosition]=c.verticalPosition,d.properties[M.ReferenceLineProps.dataLabelDisplayUnits]=c.displayUnits,d.properties[M.ReferenceLineProps.dataLabelDecimalPoints]=c.decimalPoints),i===M.xAxisRefLineObjectName&&y(i,d,r),e.pushInstance(d)}}},M.getValidReferenceLines=m,M.filterOutOfBoundReferenceLines=o,M.render=function(c){var u=c.axes.x.scale,p=c.axes.y1.scale,d=c.axes.y2&&c.axes.y2.scale;function e(e){if(e.show&&!_.isUndefined(e.value)){var t=e.isY2?d:p,a=M.isHorizontal(e,c.axes),i=c.viewport,o=e.value,r=d3.select(this),n=(r.attr("x1",a?0:u(o)),r.attr("y1",a?t(o):0),r.attr("x2",a?i.width:u(o)),r.attr("y2",a?t(o):i.height),{fill:"none"}),a=(n.stroke=e.color.solid.color,e.transparency);switch(n["stroke-opacity"]=(100-a)/100,e.style){case L.lineStyle.dotted:n["stroke-dasharray"]="1, 5",n["stroke-linecap"]="round";break;case L.lineStyle.solid:n["stroke-dasharray"]=null,n["stroke-linecap"]=null;break;default:L.lineStyle.dashed;n["stroke-dasharray"]="5, 5",n["stroke-linecap"]=null}r.styles(n)}}var t=V(c.referenceLines,c.axes,c.viewport,!1),a=c.graphicContext,i=r("reference-line-front"),o=_.filter(t,(function(e){return e.position===L.referenceLinePosition.front})),i=((o=a.selectAll(i.selector).data(o)).enter().append("line").classed(i.class,!0).merge(o).each(e),o.exit().remove(),r("reference-line-back")),o=_.filter(t,(function(e){return e.position!==L.referenceLinePosition.front})),o=((t=a.selectAll(i.selector).data(o)).enter().insert("line",":first-child").classed(i.class,!0).merge(t).each(e),t.exit().remove(),r("shade-region-ref-line")),i=V(c.referenceLines,c.axes,c.viewport,!0);(t=a.selectAll(o.selector).data(i)).enter().append("rect").classed(o.class,!0).merge(t).each((function(e){var t,a,i,o,r,n,l,s=e.shadeRegionProperties;s.shadeRegion!==L.referenceLineShadeRegion.none&&e.show&&!_.isUndefined(e.value)&&(t=c.viewport,i=e.value,a=d3.select(this),n=e.isY2?d:p,e=M.isHorizontal(e,c.axes),l=Math.max(u(i),0),n=Math.min(n(i),t.height),i=s.shadeRegion===L.referenceLineShadeRegion.before?0:l,o=s.shadeRegion===L.referenceLineShadeRegion.before?n:0,r=(100-s.shadeTransparency)/100,n=s.shadeRegion===L.referenceLineShadeRegion.before?t.height-n:n,l=s.shadeRegion===L.referenceLineShadeRegion.before?l:t.width-l,a.attr("height",e?n:t.height),a.attr("width",e?t.width:l),a.attr("fill",s.shadeColor.solid.color),a.attr("fill-opacity",r),a.attr(e?"y":"x",e?o:i),a.style("pointer-events","none"))})),t.exit().remove()},M.getShownReferenceLines=n,M.getShownShadeRegions=l,M.getCategoryAxis=s,M.readDataView=function(e,t,a,i,o,r,n){if(!e)return[];var l,s=[],c=L.ColorHelper.create(o);for(l in e){var u=e[l],p=void 0;if(a===M.xAxisRefLineObjectName&&10!==r)p=D.DataViewObject.getValue(u,M.ReferenceLineProps.value);else if(p=D.DataViewObject.getValue(u,M.ReferenceLineProps.value,0),_.isNull(p))continue;D.isDateWithEpochValue(p)&&(d=p.epochTimeStamp,p=D.PBIFormattingDate.fromTimeValue(d));var d=D.DataViewObject.getValue(u,M.ReferenceLineProps.show,!1),m=D.DataViewObject.getValue(u,M.ReferenceLineProps.displayName,void 0),y={solid:{color:c.getColorForPropertyNameWithDefaultColor(u,M.ReferenceLineProps.lineColor,t)}},g=D.DataViewObject.getValue(u,M.ReferenceLineProps.transparency,50),h=D.DataViewObject.getValue(u,M.ReferenceLineProps.style,L.lineStyle.dashed),b=D.DataViewObject.getValue(u,M.ReferenceLineProps.position,L.referenceLinePosition.front),f=D.DataViewObject.getValue(u,M.ReferenceLineProps.shadeRegion,L.referenceLineShadeRegion.none),S={solid:{color:c.getColorForPropertyNameWithDefaultColor(u,M.ReferenceLineProps.shadeColor,t)}},v=D.DataViewObject.getValue(u,M.ReferenceLineProps.shadeTransparency,40),C=D.DataViewObject.getValue(u,M.ReferenceLineProps.dataLabelShow,!1),N={solid:{color:c.getColorForPropertyNameWithDefaultColor(u,M.ReferenceLineProps.dataLabelColor,t)}},x=D.DataViewObject.getValue(u,M.ReferenceLineProps.dataLabelText,L.labelText.value),w=D.DataViewObject.getValue(u,M.ReferenceLineProps.dataLabelHorizontalPosition,L.referenceLineDataLabelHorizontalPosition.left),P=D.DataViewObject.getValue(u,M.ReferenceLineProps.dataLabelVerticalPosition,L.referenceLineDataLabelVerticalPosition.above),T=D.DataViewObject.getValue(u,M.ReferenceLineProps.dataLabelDecimalPoints,void 0),T=T<0?void 0:T,u=D.DataViewObject.getValue(u,M.ReferenceLineProps.dataLabelDisplayUnits,0),V={id:l,metadata:n&&n.queryName};s.push({type:a,selector:V,show:d,displayName:m,value:p,color:y,transparency:g,style:h,position:b,shadeRegionProperties:{shadeRegion:f,shadeColor:S,shadeTransparency:v},dataLabelProperties:{show:C,color:N,text:x,horizontalPosition:w,verticalPosition:P,decimalPoints:T,displayUnits:u},axis:i,isY2:n&&n.roles&&n.roles.Y2})}return s},M.createLabelDataPoint=function(e){if(_.isEmpty(e.referenceLines))return[];for(var t=[],a=e.axes,i=e.viewport,o=a.x.scale,r=a.y1.scale,n=a.y2&&a.y2.scale,l=0,s=V(e.referenceLines,e.axes,e.viewport,!1);l<s.length;l++){var c=s[l];if(c.show&&c.dataLabelProperties.show&&!_.isUndefined(c.value)){var u=c.dataLabelProperties,p=M.isHorizontal(c,a),d=void 0,m=c.value,y=(d=m instanceof Date?L.valueFormatter.createDefaultFormatter(L.valueFormatter.DefaultDateFormat,!0):((h=null!=(d=h=(p?a.y1:a.x).formatter).options?D.Prototype.inherit(h.options):{}).precision=u.decimalPoints,h.value=u.displayUnits,L.valueFormatter.create(h)),"");switch(u.text){case L.labelText.name:y=c.displayName;break;case L.labelText.nameAndValue:var g=e.hostServices.getLocalizedString("NamePattern_Colon"),y=jsCommon.StringExtensions.format(g,c.displayName,L.DataLabelRenderer.getLabelFormattedText(d.format(m)));break;default:L.labelText.value;y=L.DataLabelRenderer.getLabelFormattedText(d.format(m))}var h=L.DataLabelViewModel.getDefaultLabelSettings({style:e.style,textClassName:"smallDataLabel"}).fontProperties,b=L.FontProperties.toTextProperties(h,y),f=D.TextMeasurementService.measureSvgTextWidth(b),S=D.TextMeasurementService.estimateSvgTextHeight(b),v=void 0,C=void 0,N=c.isY2?n:r,x=p?0:o(m),w=p?N(m):0,P=p?i.width:o(m),N=p?N(m):i.height,T=[1],T=p?(v=u.horizontalPosition===L.referenceLineDataLabelHorizontalPosition.left?x+5:P-f/2-5,C=w,u.verticalPosition===L.referenceLineDataLabelVerticalPosition.above?[1]:[2]):(v=x,C=u.verticalPosition===L.referenceLineDataLabelVerticalPosition.above?w+S/2+5:N-S/2-5,u.horizontalPosition===L.referenceLineDataLabelHorizontalPosition.left?[4]:[8]),p=D.TextMeasurementService.measureSvgTextWidth(b),P=D.TextMeasurementService.estimateSvgTextHeight(b,!0);t.push({isPreferred:!0,text:y,textSize:{width:p,height:P},outsideFill:u.color.solid.color,insideFill:null,parentShape:{point:{x:v,y:C},radius:0,validPositions:T},parentType:0,fontProperties:h,identity:null,secondRowText:null,key:JSON.stringify({type:c.type,id:c.selector.id})})}}return t},M.gatherDomainExtents=function(e,t,a,i,o){if(e=m(e,o),!_.isEmpty(e))for(var r=0,n=e;r<n.length;r++){var l,s=n[r];s.show&&(l=s.value,_.isUndefined(l)||0===s.axis&&o&&o.dateTime!==l instanceof Date&&o.numeric!==_.isNumber(l)||(0===s.axis?t:s.isY2?i:a).push(l))}}})(powerbi=powerbi||{}),(function(e){(e=(e=(e=e.visuals||(e.visuals={})).ReferenceLineHelper||(e.ReferenceLineHelper={})).ReferenceLineProps||(e.ReferenceLineProps={})).show="show",e.lineColor="lineColor",e.transparency="transparency",e.displayName="displayName",e.value="value",e.style="style",e.position="position",e.shadeRegion="shadeRegion",e.shadeColor="shadeColor",e.shadeTransparency="shadeTransparency",e.dataLabelShow="dataLabelShow",e.dataLabelColor="dataLabelColor",e.dataLabelText="dataLabelText",e.dataLabelDecimalPoints="dataLabelDecimalPoints",e.dataLabelHorizontalPosition="dataLabelHorizontalPosition",e.dataLabelVerticalPosition="dataLabelVerticalPosition",e.dataLabelDisplayUnits="dataLabelDisplayUnits"})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).ReferenceLineHelper||(e.ReferenceLineHelper={})).isHorizontal=function(e,t){return 0!==e.axis&&!t.y1.isCategoryAxis}})(powerbi=powerbi||{}),(function(e){var r,n;function t(){this.lastViewportSeen=void 0,this.lastResolvedFontSizePt=void 0}r=e.visuals||(e.visuals={}),n=jsCommon.TextSizeDefaults,r.ResponsiveCartesianFontBreakpoints={size:[{breakpoint:240,maxSizePt:9},{breakpoint:320,maxSizePt:12},{breakpoint:460,maxSizePt:16},{breakpoint:540,maxSizePt:24}]},t.prototype.adjustFontSize=function(e,t){e=this.resolveMaxFontSizePtForViewport(e);return e>=t.size.pt?t:this.copyWithNewFontSize(t,e)},t.prototype.getFontSizeSeriesLabelWarning=function(e,t){var a=this.getFontSizeLabelWarning(e.dataLabelsSettings,t.dataLabelsSettings);if(a)return a;if(e.series&&t.series)for(var i=e.series,o=t.series,r=0;r<i.length;r++)if(a=this.getFontSizeLabelWarning(i[r].labelSettings,o[r].labelSettings))return a},t.prototype.getFontSizeLabelWarning=function(e,t){if(e&&t)return e=e.fontProperties.size,t=t.fontProperties.size,_.isEqual(e,t)?void 0:{selector:null,warnings:[new r.DataLabelsFontSizeWarning]}},t.prototype.resolveMaxFontSizePtForViewport=function(e){if(this.lastViewportSeen===e)return this.lastResolvedFontSizePt;for(var t=n.TextSizeMax,a=0,i=r.ResponsiveCartesianFontBreakpoints.size;a<i.length;a++){var o=i[a];if(e.height<o.breakpoint||e.width<o.breakpoint){t=o.maxSizePt;break}}return this.lastViewportSeen=e,this.lastResolvedFontSizePt=t},t.prototype.copyWithNewFontSize=function(e,t){t=r.Units.FontSize.createFromPt(t);return r.FontProperties.inherit(e,{size:t})},r.ResponsiveCartesianFontHelper=t})(powerbi=powerbi||{}),(function(s){var c=s.visuals.builder,u=s.visuals.cartesianChartProps,p=s.visuals.columnChartProps;s.ribbonChartUtilsModuleFactory=function(){var D=s.visuals.CategoryLevelUtils,n=s.visuals.ColorHelper,L=s.visuals.columnRoleNames,M=s.visuals.converterHelper,l=s.DataViewObjects,R=s.visuals.valueFormatter;function A(t){var e=0,a=t.heightMatrix[t.categoryIndex],a=_.sortBy(a,(function(e){e=e.height||0;return t.isPositive||0===e?e:-e}));t.reverseStackOrder&&a.reverse();for(var i=t.gapWidth&&0<a.length?t.gapWidth:0,o=0,r=a.length;o<r;o++){var n=a[o],l=n.dataToChange,s=(t.hasHighlights&&(s=n.dataToChangeHighlight,t.isPositive?s.position=e+s.value:s.position=e),n.height);t.isPositive?(e+=s,l.position=e,e+=l.value&&0!==l.value?i:0,l.rank=a.length-o):(e=(l.position=e)+s-i,l.rank=t.startRank+o+1),t.hasHighlights&&(n.dataToChangeHighlight.rank=l.rank)}}return{getRibbonOptionsFromDataviewObjects:function(e,t,a){return t=t,a=a,o=!(i=!0),r=0,n=30,(e=e)&&e.objects&&(e=e.objects,i=l.getValue(e,t.ribbonChart.colorBands,!0),o=l.getValue(e,t.dataPoint.showBorder,!1),r=l.getValue(e,t.series.seriesGapRatio,0),n=l.getValue(e,t.ribbonChart.bandsTransparency,30)),{seriesGapRatio:r,colorBands:i,bandsTransparency:n,showBorder:o,reverseStackOrder:a};var i,o,r,n},enumerateRibbonChart:function(e,t,a){e=e,a=a,(t=t)&&a&&e.pushInstance({objectName:"ribbonChart",selector:null,properties:{seriesGapRatio:t.ribbonOptions.seriesGapRatio,colorBands:t.ribbonOptions.colorBands,bandsTransparency:t.ribbonOptions.bandsTransparency,showBorder:t.ribbonOptions.showBorder},validValues:{seriesGapRatio:{numberRange:{min:0,max:20}},bandsTransparency:{numberRange:{min:0,max:100}}}})},getRibbonChartCard:function(e){if(e){var a,i=e.localize,o=e.categoryAxisData,r=e.ribbonChartData,n=e.data,l=e.colorOptions;if(r&&n)return a={colorBands:p.ribbonChart.colorBands,bandsTransparency:p.ribbonChart.bandsTransparency,showBorder:p.dataPoint.showBorder,seriesGapRatio:p.series.seriesGapRatio,preferredCategoryWidth:u.categoryAxis.preferredCategoryWidth,reverseStackOrder:u.categoryAxis.reverseStackOrder},(e=new c.FormattingCardBuilder(new c.FormattingCardUidBuilder("ribbonChart"),"RibbonChart",__assign({fill:p.dataPoint.fill,showAllDataPoints:p.dataPoint.showAllDataPoints},a),i)).withDescription("RibbonChart_Description").addGroup("colors",(function(e){e.withDisplayName("Visual_Colors");var t=n.series.length;n.hasDynamicSeries||1<t||!n.categoryMetadata?(t={groupBuilder:e,dataPoints:n.series,seriesColorProps:p.dataPoint,localize:i,featureSwitches:l.featureSwitches},s.colorEnumerationHelperModuleFactory().appendSeriesColorSlicesToGroup(t),l.featureSwitches&&l.featureSwitches.flipStackOrder&&e.addSimpleSlice("Visual_ReverseStackOrder",new c.ToggleSwitchBuilder({descriptor:u.categoryAxis.reverseStackOrder,value:o.reverseStackOrder}).build())):(t=__assign(__assign({},l),{groupBuilder:e}),s.colorEnumerationHelperModuleFactory().appendCategoryColorSlicesToGroup(t)),a.colorBands&&e.addSimpleSlice("colorBands",new c.ToggleSwitchBuilder({descriptor:a.colorBands,value:r.ribbonOptions.colorBands}).build(),(function(e){return e.withCustomDisplayName("Visual_Ribbons_ConnectorColor")})),a.bandsTransparency&&e.addSimpleSlice("bandsTransparency",c.SliderBuilder.getTransparencySliderBuilder({descriptor:a.bandsTransparency,value:r.ribbonOptions.bandsTransparency,localize:i}).build(),(function(e){return e.withCustomDisplayName("Visual_Ribbons_ConnectorTransparency")})),a.showBorder&&e.addSimpleSlice("showBorder",(function(){return new c.ToggleSwitchBuilder({descriptor:a.showBorder,value:r.ribbonOptions.showBorder}).build()}))})).build(),(a.seriesGapRatio||a.preferredCategoryWidth)&&e.addGroup("spacing",(function(e){e.withDisplayName("RibbonChart_SeriesGapWidth"),a.seriesGapRatio&&e.addSimpleSlice("seriesGapRatio",new c.SliderBuilder({descriptor:a.seriesGapRatio,value:r.ribbonOptions.seriesGapRatio,options:{minValue:{type:0,value:0},maxValue:{type:1,value:50},unitSymbol:"Numeric_Pixel"},localize:i}).build()),a.preferredCategoryWidth&&e.addSimpleSlice("preferredCategoryWidth",new c.NumUpDownBuilder({descriptor:a.preferredCategoryWidth,value:o.preferredCategoryWidth,options:{minValue:{type:0,value:20},maxValue:{type:1,value:180},unitSymbol:"Numeric_Pixel"}}).build())})),e.build()}},createRibbonChartDataPoints:function(e){for(var t=e,a=[],i=[],o=0,r=t.categoryCount;o<r;o++)a[o]=[],i[o]=[];for(var n=0,l=0,r=t.columnSeries.length;l<r;l++)for(var s=0,c=(h=t.columnSeries[l].data).length;s<c;s++){var u=h[s],p={seriesIndex:l,height:u.value,dataToChange:u,dataToChangeHighlight:t.hasHighlights?h[s+1]:void 0},o=u.categoryIndex;(0<=p.height?a:i)[o].push(p),t.hasHighlights&&s++,u.valueAbsolute>n&&(n=u.valueAbsolute)}for(var d=n*t.ribbonOptions.seriesGapRatio/100,o=0;o<t.categoryCount;o++){var m=a[o].length;A({isPositive:!0,heightMatrix:a,categoryIndex:o,hasHighlights:t.hasHighlights,startRank:m,gapWidth:d,reverseStackOrder:t.ribbonOptions.reverseStackOrder}),A({isPositive:!1,heightMatrix:i,categoryIndex:o,hasHighlights:t.hasHighlights,startRank:m,gapWidth:d,reverseStackOrder:t.ribbonOptions.reverseStackOrder})}t.ribbonChartDataPoints=[];for(var y=0,g=t.columnSeries;y<g.length;y++)for(var h,b=(h=g[y]).data,o=0,f=(b=t.hasHighlights?_.filter(b,(function(e){return e.highlight})):b).length;o<f-1;o++){var S,v,C,N,x,w,P,T=b[o],V=b[o+1];T.value&&V.value&&T.categoryIndex===V.categoryIndex-1&&(S=[],P=t.reader.columns.getValueMetadataColumn(L.y,h.index),N=x=void 0,v=D.getCategoryLevels(t.dataView.categorical.categories,T.categoryIndex,t.formatStringProp),C=D.getCategoryLevels(t.dataView.categorical.categories,V.categoryIndex,t.formatStringProp),v=D.concatenateCategoryLevels(v),C=D.concatenateCategoryLevels(C),v=v.value,C=C.value,N=t.hasDynamicSeries?(x="".concat(v," ").concat(h.displayName," ").concat(P.displayName),"".concat(C," ").concat(h.displayName," ").concat(P.displayName)):(x="".concat(v," ").concat(h.displayName),"".concat(C," ").concat(h.displayName)),S.push({displayName:x,value:M.formatFromMetadataColumn(T.value,P,t.formatStringProp,!1)}),S.push({displayName:N,value:M.formatFromMetadataColumn(V.value,P,t.formatStringProp,!1)}),x=V.value-T.value,N=M.formatFromMetadataColumn(x,P,t.formatStringProp,!1),w=R.getLocalizedString("Percentage"),x=x/T.value,x=R.format(x,w),S.push({displayName:"".concat(P.displayName," ").concat(t.hostServices.getLocalizedString("Change")),value:"".concat(N," (").concat(x,")")}),S.push({displayName:"".concat(v," ").concat(h.displayName," ").concat(t.hostServices.getLocalizedString("RibbonChart_TooltipRank")),value:"".concat(T.rank)}),S.push({displayName:"".concat(C," ").concat(h.displayName," ").concat(t.hostServices.getLocalizedString("RibbonChart_TooltipRank")),value:"".concat(V.rank)}),0!=(w=V.rank-T.rank)&&(P=0<w?"".concat(w):"".concat(-w),S.push({displayName:"".concat(t.hostServices.getLocalizedString("RibbonChart_TooltipRank")," ").concat(t.hostServices.getLocalizedString("Change")),value:P})),t.ribbonChartDataPoints.push({d1:T,d2:V,tooltipInfo:S}))}return t.ribbonChartDataPoints},getRibbonChartAreaLayout:function(e,t,a){for(var i=e,o=t,r=a,n=[],l=0,s=o.length;l<s;l++){var c,u,p,d,m,y,g=o[l],h=g.d1,b=g.d2,f=i.shapeLayout,S=f.x(h),v=f.y(h),C=f.width(h),N=f.height(h);0===C?l--:(c=f.x(b),u=f.y(b),p=f.width(b),f=f.height(b),y=m=d=b=void 0,y=r?(b={x:S+C,y:v},d={x:S+C,y:v+N},m={x:c,y:u},{x:c,y:u+f}):(b={x:S,y:v},d={x:S+C,y:v},m={x:c,y:u+f},{x:c+p,y:u+f}),N={bottomLeft:b,topLeft:d,bottomRight:m,topRight:y,tooltipInfo:g.tooltipInfo,color:h.color},n.push(N))}return n},drawRibbonChartAreaSmooth:function(e){return e=(o=e).style,a=o.graphicsContext.select(o.ribbonChartGroupSelector.selector),i=o.interactivityService&&o.interactivityService.hasSelection(),r=(a=(a=a.empty()?o.graphicsContext.append("g").classed(o.ribbonChartGroupSelector.class,!0):a).selectAll(o.ribbonChartAreaSelector.selector).data(o.layout)).enter().append("path").classed(o.ribbonChartAreaSelector.class,!0).merge(a),t=o.bandsTransparency,i=i?t/100:(100-t)/100,o.colorBands&&!e.isHighContrast?(r.style("fill",(function(e){return e.color})).style("fill-opacity",i),o.showBorder?r.style("stroke",(function(e){return e.color})).style("stroke-width",1):r.style("stroke-width",0)):(r.style("fill",n.getThemeColor(e,"backgroundNeutral")).style("fill-opacity",i),o.showBorder||e.isHighContrast?r.style("stroke",n.getThemeColor(e,"foregroundNeutralSecondaryAlt")).style("stroke-width",1):r.style("stroke-width",0)),r.attr("d",(function(e){var t=d3.interpolateNumber(e.bottomLeft.x,e.bottomRight.x),a=d3.interpolateNumber(e.bottomLeft.y,e.bottomRight.y),i="M".concat(e.bottomLeft.x,",").concat(e.bottomLeft.y);return o.isColumn?i+="C".concat(t(.7),",").concat(e.bottomLeft.y," ").concat(t(1-.7),",").concat(e.bottomRight.y," ").concat(e.bottomRight.x,",").concat(e.bottomRight.y):i+="C".concat(e.bottomLeft.x,",").concat(a(.7)," ").concat(e.bottomRight.x,",").concat(a(1-.7)," ").concat(e.bottomRight.x,",").concat(e.bottomRight.y),i+="L".concat(e.topRight.x,",").concat(e.topRight.y),t=d3.interpolateNumber(e.topRight.x,e.topLeft.x),a=d3.interpolateNumber(e.topRight.y,e.topLeft.y),o.isColumn?i+="C".concat(t(.7),",").concat(e.topRight.y," ").concat(t(1-.7),",").concat(e.topLeft.y," ").concat(e.topLeft.x,",").concat(e.topLeft.y):i+="C".concat(e.topRight.x,",").concat(a(.7)," ").concat(e.topLeft.x,",").concat(a(1-.7)," ").concat(e.topLeft.x,",").concat(e.topLeft.y),i+="L".concat(e.bottomLeft.x,",").concat(e.bottomLeft.y,"Z")})),a.exit().remove(),r;var o,t,a,i,r}}}})(powerbi=powerbi||{}),(function(a){var i,e;function o(e){this.dataPointObjectName="dataPoint",this.hostServices=e.hostServices,this.selectedIds=[]}i=a.visuals||(a.visuals={}),e=i.utility||(i.utility={}),o.prototype.select=function(e,t){void 0===t&&(t=!1);var a=$.Deferred();return this.hostServices.shouldRetainSelection()?this.sendSelectionToHost([e]):(this.selectInternal(e,t),this.sendSelectionToHost(this.selectedIds)),a.resolve(this.selectedIds),a},o.prototype.showContextMenu=function(e,t){var a=$.Deferred();return t=t||i.InteractivityUtils.getPositionOfLastInputEvent(),this.sendContextMenuToHost(e,t),a.resolve(),a},o.prototype.hasSelection=function(){return 0<this.selectedIds.length},o.prototype.clear=function(){var e=$.Deferred();return this.selectedIds=[],this.sendSelectionToHost([]),e.resolve(),e},o.prototype.getSelectionIds=function(){return this.selectedIds},o.prototype.sendSelectionToHost=function(e){var t=this.dataPointObjectName,a={type:0,visualObjects:_.chain(e).filter((function(e){return e.hasIdentity()})).map((function(e){return{objectName:t,selectorsByColumn:e.getSelectorsByColumn()}})).value(),selectors:void 0},i=!1;(i=_.isEmpty(e)?i:e[0].getSelector()&&!e[0].getSelectorsByColumn())&&(a.selectors=_.chain(e).filter((function(e){return e.hasIdentity()})).map((function(e){return e.getSelector()})).value()),this.hostServices.onSelect(a)},o.prototype.sendContextMenuToHost=function(e,t){e=this.getSelectorsByColumn([e]);_.isEmpty(e)||this.hostServices.onContextMenu({data:e,position:t})},o.prototype.getSelectorsByColumn=function(e){return _(e).filter((function(e){return e&&e.hasIdentity})).map((function(e){return e.getSelectorsByColumn()})).compact().value()},o.prototype.selectInternal=function(t,e){o.containsSelection(this.selectedIds,t)?this.selectedIds=e?this.selectedIds.filter((function(e){return!a.data.Selector.equals(e.getSelector(),t.getSelector())})):1<this.selectedIds.length?[t]:[]:e?this.selectedIds.push(t):this.selectedIds=[t]},o.containsSelection=function(e,t){return e.some((function(e){return a.data.Selector.equals(e.getSelector(),t.getSelector())}))},e.SelectionManager=o})(powerbi=powerbi||{}),(function(e){var t;e=e.visuals||(e.visuals={}),(t=e.shapeUtil||(e.shapeUtil={})).BubbleMultiplerRange={min:1,max:3},t.BubbleSizeRange={min:-30,max:100},t.getBubbleSizeMultiplier=function(e){return t.BubbleMultiplerRange.min+(null!=e?e:0)/100*t.BubbleMultiplerRange.max},t.invertBubbleSizeMultiplier=function(e){return Math.round((e-t.BubbleMultiplerRange.min)/t.BubbleMultiplerRange.max*100)}})(powerbi=powerbi||{}),(function(e){function d(){}(e=e.visuals||(e.visuals={})).SlicerResponsiveBreakpoints={rangeSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:28,width:1/0},{height:63,width:162}],hideHeaderHeightNoSlider:48,hideHeaderHeightSlider:88},horizontalSlicer:{iconBreakpoints:[{height:1/0,width:75},{height:15,width:1/0}],hideHeaderHeight:48,fontSize:[{breakpoint:360,applyWidth:!0,applyHeight:!1,maxFontSizePt:9},{breakpoint:540,applyWidth:!0,applyHeight:!1,maxFontSizePt:16}]},slicerHeader:{fontSize:[{breakpoint:140,applyWidth:!0,applyHeight:!0,maxFontSizePt:9},{breakpoint:220,applyWidth:!0,applyHeight:!0,maxFontSizePt:16},{breakpoint:320,applyWidth:!0,applyHeight:!1,maxFontSizePt:24},{breakpoint:460,applyWidth:!0,applyHeight:!1,maxFontSizePt:32}]}},d.fixWidgetPosition=function(e,t,a,i,o){var r,n,l,s,c,u,p;void 0===a&&(a=null),void 0===i&&(i=!1),void 0===o&&(o=null),e&&t&&(s=u=c=p=l="",r=d.getScale(t),t=t.get(0),n=e.offsetParent(),n=d.getScale(n),i&&e.css({transform:"scale("+r+")"}),i=t.getBoundingClientRect(),s=1==(1&(o=null==o?d.getWidgetPosition(i):o))?(l=(i.top+i.height)/n,"top"):(c=(window.innerHeight-i.top)/n,l="auto","bottom"),s=2==(2&o)?(u=i.left/n,d.isWidgetPositionExceedsBoundaries(e,r,u)&&(u=window.innerWidth-e.innerWidth()*r),"left "+s):(p=(window.innerWidth-i.left-i.width)/n,u="auto",d.isWidgetPositionExceedsBoundaries(e,r,p)&&(p=window.innerWidth-e.innerWidth()*r),"right "+s),t={left:u,top:l,right:p,bottom:c,"transform-origin":s},a&&("auto"!==t.top?t.top+=a.top*r:t.bottom+=a.top*r,"auto"!==t.left?t.left+=a.left*r:t.right+=a.left*r),e.css(t))},d.getScale=function(e){var t;return!e||0===(t=e.outerWidth())?1:e.get(0).getBoundingClientRect().width/t},d.isWidgetPositionExceedsBoundaries=function(e,t,a){return e.innerWidth()*t+a>window.innerWidth},d.getWidgetPosition=function(e){var t=3,a=window.innerHeight,i=window.innerWidth;return a-e.top<a/2&&(t=-2&t|0),t=i-e.left<i/2?-3&t|4:t},e.SlicerHelper=d,(e.SlicerViewModelAdapterUtils||(e.SlicerViewModelAdapterUtils={})).resolveMaxFontSizePtForViewport=function(e,t){for(var a=jsCommon.TextSizeDefaults.TextSizeMax,i=0,o=t;i<o.length;i++){var r=o[i],n=e.width<r.breakpoint&&r.applyWidth,l=e.height<r.breakpoint&&r.applyHeight;if(n||l){a=r.maxFontSizePt;break}}return a}})(powerbi=powerbi||{}),(powerbi||(powerbi={})).responsiveVisualUtilModuleFactory=function(){e.prototype.updateVisibility=function(e){e.showIcon?(this.hideVisual(),e.viewport,this.renderResponsiveIcon(e.viewport)):(this.removeResponsiveIcon(),this.showVisual())},e.prototype.renderResponsiveIcon=function(e){this.responsiveIcon||(this.responsiveIcon=InJs.DomFactory.div().addClass(this.iconClassName).appendTo(this.visualElement)),this.responsiveIcon.css({width:e.width,height:e.height})},e.prototype.removeResponsiveIcon=function(){this.responsiveIcon&&(this.responsiveIcon.remove(),this.responsiveIcon=void 0)},e.prototype.hideVisual=function(){this.isVisualVisible&&(this.visualElement.children().hide(),this.isVisualVisible=!1)},e.prototype.showVisual=function(){this.isVisualVisible||(this.visualElement.children().show(),this.isVisualVisible=!0)};var a=e;function e(e,t){this.visualElement=e,this.iconClassName=t,this.isVisualVisible=!0}return{visibilityHelper:function(e,t){return new a(e,t)}}},(function(e){(e=(e=e.visuals||(e.visuals={})).tooltipUtils||(e.tooltipUtils={})).tooltipUpdate=function(e,a){0!==a.length&&((e=e.selectAll("title").data((function(e,t){return[a[t]]}))).enter().append("title").merge(e).text((function(e){return e})),e.exit().remove())},e.formatTooltipInfo=function(e){return _.reduce(e,(function(e,t,a){var i=t.value;return null==i&&(i=t.kpiValue&&t.kpiValue.value),(0<a?"".concat(e," "):"").concat(t.displayName," ").concat(i,".")}),"")}})(powerbi=powerbi||{}),(function(d){var e;(e=(e=d.visuals||(d.visuals={})).TextUtil||(e.TextUtil={})).removeBreakingSpaces=function(e){return e.toString().replace(new RegExp(" ","g"),"&nbsp")},e.removeEllipses=function(e){return e.replace(//g,"")},e.replaceSpaceWithNBSP=function(e){if(null!=e)return e.replace(/ /g,"")},e.replaceNewlineAndSpaceWithNBSP=function(e){if(null!=e)return e.replace(/\n| /g,"")},e.wordBreak=function(e,t,a,i,o,r){void 0===i&&(i=0),void 0===o&&(o=!1),void 0===r&&(r=!1);for(var n=d.TextMeasurementService.getSvgMeasurementProperties(e),l=d.TextMeasurementService.estimateSvgTextHeight(n)+i,i=Math.max(1,Math.floor(a/l)),s=d3.select(e),a=e.textContent,c=(e.textContent="",jsCommon.WordBreaker.splitByWidth(a,n,d.TextMeasurementService.measureSvgTextWidth,t,i,null,!1,o,r)),u=0,p=c.length;u<p;u++)n.text=c[u],s.append("tspan").attr("x",0).attr("dy",0===u?0:l).text(d.TextMeasurementService.getTailoredTextOrDefault(n,t))}})(powerbi=powerbi||{}),(function(e){var t;e=(e=e.visuals||(e.visuals={})).TextboxUtil||(e.TextboxUtil={}),t=!0,e.getLoadQuillResources=function(){return t},e.setLoadQuillResources=function(e){t=e}})(powerbi=powerbi||{}),(function(e){var a;function o(e){var t=e.children;if(t){e=t.length;if(0!==e)for(var a=e-1;0<=a;a--)if(t[a].data.identity.hasIdentity())return!0}return!1}e=(e=e.visuals||(e.visuals={})).TreemapUtils||(e.TreemapUtils={}),a=jsCommon.CssConstants,e.classes={node:"treemapNode",highlight:"treemapNodeHighlight",major:"majorLabel",minor:"minorLabel"},e.DefaultStrokeColorName="foregroundLight",e.getFill=function(e,t){return 1<e.depth&&!e.data.identity.hasIdentity()&&!t||o(e)?a.noneValue:e.data.color},e.hasChildrenWithIdentity=o,e.getFillOpacity=function(e,t,a,i){return a?t&&i?e.data.selected?null:0..toString():i?null:.4.toString():!t||e.data.selected||1<e.depth&&e.parent.data.selected||o(e)?null:.4.toString()}})(powerbi=powerbi||{}),(function(g){var e,y,h,b,f,t;function a(e){return e&&e.values&&e.values.grouped?(e=e.values.grouped(),t.getMeasureIndexOfRole(e,"Gradient")):-1}function i(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:y.DefaultNullStrategy,nullColor:null}}function o(){return C()}function r(e){return e?n(e):i()}function S(e){return g.data.DataViewObjectDefinitions.getValue(e,{objectName:b,propertyName:f},null)}function n(e){var t,a,i,o,r,n,l,s,c,u,p=y.DefaultNullStrategy,d=void 0!==e.linearGradient3,m=e.linearGradient2,e=e.linearGradient3,m=(m?(l=m.max.color.value,s=m.min.color.value,(u=m.max.value)&&(i=u.value),(c=m.min.value)&&(r=c.value),n=m.nullColoringStrategy):e&&(l=e.max.color.value,t=e.mid.color.value,s=e.min.color.value,(u=e.max.value)&&(i=u.value),(m=e.mid.value)&&(o=m.value),(c=e.min.value)&&(r=c.value),n=e.nullColoringStrategy),n&&(p=n.strategy.value,u=n.color)&&(a=u.value),{diverging:d,minColor:v(s),midColor:v(t),maxColor:v(l),nullStrategy:p,nullColor:v(a)});return null!=r&&(m.minValue=r),null!=o&&(m.midValue=o),null!=i&&(m.maxValue=i),m}function l(e){var t,a,i,o,r,n,l,s=y.DefaultNullStrategy,c=void 0!==e.linearGradient3,u=null==e?void 0:e.linearGradient2,e=null==e?void 0:e.linearGradient3,e=(u?(t=null==(t=u.max)?void 0:t.color,a=null==(a=u.min)?void 0:a.color,r=null==(r=u.max)?void 0:r.value,l=null==(l=u.min)?void 0:l.value,s=null==(o=u.nullColoringStrategy)?void 0:o.strategy,o=null==(o=u.nullColoringStrategy)?void 0:o.color):e&&(t=null==(u=e.max)?void 0:u.color,i=null==(u=e.mid)?void 0:u.color,a=null==(u=e.min)?void 0:u.color,r=null==(u=e.max)?void 0:u.value,n=null==(u=e.mid)?void 0:u.value,l=null==(u=e.min)?void 0:u.value,s=null==(u=e.nullColoringStrategy)?void 0:u.strategy,o=null==(u=e.nullColoringStrategy)?void 0:u.color),{diverging:c,minColor:v(a),midColor:v(i),maxColor:v(t),nullStrategy:s,nullColor:v(o)});return null!=l&&(e.minValue=l),null!=n&&(e.midValue=n),null!=r&&(e.maxValue=r),e}function v(e){if(jsCommon.Color.isHexString(e))return e}function C(e){var e=r(e),t={linearGradient2:{min:{color:h.color(e.minColor,"minColor")},max:{color:h.color(e.maxColor,"maxColor")},nullColoringStrategy:{strategy:h.text(e.nullStrategy)}}},a=t.linearGradient2;return null!=e.minValue&&(a.min.value=h.double(e.minValue)),null!=e.maxValue&&(a.max.value=h.double(e.maxValue)),e.nullStrategy===g.NullStrategy.specificColor&&(a.nullColoringStrategy.color=h.color(e.nullColor,"nullColor")),t}e=g.visuals||(g.visuals={}),t=g.data.DataRoleHelper,y=e.GradientUtils||(e.GradientUtils={}),h=g.data.SQExprBuilder,y.DefaultNullStrategy=g.NullStrategy.asZero,b="dataPoint",f="fillRule",y.getFillRuleDescriptor=function(e){if(e)for(var t in e){var a,i=e[t];for(a in i.properties){var o=i.properties[a];if(o.type&&o.type[f])return o.rule}}},y.getGradientMeasureIndex=a,y.getGradientValueColumn=function(e){var t;return null==e||-1===(t=y.getGradientMeasureIndex(e))?null:e.values[t]},y.hasGradientRole=function(e){return 0<=a(e)},y.hasGradientRoleInMatrix=function(e){return 0<=_.findIndex(e.valueSources,(function(e){return t.hasRole(e,"Gradient")}))},y.getDefaultGradientSettings=i,y.getDefaultFillRuleDefinition=o,y.updateFillRule=function(e,t,a){var i,o,r,n,l,s,c,u,p,d,m=g.data.DataViewObjectDefinitions.ensure(a,b,null),y=S(a);if(y)switch($.isNumeric(t)&&(i=void 0!==t?h.double(+t):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],e)&&(o=h.color(t&&t.value,e)),e){case"minColor":d=o,(p=y).linearGradient2?p.linearGradient2.min.color=d:p.linearGradient3&&(p.linearGradient3.min.color=d);break;case"midColor":p=o,(d=y).linearGradient3&&(d.linearGradient3.mid.color=p);break;case"maxColor":u=o,(c=y).linearGradient2?c.linearGradient2.max.color=u:c.linearGradient3&&(c.linearGradient3.max.color=u);break;case"nullColor":c=o,(u=y).linearGradient2?u.linearGradient2.nullColoringStrategy.color=c:u.linearGradient3&&(u.linearGradient3.nullColoringStrategy.color=c);break;case"minValue":s=i,(l=y).linearGradient2?l.linearGradient2.min.value=s:l.linearGradient3&&(l.linearGradient3.min.value=s);break;case"midValue":l=i,(s=y).linearGradient3&&(s.linearGradient3.mid.value=l);break;case"maxValue":n=i,(r=y).linearGradient2?r.linearGradient2.max.value=n:r.linearGradient3&&(r.linearGradient3.max.value=n);break;case"nullStrategy":r=t,(n=y).linearGradient2?n.linearGradient2.nullColoringStrategy.strategy=r:n.linearGradient3&&(n.linearGradient3.nullColoringStrategy.strategy=r);break;case"diverging":y=t?{linearGradient3:_.assign({mid:{color:h.color(null,"midColor")}},y.linearGradient2)}:{linearGradient2:y.linearGradient3},m.properties[f]=y;break;case"revertToDefault":y=C(),m.properties[f]=y}},y.getGradientSettings=r,y.getGradientSettingsFillRule=function(e){return e?l(e):i()},y.getFillRule=S,y.getGradientSettingsFromRule=n,y.getGradientSettingsFromFillRule=l,y.getGradientBarColors=function(e,t){var a=[];return a.push(e.minColor||t.minColor.value),e.diverging&&a.push(e.midColor||t.midColor.value),a.push(e.maxColor||t.maxColor.value),a.join(",")},y.getLinearGradient2FillRuleDefinition=C,y.getLinearGradient3FillRuleDefinition=function(e){var e=r(e),t={linearGradient3:{min:{color:h.color(e.minColor,"minColor")},max:{color:h.color(e.maxColor,"maxColor")},mid:{color:h.color(e.midColor,"midColor")},nullColoringStrategy:{strategy:h.text(e.nullStrategy)}}},a=t.linearGradient3;return null!=e.minValue&&(a.min.value=h.double(e.minValue)),null!=e.midValue&&(a.mid.value=h.double(e.midValue)),null!=e.maxValue&&(a.max.value=h.double(e.maxValue)),e.nullStrategy===g.NullStrategy.specificColor&&(a.nullColoringStrategy.color=h.color(e.nullColor,"nullColor")),t}})(powerbi=powerbi||{}),(function(x){var y,e,w=x.visuals||(x.visuals={}),s=jsCommon.CssConstants,g=jsCommon.Color,t=s.createClassAndSelector,P=jsCommon.WordBreaker;function m(e,t){t=(0===t?y.RowHeader:y.RowFooter).selector;return e.find("".concat(y.HeaderCell.selector).concat(t))}w.GridLayoutSubheaderMaxLines=3,(e=y=w.GridLayoutSelectors||(w.GridLayoutSelectors={})).Grid=t("small-multiples-grid"),e.Cell=t("small-multiples-grid-cell"),e.CellContent=t("small-multiples-grid-cell-content"),e.SubHeader=t("small-multiples-grid-cell-subheader"),e.HeaderCell=t("small-multiples-grid-header-cell"),e.Row=t("small-multiples-grid-row"),e.Footer=t("small-multiples-grid-footer"),e.Body=t("small-multiples-grid-body"),e.GridLineSelector=t("small-multiples-grid-line"),e.VerticalGridLineSelector=t("vertical"),e.HorizontalGridLineSelector=t("horizontal"),e.HorizontalGridLineWrapperSelector=t("horizontal-wrapper"),e.HorizontalGridLineWrapperBottomSelector=t("horizontal-wrapper-bottom"),e.HorizontalOuterGridLineSelector=t("horizontal-outer"),e.GridRowWrapperSelector=t("small-multiples-grid-row-wrapper"),e.RowHeader=t("row-header"),e.RowFooter=t("row-footer"),e.RowOrderableElements=[e.RowHeader,e.Cell,e.RowFooter],T.prototype.update=function(e){var t=e.gridLineSettings,a=e.cellPadding,i=t&&t.settings.width,o=i&&T.hasVerticalGridLines(t)?2*a.left+t.settings.width:2*a.left,i=i&&T.hasHorizontalGridLines(t)?2*a.top+t.settings.width:2*a.top,a=__assign(__assign({},a),{left:o,top:i}),t=this.getUpdatedHeaderMargins(e.headerMargins),o=__assign(__assign({},e.viewport),{width:Math.floor(e.viewport.width),height:Math.floor(e.viewport.height)}),i=Math.ceil(e.subheaderHeight);this.settings=__assign(__assign({},e),{cellPadding:a,headerMargins:t,subheaderHeight:i,viewport:o})},T.prototype.updateHeaderMargins=function(e){var t=this.settings,e=this.getUpdatedHeaderMargins(e);this.settings=__assign(__assign({},t),{headerMargins:e})},T.prototype.getScrollPosition=function(){return this.renderer.getScrollPosition()},T.prototype.render=function(a,i,o,r){return __awaiter(this,void 0,x.Promise,(function(){var t;return __generator(this,(function(e){return t=this.calculateGridRenderSettings(a),[2,this.renderer.render(t,this.settings.shouldResetScrollPosition,i,o,r)]}))}))},T.prototype.scrollTo=function(e){this.renderer.scrollTo(e)},T.prototype.getRowHeight=function(e){return this.renderer.getRowHeight(e)},T.prototype.getUpdatedHeaderMargins=function(e){return __assign(__assign({},e),{left:Math.ceil(e.left),right:Math.ceil(e.right),bottom:Math.ceil(e.bottom),top:Math.ceil(e.top)})},T.prototype.calculateGridRenderSettings=function(e){var t=e.axesOverflow,a=e.plotAreaViewport,e=e.seriesPreferedWidth,e=!isNaN(e)&&null!=e?e:0,a={height:a.height+t.bottom+t.top,width:a.width+t.left+t.right+e},t=this.settings,e=t.getCellBackgroundColor,i=t.backgroundTransparency,o=t.cellCount,r=t.cellPadding,n=t.columnCount,l=t.getAllCells,s=t.gridLineSettings,c=t.headerMargins,u=t.outerPadding,p=t.renderCell,d=t.renderCellSubheader,m=t.renderHeader,y=t.rowCount,g=t.scrollPadding,h=t.subheaderHeight,b=t.subheaderLineHeight,f=t.subheaderPosition,S=t.subheaderShow,v=t.viewport,C=t.manageTabIndexOnRowHeaderFooter,t=t.boldedSubheaders,h={subheaderHeight:h,subheaderLineHeight:b,subheaderPosition:f,subheaderShow:S,headerWidth:c.left,footerWidth:c.right,cell:{width:a.width,getCellBackgroundColor:e,backgroundTransparency:i,renderCell:p,renderCellSubheader:d},height:a.height,scale:this.settings.viewport.scale,columnCount:n,cellPadding:r,outerPadding:u,scrollPadding:g,gridLineSettings:s},b=this.calculateVerticalGridLines(s,c,r,u,a.width,n);return{viewport:v,footerHeight:c.bottom,rowCount:y,row:h,totalCellCount:o,renderHeader:m,verticalGridLines:b,gridLineSettings:s,getAllCells:l,manageTabIndexOnRowHeaderFooter:C,boldedSubheaders:t}},T.prototype.destroy=function(){this.renderer.destroy()},T.prototype.clearRenderingTimeout=function(){this.renderer.clearRenderingTimeout()},T.typeHasVerticalGridLines=function(e){return e===w.gridLineType.all||e===w.gridLineType.inner||e===w.gridLineType.innerVertical},T.hasVerticalGridLines=function(e){return null!=e&&(e=e.type,T.typeHasVerticalGridLines(e))},T.typeHasHorizontalGridLines=function(e){return e===w.gridLineType.all||e===w.gridLineType.inner||e===w.gridLineType.innerHorizontal},T.hasHorizontalGridLines=function(e){return null!=e&&(e=e.type,T.typeHasHorizontalGridLines(e))},T.typeHasOuterGridLines=function(e){return e===w.gridLineType.all},T.hasOuterGridLines=function(e){return null!=e&&(e=e.type,T.typeHasOuterGridLines(e))},T.prototype.calculateCellDimensions=function(e,t,a){var i=0,o=this.hasScroll(),r=this.settings,n=r.viewport,l=r.headerMargins,s=r.cellPadding,c=r.columnCount,u=r.rowCount,p=r.outerPadding,d=r.scrollPadding,m=r.subheaderHeight,r=r.subheaderShow,y=this.settings.gridLineSettings,g=(y&&T.hasOuterGridLines(y)&&(i+=2*y.settings.width),n.width-l.left-l.right-i-s.left*(c-1)-(p.left+p.right)),p=(y=o?(y=V.getBottomInnerPadding(!0,s.top,y),p.top+y+i/2):p.top+p.bottom+i,n.height-l.top-l.bottom-s.top*(u-1)-y),g=V.adjustWidthForScrollbar(g,o,d),h=Math.floor(g/c),i=Math.floor(p/u),n=null==t?void 0:t.titleWrap;if(r){var b=m,s=null==t?void 0:t.subheaders;if(n&&s){for(var f=w.FontProperties.toTextProperties(t.subheaderFontProperties),S=1,v=0,C=s;v<C.length;v++){var N=C[v],N=P.splitByWidth(N,f,x.TextMeasurementService.measureSvgTextWidth,h,w.GridLayoutSubheaderMaxLines,null,!0);if((S=Math.max(S,N.length))===w.GridLayoutSubheaderMaxLines)break}b=Math.ceil(S*t.subheaderLineHeight+t.subheaderMargin.top+t.subheaderMargin.bottom)}i-=b}i-=e.top+e.bottom,h-=e.left+e.right;y=0,o=0,a&&null!=a.layerSeriesData.defaultSeriesWidth&&(d=100*a.layerSeriesData.defaultSeriesWidth/h,y=Math.min(Math.max(1,d),50),a.layerSeriesData.seriesMaximumWidth=y),a&&a.showSeriesLabels&&(y=a.layerSeriesData.seriesMaximumWidth/100,o=Math.ceil(y*h),h-=o),g={plotAreaViewport:{width:Math.max(h,0),height:Math.max(i,0)},headerMargins:l,axesOverflow:e,seriesPreferedWidth:o};return n&&(g.maxSubheaderHeight=b),g},T.prototype.calculateVerticalGridLines=function(e,t,a,i,o,r){if(!T.hasVerticalGridLines(e))return[];var n=T.hasVerticalGridLines(e),l=T.hasOuterGridLines(e),e=e.settings,s="".concat(e.width,"px ").concat(e.style," ").concat(e.color),c=e.width/2,u=l?0:void 0,p=[];if(l&&p.push({key:"outer-vertical-".concat(u++),position:{left:"".concat(t.left,"px")},size:{},style:{vertical:s}}),n){var d=s?r-1:void 0;if(d)for(var n=o+a.left/2-c,c=l?e.width:0,m=t.left+i.left+n+c,y=a.left+o+a.right,g=0;g<d;g++)p.push({key:"inner-vertical-".concat(g),position:{left:"".concat(m,"px")},size:{},style:{vertical:s}}),m+=y}return l&&(n=t.left+o*r+a.left*(r-1)+e.width+i.left+i.right,p.push({key:"outer-vertical-".concat(u++),position:{left:"".concat(n,"px")},size:{},style:{vertical:s}})),p},T.prototype.hasScroll=function(){if(this.settings.cellCount/this.settings.columnCount>this.settings.rowCount)return!0};var h=T;function T(e,t,a,i,o,r){this.renderer=new V(e,t,a,i,o,r)}w.GridLayout=h;var r="GridRenderingContext",V=(n.prototype.getScrollPosition=function(){return this.listView&&this.listView.getCurrentPosition()},n.prototype.render=function(i,o,r,n,l){return __awaiter(this,void 0,x.Promise,(function(){var t,a;return __generator(this,(function(e){switch(e.label){case 0:return this.settings=i,this.dataToBind=r,this.pointSourceKey=n,this.isInitialized||this.initialize(l),this.renderingContext={},t=i.viewport,this.$grid.css(((a={})[s.widthProperty]=t.width,a[s.heightProperty]=t.height,a)),this.updateFooter(),[4,this.updateRows(o)];case 1:return e.sent(),this.updateGridlines(),[2]}}))}))},n.prototype.destroy=function(){this.isInitialized&&(this.listView.destroy(),this.$grid.empty(),this.$grid.remove(),this.isInitialized=!1)},n.prototype.scrollTo=function(e){this.listView.scrollTo(e)},n.prototype.clearRenderingTimeout=function(){this.listView&&this.listView.clearRenderingTimeout()},n.prototype.bindInteractivity=function(e){var e={gridContainer:d3.select(this.$container.get(0)),cells:this.$container.find("".concat(y.Body.selector," ").concat(y.Cell.selector)),columnCount:this.settings.row.columnCount,viewportRowCount:this.settings.rowCount,cellCount:this.settings.totalCellCount,listView:this.listView,visualInstanceId:e,$rows:this.getRowsFromBodyOrFooter(this.settings.manageTabIndexOnRowHeaderFooter),manageTabIndexOnRowHeaderFooter:this.settings.manageTabIndexOnRowHeaderFooter,eventManager:this.eventManager,boldedSubheaders:this.settings.boldedSubheaders},t={pointSourceKey:this.pointSourceKey,useSelectableDataPointForHasSelection:!0};this.interactivityService.bind(this.dataToBind,this.behavior,e,t)},n.prototype.showFooter=function(e){this.$gridFooter.css("display",e?"":"none")},n.prototype.updateFooter=function(){var e,t,a=this,i=this.settings.footerHeight;i?(this.showFooter(!0),e=this.settings.row,this.$gridFooter.css(s.heightProperty,i),this.$gridFooter.css(s.widthProperty,n.adjustWidthForScrollbar(this.settings.viewport.width,this.hasScroll(),e.scrollPadding)),i={columnCount:e.columnCount,footerWidth:e.footerWidth,headerWidth:e.headerWidth,subheaderHeight:0,subheaderLineHeight:0,subheaderPosition:e.subheaderPosition,subheaderShow:!1,height:i,scale:this.settings.viewport.scale,cellPadding:{top:0,bottom:0,left:e.cellPadding.left,right:e.cellPadding.right},outerPadding:{top:0,bottom:0,left:e.outerPadding.left,right:e.outerPadding.right},scrollPadding:e.scrollPadding,cell:{width:e.cell.width,getCellBackgroundColor:function(e){},renderCell:function(e){e.position=2,a.settings.renderHeader(e)},renderCellSubheader:_.noop},gridLineSettings:void 0},0===(t=this.$gridFooter.find(y.GridRowWrapperSelector.selector)).length&&(t=this.buildElement(this.$gridFooter,y.GridRowWrapperSelector.class)),this.renderRow(t,i,0,(function(){}),e.columnCount,{startIndex:0,endIndex:e.columnCount})):(this.showFooter(!1),this.$gridFooter.css("display","none"),this.$gridFooter.empty())},n.prototype.updateGridlines=function(){this.updateGridLines(d3.select(this.$gridBody[0]),this.settings.verticalGridLines,y.VerticalGridLineSelector)},n.prototype.getTotalOccupiedRowCount=function(){return Math.ceil(this.settings.totalCellCount/this.settings.row.columnCount)},n.prototype.hasScroll=function(){return this.scrollEnabled&&(!this.settings||this.getTotalOccupiedRowCount()>this.settings.rowCount)},n.adjustWidthForScrollbar=function(e,t,a){return e-n.getTotalScrollWidth(t,a)},n.getTotalScrollWidth=function(e,t){return e?8+t:0},n.getBottomInnerPadding=function(e,t,a){return e?(e=t,t=0,e-=t=h.hasHorizontalGridLines(a)?a.settings.width:t,Math.round(e/2)):0},n.prototype.getTotalOuterPixels=function(){var e=this.settings.row,t=e.gridLineSettings,e=e.outerPadding.top;return h.hasOuterGridLines(t)&&(e+=t.settings.width),e},n.prototype.getRowHeightWithoutPadding=function(e){var t=e;return 1===this.getTotalRowCount()&&(t+=e),this.getRowHeight(0)-t},n.prototype.updateRows=function(e){var t=this.getContainerHeight(),a=this.buildListViewData(),t={width:this.settings.viewport.width,height:t},i=this.getTotalOuterPixels();return this.listView.viewport(t).rowHeight(this.getRowHeightWithoutPadding(i)).paddingBetween(this.settings.row.cellPadding.top).paddingOuter(i).data(a,(function(e){return JSON.stringify(e)}),e),this.$gridBody.css("flex-basis",t.height),this.$gridBody.attr("aria-rowcount",this.getTotalRowCount()),this.$gridBody.attr("aria-colcount",this.settings.row.columnCount),this.listView.render()},n.prototype.updateGridLines=function(e,t,a){e=e.selectAll("".concat(y.GridLineSelector.selector,".").concat(a.class)).data(t,(function(e){return e.key}));e.enter().append("div").classed(y.GridLineSelector.class,!0).classed(a.class,!0).merge(e).style("top",(function(e){return e.position.top})).style("right",(function(e){return e.position.right})).style("bottom",(function(e){return e.position.bottom})).style("left",(function(e){return e.position.left})).style("width",(function(e){return e.size.width})).style("border-left",(function(e){return e.style.vertical})).style("border-top",(function(e){return e.style.horizontal})),e.exit().remove()},n.prototype.buildRow=function(e,t,a,i,o){var r=(function(e,t,a,i){var o=e.subheaderShow&&1!==e.subheaderPosition,a=b(a,i,e),i=a.height,r=a.topPadding,a=a.bottomPadding,n=i-r-a,l={},s={},c={},u={},p={},d={},m={},y={},t=(function(e,t){var a=e.cell,i=e.columnCount,o=e.cellPadding,r=e.outerPadding,n=e.headerWidth,n=void 0===n?0:n,e=e.footerWidth,e=void 0===e?0:e,a=a.width*i+o.left*(i-1)+r.left+r.right+n+e;h.hasOuterGridLines(t)&&(a+=2*t.settings.width);return a})(e,t);l.width="".concat(t,"px"),s.width="".concat(t,"px"),c.width="".concat(t,"px"),l.height="".concat(i,"px"),s.height="".concat(n,"px"),c.height="".concat(r,"px"),u.height="".concat(a,"px"),p["flex-direction"]=o?"column-reverse":"column",d.width="".concat(e.cell.width,"px"),e.subheaderShow?(m["line-height"]="".concat(e.subheaderLineHeight,"px"),m.height="".concat(e.subheaderHeight,"px"),m.width="".concat(e.cell.width,"px"),t=o?e.subheaderHeight:0,y["padding-top"]="".concat(t,"px")):y["padding-top"]="0px";return y.height="".concat(n,"px"),{rowWrapperStyling:l,rowStyling:s,gridLineWrapperStyling:c,gridLineWrapperBottomStyling:u,cellStyling:p,cellContentStyling:d,subheaderStyling:m,rowHeaderCellStyling:y}})(t,this.settings.gridLineSettings,o,this.getTotalRowCount()),n=r.rowWrapperStyling,l=r.rowStyling,s=r.gridLineWrapperStyling,c=r.gridLineWrapperBottomStyling,u=r.cellStyling,p=r.cellContentStyling,d=r.subheaderStyling,r=r.rowHeaderCellStyling,n=(e.css(n),e.find(y.HorizontalGridLineWrapperSelector.selector)),s=((n=0===n.length?this.buildElement(e,y.HorizontalGridLineWrapperSelector.class):n).css(s),e.find(y.Row.selector)),l=((s=0===s.length?this.buildElement(e,y.Row.class):s).css(l),s.attr("role","row"),s.attr("aria-rowindex",o+1),e.find(y.HorizontalGridLineWrapperBottomSelector.selector));(l=0===l.length?this.buildElement(e,y.HorizontalGridLineWrapperBottomSelector.class):l).css(c),this.renderTopGridline(o,t,d3.select(n[0])),this.renderRowInnerGridline(o,t,d3.select(n[0])),this.buildHeaderCell(s,0,r,t),this.buildCells(s,t,a,i,u,p,d),this.buildHeaderCell(s,1,r,t),this.renderBottomGridline(o,t,d3.select(l[0])),this.orderRowContent(d3.select(s[0]))},n.prototype.buildCells=function(e,t,a,i,o,r,n){for(var l=e.find(y.Cell.selector),s=0;s<t.columnCount;s++){var c=a+s,u=l.eq(s),p=(0===u.length&&(u=this.buildElement(e,y.Cell.class)),o=__assign(__assign({},o),{"padding-left":"","padding-right":"","margin-left":"","margin-right":"","background-color":""}),u.attr("role","gridcell"),u.attr("aria-colindex",s+1),0===s),d=s===t.columnCount-1,m=(o["padding-left"]="".concat((p?t.outerPadding:t.cellPadding).left,"px"),d&&(o["padding-right"]="".concat(t.outerPadding.right,"px")),0),p=(h.hasOuterGridLines(this.settings.gridLineSettings)&&(m=this.settings.gridLineSettings.settings.width),p&&(o["margin-left"]="".concat(m,"px")),d&&(o["margin-right"]="".concat(m,"px")),u.find(y.CellContent.selector)),d=u.find(y.SubHeader.selector);i<=c?(p.remove(),d.remove(),o["background-color"]=""):((p=0===p.length?this.buildElement(u,y.CellContent.class):p).css(r),(m=t.cell.getCellBackgroundColor(c))?(p=g.parseColorString(m),c=g.setOpacity(p,(100-t.cell.backgroundTransparency)/100),o["background-color"]=g.rgbString(c)):o["background-color"]="",t.subheaderShow?(d=0===d.length?this.buildElement(u,y.SubHeader.class):d).css(n):d.remove()),u.css(o)}l.slice(t.columnCount).remove()},n.prototype.buildHeaderCell=function(e,t,a,i){var o,i=(0===t?(o=i.headerWidth,y.RowHeader):(o=i.footerWidth,y.RowFooter)).class,t=m(e,t);o<=0?t.remove():(0===t.length&&(t=this.buildElement(e,y.HeaderCell.class)).addClass(i),t.css(a),t.css("width","".concat(o,"px")))},n.prototype.orderRowContent=function(e){e=e.selectAll(_.map(y.RowOrderableElements,(function(e){return e.selector})).join(", ")).nodes();e.sort((function(e,t){for(var a=0,i=0;i<y.RowOrderableElements.length;i++)a=(a+=Number(d3.select(e).classed(y.RowOrderableElements[i].class))*i)-Number(d3.select(t).classed(y.RowOrderableElements[i].class))*i;return a})),d3.selectAll(e).order()},n.prototype.renderRowGridline=function(e,t,a,i,o,r){var n,l=[];e&&(e=o.gridLineSettings.settings,n="".concat(e.width,"px ").concat(e.style," ").concat(e.color),e=h.hasOuterGridLines(o.gridLineSettings)?e.width:0,t={top:"".concat(t,"px"),left:"".concat(o.headerWidth+e,"px")},e={width:"".concat(o.cell.width*o.columnCount+o.cellPadding.left*(o.columnCount-1)+o.outerPadding.left+o.outerPadding.right,"px")},l.push({key:a,position:t,size:e,style:{horizontal:n}})),this.updateGridLines(r,l,i)},n.prototype.renderRowInnerGridline=function(e,t,a){var i=t.gridLineSettings,o=0<e&&h.hasHorizontalGridLines(i),i=o?Math.round((t.cellPadding.top-i.settings.width)/2):0,e="inner-horizontal-".concat(e-1);this.renderRowGridline(o,i,e,y.HorizontalGridLineSelector,t,a)},n.prototype.renderTopGridline=function(e,t,a){var i=t.gridLineSettings,e=0===e&&h.hasOuterGridLines(i);this.renderRowGridline(e,0,"outer-horizontal-0",y.HorizontalOuterGridLineSelector,t,a)},n.prototype.renderBottomGridline=function(e,t,a){var i=t.gridLineSettings,e=e===this.getTotalRowCount()-1&&h.hasOuterGridLines(i),i=t.outerPadding.bottom;this.renderRowGridline(e,i,"outer-horizontal-1",y.HorizontalOuterGridLineSelector,t,a)},n.prototype.renderRow=function(e,t,a,i,o,r){for(var n=Math.floor(a/t.columnCount),l=(this.buildRow(e,t,a,o,n),{width:t.cell.width,height:t.height,scale:t.scale}),s=(0<t.headerWidth&&this.renderHeaderCell(m(e,0),n,0,l.height,t.headerWidth,t.scale,i),e.find(y.Cell.selector)),c=0;c<t.columnCount;c++){var u,p,d=a+c;o<=d||(p={element:(u=s.eq(c)).find(y.CellContent.selector),index:d,viewport:l,scrollPosition:r},this.behavior&&(p.bindDataToGridCell=w.GridLayoutBehavior.bindDataToGridCell),t.cell.renderCell(p),t.subheaderShow&&(p={element:u.find(y.SubHeader.selector),index:d,viewport:{width:t.cell.width,height:t.subheaderHeight,scale:t.scale},scrollPosition:r},this.behavior&&(p.styleSubheader=w.GridLayoutBehavior.styleSubheader),t.cell.renderCellSubheader(p)))}0<t.footerWidth&&this.renderHeaderCell(m(e,1),n,1,l.height,t.footerWidth,t.scale,i)},n.prototype.renderHeaderCell=function(e,t,a,i,o,r,n){n({index:t,viewport:{width:o,height:i,scale:r},position:a,element:e,scrollPosition:this.listView.getCurrentPosition()})},n.prototype.renderListViewRow=function(e){e.each((function(e,t){$(this).addClass(y.GridRowWrapperSelector.class)}))},n.prototype.updateListViewRow=function(e){var i=this,o=this.renderingContext;e.each((function(e,t){var a=$(this);a.data(r)!==o&&(a.data(r,o),i.renderRow($(this),i.settings.row,e.cellIndex,i.settings.renderHeader,i.settings.totalCellCount,i.getScrollPosition()))}))},n.prototype.initialize=function(e){this.isInitialized=!0,this.$grid=this.buildElement(this.$container,y.Grid.class),this.$gridBody=this.buildGridBody(),this.$gridFooter=this.buildElement(this.$grid,y.Footer.class),this.$gridFooter.attr("role","grid");e=this.buildListViewOptions(e);this.listView=w.ListViewFactory.createListView(e)},n.prototype.getRowHeight=function(e,t){return void 0===t&&(t=this.settings.row),b(e,this.getTotalRowCount(),t).height},n.prototype.getContainerHeight=function(){var e=this.settings;if(0===e.rowCount)return 0;for(var t=0,a=0;a<e.rowCount;a++)t+=b(a,this.getTotalRowCount(),e.row).height;var i=this.hasScroll(),o=this.settings.row.cellPadding.top,r=this.settings.gridLineSettings;return t+=n.getBottomInnerPadding(i,o,r)},n.prototype.checkLoadMore=function(){return this.listView.reachedLastRowContent()},n.prototype.buildListViewOptions=function(e){var t=this,a=this.getTotalOuterPixels(),a={loadMoreData:function(){return t.loadMoreHandler()},customLoadMoreCheck:function(){return t.checkLoadMore()},viewport:this.settings.viewport,baseContainer:d3.select(this.$gridBody.get(0)),scrollEnabled:this.scrollEnabled,isReadMode:function(){return!0},enter:function(e){t.renderListViewRow(e)},update:function(e){t.updateListViewRow(e)},rowHeight:this.getRowHeightWithoutPadding(a),paddingBetween:this.settings.row.cellPadding.top,paddingOuter:a,doNotRenderToCalculateRowHeight:!0,getContainerHeight:function(){return t.getContainerHeight()}};return this.behavior&&(a.afterScroll=function(){return t.bindInteractivity(e)}),a},n.prototype.buildListViewData=function(){for(var e=0,t=this.settings.row.columnCount,a=[],i=this.getTotalRowCount(),o=0;o<i;o++)a.push({index:o,cellIndex:e,columnCount:t}),e+=this.settings.row.columnCount;return a},n.prototype.getTotalRowCount=function(){var e=this.settings.row.columnCount,e=Math.ceil(this.settings.totalCellCount/e);return Math.max(e,this.settings.rowCount)},n.prototype.buildElement=function(e,t){return $(document.createElement("div")).addClass(t).appendTo(e)},n.prototype.buildGridBody=function(){var e=this.buildElement(this.$grid,y.Body.class);return e.attr("role","grid"),e},n.prototype.getRowsFromBodyOrFooter=function(e){e=(e?y.Body:y.Footer).selector;return this.$container.find("".concat(e," ").concat(y.Row.selector))},n);function n(e,t,a,i,o,r){var n=this;this.$container=e,this.loadMoreHandler=t,this.scrollEnabled=a,this.interactivityService=i,this.eventManager=o,this.isInitialized=!1,i&&(e=new w.GridLayoutBehaviorFactory(r,function(){return n.settings.getAllCells()}),this.behavior=e.create())}function b(e,t,a){var i=0,o=0;return 0===e&&(o+=a.outerPadding.top,h.hasOuterGridLines(a.gridLineSettings))&&(o+=a.gridLineSettings.settings.width),e===t-1&&(i+=a.outerPadding.bottom,h.hasOuterGridLines(a.gridLineSettings))&&(i+=a.gridLineSettings.settings.width),0<e&&(o+=a.cellPadding.top),{height:a.height+(a.subheaderShow?a.subheaderHeight:0)+i+o,topPadding:o,bottomPadding:i}}})(powerbi=powerbi||{}),(function(u){var p=u.visuals||(u.visuals={}),d=jsCommon.BrowserUtils,e=jsCommon.CssConstants.createClassAndSelector,o=jsCommon.DOMConstants,m=(p.managedTabIndexElement=e("managed-tab-index-element"),[34,33,36,35,32]);function t(e,t){this.boundDataKey=e,this.getAllCells=t}t.prototype.create=function(){return new a(this.boundDataKey,this.getAllCells)},p.GridLayoutBehaviorFactory=t,s.prototype.bindEvents=function(e,a,t){this.$cells=e.cells,this.columnCount=e.columnCount,this.viewportRowCount=e.viewportRowCount,this.cellCount=e.cellCount,this.listView=e.listView,this.cellCount=e.cellCount,this.visualInstanceId=e.visualInstanceId,this.$rows=e.$rows,this.manageTabIndexOnRowHeaderFooter=e.manageTabIndexOnRowHeaderFooter,this.eventManager=e.eventManager,this.boldedSubheaders=e.boldedSubheaders;var i,o=this,r=this.boundDataKey,n=!1,l=-1;this.$cells.each((function(){var e=$(this),t=e.data(r);t&&(n=n||o.checkUpdateEntryMappingImmediate(e,t,o),e=t.getIndex(),n||l<0&&(l=e),t=t.getDataPoint(),o.bindKeyNavigation(this,e,t,a),o.bindSubheaderSelection(this,t,a),o.bindClickEvents(this,e))})),n||(i=0<=l,this.checkUpdateEntryMappingDelayed(i,l)),e.gridContainer.on("click.selection",(function(){p.InteractivityUtils.handleClearSelection(a,s.isValidClickTarget)}))},s.prototype.renderSelection=function(e){var a=this.boundDataKey,i=this.boldedSubheaders;this.$cells.each((function(){var e=$(this),t=e.data(a);t&&s.styleSubheader(e,t,i)}))},s.bindDataToGridCell=function(e,t,a){t&&e.data(a,t)},s.styleSubheader=function(e,t,a){a||d3.select(e.get(0)).select(p.GridLayoutSelectors.SubHeader.selector).style("font-weight",t.isSelected()?"".concat(700):"normal")},s.isValidClickTarget=function(e){var t=e.target;return!_.some(["scroll-bar","scroll-element_outer","scroll-element_track",p.GridLayoutSelectors.SubHeader.class],(function(e){return t.classList.contains(e)}))},s.prototype.bindSubheaderSelection=function(e,t,a){e=d3.select(e).select(p.GridLayoutSelectors.SubHeader.selector).node();e&&this.eventManager.on(e,"click",(function(){return p.InteractivityUtils.handleSelection(t,a)}))},s.prototype.bindKeyNavigation=function(e,n,l,s){var c=this,e=d3.select(e).select(p.managedTabIndexElement.selector).node();e&&this.eventManager.on(e,"keydown",(function(){var t=d3.event,e=d3.select(t.target),a=t.keyCode;if(e.classed(p.managedTabIndexElement.class)){var i=function(e){t.preventDefault(),t.stopPropagation(),e()};switch(a){case 39:n!==c.getLastCellIndexInRow(n)?t.shiftKey?i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(n+1,l,s)]}))}))})):i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(n+1,!1)]}))}))})):i((function(){}));break;case 37:n!==c.getFirstCellIndexInRow(n)?t.shiftKey?i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(n-1,l,s)]}))}))})):i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(n-1,!1)]}))}))})):i((function(){}));break;case 40:var o=n+c.columnCount;o<c.cellCount?t.shiftKey?i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(o,l,s)]}))}))})):i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(o,!1)]}))}))})):i((function(){}));break;case 38:var r=n-c.columnCount;0<=r?t.shiftKey?i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.triggerFocusAndSelection(r,l,s)]}))}))})):i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(r,!1)]}))}))})):i((function(){}));break;case 36:d.isCtrlOrMeta(t)?i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(0,!1)]}))}))})):i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(this.getFirstCellIndexInRow(n),!1)]}))}))}));break;case 35:d.isCtrlOrMeta(t)?i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(this.cellCount-1,!1)]}))}))})):i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(this.getLastCellIndexInRow(n),!1)]}))}))}));break;case 32:i((function(){c.handleCellSelection(l,s)}));break;case 65:d.isCtrlOrMeta(t)&&(s.handleClearSelection(),i((function(){c.handleSelectAll(s)})));break;case 33:i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(Math.max(n-this.getCellsPerPage(),0),!1)]}))}))}));break;case 34:i((function(){__awaiter(c,void 0,u.Promise,(function(){return __generator(this,(function(e){return[2,this.focusCellAtIndex(n+this.getCellsPerPage(),!0)]}))}))}))}}else 0<=_.indexOf(m,a)&&(t.preventDefault(),t.stopPropagation())}))},s.prototype.checkUpdateEntryMappingImmediate=function(e,t,a){var i=t.getDataPoint().identity,o=a.entryCellKeyMapping,r=void 0===o,o=o&&p.SelectionId.isEqual(i,a.entryCellKeyMapping.key);return!(!r&&!o||(r={cell:e,index:t.getIndex(),key:i,selectableDataPoint:t.getDataPoint()},a.setEntryCellKeyMapping(r),0))},s.prototype.checkUpdateEntryMappingDelayed=function(e,t){e?this.setEntryCellKeyMapping(this.getCellKeyMapping(t)):this.setEntryCellKeyMapping(void 0)},s.prototype.focusCellAtIndex=function(t,e){var a=this,i=this.factory.defer(),o=this.getRowIndexFromCellIndex(t),r=e;return this.pendingFocusCall?i.resolve(1):(this.pendingFocusCall=!0,this.focusCallback=function(){var e=r?Math.min(t,a.cellCount-1):t,e=a.getCellKeyMapping(e);e&&(a.setEntryCellKeyMapping(e),a.pendingFocusCall=!1,d.focus(a.getManagedElementFromCell(e.cell).get(0),{preventScroll:!0})),a.pendingFocusCall=!1,i.resolve(0)},this.listView.scrollRowIntoView(o,this.focusCallback)),i.promise},s.prototype.setEntryCellKeyMapping=function(e){var t=this.entryCellKeyMapping;t&&t.cell&&((t=this.getManagedElementFromCell(t.cell)).removeAttr("tabindex"),t.removeAttr("focusable"),t.attr(o.skipChildrenFocusAttribute,"true")),e&&((t=this.getManagedElementFromCell(e.cell)).attr("tabindex",0),t.attr("focusable","true"),t.attr("aria-labelledby","".concat(this.visualInstanceId,"-").concat(e.index)),t.removeAttr(o.skipChildrenFocusAttribute),this.updateFocusAttributesForRowHeaders(e.index)),this.entryCellKeyMapping=e},s.prototype.getCellKeyMapping=function(i){var o,r=this.boundDataKey;return this.$cells.each((function(){var e=$(this),t=e.data(r);if(t){var a=t.getIndex();if(a===i)return!(o={cell:e,key:t.getDataPoint().identity,index:a,selectableDataPoint:t.getDataPoint()})}})),o},s.prototype.getRowIndexFromCellIndex=function(e){return Math.floor(e/this.columnCount)},s.prototype.getColumnIndexFromCellIndex=function(e){return e%this.columnCount},s.prototype.getCellsPerPage=function(){return this.columnCount*this.viewportRowCount},s.prototype.getFirstCellIndexInRow=function(e){return this.getRowIndexFromCellIndex(e)*this.columnCount},s.prototype.getLastCellIndexInRow=function(e){return Math.min(this.cellCount-1,this.getFirstCellIndexInRow(e)+this.columnCount-1)},s.prototype.getManagedElementFromCell=function(e){return e.find(p.managedTabIndexElement.selector).first()},s.prototype.getManagedElementFromRows=function(e,t){return e.find("".concat(t," ").concat(p.managedTabIndexElement.selector))},s.prototype.handleCellSelection=function(e,t){p.InteractivityUtils.handleSelection(e,t)},s.prototype.handleSelectAll=function(e){var t=this.getAllCells();_.isEmpty(t)||e.handleMultipleSelection(t.map((function(e){return e.getDataPoint()})),1)},s.prototype.appendCellToSelection=function(e,t){t.handleMultipleSelection([e],1)},s.prototype.triggerFocusAndSelection=function(a,i,o){return __awaiter(this,void 0,u.Promise,(function(){var t;return __generator(this,(function(e){switch(e.label){case 0:return[4,this.focusCellAtIndex(a,!1)];case 1:return 1!==e.sent()&&(t=this.getCellKeyMapping(a),t=t?t.selectableDataPoint:void 0,i.selected)&&t&&this.appendCellToSelection(t,o),[2]}}))}))},s.prototype.updateFocusAttributesForRowHeaders=function(e){var a,i=this;this.manageTabIndexOnRowHeaderFooter?(a=this.getRowIndexFromCellIndex(e),this.$rows.each((function(){var e=$(this),t=i.getManagedElementFromRows(e,p.GridLayoutSelectors.HeaderCell.selector);e.attr("aria-rowindex")===(a+1).toString()?t.attr("tabindex",0).attr("focusable","true").addClass(p.SetFocusRingClassName).removeAttr(o.skipChildrenFocusAttribute):t.removeAttr("tabindex").removeAttr("focusable").removeClass(p.SetFocusRingClassName).attr(o.skipChildrenFocusAttribute,"true")}))):(a=this.getColumnIndexFromCellIndex(e),i.getManagedElementFromRows(this.$rows,"").each((function(e){var t=$(this);e===a?t.attr("tabindex",0).attr("focusable","true").addClass(p.SetFocusRingClassName).removeAttr(o.skipChildrenFocusAttribute):t.removeAttr("tabindex").removeAttr("focusable").removeClass(p.SetFocusRingClassName).attr(o.skipChildrenFocusAttribute,"true")})))},s.prototype.bindClickEvents=function(e,t){var a=this,e=d3.select(e).select(p.GridLayoutSelectors.CellContent.selector).node();this.eventManager.on(e,"click",(function(){var e=a.getCellKeyMapping(t);e&&a.setEntryCellKeyMapping(e)}))};var a=s;function s(e,t){this.boundDataKey=e,this.getAllCells=t,this.pendingFocusCall=!1,this.factory=u.createJQueryPromiseFactory()}p.GridLayoutBehavior=a})(powerbi=powerbi||{}),(function(s){var e,h,t,n;function o(e){e.visited=!0}function r(e){delete e.visited}function l(e){return n.isLeaf(e)?e.categoryIndex:n.isNonLeaf(e)?e.maxCategoryIndex:void 0}function b(e){var t;if(e.parent)return e=e.parent,_.isEmpty(e.children)?(t=b(e))&&_.last(t.children):_.last(e.children)}function f(e,t,a){for(var i,o=0,r=e.values.length,n=t;n<r;n++){var l=(function(e,t,a){e=e.identity,e=e[t],t=s.data.ScopeIdentityExtractor.getSubset(e.expr,a);return s.data.createDataViewScopeIdentity(t)})(e,n,a);if(i&&!s.DataViewScopeIdentity.equals(i,l))break;i=i||l,o++}return o}function S(e,t,a,i){for(var o,r=a,n=a+i;r<n;r++){var l={categoryIndex:r,kind:h.Leaf,parent:e,previous:o};(o=void 0===o?b(l):o)&&((o.next=l).previous=o),e.children.push(o=l)}}e=s.visuals||(s.visuals={}),(t=h=e.HierarchyNodeType||(e.HierarchyNodeType={}))[t.Leaf=0]="Leaf",t[t.NonLeaf=1]="NonLeaf",(n=e.HierarchyNodeHelpers||(e.HierarchyNodeHelpers={})).isLeaf=function(e){return n.isKind(e,h.Leaf)},n.isNonLeaf=function(e){return n.isKind(e,h.NonLeaf)},n.isKind=function(e,t){return e&&e.kind===t},n.getNodeAtCategoryIndexForDepth=function(e,t,a){if(0===a)return e;for(var i,o=e,r=1;r<=a;r++)i=void 0,i=o.children,i=_.head(i),o=n.getNodeAtCategoryIndex(i,t);return o},n.getNodeAtCategoryIndex=function(e,t){var a,i=l(e);return i===t?e:i<t?(i=e.next,o(e),a=n.getNodeAtCategoryIndex(i,t),r(e),a):(i=e.previous)&&l(i)>=t?(o(e),a=n.getNodeAtCategoryIndex(i,t),r(e),a):e},n.getLastLevelNode=b,(n.Builder||(n.Builder={})).build=function(e){for(var t=_.head(e).values.length,a={categorySpan:t,children:[],kind:h.NonLeaf,maxCategoryIndex:t,parent:null},i=0;i<t;)i+=(function e(t,a,i,o,r){r=r||[];var n=a[i];var l=r[i];var s;{var c;l||(n.source.identityExprs,c=n.source.identityExprs,(l=r[i]=0<i?r[i-1].slice():[]).push.apply(l,c||[]))}var u=f(n,o,l);var p={categorySpan:u,children:[],kind:h.NonLeaf,maxCategoryIndex:null,parent:t};void 0===s&&(s=b(p));s&&((p.previous=s).next=p);var d=i+1;if(d>=a.length-1)S(p,a[d],o,u);else for(var m=0;m<u;){var y=m+o;m+=e(p,a,d,y,r)}var g=_.last(p.children);switch(g.kind){case h.Leaf:p.maxCategoryIndex=g.categoryIndex;break;case h.NonLeaf:p.maxCategoryIndex=g.maxCategoryIndex}t.children.push(p);return u})(a,e,0,i);return a}})(powerbi=powerbi||{}),(function(e){var n;function t(){return{solid:{color:"#FFF"}}}function a(){return 50}function i(){return!1}function l(e){null!=e&&e.children(".background-image").remove()}n=e.visuals||(e.visuals={}),(e=n.visualBackgroundHelper||(n.visualBackgroundHelper={})).getDefaultColor=t,e.getDefaultTransparency=a,e.getDefaultShow=i,e.getDefaultValues=function(){return{color:t(),transparency:50,show:!1}},e.enumeratePlot=function(e,t){e.pushInstance({selector:null,properties:{transparency:null!=(e=null==t?void 0:t.transparency)?e:50,image:null==t?void 0:t.image},objectName:"plotArea"})},e.getBackgroundCard=function(t,a){var i=n.columnChartProps.plotArea,e=new n.builder.FormattingCardBuilder(new n.builder.FormattingCardUidBuilder("plotBackground"),"Visual_Plot_Background",[i.image,i.transparency],a);return e.addGroup(void 0,(function(e){e.addSimpleSlice("image",new n.builder.ImageUploadBuilder({descriptor:i.image,value:t&&t.image}).build()).addSimpleSlice("transparency",n.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:i.transparency,value:null!=(e=null==t?void 0:t.transparency)?e:50,localize:a}).build(),(function(e){return e.withDisabled(!(t&&t.image&&(null!=(e=t.image)&&e.name||null!=(e=t.image)&&e.url)))}))})),e.build()},e.renderBackgroundImage=function(e,t,a){var i=null==(i=null==e?void 0:e.image)?void 0:i.url;if(i){var o,r=t.children(".background-image");switch(0===r.length&&(t.prepend('<div class="background-image"></div>'),(r=t.children(".background-image")).css("position","absolute")),e.image.scaling){case n.imageScalingType.normal:o={"background-size":"","background-position":"50% 50%"};break;case n.imageScalingType.fit:o={"background-size":"100% 100%","background-position":""};break;case n.imageScalingType.fill:o={"background-size":"100%","background-position":"50% 50%"};break;default:o={"background-size":"","background-position":"50% 50%"}}r.css(__assign(__assign({},o),{width:a.width,height:a.height,"margin-left":a.left,"margin-top":a.top,"background-image":"url(".concat(i,")"),"background-repeat":"no-repeat",opacity:(100-e.transparency)/100}))}else l(t)},e.removeBackgroundImage=l})(powerbi=powerbi||{}),(function(e){var t,a;function l(){}t=e.visuals||(e.visuals={}),a=e.data.Selector,l.prototype.pushInstance=function(e,t){void 0===t&&(t=!0);var a=(a=this.instances)||(this.instances=[]),i=this.containerIdx;if(null!=i&&(e.containerIdx=i),t)for(var o=0,r=a;o<r.length;o++){var n=r[o];if(this.canMerge(n,e))return this.extend(n,e,"properties"),this.extend(n,e,"validValues"),this}return a.push(e),this},l.prototype.pushContainer=function(e){e=(this.containers||(this.containers=[])).push(e);return this.containerIdx=e-1,this},l.prototype.popContainer=function(){return this.containerIdx=void 0,this},l.prototype.complete=function(){var e,t;if(this.instances)return e={instances:this.instances},(t=this.containers)&&(e.containers=t),e},l.prototype.canMerge=function(e,t){return e.objectName===t.objectName&&e.containerIdx===t.containerIdx&&a.equals(e.selector,t.selector)},l.prototype.extend=function(e,t,a){var i=t[a];if(i){var o,r=(r=e[a])||(e[a]={});for(o in i)r[o]||(r[o]=i[o])}},l.merge=function(e,t){var a=l.normalize(e),e=l.normalize(t);if(!a||!e)return a||e;for(var i=a.containers?a.containers.length:0,o=0,r=e.instances;o<r.length;o++){var n=r[o];a.instances.push(n),null!=n.containerIdx&&(n.containerIdx+=i)}t=e.containers;return _.isEmpty(t)||(a.containers?Array.prototype.push.apply(a.containers,t):a.containers=t),a},l.normalize=function(e){return _.isArray(e)?{instances:e}:e},l.getContainerForInstance=function(e,t){return e.containers,e.containers[t.containerIdx]},t.ObjectEnumerationBuilder=l})(powerbi=powerbi||{}),(function(e){var p,d,r,l;p=e.visuals||(e.visuals={}),(d=p.OnObjectUtil||(p.OnObjectUtil={})).getFontOnlyTextSubSelectionStyles=function(e,t,a){return __assign({type:1},r(e,t,a=void 0===a?null:a))},d.getNumericTextSubSelectionStyles=function(e,t,a){void 0===a&&(a=null);var i=t.precisionReference,o=t.displayUnitsReference,t=__rest(t,["precisionReference","displayUnitsReference"]);return __assign(__assign({type:2},r(e,t,a)),{precision:{reference:l(i,a),label:e.getLocalizedString("Visual_Precision")},displayUnits:{reference:l(o,a),label:e.getLocalizedString("Visual_DisplayUnits")}})},d.getShapeSubSelectionStyles=function(e,t,a,i,o,r,n){void 0===r&&(r=!1),void 0===n&&(n=null);var l={type:3};return(o=void 0===o?!1:o)&&(l.stroke={reference:__assign({cardUid:e,groupUid:t,sliceUid:a},n?{selector:n}:{}),label:i.getLocalizedString("Visual_Shape_Line")}),r&&(l.fill={reference:__assign({cardUid:e,groupUid:t,sliceUid:a},n?{selector:n}:{}),label:i.getLocalizedString("Visual_Fill")}),l},d.getDataLabelsSubSelectionStyles=function(e){var t=e.hostServices,a=e.omitSelectorForSingleSeries,i=e.individualSelector,o=e.selector,r=e.repetitionSelector,e=e.inContainer,n="".concat("Visual","-").concat("labels"),e=e?"".concat("labels-applySettingsTo-series","-"):"labels",l="".concat(e,"-").concat("values"),s=a?void 0:l,e="".concat(e,"-").concat("background"),c=a?void 0:e,u={cardUid:n,groupUid:s,sliceUid:"".concat(l,"-font")},i={cardUid:n,groupUid:s,sliceUid:"".concat(l,"-color"),selector:p.DataLabelUtil.getDataLabelColorSelector(i,a?void 0:o,r)},r={cardUid:n,groupUid:s,sliceUid:"".concat(l,"-precision")},s={cardUid:n,groupUid:s,sliceUid:"".concat(l,"-displayUnits")},l={cardUid:n,groupUid:c,sliceUid:"".concat(e,"-backgroundColor")};return d.getNumericTextSubSelectionStyles(t,{fontReference:u,fontColorReference:i,precisionReference:r,displayUnitsReference:s,backgroundReference:l},a?void 0:o)},d.getTotalLabelsSubSelectionStyles=function(e,t,a){var i="".concat("Visual","-").concat("totals"),o="".concat("totals","-").concat("values"),r="".concat("totals","-").concat("background"),n={cardUid:i,groupUid:o,sliceUid:"".concat(o,"-font")},o={cardUid:i,groupUid:o,sliceUid:"".concat(o,"-color"),selector:p.DataLabelUtil.getDataLabelColorSelector(t,void 0,a)},t={cardUid:i,groupUid:r,sliceUid:"".concat(r,"-backgroundColor")};return d.getFontOnlyTextSubSelectionStyles(e,{fontReference:n,fontColorReference:o,backgroundReference:t})},r=function(e,t,a){var i=t.fontReference,o=t.fontColorReference,r=t.backgroundReference,n=t.wordWrapReference,t=t.horizontalAlignmentReference,i={font:{reference:l(i,a=void 0===a?null:a),label:e.getLocalizedString("Font")},fontColor:{reference:l(o,a),label:e.getLocalizedString("Visual_FontColor")}};return r&&(i.background={reference:l(r,a),label:e.getLocalizedString("Background_Color")}),n&&(i.wordWrap={reference:l(n,a),label:e.getLocalizedString("Visual_Word_Wrap")}),t&&(i.horizontalAlignment={reference:l(t,a),label:e.getLocalizedString("Visual_Alignment_Horizontal")}),i},l=function(e,t){e=__assign({},e);return!e.selector&&t&&(e.selector=t),e},d.getVisualObject=function(e){e=_.first(e).visualObjects,e=e[0];return e},d.getHorizontalCenteredTitleDirectEdit=function(e,t){return e&&{reference:{cardUid:void 0,sliceUid:e},style:2,displayValue:t}},d.getVerticalTitleDirectEdit=function(e,t){return e&&{reference:{cardUid:void 0,sliceUid:e},style:1,displayValue:t}}})(powerbi=powerbi||{}),(function(e){var r,t;r=e.visuals||(e.visuals={}),(t=r.VisualBorderUtil||(r.VisualBorderUtil={})).DefaultColor="#000",t.DefaultShow=!1,t.DefaultRadius=0,t.getBorderCss=function(e,t){var a=r.outline.showTop(e)?t:0,i=r.outline.showRight(e)?t:0,o=r.outline.showBottom(e)?t:0,e=r.outline.showLeft(e)?t:0;return"".concat(a,"px ").concat(i,"px ").concat(o,"px ").concat(e,"px")},t.getDefaultValues=function(){return{color:{solid:{color:t.DefaultColor}},show:t.DefaultShow,radius:t.DefaultRadius}}})(powerbi=powerbi||{}),(function(e){function t(e){this.matrix=e||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}function a(e,t){return{m00:1,m01:0,m02:e,m10:0,m11:1,m12:t}}function i(e,t){return{m00:e,m01:0,m02:0,m10:0,m11:t,m12:0}}function o(e){var t=Math.sin(e),e=Math.cos(e);return{m00:e,m01:-t,m02:0,m10:t,m11:e,m12:0}}function r(e){var t=1/(e.m00*e.m11-e.m01*e.m10);return{m00:e.m11*t,m01:-e.m01*t,m02:(e.m01*e.m12-e.m02*e.m11)*t,m10:-e.m10*t,m11:e.m00*t,m12:-(e.m00*e.m12-e.m10*e.m02)*t}}function n(e,t){return{m00:e.m00*t.m00+e.m01*t.m10,m01:e.m00*t.m01+e.m01*t.m11,m02:e.m00*t.m02+e.m01*t.m12+e.m02,m10:e.m10*t.m00+e.m11*t.m10,m11:e.m10*t.m01+e.m11*t.m11,m12:e.m10*t.m02+e.m11*t.m12+e.m12}}e=e.visuals||(e.visuals={}),t.prototype.applyToPoint=function(e){var t;return e&&{x:(t=this.matrix).m00*e.x+t.m01*e.y+t.m02,y:t.m10*e.x+t.m11*e.y+t.m12}},t.prototype.applyToRect=function(e){var t,a,i,o,r,n,l,s,c,u,p,d,m,y,g;return e&&(t=e.left,a=e.top,o=1!==(i=this.matrix).m00||1!==i.m11,(p=0!==i.m01||0!==i.m10)||o?(o=e.left+e.width,r=e.top+e.height,p=p?(d=i.m00*t+i.m01*a+i.m02,m=i.m10*t+i.m11*a+i.m12,p=i.m00*t+i.m01*r+i.m02,n=i.m10*t+i.m11*r+i.m12,c=i.m00*o+i.m01*a+i.m02,l=i.m10*o+i.m11*a+i.m12,y=i.m00*o+i.m01*r+i.m02,g=i.m10*o+i.m11*r+i.m12,s=Math.min(d,p,c,y),c=Math.max(d,p,c,y),u=Math.min(m,n,l,g),Math.max(m,n,l,g)):(d=i.m00*t+i.m02,m=i.m11*a+i.m12,y=i.m00*o+i.m02,g=i.m11*r+i.m12,s=Math.min(d,y),c=Math.max(d,y),u=Math.min(m,g),Math.max(m,g)),{left:s,top:u,width:c-s,height:p-u}):{left:t+i.m02,top:a+i.m12,width:e.width,height:e.height})},t.prototype.translate=function(e,t){0===e&&0===t||(e=a(e,t),this.matrix=n(this.matrix,e),this._inverse=null)},t.prototype.scale=function(e,t){1===e&&1===t||(e=i(e,t),this.matrix=n(this.matrix,e),this._inverse=null)},t.prototype.rotate=function(e){0!==e&&(e=o(e),this.matrix=n(this.matrix,e),this._inverse=null)},t.prototype.add=function(e){e&&(this.matrix=n(this.matrix,e.matrix),this._inverse=null)},t.prototype.getInverse=function(){return this._inverse||(this._inverse=new t(r(this.matrix))),this._inverse},e.Transform=t,e.createTranslateMatrix=a,e.createScaleMatrix=i,e.createRotationMatrix=o,e.createInverseMatrix=r})(powerbi=powerbi||{}),(function(E){var G,n,l,e,W,r,s,t,a;function U(e,t,a,i,o){var e=E.DataViewObjects.getObject(e,n.trendObjectName,{}),r=G.ColorHelper.create(o),e={show:E.DataViewObject.getValue(e,l.show,!1),displayName:E.DataViewObject.getValue(e,l.displayName),lineColor:{solid:{color:r.getColorForPropertyName(e,l.lineColor,W)}},transparency:E.DataViewObject.getValue(e,l.transparency,n.defaults.transparency),style:E.DataViewObject.getValue(e,l.style,n.defaults.lineStyle),combineSeries:E.DataViewObject.getValue(e,l.combineSeries,n.defaults.combineSeries),useHighlightValues:E.DataViewObject.getValue(e,l.useHighlightValues,n.defaults.useHighlightValues)},a=E.DataViewObjects.getValue(a,G.lineChartProps.dataPoint.fill),a=(a&&(e.lineColor=a),E.DataViewObjects.getFillColor(t,{objectName:"dataPoint",propertyName:"defaultColor"}));return i||(a=a||E.DataViewObjects.getFillColor(t,{objectName:"dataPoint",propertyName:"fill"})),{trendlineProperties:e,colorHelper:r=G.ColorHelper.create(o,{objectName:"dataPoint",propertyName:"fill"},a),defaultColor:a}}function K(e){return{solid:{color:G.ColorHelper.getThemeColor(e,W)}}}function Y(e){e=t.parseColorString(e),e=t.darken(e,20);return t.rgbString(e)}G=E.visuals||(E.visuals={}),t=jsCommon.Color,a=E.data.DataRoleHelper,n=G.TrendLineHelper||(G.TrendLineHelper={}),(e=l=n.PropertyNames||(n.PropertyNames={})).show="show",e.displayName="displayName",e.lineColor="lineColor",e.transparency="transparency",e.style="style",e.combineSeries="combineSeries",e.useHighlightValues="useHighlightValues",n.trendObjectName="trend",W="foregroundDark",n.defaults={lineStyle:G.lineStyle.dashed,transparency:0,combineSeries:!0,useHighlightValues:!0},r=jsCommon.CssConstants.createClassAndSelector("trend-line"),s=jsCommon.CssConstants.createClassAndSelector("trend-line-layer"),n.enumerateObjectInstances=function(e,t,a){_.isEmpty(t)?e.pushInstance({selector:null,properties:{show:!1,lineColor:K(a),transparency:n.defaults.transparency,style:n.defaults.lineStyle,combineSeries:n.defaults.combineSeries},objectName:n.trendObjectName}):(a=t[0],(t={}).show=a.show,t.displayName=a.displayName,a.combineSeries&&(t.lineColor=a.lineColor),t.transparency=a.transparency,t.style=a.style,t.combineSeries=a.combineSeries,t.useHighlightValues=a.useHighlightValues,e.pushInstance({selector:null,properties:t,objectName:n.trendObjectName}))},n.isDataViewForRegression=function(e){return a.hasRoleInDataView(e,"regression.X")},n.readDataView=function(e,t,a,i){if(e&&e.matrix){var o=e,r=s=t,n=a,l=i;if(o&&o.matrix){var s=o.matrix,c=s.rows&&s.rows.root&&s.rows.root.children;if(!_.isEmpty(c)){for(var u=r.metadata.objects,s=U(o.metadata.objects,u,c[0].children[0].objects,n,l),p=s.trendlineProperties,F=s.colorHelper,z=s.defaultColor,B=r.matrix&&r.matrix.rows&&r.matrix.rows.root.children,d=[],m=0;m<c.length;m++){for(var y=[],g=0,h=c[m].children;g<h.length;g++){var b=h[g],f=G.AxisHelper.normalizeNonFiniteNumber(b.value),b=G.AxisHelper.normalizeNonFiniteNumber(b.values[0].value);null!=f&&null!=b&&y.push({x:f,y:b})}var S,v=void 0;v=p.combineSeries?p.lineColor||K(l):2===r.matrix.rows.levels.length?(S=B[m],{solid:{color:Y(F.getColorForSeriesValue(S.objects,S.childIdentityFields,S.value,W))}}):(S=E.DataViewObjects.getFillColor(u,{objectName:"dataPoint",propertyName:"defaultCategoryColor"}),{solid:{color:Y(G.ColorHelper.create(l,{objectName:"dataPoint",propertyName:"fill"},z||S).getColorForMeasure(null,"",W))}}),d.push({points:y,show:p.show,displayName:p.displayName,lineColor:v,transparency:p.transparency,style:p.style,combineSeries:p.combineSeries,useHighlightValues:p.useHighlightValues,y2Axis:n})}return d}}}else{var o=a,C=s=t,N=o,x=i;if((s=e)&&s.categorical){o=s.categorical;if(!_.isEmpty(o.categories)&&!_.isEmpty(o.values)){var w=o.categories[0].values,P=o.values.grouped();if(w&&P){for(var s=U(s.metadata.objects,C.metadata.objects,o.values[0].source.objects,N,x),T=s.trendlineProperties,V=s.colorHelper,D=[],L=0;L<P.length;L++){for(var M=P[L],R=[],A=0;A<w.length;A++){var O=G.AxisHelper.normalizeNonFiniteNumber(w[A]),j=M.values[0],I=void 0,I=T.useHighlightValues&&j.highlights?j.highlights:j.values,j=G.AxisHelper.normalizeNonFiniteNumber(I[A]);null!=O&&null!=j&&R.push({x:O,y:j})}var k,H=void 0;H=T.combineSeries?T.lineColor||K(x):{solid:{color:Y(C.categorical.values.source?(k=C.categorical.values.grouped(),V.getColorForSeriesValue(k[L].objects,C.categorical.values.identityFields,M.name,W)):(k=C.categorical.values[L],V.getColorForMeasure(k.source.objects,M.name,W)))}},D.push({points:R,show:T.show,displayName:T.displayName,lineColor:H,transparency:T.transparency,style:T.style,combineSeries:T.combineSeries,useHighlightValues:T.useHighlightValues,y2Axis:N})}return D}}}}},n.darkenTrendLineColor=Y,n.render=function(e,t,i,a){var o=t.select(s.selector),t=((o=o.empty()?t.append("svg").classed(s.class,!0):o).attrs({height:a.height,width:a.width}),o.selectAll(r.selector).data(e||[]));(a=t.enter().append("path").classed(r.class,!0).merge(t)).attr("d",(function(e){var t=i.x.scale,a=(e.y2Axis&&i.y2?i.y2:i.y1).scale;return d3.line().x((function(e){return t(e.x)})).y((function(e){return a(e.y)}))(_.filter(e.points,(function(e){return null!=e.x&&null!=e.y})))})),a.each((function(e){var t=d3.select(this),a={};a.stroke=e.lineColor.solid.color,null!=e.transparency&&(a["stroke-opacity"]=(100-e.transparency)/100),e.style===G.lineStyle.dashed?a["stroke-dasharray"]="5, 5":e.style===G.lineStyle.dotted?(a["stroke-dasharray"]="1, 5",a["stroke-linecap"]="round"):e.style===G.lineStyle.solid&&(a["stroke-dasharray"]=null,a["stroke-linecap"]=null),t.styles(a)})),t.exit().remove()}})(powerbi=powerbi||{}),(function(f){var S,v;function e(){}function h(){}S=f.visuals||(f.visuals={}),e.DefaultWidth=1,e.DefaultBarMatchSeriesColor=!1,e.DefaultTransparency=80,e.DefaultBandStyle=S.confidenceBandStyle.fill,e.DefaultMarkerShape=S.markerShape.longDash,e.DefaultMarkerSize=5,e.DefaultLabelBackgroundTransparency=90,e.DefaultLabelFormat=S.errorFormat.absolute,e.DefaultTooltipFormat=S.errorFormat.absolute,e.MarkerKeyBase="uncertainty",v=e,S.UncertaintyDefaults=v,S.ErrorObjectProps=S.builder.getPropertyIdentifiers({error:S.StandardObjectDescriptors.error}).error,h.convertErrorMetadata=function(e,t,a,i,o,r){var n,e=__assign(__assign({},f.DataViewObjects.getObject(r.staticObjects,"error")),f.DataViewObjects.getObject(e,"error")),l=S.ColorHelper.create(t),s=f.DataViewObject.getValue(e,"barShow",!0),c=f.DataViewObject.getValue(e,"barMatchSeriesColor",v.DefaultBarMatchSeriesColor),u=f.DataViewObject.getValue(e,"barWidth",v.DefaultWidth),p=l.getColorForPropertyNameWithDefaultColor(e,"barBorderColor",t.colorPalette.background.value),d=f.DataViewObject.getValue(e,"barBorderSize",v.DefaultWidth),m=a,l=(c||(m=l.getColorForPropertyNameWithDefaultColor(e,"barColor",t.colorPalette.foregroundNeutralSecondary.value)),r.hideBand||(n={show:f.DataViewObject.getValue(e,"shadeShow",!1),bandStyle:f.DataViewObject.getValue(e,"shadeBandStyle",v.DefaultBandStyle),matchSeriesColor:f.DataViewObject.getValue(e,"shadeMatchSeriesColor",!0),transparency:f.DataViewObject.getValue(e,"shadeTransparency",v.DefaultTransparency),color:a}).matchSeriesColor||(n.color=l.getColorForPropertyNameWithDefaultColor(e,"shadeColor",t.colorPalette.foregroundNeutralSecondary.value)),f.DataViewObject.getValue(e,"markerShape",s?v.DefaultMarkerShape:S.markerShape.none)),y=f.DataViewObject.getValue(e,"markerSize",v.DefaultMarkerSize),g=f.DataViewObject.getValue(e,"showMarkerByDefault",!0),h=l!==S.markerShape.none&&(s||!!n&&n.show),b=s?u/2:void 0,i={color:s?m:null==n?void 0:n.color,lineDashType:S.lineStyle.solid,key:v.MarkerKeyBase+i,orient:r.valueAxisHorizontal?90:0,shape:l,showMarker:h,showMarkerByDefault:g,size:y,strokeColor:s?p:void 0,strokeSize:d,lineRadius:b},l={show:f.DataViewObject.getValue(e,"labelShow"),fontFamily:f.DataViewObject.getValue(e,"labelFontFamily"),fontSize:f.DataViewObject.getValue(e,"labelFontSize"),bold:f.DataViewObject.getValue(e,"labelBold"),italic:f.DataViewObject.getValue(e,"labelItalic"),underline:f.DataViewObject.getValue(e,"labelUnderline"),color:f.DataViewObject.getValue(e,"labelColor"),enableBackground:f.DataViewObject.getValue(e,"labelBackground"),backgroundColor:f.DataViewObject.getValue(e,"labelBackgroundColor"),backgroundTransparency:f.DataViewObject.getValue(e,"labelBackgroundTransparency",v.DefaultLabelBackgroundTransparency),labelDisplayUnits:void 0,labelPosition:void 0},g=f.DataViewObject.getValue(e,"labelMatchSeriesColor",!1),y=(g&&(l.color={solid:{color:a}}),S.DataLabelViewModel.updateLabelSettingsFromLabelsObject(l,o,!1,t,r.isCombo),__assign(__assign({},o),{matchSeriesColor:g,errorFormat:f.DataViewObject.getValue(e,"labelFormat",v.DefaultLabelFormat)})),a=f.DataViewObject.getValue(e,"tooltipShow",!0),l=f.DataViewObject.getValue(e,"tooltipFormat",v.DefaultTooltipFormat),t=f.DataViewObject.getValue(e,"enabled",!1),o={hasUncertainty:t,bar:{show:s,borderColor:p,borderWidth:d,matchSeriesColor:c,color:m,width:u},markers:i,tooltips:{format:l,show:a},labels:y,renderUncertainty:t&&(s||h||(null==n?void 0:n.show))};return n&&(o.band=n),b&&(o.markersFlipped=__assign(__assign({},i),{key:i.key+"-flip",orient:r.valueAxisHorizontal?270:180})),r.valueAxisHorizontal&&(o.bar.isHorizontal=r.valueAxisHorizontal),o},h.convertCategoricalDataPoint=function(e,t,a,i,o){e=e.getErrorValues(t,a,o);return this.convertDataPoint(e,i)},h.convertDataPoint=function(e,t){var a,i,o,r,n,l;if(null!=e)return e.explicit?(r=e.explicit,this.convertErrorRange(r.lowerBound,r.upperBound,r.isRelative?t:0)):e.symmetricalExplicit?(r=e.symmetricalExplicit.delta,n=Math.min(-r,r),l=Math.max(-r,r),this.convertErrorRange(n,l,t)):e.standardDeviation?(r=e.standardDeviation,a=r.value,r=r.multiplier,this.convertErrorRange(-a*r,a*r,t)):e.percentage?(r=(a=e.percentage).lowerBoundDelta,i=a.upperBoundDelta,o=Math.abs(t),this.convertErrorRange(n=t-r*o,l=t+i*o)):e.percentile?(n=(r=e.percentile).lowerBound,l=r.upperBound,this.convertErrorRange(n,l)):void 0},h.convertErrorRange=function(e,t,a){var a=null!=a?a:0,i={},e=S.AxisHelper.normalizeNonFiniteNumber(e),e=(null!=e&&(i.lower=e+a),S.AxisHelper.normalizeNonFiniteNumber(t));return null!=e&&(i.upper=e+a),i},h.setTooltipItems=function(e,t,a,i,o,r){var n,l;null!=t&&null!=e&&null!=o&&a.tooltips.show&&(n=null!=e.lower,l=null!=e.upper,t=h.getTooltipItems(e,t,a,i,o,r),a.tooltips.format===S.errorFormat.range?e.rangeTooltip=t.shift():(n&&(e.lowerTooltip=t.shift()),l&&(e.upperTooltip=t.shift())))},h.getTooltipItems=function(e,t,a,i,o,r){if(void 0===r&&(r={}),null!=t&&null!=e&&null!=o&&a.tooltips.show){var n=a.tooltips.format,e=h.formatUncertaintyByErrorFormat(t,e,n),l=e.lower,s=e.upper,c=r.hideMarker,u=r.overrideDisplayName,p=function(e){return n===S.errorFormat.relativePercentage?h.formatUncertaintyRelativePercentage(e,o):i(e)},d=[];switch(n){case S.errorFormat.range:var m=p(t),y=null!=l?p(l):"",g=null!=s?p(s):"";d.push({displayName:u||o.getLocalizedString("Value"),value:o.getLocalizedString("Visual_Error_Tooltip_Range",m,y,g)});break;case S.errorFormat.absolute:case S.errorFormat.relativeNumeric:case S.errorFormat.relativePercentage:null!=l&&(m={displayName:u||o.getLocalizedString("Visual_Error_Tooltip_Lower"),value:p(l)},c||(m.markerShape=S.markerShape.lowerErrorBar,m.color=a.bar.color),d.push(m)),null!=s&&(y={displayName:u||o.getLocalizedString("Visual_Error_Tooltip_Upper"),value:p(s)},c||(y.markerShape=S.markerShape.upperErrorBar,y.color=a.bar.color),d.push(y))}return d}},h.formatUncertaintyByErrorFormat=function(e,t,a){var i=t.lower,o=t.upper;switch(a){case S.errorFormat.relativeNumeric:null!=i&&(i-=e),null!=o&&(o-=e);break;case S.errorFormat.relativePercentage:null!=i&&(i=(i-e)/e),null!=o&&(o=(o-e)/e);break;case S.errorFormat.absolute:case S.errorFormat.range:}return{lower:i,upper:o}},h.formatUncertaintyRelativePercentage=function(e,t){return e===-1/0||e===1/0?t.getLocalizedString("ManageDatasets_NextRefresh_NA"):S.valueFormatter.format(e,t.getLocalizedString("Percentage"))},h.errorBarSymbol=function(c,u,p){return{draw:function(e,t){var a,i,o,r,n,l,s;null!=c.uncertainty&&(a=null!=c.uncertainty.upper,i=null!=c.uncertainty.lower,a||i)&&(o=p(c.uncertainty.upper)-p(c.value),r=p(c.uncertainty.lower)-p(c.value),n=.5*(u.width+u.borderWidth),l=!!u.isHorizontal,s=p.range()[0]<p.range()[1],(l&&!s||!l&&s)&&(r=(s=[o,r])[0],o=s[1],i=(s=[a,i])[0],a=s[1]),l?(a?(e.moveTo(o,n),e.lineTo(o,-n)):(e.moveTo(0,n),e.lineTo(0,-n)),i?(e.lineTo(r,-n),e.lineTo(r,n)):(e.lineTo(0,-n),e.lineTo(0,n))):(a?(e.moveTo(n,o),e.lineTo(-n,o)):(e.moveTo(n,0),e.lineTo(-n,0)),i?(e.lineTo(-n,r),e.lineTo(n,r)):(e.lineTo(-n,0),e.lineTo(n,0))),e.closePath())}}},h.getFormattingContainer=function(t,e){var a=t.uncertainty,i=t.measureSelector,o=t.uncertaintyOptions,r=t.localize,n=S.ErrorObjectProps,o=o&&o.hideBand,l={minValue:{type:0,value:1},maxValue:{type:1,value:10}},s={minValue:{type:0,value:0},maxValue:{type:1,value:2},unitSymbol:S.visualLocKeys.PixelUnitSymbol},c=1,u=10,p=(e.addGroup("options",(function(e){e.withDisplayName("Desktop_FileMenu_Options").addSimpleSlice("errorRangeEnabled",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.enabled),{selector:i}),value:a.hasUncertainty}).build()})).addSimpleSlice("errorRange",(function(){return new S.builder.ErrorRangeBuilder({descriptor:__assign(__assign({},n.errorRange),{selector:t.dataPointSelector,instanceKind:2}),validators:{field:{kind:1,type:{numeric:!0}}},targetMeasure:t.targetMeasure,value:void 0}).build()}),(function(e){e.withSuppressDisplayName(!0)}))})),e.addGroup("bar",(function(e){e.withDisplayName("Visual_Bar").addTopLevelToggle("barShow",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.barShow),{selector:i}),value:a.bar.show}).build()})).addSimpleSlice("barMatchSeriesColor",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.barMatchSeriesColor),{selector:i}),value:a.bar.matchSeriesColor}).build()})).addSimpleSlice("barColor",(function(){return new S.builder.ColorPickerBuilder({descriptor:__assign(__assign({},n.barColor),{selector:i}),value:{value:a.bar.color}}).build()}),(function(e){return e.withDisabled(a.bar.matchSeriesColor)})).addSimpleSlice("barWidth",(function(){return new S.builder.NumUpDownBuilder({descriptor:__assign(__assign({},n.barWidth),{selector:i}),value:a.bar.width,options:l}).build()})).addSimpleSlice("markerShape",new S.builder.DropdownBuilder({descriptor:__assign(__assign({},n.markerShape),{selector:i}),value:a.markers.shape}).build()).addSimpleSlice("markerSize",new S.builder.NumUpDownBuilder({descriptor:__assign(__assign({},n.markerSize),{selector:i}),value:a.markers.size,options:{minValue:{type:0,value:c},maxValue:{type:1,value:u}}}).build()).addSimpleSlice("barBorderColor",(function(){return new S.builder.ColorPickerBuilder({descriptor:__assign(__assign({},n.barBorderColor),{selector:i}),value:{value:a.bar.borderColor}}).build()})).addSimpleSlice("barBorderSize",(function(){return new S.builder.NumUpDownBuilder({descriptor:__assign(__assign({},n.barBorderSize),{selector:i}),value:a.bar.borderWidth,options:s}).build()})),a.hasUncertainty||e.withDisabled(!0,void 0)})),o||(a.band,e.addGroup("band",(function(e){e.withDisplayName("Visual_Error_Band").addTopLevelToggle("shadeShow",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.shadeShow),{selector:i}),value:a.band.show}).build()})).addSimpleSlice("shadeBandStyle",(function(){return new S.builder.DropdownBuilder({descriptor:__assign(__assign({},n.shadeBandStyle),{selector:i}),value:a.band.bandStyle}).build()})).addSimpleSlice("shadeMatchSeriesColor",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.shadeMatchSeriesColor),{selector:i}),value:a.band.matchSeriesColor}).build()})).addSimpleSlice("shadeColor",(function(){return new S.builder.ColorPickerBuilder({descriptor:__assign(__assign({},n.shadeColor),{selector:i}),value:{value:a.band.color}}).build()}),(function(e){return e.withDisabled(a.band.matchSeriesColor)})).addSimpleSlice("shadeTransparency",S.builder.SliderBuilder.getTransparencySliderBuilder({descriptor:__assign(__assign({},n.shadeTransparency),{selector:i}),value:a.band.transparency,localize:r}).build()).addSimpleSlice("markerShape",new S.builder.DropdownBuilder({descriptor:__assign(__assign({},n.markerShape),{selector:i}),value:a.markers.shape}).build(),(function(e){return e.withDisabled(a.bar.show)})).addSimpleSlice("markerSize",new S.builder.NumUpDownBuilder({descriptor:__assign(__assign({},n.markerSize),{selector:i}),value:a.markers.size,options:{minValue:{type:0,value:c},maxValue:{type:1,value:u}}}).build(),(function(e){return e.withDisabled(a.bar.show)})),a.hasUncertainty||e.withDisabled(!0,void 0)}))),a.labels),d={featureSwitches:{enableBIU:!0},hostServices:{getLocalizedString:r},options:{dataLabelsSettings:p,show:p.show,fontFamily:!0,fontSize:!0,bold:!0,italic:!0,underline:!0,matchSeriesColor:p.matchSeriesColor,enableBackground:p.enableBackground,backgroundColor:p.backgroundColor,backgroundTransparency:p.backgroundTransparency},omitGroupDisplayNames:!0,cardBuilder:void 0,selector:i,dataLabelsProps:{fontFamily:n.labelFontFamily,fontSize:n.labelFontSize,bold:n.labelBold,italic:n.labelItalic,underline:n.labelUnderline,matchSeriesColor:n.labelMatchSeriesColor,color:n.labelColor,enableBackground:n.labelBackground,backgroundColor:n.labelBackgroundColor,backgroundTransparency:n.labelBackgroundTransparency}};e.addGroup("labels",(function(e){e.withDisplayName("Visual_Error_Labels").addTopLevelToggle("labelShow",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.labelShow),{selector:i}),value:p.show}).build()})),S.DataLabelViewModel.addDataLabelsValuesFormattingSlicesToGroup(e,d),e.addSimpleSlice("labelFormat",(function(){return new S.builder.DropdownBuilder({descriptor:__assign(__assign({},n.labelFormat),{selector:i}),value:p.errorFormat}).build()})),S.DataLabelViewModel.addDataLabelsBackgroundFormattingSlicesToGroup(e,d,!0),a.hasUncertainty||e.withDisabled(!0,void 0)})),e.addGroup("tooltip",(function(e){e.withDisplayName("Tooltip").addTopLevelToggle("tooltipShow",(function(){return new S.builder.ToggleSwitchBuilder({descriptor:__assign(__assign({},n.tooltipShow),{selector:i}),value:a.tooltips.show}).build()})).addSimpleSlice("tooltipFormat",(function(){return new S.builder.DropdownBuilder({descriptor:__assign(__assign({},n.tooltipFormat),{selector:i}),value:a.tooltips.format}).build()})),a.hasUncertainty||e.withDisabled(!0,void 0)}))},S.UncertaintyHelper=h})(powerbi=powerbi||{}),(function(e){var n=e.data.DataViewObjectDefinitions,y=e.data.DataViewObjectDescriptors,l=e.data.DataViewWildcard,a=e.data.Selector;(e=e.VisualObjectRepetition||(e.VisualObjectRepetition={})).equals=function(e,t){return(e=e||null)===(t=t||null)||!e==!t&&void 0===e.altStaticSelector==(void 0===t.altStaticSelector)&&a.equals(e.selector,t.selector)&&!!e.allowOverrideSubtotalMatching==!!t.allowOverrideSubtotalMatching&&a.equals(e.altStaticSelector,t.altStaticSelector)&&_.isEqual(e.objects,t.objects)},e.getMetadata=function(e,t){if(_.isEmpty(e))return[];for(var a=[],i=0,o=e;i<o.length;i++){var r,n=o[i],l=(m=d=p=u=c=s=r=void 0,n);for(r in l.objects){var s=l.objects[r]&&l.objects[r].formattingProperties;if(!_.isEmpty(s))for(var c=0,u=s;c<u.length;c++){var p={objectName:r,propertyName:u[c]},d=y.findPropertyById(t,p),m=void 0;l.allowOverrideSubtotalMatching&&(m=!0),d&&a.push({selector:l.selector,allowOverrideSubtotalMatching:m,altStaticSelector:l.altStaticSelector,propertyId:p,propertyDescriptor:d,containerName:l.containerName})}}}return a},e.metadataEquals=function(e,t){return e===t||null==e&&null==t||!e==!t&&void 0===e.altStaticSelector==(void 0===t.altStaticSelector)&&!!e.allowOverrideSubtotalMatching==!!t.allowOverrideSubtotalMatching&&e.containerName===t.containerName&&_.isEqual(e.propertyDescriptor,t.propertyDescriptor)&&_.isEqual(e.propertyId,t.propertyId)&&a.equals(e.selector,t.selector)},e.getDefinition=function(e,t){if(!t.allowOverrideSubtotalMatching)return n.getValue(e,t.propertyId,t.selector);for(var a=0,i=[l.create(1),l.create(2),l.create(0)];a<i.length;a++){var o={data:[i[a]],metadata:t.selector.metadata,id:t.selector.id},r=n.getValue(e,t.propertyId,o);if(r)return t.selector=o,r}}})(powerbi=powerbi||{}),(function(e){var t,s,n;t=e.visuals||(e.visuals={}),s=e.visuals.builder,n=e.VisualObjectRepetition,(t.ConditionalFormatting||(t.ConditionalFormatting={})).getFormattingCard=function(e,t,a,i,o){var l,r,e=n.getMetadata(e,a);if(!_.isEmpty(e))return l=[],r=_.groupBy(e,(function(e){return e.containerName})),(a=new s.FormattingCardBuilder(new s.FormattingCardUidBuilder("conditionalFormatting"),i,l,t)).withDescription(o).withAliasName("FieldWell_ConditionalFormatting"),a.addGroup("options",(function(e){e.withDisplayName("Apply_Settings_To").withCollapsible(!1).addContainer("series",(function(e){e.withDisplayName("Series"),Object.keys(r).forEach((function(t){var a=r[t];e.addContainerItem(t.replace(" ",""),t,(function(e){var o,r,n;o=a,r=t,n=l,e.addGroup("cellElements",(function(e){for(var t=0,a=o;t<a.length;t++){var i=a[t];e.addSimpleSlice(i.propertyId.propertyName,new s.ConditionalFormattingControlBuilder({descriptor:__assign(__assign({},i.propertyId),{selector:i.selector}),displayName:r,value:i}).build()),_.some(n,i.propertyId)||n.push(i.propertyId)}}))}))}))}))})),a.build()}})(powerbi=powerbi||{}),(function(e){var u,t,n,a,i,o,r,l;function s(e){return"".concat(e,".").concat("htmlSubSelection")}function p(e,t){return t.closest("[".concat(l,"]"))===e}function d(e){this.hostElement=e.hostElement,this.host=d3.select(e.hostElement),this.hostServices=e.hostServices,this.subSelectionRegionOutlines={},this.renderer=e.renderer,this.selectorCallback=e.selectorCallback,this.customOutlineCallback=e.customOutlineCallback,this.customElementCallback=e.customElementCallback,this.subSelectionMetadataCallback=e.subSelectionMetadataCallback,this.host.attr(l,!0)}u=e.visuals||(e.visuals={}),t=jsCommon.CssConstants.createClassAndSelector,n=e.data.Selector,a=e.visuals.FormattingConstants.SeriesIncrementAmount,i=e.visuals.FormattingConstants.SubSelectableFocusOrders,o=e.visuals.FormattingConstants.UndefinedFocusOrder,t=t("sub-selectable"),r="sub-selection-data",u.FormatModeAttribute="format-mode",u.HtmlSubSelectableClass=t.class,u.HtmlSubSelectableSelector=t.selector,u.SubSelectableDisplayNameAttribute="data-sub-selection-display-name",u.SubSelectableHideOutlineAttribute="data-sub-selection-hide-outline",u.SubSelectableObjectNameAttribute="data-sub-selection-object-name",u.SubSelectableAltObjectNameAttribute="data-sub-selection-alt-object-name",u.SubSelectableTypeAttribute="data-sub-selection-type",u.SubSelectableDirectEdit="data-sub-selection-direct-edit",u.SubSelectableSubSelectedAttribute="data-sub-selection-sub-selected",u.SubSelectableRestrictOutlineOptionsAttribute="data-sub-selection-restrict-outline-options",u.SubSelectableRestrictingElementAttribute="data-sub-selection-restricting-element",l="data-helper-host",d.createHtmlSubselectionHelper=function(e){return new d(e)},d.prototype.setCustomOutlineCallback=function(e){this.customOutlineCallback=e},d.prototype.destroy=function(){this.removeEventHandlers(),this.hideAllOutlines()},d.prototype.setFormatMode=function(e){this.formatMode!==e&&((this.formatMode=e)?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))},d.prototype.attachEventHandlers=function(){var e=this;this.host.on(s("pointerover"),(function(){e.onPointerOver(d3.event)})),this.host.on(s("click"),(function(){e.onClick(d3.event)})),this.host.on(s("contextmenu"),(function(){e.onContextMenu(d3.event)}))},d.prototype.onVisualScroll=function(){var e=this;this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce((function(){return e.onVisualScrollEnd()}),100)),this.scrollDebounce()},d.prototype.onVisualScrollStart=function(){this.scrollSubSelections||(this.subSelect(void 0),this.scrollSubSelections=this.subSelections)},d.prototype.onVisualScrollEnd=function(){this.scrollSubSelections&&0<this.scrollSubSelections.length&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0},d.prototype.onPointerOver=function(e){var t,a,i,o,r=this;u.EventBubblingUtil.handled(e)||(this.clearHoveredOutline(),(t=this.getSubSelectionSourceFromEvent(e))&&t.subSelectionElement&&(0===this.updateCustomOutlinesFromSubSelections([t.visualSubSelection],1).length&&(a=(a=this.getSubSelectionElementsFromSubSelectionSource(t)).filter((function(e){e=d3.select(e);return!e.attr(u.SubSelectableSubSelectedAttribute)&&"true"!==e.attr(u.SubSelectableHideOutlineAttribute)})),this.updateOutlinesFromSubSelectionElements(a,1)),this.renderOutlines(),i=s("pointerleave"),(o=d3.select(t.subSelectionElement)).on(i,(function(){o.attr(u.SubSelectableSubSelectedAttribute)||(r.clearHoveredOutline(),o.on(i,null))})),u.EventBubblingUtil.markAsHandled(e)))},d.prototype.clearHoveredOutline=function(){var e=_.values(this.subSelectionRegionOutlines).find((function(e){return 1===e.visibility}));e&&(this.subSelectionRegionOutlines[e.id]=__assign(__assign({},this.subSelectionRegionOutlines[e.id]),{visibility:0}),this.renderOutlines())},d.prototype.onClick=function(e){this.subSelectFromEvent(e,!1)},d.prototype.onContextMenu=function(e){this.subSelectFromEvent(e,!0)},d.prototype.subSelectFromEvent=function(e,t){var a,i,o,r;u.EventBubblingUtil.handled(e)||(o=this.getSubSelectionElementsFromEvent(e),u.EventBubblingUtil.markAsHandled(e),e={x:e.clientX,y:e.clientY},_.isEmpty(o)?this.hostServices.onSelect({type:1,selectionMode:0,visualObjects:[],selectionOrigin:e}):(o=o[0],r=d3.select(o).attr(u.SubSelectableObjectNameAttribute),a=this.getSubSelectionTypeFromElement(o),i=this.getDisplayNameFromElement(o),o=this.selectorCallback?this.selectorCallback(o):{},r=this.createVisualSubSelectionForSingleObject({objectName:r,subSelectionType:a,displayName:i,showUI:t,selectorsByColumn:o,selectionOrigin:e}),this.scrollSubSelections=void 0,this.subSelect(r)))},d.prototype.getSubSelectionElementsFromEvent=function(e){e=this.getSubSelectionSourceFromEvent(e);return this.getSubSelectionElementsFromSubSelectionSource(e)},d.prototype.getSubSelectionSourceFromEvent=function(e){var t=e.composedPath();if(t){for(var a,i,o,r,n=t.indexOf(this.hostElement),l=0,s=t.slice(0,n+1);l<s.length;l++){var c=s[l];if(d3.select(c).classed(u.HtmlSubSelectableClass)){a=c;break}}return a&&p(this.hostElement,a)?(t=this.selectorCallback?this.selectorCallback(a):{},n=d3.select(a).attr(u.SubSelectableObjectNameAttribute),i=this.getDisplayNameFromElement(a),o=this.getSubSelectionTypeFromElement(a),e={x:e.clientX,y:e.clientY},r=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(a):null,{subSelectionElement:a,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:n,subSelectionType:o,displayName:i,showUI:!1,selectorsByColumn:t,selectionOrigin:e,metadata:r})}):void 0}},d.prototype.getSubSelectionElementsFromSubSelectionSource=function(e){var t=this;if(!e)return[];e=e.visualSubSelection;if(this.customElementCallback){var a=this.customElementCallback(e);if(!_.isEmpty(a))return a}var a=this.getSubSelectableElements(),e=e.visualObjects[0],i=e.objectName,o=e.selectorsByColumn,e=a.filter((function(e){return e.getAttribute(u.SubSelectableObjectNameAttribute)===i}));return this.selectorCallback&&(e=e.filter((function(e){return n.equalsSelectorsByColumn(t.selectorCallback(e),o)}))),e},d.prototype.removeEventHandlers=function(){this.host.on(s("pointerover"),null),this.host.on(s("click"),null),this.host.on(s("contextmenu"),null)},d.prototype.subSelect=function(e){e=__assign({type:1},e);this.hostServices.onSelecting(e),1!==e.action&&this.hostServices.onSelect(e)},d.prototype.isVisualObjectSubSelected=function(t){return!!(this.subSelections&&0<this.subSelections.length)&&!!this.subSelections.find((function(e){return e.visualObjects.find((function(e){return t.objectName===e.objectName&&n.equalsSelectorsByColumn(t.selectorsByColumn,e.selectorsByColumn)}))}))},d.prototype.updateElementOutline=function(e,t,a){return this.updateElementOutlines([e],t,a=void 0===a?!1:a)[0]},d.prototype.updateElementOutlines=function(e,t,a){for(var i=this,o=(void 0===a&&(a=!1),_.groupBy(e,(function(e){e=d3.select(e);return i.getElementRegionOutlineId(e)}))),e=Object.keys(o),r=0,n=e;r<n.length;r++){var l=n[r],s=this.getSubSelectionRegionOutline(l,o[l],t);this.subSelectionRegionOutlines[l]=s}return a||this.renderOutlines(),e},d.prototype.getSubSelectionRegionOutline=function(e,t,a){for(var i,o,r,n=[],l=this,s=0,c=t;s<c.length;s++){var u=c[s];u=u,r=o=void 0,o=l.getRectangleSubSelectionOutline(u),r=l.getRestrictionElement(u,0),(i=r)&&(r=l.applyElementRestriction(i,u),o=__assign(__assign({},o),{x:Math.max(o.x,r.left),y:Math.max(o.y,r.top),height:Math.min(r.top+r.height-o.y,o.height),width:Math.min(r.left+r.width-o.x,o.width)})),r=l.getRestrictionElement(u,1),(i=r)&&(r=l.applyElementRestriction(i,u),o=__assign(__assign({},o),{clipPath:{type:1,x:r.left,y:r.top,height:r.height,width:r.width}})),0<o.height&&0<o.width&&n.push(o)}return{id:e,visibility:a,outline:{type:0,outlines:n}}},d.prototype.getRestrictionElement=function(e,t){e=e.closest("[".concat(u.SubSelectableRestrictingElementAttribute,'="').concat(t,'"]'));if(e&&p(this.hostElement,e))return e},d.prototype.applyElementRestriction=function(e,t){var a,i,o,r,n,l,s,c,e=e.getBoundingClientRect(),e={top:e.top,left:e.left,height:e.height,width:e.width},t=d.getDataForElement(t);return t&&t.outlineRestrictionOptions&&(l=(t=t.outlineRestrictionOptions).margin,t=t.padding,r=o=i=a=0,l&&(n=l.top,s=l.left,c=l.right,a+=s,i+=n,o-=l.bottom+n,r-=s+c),t&&(l=t.top,s=t.left,c=t.right,a-=s,i-=l,o+=t.bottom+l,r+=s+c),e.left+=a,e.top+=i,e.height+=o,e.width+=r),e},d.prototype.getRectangleSubSelectionOutline=function(e){var t=e.getBoundingClientRect(),a=t.x,i=t.y,o=t.width,t={height:t.height,width:o,x:a,y:i,type:1};return e.hasAttribute(u.SubSelectableDirectEdit)&&(t.directEdit=function(){if(e.hasAttribute(u.SubSelectableDirectEdit))return JSON.parse(e.getAttribute(u.SubSelectableDirectEdit))}),t},d.prototype.updateRegionOutline=function(e,t){this.updateRegionOutlines([e],t=void 0===t?!1:t)},d.prototype.updateRegionOutlines=function(e,t){void 0===t&&(t=!1);for(var a=0,i=e;a<i.length;a++){var o=i[a];this.subSelectionRegionOutlines[o.id]=o}t||this.renderOutlines()},d.prototype.getElementsFromSubSelections=function(e){var t,a,i,o;return e?(t=[],a=this.getSubSelectableElements(),i=this.isElementSubSelected,o=this.selectorCallback,d3.selectAll(a).each((function(){i(this,e,o)&&t.push(this)})),t):[]},d.prototype.setSubSelectedStateDOM=function(e){var t,a,i;e&&(t=this.getSubSelectableElements(),a=this.isElementSubSelected,i=this.selectorCallback,d3.selectAll(t).attr(u.SubSelectableSubSelectedAttribute,(function(){return!!a(this,e,i)||null})))},d.prototype.isElementSubSelected=function(a,e,i){var o,r;return!!e&&(o=d3.select(a).attr(u.SubSelectableObjectNameAttribute),r=d3.select(a).attr(u.SubSelectableAltObjectNameAttribute),e.some((function(e){return null==(e=e.visualObjects)?void 0:e.some((function(e){var t=!0;return i&&!n.equalsSelectorsByColumn(e.selectorsByColumn,i(a))&&(t=!1),(e.objectName===o||e.objectName===r)&&t}))})))},d.prototype.updateCustomOutlinesFromSubSelections=function(e,t){void 0===t&&(t=2);var a=[];if(this.customOutlineCallback&&!_.isEmpty(e))for(var i=0,o=e;i<o.length;i++){var r=o[i],n=this.customOutlineCallback(r);if(n&&0<n.length){for(var l=0,s=n;l<s.length;l++){var c=s[l],u=null==(u=this.subSelectionRegionOutlines[c.id])?void 0:u.visibility;1===t&&2===u||this.setOutline(c,t)}a.push(r)}}return a},d.prototype.updateOutlinesFromSubSelectionElements=function(e,t){void 0===t&&(t=2);var a=[];if(!_.isEmpty(e)){for(var i=0,o=e;i<o.length;i++){var r=o[i],n=d.getDataForElement(r);if(n&&n.getRegionOutlines)for(var l=0,s=n.getRegionOutlines();l<s.length;l++){var c=s[l];this.setOutline(c,t)}else a.push(r)}this.updateElementOutlines(a,t,!0)}},d.prototype.updateOutlinesFromSubSelections=function(e,t,a){t&&this.hideAllOutlines(!0);var t=(this.subSelections=e)?__spreadArray([],e,!0):[],i=(this.setSubSelectedStateDOM(e),this.updateCustomOutlinesFromSubSelections(e));0<(null==i?void 0:i.length)&&_.remove(t,(function(t){return i.find((function(e){return _.isEqual(t,e)}))}));e=this.getElementsFromSubSelections(t).filter((function(e){return"true"!==d3.select(e).attr(u.SubSelectableHideOutlineAttribute)}));this.updateOutlinesFromSubSelectionElements(e),a||this.renderOutlines()},d.prototype.refreshOutlines=function(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)},d.prototype.getLabelsFromSubSelections=function(e,t,a){void 0===a&&(a=" ");for(var i=[],o=0,r=this.getElementsFromSubSelections(e);o<r.length;o++){for(var n=r[o],l="",s=0,c=t;s<c.length;s++){var u=c[s],u=n.attributes.getNamedItem(u);u&&u.value&&(l+=u.value+a)}_.isEmpty(l)||i.push(l.trim())}return i},d.prototype.setOutline=function(e,t){t=__assign(__assign({},e),{visibility:t,id:e.id});this.subSelectionRegionOutlines[e.id]=t},d.setDataForElement=function(e,t){$(e).data(r,t)},d.getDataForElement=function(e){return $(e).data(r)},d.prototype.hideAllOutlines=function(e){void 0===e&&(e=!1);var t,a=this.subSelectionRegionOutlines,i=[];for(t in a){var o=a[t];i.push(__assign(__assign({},o),{visibility:0}))}this.updateRegionOutlines(i,e)},d.prototype.getRegionOutline=function(e){return this.getRegionOutlines([e])[0]},d.prototype.getRegionOutlines=function(e){var t=this;return e.map((function(e){return t.subSelectionRegionOutlines[e]}))},d.prototype.getAllOutlines=function(){return __assign({},this.subSelectionRegionOutlines)},d.prototype.renderOutlines=function(){var e=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(e)},d.prototype.getElementRegionOutlineId=function(e){var t=e.attr(u.SubSelectableObjectNameAttribute),a="";return""!==(a=this.selectorCallback&&(e=this.selectorCallback(e.node()),e=n.convertSelectorsByColumnToSelector(e))?n.getKey(e):a)?"".concat(t,"___").concat(a):t},d.prototype.getAllSubSelectables=function(t){var a=this,e=this.getSubSelectableElements(),e=_.uniqWith(e,(function(e,t){return e.getAttribute(u.SubSelectableObjectNameAttribute)===t.getAttribute(u.SubSelectableObjectNameAttribute)&&(!a.selectorCallback||n.equalsSelectorsByColumn(a.selectorCallback(e),a.selectorCallback(t)))})),i=e,o=(i=t?e.filter((function(e){e=a.getSubSelectionTypeFromElement(e);return Number(e)===t})):i).map((function(e){e=e.getBoundingClientRect();return{x:e.x+e.width/2,y:e.y+e.height/2}})),e=_.orderBy(Array.from(Array(o.length).keys()),(function(e){return o[e].y}),["asc"]),r={currentSeriesMultiplier:0};return e.map((function(e){return a.createSubSelectionFromElement(i[e],!1,void 0,r,o[e])}))},d.prototype.getNextSubSelectable=function(t,e){var a,i,o=this.getAllSubSelectables();if(o.length)return o=_.orderBy(o,["focusOrder"],["asc"]),t?-1<(i=_.findIndex(o,(function(e){return _.isEqual(t,e)})))&&-1<(i=e?i-1:i+1)&&i<o.length?o[i]:a:e?_.last(o):_.first(o)},d.prototype.createVisualSubSelectionForSingleObject=function(e){var t=e.objectName,a=e.subSelectionType,i=e.displayName,o=e.showUI,r=e.selectorsByColumn,n=e.selectionOrigin,l=e.focusOrder,e=e.metadata;return __assign(__assign({visualObjects:[{objectName:t,selectorsByColumn:null!=r?r:{}}],showUI:o,displayName:i,subSelectionType:a,selectionOrigin:n},e?{metadata:e}:{}),l?{focusOrder:l}:{})},d.prototype.createSubSelectionFromElement=function(e,t,a,i,o){var r=e.getAttribute(u.SubSelectableObjectNameAttribute),n={},l=(this.selectorCallback&&(n=this.selectorCallback(e)),this.getSelectorKey(n)),i=(l&&void 0===i[l]&&(i[l]=i.currentSeriesMultiplier,i.currentSeriesMultiplier++),this.getSubSelectionFocusOrder(r,i[l])),l=this.getSubSelectionTypeFromElement(e),e=this.getDisplayNameFromElement(e);return a&&(o={x:a.clientX,y:a.clientY}),this.createVisualSubSelectionForSingleObject({objectName:r,subSelectionType:l,displayName:e,showUI:t,selectorsByColumn:n,selectionOrigin:o,focusOrder:i})},d.prototype.getDisplayNameFromElement=function(e){var t=e.getAttribute(u.SubSelectableDisplayNameAttribute);return t?t=this.hostServices.getLocalizedString(t):null!=(e=d.getDataForElement(e))&&e.getDisplayName&&(t=e.getDisplayName()),t},d.prototype.getSubSelectionTypeFromElement=function(e){e=e.getAttribute(u.SubSelectableTypeAttribute);if(e)return Number(e)},d.prototype.getSelectorKey=function(e){e=n.normalizeSelector(n.convertSelectorsByColumnToSelector(e));return _.isEmpty(e)?"":JSON.stringify(e)},d.prototype.getSubSelectionFocusOrder=function(e,t){e=i[e];return e?(void 0!==t&&(e+=t*a),e):o},d.prototype.getSubSelectableElements=function(){var e=this.hostElement;return this.host.selectAll(u.HtmlSubSelectableSelector).filter((function(){return p(e,this)})).nodes()},u.HtmlSubSelectionHelper=d})(powerbi=powerbi||{}),(function(e){var u=e.visuals||(e.visuals={}),e=jsCommon.CssConstants.createClassAndSelector;function n(e,t){this.directEditCallbacks=t,this.outlineHost=d3.select(e),this.visibleOutlines=[]}u.showOutlineDelay=100,n.create=function(e,t){return new n(e,t)},n.createWithDefaultHost=function(){var e=d3.select("body").append("div").style("position","absolute").style("top",0).style("left",0).style("width","100%").style("height","100%").style("z-index",1).style("pointer-events","none").node();return n.create(e)},n.prototype.updateRegionOutlines=function(e,t){this.clearRenderOutlineDelay();e=this.convertRegionOutlinesToOutlines(e,t);this.renderOutlines(e)},n.prototype.convertRegionOutlinesToOutlines=function(e,a){var i=this,e=_.cloneDeep(e);return _.flatMap(e,(function(e){var t=e.outline;return i.convertSubSelectionToOutline(e.id,e.visibility,t,null==a?void 0:a.x,null==a?void 0:a.y)}))},n.prototype.convertSubSelectionToOutline=function(e,a,t,i,o,r){var n=this,l=(void 0===i&&(i=0),void 0===o&&(o=0),_.isUndefined(r)?e:e+"-"+r),s=t.clipPath?this.convertClipPathToRendererClipPath(t.clipPath,i,o):void 0;switch(t.type){case 0:var c=t.outlines.map((function(e,t){return n.convertSubSelectionToOutline(l,a,e,i,o,t)}));return u.RendererGroupOutline.createRendererGroupOutline(l,a,c,s);case 2:return u.RendererLineOutline.createRendererLineOutline(l,a,t.points,s,i,o);case 3:return u.RendererPolygonOutline.createRendererPolygonOutline(l,a,t.points,s,i,o);case 1:return u.RendererRectangleOutline.createRendererRectangleOutline(l,a,t,s,this.directEditCallbacks,i,o);case 4:return u.RendererArcOutline.create(l,a,t,s,i,o)}},n.prototype.convertClipPathToRendererClipPath=function(e,t,a){var i=this;switch(void 0===t&&(t=0),void 0===a&&(a=0),e.type){case 0:var o=e.clipPaths.map((function(e){return i.convertClipPathToRendererClipPath(e,t,a)}));return u.RendererGroupClipPath.createRendererGroupClipPath(o);case 3:return u.RendererPolygonClipPath.createRendererPolygonClipPath(e,t,a);case 1:return u.RendererRectangleClipPath.createRendererRectangleClipPath(e,t,a)}},n.prototype.renderOutlines=function(e){var t=this,a=[],i=[],o=[];if(e)for(var r=0,n=e;r<n.length;r++){var l=n[r];2===l.visibility?(a.push(l),o.push(l)):1===l.visibility&&(i.push(l),o.push(l))}this.visibleOutlines=_.intersectionBy(o,this.visibleOutlines,"id"),this.visibleOutlines=_.unionBy(a,this.visibleOutlines,"id"),this.renderVisibleOutlines(this.visibleOutlines),this.visibleOutlines=_.unionBy(i,this.visibleOutlines,"id"),this.setRenderOutlineDelay((function(){t.renderVisibleOutlines(t.visibleOutlines)}))},n.prototype.renderVisibleOutlines=function(e){var t=this.renderSVGContainer(n.OutlineShapesSVGSelector),t=(n.renderOutlineShapes(t,e),this.renderSVGContainer(n.OutlineHandlesSVGSelector));n.renderOutlineHandles(t,e)},n.prototype.renderSVGContainer=function(e){return this.outlineHost.selectAll(e.selector).data([null]).join("svg").classed(e.class,!0)},n.renderOutlineShapes=function(e,t){e=e.selectAll(n.OutlineShapeSelector.selector).data(t,(function(e){return"".concat(e.id)}));e.enter().append((function(e){return e.tag()})).each((function(e){e.initialize(d3.select(this))})).classed(n.OutlineShapeSelector.class,!0).merge(e).attr("data-sub-selection-outline-id",(function(e){return"".concat(e.id)})).classed(n.OutlineActiveSelector.class,(function(e){return 2===e.visibility})).classed(n.OutlineHoverSelector.class,(function(e){return 1===e.visibility})).each((function(e){e.update(d3.select(this))})),e.exit().each((function(e){var t=d3.select(this);e.cleanup(t),t.remove()}))},n.renderOutlineHandles=function(e,t){for(var a=[],i=0,o=t;i<o.length;i++){var r=o[i];r.shouldRenderHandles()&&a.push(r)}t=e.selectAll(n.OutlineShapeHandlesSelector.selector).data(a,(function(e){return"".concat(e.id)}));t.enter().append("g").classed(n.OutlineShapeHandlesSelector.class,!0).merge(t).each((function(e){e.renderHandles(d3.select(this),2.5)})),t.exit().remove()},n.prototype.setRenderOutlineDelay=function(e){this.clearRenderOutlineDelay(),this.outlineDelayTimer=setTimeout(e,u.showOutlineDelay)},n.prototype.clearRenderOutlineDelay=function(){this.outlineDelayTimer&&(clearTimeout(this.outlineDelayTimer),this.outlineDelayTimer=void 0)},n.OutlineShapesSVGSelector=e("outline-svg-shapes"),n.OutlineHandlesSVGSelector=e("outline-svg-handles"),n.OutlineShapeSelector=e("outline-shape"),n.OutlineShapeHandlesSelector=e("outline-shape-handles"),n.OutlineHoverSelector=e("outline-hover"),n.OutlineActiveSelector=e("outline-active"),u.SubSelectionRegionOutlineRenderer=n})(powerbi=powerbi||{}),(function(e){var t;function i(e,t,a,i,o){this.id=e,this.qualifiedName=t,this.bounds=a,this.points=i,this.clipPath=o}e=e.visuals||(e.visuals={}),t=jsCommon.CssConstants.createClassAndSelector,i.prototype.cleanup=function(e){return e},i.prototype.renderHandles=function(e,t){this.applyClipPath(e,t);var a=e.selectAll(i.OutlineHandleSelector.selector).data(this.points);return a.enter().append("circle").classed(i.OutlineHandleSelector.class,!0).merge(a).attr("cx",(function(e){return e.x})).attr("cy",(function(e){return e.y})).attr("r",t),a.exit().remove(),e},i.prototype.tag=function(){return document.createElementNS("http://www.w3.org/2000/svg",this.qualifiedName)},i.prototype.shouldRenderHandles=function(){return 2===this.visibility},i.prototype.applyClipPath=function(e,t){return void 0===t&&(t=0),this.clipPath&&(t=this.clipPath.createPathString(this.bounds,t),e.attr("clip-path","path('".concat(t,"')"))),e},i.OutlineHandleSelector=t("outline-handle"),e.RendererOutline=i})(powerbi=powerbi||{}),(function(e){var r,t;function s(e,t,a,i,o){e=r.call(this,e,"g",i,[],o)||this;return e.visibility=t,e.outlines=a,e}e=e.visuals||(e.visuals={}),t=jsCommon.CssConstants.createClassAndSelector,r=e.RendererOutline,__extends(s,r),s.createRendererGroupOutline=function(e,t,a,i){var o=Math.min.apply(Math,a.map((function(e){return e.bounds.x}))),r=Math.min.apply(Math,a.map((function(e){return e.bounds.y}))),n=Math.max.apply(Math,a.map((function(e){return e.bounds.x+e.bounds.width}))),l=Math.max.apply(Math,a.map((function(e){return e.bounds.y+e.bounds.height})));return new s(e,t,a,{x:o,y:r,width:n-o,height:l-r},i)},s.prototype.shouldRenderHandles=function(){return this.outlines.some((function(e){return e.shouldRenderHandles()}))},s.prototype.renderHandles=function(e,t){this.applyClipPath(e,t);for(var a=[],i=0,o=this.outlines;i<o.length;i++){var r=o[i];r.shouldRenderHandles()&&a.push(r)}var n=e.selectAll(s.OutlineHandlesGroupItem.selector).filter((function(){return this.parentNode===e.node()})).data(a,(function(e){return"".concat(e.id)})),l=n.enter().append("g").classed(s.OutlineHandlesGroupItem.class,!0).merge(n);return l.each((function(e){e.renderHandles(d3.select(this),t)})),n.exit().remove(),l},s.prototype.initialize=function(e){return this.renderGroupOutline(e)},s.prototype.update=function(e){return this.renderGroupOutline(e)},s.prototype.renderGroupOutline=function(e){this.applyClipPath(e);var t=e.selectAll(s.OutlineGroupItem.selector).filter((function(){return this.parentNode===e.node()})).data(this.outlines,(function(e){return"".concat(e.id)})),a=t.enter().append((function(e){return e.tag()})).each((function(e){e.initialize(d3.select(this))})).classed(s.OutlineGroupItem.class,!0).merge(t);return a.each((function(e){e.update(d3.select(this))})),t.exit().each((function(e){var t=d3.select(this);e.cleanup(t),t.remove()})),a},s.OutlineGroupItem=t("outline-group-item"),s.OutlineHandlesGroupItem=t("outline-handles-group-item"),t=s,e.RendererGroupOutline=t})(powerbi=powerbi||{}),(function(e){var y=e.visuals||(e.visuals={}),e=jsCommon.CssConstants.createClassAndSelector;function g(e,t,a){return{x:e.x+a*Math.sin(t),y:e.y-a*Math.cos(t)}}y.RendererArcOutlinePadding=4,h=y.RendererOutline,__extends(s,h),s.create=function(e,t,a,i,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var n=a.center,l=n.x,n=n.y;return new s(e,t,a=__assign(__assign({},a),{center:{x:l-o,y:n-r}}),i)},s.prototype.initialize=function(e){return e.classed(s.OutlineSelector.class,!0),e},s.prototype.update=function(e){var t=this.outline,a=t.innerRadius,i=t.outerRadius,t=t.center,a=d3.arc().innerRadius(a).outerRadius(i);return this.applyClipPath(e).style("transform","translate(".concat(t.x,"px, ").concat(t.y,"px)")).attr("d",a(this.outline)).style("pointer-events","none")},s.OutlineSelector=e("outline-arc");var h,e=s;function s(e,t,a,i){var o=this,a=__assign(__assign({},a),{innerRadius:Math.max(0,a.innerRadius-y.RendererArcOutlinePadding),outerRadius:a.outerRadius+y.RendererArcOutlinePadding}),r=a.center,n=a.innerRadius,l=a.outerRadius,s=a.startAngle,c=a.endAngle,u=r.x-l,p=r.y-l,d=2*l,m=d,s=s+0,c=c+0,s=[g(r,s,n),g(r,s,l),g(r,c,l)];return n&&s.push(g(r,c,n)),(o=h.call(this,e,"path",{x:u,y:p,width:m,height:d},s,i)||this).visibility=t,o.outline=a,o}y.RendererArcOutline=e})(powerbi=powerbi||{}),(function(e){var t,r,a,l;function s(e,t,a,i,o){e=r.call(this,e,"line",i,a,o)||this;return e.visibility=t,e}t=e.visuals||(e.visuals={}),a=jsCommon.CssConstants.createClassAndSelector,l=e.visuals.shapes.Polygon,r=t.RendererOutline,__extends(s,r),s.createRendererLineOutline=function(e,t,a,i,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var a=a.map((function(e){return{x:e.x-o,y:e.y-r}})),n=l.fromPolygonPoints(a).absoluteBoundingRect();return new s(e,t,a,{x:n.left,y:n.top,width:n.width,height:n.height},i)},s.prototype.shouldRenderHandles=function(){return!0},s.prototype.initialize=function(e){return e.classed(s.OutlineSelector.class,!0)},s.prototype.update=function(e){return this.applyClipPath(e)},s.OutlineSelector=a("outline-line"),a=s,t.RendererLineOutline=a})(powerbi=powerbi||{}),(function(e){var t,r,a,l;function s(e,t,a,i,o){e=r.call(this,e,"polygon",i,a,o)||this;return e.visibility=t,e}t=e.visuals||(e.visuals={}),a=jsCommon.CssConstants.createClassAndSelector,l=e.visuals.shapes.Polygon,r=t.RendererOutline,__extends(s,r),s.createRendererPolygonOutline=function(e,t,a,i,o,r){void 0===o&&(o=0),void 0===r&&(r=0);var a=a.map((function(e){return{x:e.x-o,y:e.y-r}})),n=l.fromPolygonPoints(a).absoluteBoundingRect();return new s(e,t,a,{x:n.left,y:n.top,width:n.width,height:n.height},i)},s.prototype.shouldRenderHandles=function(){return!0},s.prototype.initialize=function(e){return e.classed(s.OutlineSelector.class,!0)},s.prototype.update=function(e){return this.applyClipPath(e).attr("points",this.points.map((function(e){return[e.x,e.y].join(",")})).join(" "))},s.OutlineSelector=a("outline-polygon"),a=s,t.RendererPolygonOutline=a})(powerbi=powerbi||{}),(function(e){var r,t;function l(e,t,a,i,o){e=r.call(this,e,"rect",a,[{x:a.x,y:a.y},{x:a.x+a.width,y:a.y},{x:a.x+a.width,y:a.y+a.height},{x:a.x,y:a.y+a.height}],i)||this;return e.visibility=t,e.subSelection=a,e.directEditCallbacks=o,e.eventListeners={},e.directEditCallbacks&&a.directEdit&&(e.eventListeners=e.populateEventListeners()),e}e=e.visuals||(e.visuals={}),t=jsCommon.CssConstants.createClassAndSelector,r=e.RendererOutline,__extends(l,r),l.createRendererRectangleOutline=function(e,t,a,i,o,r,n){return void 0===n&&(n=0),a.x=a.x-(r=void 0===r?0:r),a.y=a.y-n,new l(e,t,a,i,o)},l.prototype.initialize=function(e){return this.attachEventHandlers(e),e.classed(l.OutlineSelector.class,!0),e},l.prototype.update=function(e){return this.applyClipPath(e).attr("x",this.subSelection.x).attr("y",this.subSelection.y).attr("width",this.subSelection.width).attr("height",this.subSelection.height).style("pointer-events",this.isInteractive()?"fill":"none").style("cursor",this.isInteractive()?"text":void 0)},l.prototype.isInteractive=function(){return this.directEditCallbacks&&this.subSelection.directEdit&&2===this.visibility},l.prototype.populateEventListeners=function(){var a=this;return{"pointerdown.directEditEvent":function(e){0===e.button&&(e.stopImmediatePropagation(),e.preventDefault(),a.directEditCallbacks.startEdit(a.subSelection))},"contextmenu.directEditEvent":function(e){var t=e;2===t.button&&(e.stopImmediatePropagation(),e.preventDefault(),a.directEditCallbacks.showUI(a.subSelection,t))}}},l.prototype.attachEventHandlers=function(a){for(var i=this.eventListeners,e=0,t=Object.keys(i);e<t.length;e++)!(function(e){var t=i[e];a.on(e,(function(){t(d3.event,this)}))})(t[e])},l.OutlineSelector=t("outline-rect"),t=l,e.RendererRectangleOutline=t})(powerbi=powerbi||{}),(function(e){function t(e){this.clipPaths=e}e=e.visuals||(e.visuals={}),t.createRendererGroupClipPath=function(e){return new t(e)},t.prototype.createPathString=function(t,a){return void 0===a&&(a=0),this.clipPaths.map((function(e){return e.createPathString(t,a)})).join(" ")},e.RendererGroupClipPath=t})(powerbi=powerbi||{}),(function(e){var t,l;function i(e){this.points=e}t=e.visuals||(e.visuals={}),l=e.visuals.shapes.Polygon,i.createRendererPolygonClipPath=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=0),new i(e.points.map((function(e){return{x:e.x-t,y:e.y-a}})))},i.prototype.createPathString=function(t,e){void 0===e&&(e=0);for(var a,i=this.points.map((function(e){return{x:e.x-t.x,y:e.y-t.y}})),o=(0!==e&&(a=l.fromPolygonPoints(i),i=l.resize(a,e).polygonPoints),d3.path()),r=0;r<i.length;r++){var n=i[r];0===r?o.moveTo(n.x,n.y):o.lineTo(n.x,n.y)}return o.closePath(),o.toString()},t.RendererPolygonClipPath=i})(powerbi=powerbi||{}),(function(e){function i(e){this.bounds=e}e=e.visuals||(e.visuals={}),i.createRendererRectangleClipPath=function(e,t,a){return new i({x:e.x-(t=void 0===t?0:t),y:e.y-(a=void 0===a?0:a),width:e.width,height:e.height})},i.prototype.createPathString=function(e,t){void 0===t&&(t=0);var a=d3.path(),i=this.bounds.x-e.x,e=this.bounds.y-e.y,o=this.bounds.width+2*t,t=this.bounds.height+2*t;return a.rect(i,e,o,t),a.toString()},e.RendererRectangleClipPath=i})(powerbi=powerbi||{}),(function(e){function t(){}e=e.visuals||(e.visuals={}),t.getDataViewObjectsBehaviorChanges=function(e,t){for(var a=[],i=0,o=e;i<o.length;i++)for(var r=o[i],n=0,l=t;n<l.length;n++){var s=l[n];a.unshift.apply(a,s.getChanges(r))}return a},t.applyDataViewObjectsBehaviorChanges=function(e,t){for(var a=__spreadArray([],e,!0),i=0,o=t;i<o.length;i++)a=o[i].applyChange(a);return a},e.DataViewObjectChangeHelper=t})(powerbi=powerbi||{}),(function(e){function t(e,t,a,i){this.matchObjectName=e,this.matchPropertyName=t,this.relatedTopLevelToggleValue=a,this.hasSelector=i,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}e=e.visuals||(e.visuals={}),t.prototype.onToggleDisabled=function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return(e=this.disabledBehaviorChanges).push.apply(e,t),this},t.prototype.onToggleEnabled=function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return(e=this.enabledBehaviorChanges).push.apply(e,t),this},t.prototype.getBehaviorChanges=function(e){switch(e){case 2:return this.disabledBehaviorChanges;case 1:return this.enabledBehaviorChanges}},t.prototype.updateBehaviorChanges=function(e,t){switch(e){case 2:this.disabledBehaviorChanges.forEach((function(e){return e.updateChange(t)}));break;case 1:this.enabledBehaviorChanges.forEach((function(e){return e.updateChange(t)}))}},t.prototype.getToggleBehaviorType=function(e){return this.relatedTopLevelToggleValue&&!e.propertyValue?2:!this.relatedTopLevelToggleValue&&e.propertyValue?1:0},t.prototype.isMatchingVisualObjectChange=function(e){return e.objectName===this.matchObjectName&&e.propertyName===this.matchPropertyName&&!!e.selector===this.hasSelector},e.BaseToggleBehavior=t})(powerbi=powerbi||{}),(function(e){var t,o,a;function i(e,t,a,i){void 0===i&&(i=[]);e=o.call(this,e,t,a,!0)||this;return e.relatedSeriesLevelToggleValues=i,e}t=e.visuals||(e.visuals={}),a=e.data.Selector,o=t.BaseToggleBehavior,__extends(i,o),i.create=function(e,t,a){return new i(e.objectName,e.propertyName,t,a=void 0===a?[]:a)},i.prototype.getSeriesValueCount=function(t){return this.relatedSeriesLevelToggleValues.filter((function(e){return e.value===t})).length},i.prototype.isSelectorForSeries=function(t){return!!this.relatedSeriesLevelToggleValues.find((function(e){return a.equals(t,e.selector)}))},i.prototype.shouldApplyChanges=function(e,t){var a=this.getSeriesValueCount(!0);return 0===a||1===a&&2===t&&this.isSelectorForSeries(e.selector)},i.prototype.getChanges=function(e){if(this.isMatchingVisualObjectChange(e)){var t=this.getToggleBehaviorType(e);if(0!==t&&this.shouldApplyChanges(e,t))return this.updateBehaviorChanges(t,e),this.getBehaviorChanges(t)}return[]},t.SeriesLevelToggleBehavior=i})(powerbi=powerbi||{}),(function(e){var i;function a(e,t,a){return i.call(this,e,t,a,!1)||this}e=e.visuals||(e.visuals={}),i=e.BaseToggleBehavior,__extends(a,i),a.create=function(e,t){return new a(e.objectName,e.propertyName,t)},a.prototype.getChanges=function(e){if(this.isMatchingVisualObjectChange(e)){var t=this.getToggleBehaviorType(e);if(0!==t)return this.updateBehaviorChanges(t,e),this.getBehaviorChanges(t)}return[]},e.TopLevelToggleBehavior=a})(powerbi=powerbi||{}),(function(e){function i(e,t,a){this.visualObjectChange=e,this.required=t,this.shouldInheritSelector=a}e=e.visuals||(e.visuals={}),i.createBooleanDataViewObjectChange=function(e,t,a){e=__assign(__assign({},e),{propertyValue:t,propertyType:{bool:!0}});return null!=a&&a.selector&&(e.selector=a.selector),new i(e,null==a?void 0:a.required,null==a?void 0:a.inheritSelector)},i.createRevertToDefaultDataViewObjectChange=function(e,t){e={objectName:e,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}};return null!=t&&t.selector&&(e.selector=t.selector),new i(e,null==t?void 0:t.required,null==t?void 0:t.inheritSelector)},i.prototype.applyChange=function(e){return e.push(this.visualObjectChange),e},i.prototype.updateChange=function(e){this.shouldInheritSelector&&(this.visualObjectChange.selector=e.selector)},e.AddDataViewObjectChange=i})(powerbi=powerbi||{}),(function(i){var e;function a(e,t,a){this.visualPropertyIdentifier=e,this.hasSelector=t,this.required=a}e=i.visuals||(i.visuals={}),a.create=function(e,t){return new a(e,null==t?void 0:t.hasSelector,null==t?void 0:t.required)},a.prototype.applyChange=function(e){var t=this,a=e.findIndex((function(e){return i.DataViewObjectProperty.propertyIdentifiersEqual(e,t.visualPropertyIdentifier)&&!!e.selector==!!t.hasSelector}));return-1<a&&e.splice(a,1),e},a.prototype.updateChange=function(){},e.RemoveDataViewObjectChange=a})(powerbi=powerbi||{}),(function(d){var o,l,m=d.visuals.FontProperties,s=d.visuals.shapes,e=((e=o=d.RectOrientation||(d.RectOrientation={}))[e.None=0]="None",e[e.VerticalBottomTop=1]="VerticalBottomTop",e[e.VerticalTopBottom=2]="VerticalTopBottom",e[e.HorizontalLeftRight=3]="HorizontalLeftRight",e[e.HorizontalRightLeft=4]="HorizontalRightLeft",(e=l=d.OutsidePlacement||(d.OutsidePlacement={}))[e.Allowed=0]="Allowed",e[e.Disallowed=1]="Disallowed",e[e.Partial=2]="Partial",Object.defineProperty(p.prototype,"defaultSettings",{get:function(){return this.defaultDataLabelSettings},enumerable:!1,configurable:!0}),p.prototype.hideCollidedLabels=function(e,t,a,i){void 0===i&&(i=!1);var o=new y(e,t,a),r=[],n={x:0,y:0};i&&(n.x=e.width/2,n.y=e.height/2);for(var l,s,c=0,u=t.length;c<u;c++)a.filter(t[c])&&((l=this.getLabelInfo(t[c])).anchorPoint={x:a.labelLayout.x(t[c])+n.x,y:a.labelLayout.y(t[c])+n.y},s=this.calculateContentPosition(l,l.contentPosition,t[c].size,l.anchorMargin),p.isValid(s))&&!this.hasCollisions(o,l,s,e)&&(t[c].labelX=s.left-n.x,t[c].labelY=s.top-n.y,o.add(l,s),r.push(t[c]));return r},p.prototype.getLabelInfo=function(e){var t=this.defaultDataLabelSettings;return e.anchorMargin=(void 0!==e.anchorMargin?e:t).anchorMargin,e.anchorRectOrientation=(void 0!==e.anchorRectOrientation?e:t).anchorRectOrientation,e.contentPosition=(void 0!==e.contentPosition?e:t).contentPosition,e.maximumMovingDistance=(void 0!==e.maximumMovingDistance?e:t).maximumMovingDistance,e.minimumMovingDistance=(void 0!==e.minimumMovingDistance?e:t).minimumMovingDistance,e.outsidePlacement=(void 0!==e.outsidePlacement?e:t).outsidePlacement,e.validContentPositions=(void 0!==e.validContentPositions?e:t).validContentPositions,e.opacity=(void 0!==e.opacity?e:t).opacity,e.maximumMovingDistance+=e.anchorMargin,e},p.prototype.calculateContentPositionFromPoint=function(e,t,a,i){var o={x:0,y:0};if(e){if(void 0!==e.x&&isFinite(e.x))switch(o.x=e.x,t){case 1:case 8:case 64:o.x-=a.width/2;break;case 4:case 32:case 256:o.x+=a.width/2}if(void 0!==e.y&&isFinite(e.y))switch(o.y=e.y,t){case 8:case 16:case 32:o.y-=a.height/2;break;case 4:case 1:case 2:o.y-=a.height}if(void 0!==i&&isFinite(i))switch(t){case 1:o.x-=i,o.y-=i;break;case 8:o.x-=i;break;case 64:o.x-=i,o.y+=i;break;case 2:o.y-=i;break;case 16:break;case 128:o.y+=i;break;case 4:o.x+=i,o.y-=i;break;case 32:o.x+=i;break;case 256:o.x+=i,o.y+=i}}return{left:o.x,top:o.y,width:a.width,height:a.height}},p.prototype.calculateContentPositionFromRect=function(e,t,a,i,o){switch(a){case 512:return this.handleInsideCenterPosition(t,i,e,o);case 2048:return this.handleInsideEndPosition(t,i,e,o);case 1024:return this.handleInsideBasePosition(t,i,e,o);case 8192:return this.handleOutsideEndPosition(t,i,e,o);case 4096:return this.handleOutsideBasePosition(t,i,e,o)}return{left:0,top:0,width:-1,height:-1}},p.prototype.handleInsideCenterPosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:case o.VerticalTopBottom:return r.middleVertical(t,a,i);case o.HorizontalLeftRight:case o.HorizontalRightLeft:default:return r.middleHorizontal(t,a,i)}},p.prototype.handleInsideEndPosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.topInside(t,a,i);case o.VerticalTopBottom:return r.bottomInside(t,a,i);case o.HorizontalRightLeft:return r.leftInside(t,a,i);default:o.HorizontalLeftRight;return r.rightInside(t,a,i)}},p.prototype.handleInsideBasePosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.bottomInside(t,a,i);case o.VerticalTopBottom:return r.topInside(t,a,i);case o.HorizontalRightLeft:return r.rightInside(t,a,i);default:o.HorizontalLeftRight;return r.leftInside(t,a,i)}},p.prototype.handleOutsideEndPosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.topOutside(t,a,i);case o.VerticalTopBottom:return r.bottomOutside(t,a,i);case o.HorizontalRightLeft:return r.leftOutside(t,a,i);default:o.HorizontalLeftRight;return r.rightOutside(t,a,i)}},p.prototype.handleOutsideBasePosition=function(e,t,a,i){switch(e){case o.VerticalBottomTop:return r.bottomOutside(t,a,i);case o.VerticalTopBottom:return r.topOutside(t,a,i);case o.HorizontalRightLeft:return r.rightOutside(t,a,i);default:o.HorizontalLeftRight;return r.leftOutside(t,a,i)}},p.prototype.calculateContentPosition=function(e,t,a,i){return 2048!==t&&512!==t&&1024!==t&&4096!==t&&8192!==t?this.calculateContentPositionFromPoint(e.anchorPoint,t,a,i):this.calculateContentPositionFromRect(e.anchorRect,e.anchorRectOrientation,t,a,i)},p.prototype.hasCollisions=function(e,t,a,i){var o=s.Rect;if(e.hasConflict(a))return!0;var r={left:0,top:a.height/2,width:i.width,height:i.height},r=o.inflate(r,{left:p.InflateAmount,top:0,right:p.InflateAmount,bottom:0});if(r=o.intersect(r,a),o.isEmpty(r))return!0;var n=d.Double.lessWithPrecision;switch(t.outsidePlacement){case l.Disallowed:return n(r.width,a.width)||n(r.height,a.height/2);case l.Partial:return n(r.width,a.width/2)||n(r.height,a.height/4)}return!1},p.isValid=function(e){return!s.Rect.isEmpty(e)&&0<e.width&&0<e.height},p.DefaultAnchorMargin=0,p.DefaultMaximumMovingDistance=12,p.DefaultMinimumMovingDistance=3,p.InflateAmount=5,p);function p(){this.movingStep=3,this.hideOverlapped=!0,this.defaultDataLabelSettings={anchorMargin:p.DefaultAnchorMargin,anchorRectOrientation:o.None,contentPosition:128,outsidePlacement:l.Disallowed,maximumMovingDistance:p.DefaultMaximumMovingDistance,minimumMovingDistance:p.DefaultMinimumMovingDistance,validContentPositions:128,opacity:1}}d.DataLabelManager=e;g.prototype.add=function(e,t){for(var a=this.getGridIndexRect(t),i=this.grid,o=a.left;o<a.right;o++)for(var r=a.top;r<a.bottom;r++)i[o][r].push({element:e,rect:t})},g.prototype.hasConflict=function(e){for(var t=this.getGridIndexRect(e),a=this.grid,i=s.Rect.isIntersecting,o=t.left;o<t.right;o++)for(var r=t.top;r<t.bottom;r++)for(var n=0,l=a[o][r];n<l.length;n++)if(i(l[n].rect,e))return!0;return!1},g.prototype.getGridRowColCount=function(e,t,a,i){return Math.min(Math.max(Math.ceil(t/e),a),i)},g.prototype.getGridIndexRect=function(e){function t(e,t,a){return Math.min(Math.max(e,t),a)}return{left:t(Math.floor(e.left/this.cellSize.width),0,this.colCount),top:t(Math.floor(e.top/this.cellSize.height),0,this.rowCount),right:t(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.colCount),bottom:t(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},g.ARRANGEGRID_MIN_COUNT=1,g.ARRANGEGRID_MAX_COUNT=100;var r,y=g;function g(e,t,a){this.grid=[],0!==e.width&&0!==e.height||(this.cellSize=e,this.rowCount=this.colCount=0);var i=m.toTextProperties(d.visuals.DataLabelViewModel.DefaultFontProperties),o=i.fontSize;this.cellSize={width:0,height:0};for(var r=0,n=t.length;r<n;r++){var l=t[r],s=(l.labeltext=a.labelText(l),d.Prototype.inherit(i)),s=(s.text=l.labeltext,s.fontSize=l.data?l.data.labelFontSize:l.labelFontSize||o,l.size={width:d.TextMeasurementService.measureSvgTextWidth(s),height:d.TextMeasurementService.estimateSvgTextHeight(s)},2*l.size.width),l=2*l.size.height;s>this.cellSize.width&&(this.cellSize.width=s),l>this.cellSize.height&&(this.cellSize.height=l)}0===this.cellSize.width&&(this.cellSize.width=e.width),0===this.cellSize.height&&(this.cellSize.height=e.height),this.colCount=this.getGridRowColCount(this.cellSize.width,e.width,g.ARRANGEGRID_MIN_COUNT,g.ARRANGEGRID_MAX_COUNT),this.rowCount=this.getGridRowColCount(this.cellSize.height,e.height,g.ARRANGEGRID_MIN_COUNT,g.ARRANGEGRID_MAX_COUNT),this.cellSize.width=e.width/this.colCount,this.cellSize.height=e.height/this.rowCount;for(var c=this.grid,u=0;u<this.colCount;u++){c[u]=[];for(var p=0;p<this.rowCount;p++)c[u][p]=[]}}d.DataLabelArrangeGrid=y,(e=r=r||{}).topInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+a,width:e.width,height:e.height}},e.bottomInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height-e.height-a,width:e.width,height:e.height}},e.rightInside=function(e,t,a){return{left:t.left+t.width-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftInside=function(e,t,a){return{left:t.left+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.topOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top-e.height-a,width:e.width,height:e.height}},e.bottomOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height+a,width:e.width,height:e.height}},e.rightOutside=function(e,t,a){return{left:t.left+t.width+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftOutside=function(e,t,a){return{left:t.left-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleHorizontal=function(e,t,a){return{left:t.left+t.width/2-e.width/2+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleVertical=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height/2-e.height/2+a,width:e.width,height:e.height}}})(powerbi=powerbi||{}),(function(l){var y,e,s,t,d,i,g=l.visuals.FontProperties,w=l.visuals.DataLabelViewModel,o=l.visuals.shapes.Rect,c=l.visuals.shapes,P=(h.prototype.add=function(e){for(var t=this.getContainingGridSubsection(e),a=t.xMin;a<t.xMax;a++)for(var i=t.yMin;i<t.yMax;i++)this.grid[a][i].push(e)},h.prototype.addCheckSeries=function(e){for(var t=this.getContainingGridSubsection(e),a=t.xMin;a<t.xMax;a++)for(var i=t.yMin;i<t.yMax;i++)this.grid[a][i].push(e)},h.prototype.hasConflict=function(e){return!this.isWithinGridViewport(e)||this.hasCollision(e)},h.prototype.tryPositionInViewport=function(e){return this.isCloseToGridViewport(e)&&(e=this.isWithinGridViewport(e)?e:this.tryMoveInsideViewport(e))&&!this.hasCollision(e)?e:void 0},h.prototype.trySeriesLabelPositionInViewport=function(e){return this.isCloseToGridViewport(e)&&(e=this.isWithinGridViewport(e)?e:this.trySeriesLabelMoveInsideViewport(e))&&!this.hasCollision(e)?e:void 0},h.prototype.hasCollision=function(e){for(var t=this.getContainingGridSubsection(e),a=this.grid,i=c.Rect.isIntersecting,o=t.xMin;o<t.xMax;o++)for(var r=t.yMin;r<t.yMax;r++)for(var n=0,l=a[o][r];n<l.length;n++)if(i(l[n],e))return!0;return!1},h.prototype.isWithinGridViewport=function(e){return 0<=e.left&&0<=e.top&&e.left+e.width<=this.viewport.width&&e.top+e.height<=this.viewport.height},h.prototype.isCloseToGridViewport=function(e){return e.left+e.width>=0-e.width&&e.top+e.height>=-e.height&&e.left<=this.viewport.width+e.width&&e.top<=this.viewport.height+e.height},h.prototype.tryMoveInsideViewport=function(e){var t=o.clone(e),a=this.viewport;if(!(e.width>a.width||e.height>a.height))return e.left<0?t.left=0:e.left+e.width>a.width&&(t.left-=e.left+e.width-a.width),e.top<0?t.top=0:e.top+e.height>a.height&&(t.top-=e.top+e.height-a.height),t},h.prototype.trySeriesLabelMoveInsideViewport=function(e){var t=o.clone(e),a=this.viewport;if(!(e.height>a.height))return e.left<0&&(t.left=0),e.top<0?t.top=0:e.top+e.height>a.height&&(t.top-=e.top+e.height-a.height),t},h.prototype.getContainingGridSubsection=function(e){return{xMin:h.bound(Math.floor(e.left/this.cellSize.width),0,this.columnCount),xMax:h.bound(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.columnCount),yMin:h.bound(Math.floor(e.top/this.cellSize.height),0,this.rowCount),yMax:h.bound(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},h.getCellCount=function(e,t,a,i){return h.bound(Math.ceil(t/e),a,i)},h.bound=function(e,t,a){return Math.max(Math.min(e,a),t)},h.cellSizeMultiplier=2,h);function h(e,t){this.viewport=t;for(var a=0,i=0,o=0,r=e;o<r.length;o++)for(var n=0,l=r[o].labelDataPoints;n<l.length;n++){var s=l[n].labelSize;s.width>a&&(a=s.width),s.height>i&&(i=s.height)}0===a&&(a=t.width),0===i&&(i=t.height);for(var e=this.cellSize={width:a*h.cellSizeMultiplier,height:i*h.cellSizeMultiplier},c=(this.columnCount=h.getCellCount(e.width,t.width,1,100),this.rowCount=h.getCellCount(e.height,t.height,1,100),[]),u=0,p=this.columnCount;u<p;u++){c[u]=[];for(var d=0,m=this.rowCount;d<m;d++)c[u][d]=[]}this.grid=c}function b(e){this.startingOffset=e.startingOffset,this.maximumOffset=e.maximumOffset,null!=e.offsetIterationDelta?this.offsetIterationDelta=e.offsetIterationDelta:this.offsetIterationDelta=b.defaultOffsetIterationDelta,null!=e.horizontalPadding?this.horizontalPadding=e.horizontalPadding:this.horizontalPadding=b.defaultHorizontalPadding,null!=e.verticalPadding?this.verticalPadding=e.verticalPadding:this.verticalPadding=b.defaultVerticalPadding,this.allowLeaderLines=!!e.allowLeaderLines,this.attemptToMoveLabelsIntoViewport=!!e.attemptToMoveLabelsIntoViewport}function u(e,t){var a=t.width*t.height,i=e.width*e.height,o=Math.max(a,i);return 0===o?0:(i=0!==(a=Math.min(a,i))?a:o,(a=c.Rect.intersect(t,e)).width*a.height/i)}l.LabelArrangeGrid=P,b.prototype.layout=function(e,t){for(var a=[],i=0,o=e;i<o.length;i++){for(var r=o[i],n=_.map(r.labelDataPoints,(function(e){return{labelDataPoint:e}})),l=r.labelOrientation,s=0,c=n;s<c.length;s++){var u=c[s],p=u.labelDataPoint,d=(u.hasBeenRendered=!1,p.textSize.width),m=p.textSize.height;0===l&&(d=p.textSize.height,m=p.textSize.width),p.wordBreak&&(m+=p.fontProperties.size.px),p.hasBackground?u.labelSize={width:d+2*w.horizontalLabelBackgroundPadding,height:m+2*w.verticalLabelBackgroundPadding}:u.labelSize={width:d,height:m}}a.push({labelDataPoints:n,maxNumberOfLabels:r.maxNumberOfLabels,labelOrientation:r.labelOrientation})}for(var y=[],g=new P(a,t),h=1<a.length,b=0,f=a;b<f.length;b++){for(var S=f[b],v=S.maxNumberOfLabels,n=_.clone(S.labelDataPoints),C=[],l=S.labelOrientation,N=n.length-1,x=v;0<=N&&0<x;N--)(p=n[N].labelDataPoint).isPreferred&&(C.unshift(n.splice(N,1)[0]),x--);0<C.length&&(v-=(S=this.positionDataLabels(C,t,g,v,l,h)).length,y=y.concat(S)),0<n.length&&(S=this.positionDataLabels(n,t,g,v,l,h),y=y.concat(S))}return _.filter(y,(function(e){return e.isVisible}))},b.prototype.positionDataLabels=function(e,t,a,i,o,r){for(var n=[],l=this.offsetIterationDelta,s=this.startingOffset,c=0,u=0;s<=this.maximumOffset&&u<i;){for(var p=this.allowLeaderLines&&s>this.startingOffset,d=0,m=e;d<m.length;d++){var y=m[d],g=y.labelDataPoint;if(!y.hasBeenRendered){var h=void 0;if((h=1===g.parentType?this.tryPositionForRectPositions(y,a,s,c,o,r):this.tryPositionForPointPositions(y,a,s,p,o))&&(n.push(h),u++),!(u<i))break}}s+=l,c+=l}return n},b.prototype.tryPositionForRectPositions=function(r,n,l,s,c,u){for(var p=this,d=r.labelDataPoint,e=function(e,t){var a=!!(7&e),i=!!(224&e),o=y.canFitWithinParent(r,p.horizontalPadding,p.verticalPadding);return(a||i)&&!o||!(o=b.tryPositionRect(n,e,r,l,s,t))||a&&!y.isLabelWithinParent(o,d,p.horizontalPadding,p.verticalPadding)||i&&!y.isValidLabelOverflowing(o,d,u)?void 0:(n.add(o),r.hasBeenRendered=!0,{boundingBox:o,text:d.text,tooltip:d.tooltip,isVisible:!0,identity:d.identity,key:d.key,fontProperties:g.inherit(d.fontProperties,{color:a||i?d.insideFill:d.outsideFill}),selected:!1,hasBackground:!!d.hasBackground,labelOrientation:c,backgroundColor:d.backgroundColor,backgroundTransparency:d.backgroundTransparency,isTotal:d.isTotal,isCategory:d.isCategory})},t=0,a=d.parentShape.validPositions;t<a.length;t++)if(i=e(a[t],!1))return i;if(this.attemptToMoveLabelsIntoViewport)for(var i,o=0,m=d.parentShape.validPositions;o<m.length;o++)if(i=e(m[o],!0))return i;return null},b.tryPositionRect=function(e,t,a,i,o,r){var n=_.includes([1,32],t),o=y.getLabelRect(a,t,i=n?o:i),l=a.labelDataPoint;if(n&&0!==l.parentShape.orientation){if(!e.hasConflict(o))return o;if(o=y.getLabelRect(a,t,-i),!e.hasConflict(o))return o}else{if(!e.hasConflict(o))return o;if(r)return e.tryPositionInViewport(o)}return null},b.prototype.tryPositionForPointPositions=function(i,o,r,n,l){for(var e,s=i.labelDataPoint,t=function(e,t,a){a=b.tryPositionPoint(o,e,i,r,a);if(a)return 512===e?o.addCheckSeries(a):o.add(a),i.hasBeenRendered=!0,{boundingBox:a,text:s.text,tooltip:s.tooltip,isVisible:!0,isInsideParent:256===e,identity:s.identity,key:s.key,fontProperties:g.inherit(s.fontProperties,{color:256===e?s.insideFill:s.outsideFill}),selected:!1,leaderLinePoints:n?d.getLabelLeaderLineEndingPoint(a,e,t):null,hasBackground:!!s.hasBackground,labelOrientation:l,backgroundColor:s.backgroundColor,backgroundTransparency:s.backgroundTransparency,wordBreak:s.wordBreak,isTotal:s.isTotal,isCategory:s.isCategory}},a=s.parentShape,c=a.validPositions,u=0,p=c;u<p.length;u++)if(e=t(p[u],a,!1))return e;if(this.attemptToMoveLabelsIntoViewport&&!_.isEmpty(c)&&(e=t(c[0],a,!0)))return e;return null},b.tryPositionPoint=function(e,t,a,i,o){a=d.getLabelRect(a.labelSize,a.labelDataPoint.parentShape,t,i);return e.hasConflict(a)?o?512===t?e.trySeriesLabelPositionInViewport(a):e.tryPositionInViewport(a):null:a},b.defaultOffsetIterationDelta=2,b.defaultHorizontalPadding=2,b.defaultVerticalPadding=2,l.LabelLayout=b,e=y=l.DataLabelRectPositioner||(l.DataLabelRectPositioner={}),(t=s=e.LabelOverflowingConsts||(e.LabelOverflowingConsts={})).equalityPrecision=.09,t.minIntersectionRatio=.2,e.isLabelWithinParent=function(e,t,a,i){return t=t.parentShape.rect,e=c.Rect.inflate(e,{left:a,right:a,top:i,bottom:i}),c.Rect.containsPoint(t,{x:e.left,y:e.top})&&c.Rect.containsPoint(t,{x:e.left+e.width,y:e.top+e.height})},e.isValidLabelOverflowing=function(e,t,a){var i,o,r,n=t.parentShape.rect;return!(!c.Rect.isIntersecting(e,n)||(o=c.Rect.intersect(e,n),r=s.equalityPrecision,i=l.Double.equalWithPrecision(o.top,e.top,r)&&l.Double.equalWithPrecision(o.height,e.height,r),o=l.Double.equalWithPrecision(o.left,e.left,r)&&l.Double.equalWithPrecision(o.width,e.width,r),r=_.includes([1,2],t.parentShape.orientation),!o&&!i)||a&&(r&&!i||!r&&!o))&&(!(!o||!i)||(t=u(e,n)>=s.minIntersectionRatio,a=!1,r=s.parentToLabelOverflowRatioThreshold,i?a=0===n.width||n.width/e.width>r:o&&(a=0===n.height||n.height/e.height>r),t&&a))},e.maximalIntersectionRatio=u,e.topInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+a,width:e.width,height:e.height}},e.bottomInside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height-a-e.height,width:e.width,height:e.height}},e.rightInside=function(e,t,a){return{left:t.left+t.width-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftInside=function(e,t,a){return{left:t.left+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.topOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top-e.height-a,width:e.width,height:e.height}},e.bottomOutside=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height+a,width:e.width,height:e.height}},e.rightOutside=function(e,t,a){return{left:t.left+t.width+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.leftOutside=function(e,t,a){return{left:t.left-e.width-a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleHorizontal=function(e,t,a){return{left:t.left+t.width/2-e.width/2+a,top:t.top+t.height/2-e.height/2,width:e.width,height:e.height}},e.middleVertical=function(e,t,a){return{left:t.left+t.width/2-e.width/2,top:t.top+t.height/2-e.height/2+a,width:e.width,height:e.height}},(i=d=l.DataLabelPointPositioner||(l.DataLabelPointPositioner={})).cos45=Math.cos(45),i.sin45=Math.sin(45),i.above=function(e,t,a){return{left:t.x-e.width/2,top:t.y-a-e.height,width:e.width,height:e.height}},i.below=function(e,t,a){return{left:t.x-e.width/2,top:t.y+a,width:e.width,height:e.height}},i.left=function(e,t,a){return{left:t.x-a-e.width,top:t.y-e.height/2,width:e.width,height:e.height}},i.right=function(e,t,a){return{left:t.x+a,top:t.y-e.height/2,width:e.width,height:e.height}},i.belowLeft=function(e,t,a){return{left:t.x-i.sin45*a-e.width,top:t.y+i.cos45*a,width:e.width,height:e.height}},i.belowRight=function(e,t,a){return{left:t.x+i.sin45*a,top:t.y+i.cos45*a,width:e.width,height:e.height}},i.aboveLeft=function(e,t,a){return{left:t.x-i.sin45*a-e.width,top:t.y-i.cos45*a-e.height,width:e.width,height:e.height}},i.aboveRight=function(e,t,a){return{left:t.x+i.sin45*a,top:t.y-i.cos45*a-e.height,width:e.width,height:e.height}},i.center=function(e,t){return{left:t.x-e.width/2,top:t.y-e.height/2,width:e.width,height:e.height}},i.seriesLeft=function(e,t){return{left:t.x,top:t.y-e.height/2,width:e.width,height:e.height}},i.getLabelLeaderLineEndingPoint=function(e,t,a){var i=e.left,o=e.top;switch(t){case 1:i+=e.width/2,o+=e.height;break;case 2:i+=e.width/2;break;case 4:i+=e.width,o+=2*e.height/3;break;case 8:o+=2*e.height/3;break;case 32:i+=e.width,o+=e.height/2;break;case 16:o+=e.height/2;break;case 128:i+=e.width,o+=e.height;break;case 64:o+=e.height}return[[a.point.x,a.point.y],[i,o]]}})(powerbi=powerbi||{}),(function(e){var o;(o=e.DataLabelRectPositioner||(e.DataLabelRectPositioner={})).getLabelRect=function(e,t,a){var i=e.labelDataPoint.parentShape;if(null!=i)switch(t){case 1:case 32:switch(i.orientation){case 1:case 2:return o.middleVertical(e.labelSize,i.rect,a);case 3:case 4:return o.middleHorizontal(e.labelSize,i.rect,a)}case 2:case 64:switch(i.orientation){case 1:return o.bottomInside(e.labelSize,i.rect,a);case 2:return o.topInside(e.labelSize,i.rect,a);case 3:return o.leftInside(e.labelSize,i.rect,a);case 4:return o.rightInside(e.labelSize,i.rect,a)}case 4:case 128:switch(i.orientation){case 1:return o.topInside(e.labelSize,i.rect,a);case 2:return o.bottomInside(e.labelSize,i.rect,a);case 3:return o.rightInside(e.labelSize,i.rect,a);case 4:return o.leftInside(e.labelSize,i.rect,a)}case 8:switch(i.orientation){case 1:return o.bottomOutside(e.labelSize,i.rect,a);case 2:return o.topOutside(e.labelSize,i.rect,a);case 3:return o.leftOutside(e.labelSize,i.rect,a);case 4:return o.rightOutside(e.labelSize,i.rect,a)}case 16:switch(i.orientation){case 1:return o.topOutside(e.labelSize,i.rect,a);case 2:return o.bottomOutside(e.labelSize,i.rect,a);case 3:return o.rightOutside(e.labelSize,i.rect,a);case 4:return o.leftOutside(e.labelSize,i.rect,a)}}return null},o.canFitWithinParent=function(e,t,a){var i=e.labelDataPoint;return e.labelSize.width+2*t<i.parentShape.rect.width||e.labelSize.height+2*a<i.parentShape.rect.height}})(powerbi=powerbi||{}),(function(e){var t,o;((t=e.DataLabelRectPositioner||(e.DataLabelRectPositioner={})).LabelOverflowingConsts||(t.LabelOverflowingConsts={})).parentToLabelOverflowRatioThreshold=.02,(o=e.DataLabelPointPositioner||(e.DataLabelPointPositioner={})).getLabelRect=function(e,t,a,i){switch(a){case 1:return o.above(e,t.point,t.radius+i);case 2:return o.below(e,t.point,t.radius+i);case 4:return o.left(e,t.point,t.radius+i);case 8:return o.right(e,t.point,t.radius+i);case 32:return o.belowLeft(e,t.point,t.radius+i);case 16:return o.belowRight(e,t.point,t.radius+i);case 128:return o.aboveLeft(e,t.point,t.radius+i);case 64:return o.aboveRight(e,t.point,t.radius+i);case 256:return o.center(e,t.point);case 512:return o.seriesLeft(e,t.point)}return null}})(powerbi=powerbi||{}),(function(S){var v=S.visuals.DataLabelViewModel;function e(){}e.prototype.layout=function(e,t,a,i){var o=_.map(e,(function(e){return{labelDataPoint:e}}));if(i||void 0===this.labels){for(var i={labelDataPoints:o,maxNumberOfLabels:o.length},r=0,n=o;r<n.length;r++){var l=n[r],s=l.labelDataPoint;l.labelSize={width:s.textSize.width+2*v.horizontalLabelBackgroundPadding,height:s.textSize.height+2*v.verticalLabelBackgroundPadding}}for(var c=new S.LabelArrangeGrid([i],t),u=[],p=[],d=0,m=e;d<m.length;d++){var y=(s=m[d]).parentShape.polygon;p.push(y),y.pixelBoundingRect=a.applyToRect(y.absoluteBoundingRect())}for(var g=new C(p,t),h=0,b=e;h<b.length;h++){var s=b[h],f=this.getLabelByPolygonPositions(s,a,c,g);null!=f&&u.push(f)}this.labels=u}else this.updateLabelOffsets(a);return _.filter(this.labels,(function(e){return e.isVisible}))},e.prototype.getLabelPolygon=function(e,t,a,i){e={width:e.textSize.width,height:e.textSize.height};return this.getLabelBoundingBox(e,t,a,i)},e.prototype.getLabelBoundingBox=function(e,t,a,i){switch(t){case 1:return S.DataLabelPointPositioner.above(e,a,i);case 2:return S.DataLabelPointPositioner.below(e,a,i);case 4:return S.DataLabelPointPositioner.left(e,a,i);case 8:return S.DataLabelPointPositioner.right(e,a,i);case 128:return S.DataLabelPointPositioner.aboveLeft(e,a,i);case 64:return S.DataLabelPointPositioner.aboveRight(e,a,i);case 32:return S.DataLabelPointPositioner.belowLeft(e,a,i);case 16:return S.DataLabelPointPositioner.belowRight(e,a,i);case 256:return S.DataLabelPointPositioner.center(e,a)}return null},e.prototype.getLabelByPolygonPositions=function(e,t,a,i){for(var o=0,r=t.getInverse(),n=0;n<2;n++){1===n&&(o=5);for(var l=0,s=e.parentShape.validPositions;l<s.length;l++){var c=s[l],u=this.tryPositionForPolygonPosition(c,e,t,o,r);if(256!==c||0===n)if(u)return y=t.applyToRect(u),{text:e.text,secondRowText:e.secondRowText,boundingBox:y,isVisible:!0,fontProperties:{color:e.insideFill},identity:null,selected:!1,hasBackground:!0,textAnchor:"middle",originalPixelOffset:o,isPlacedInsidePolygon:!0,absoluteBoundingBoxCenter:{x:u.left+u.width/2,y:u.top+u.height/2}}}}for(var p=6;p<=60;){for(var d=0,m=e.parentShape.validPositions;d<m.length;d++){c=m[d];if(256!==c){var y,g=e.parentShape.polygon,h=t.applyToPoint(g.absoluteCentroid()),b=this.tryPlaceLabelOutsidePolygon(a,c,e,p,h,i,r);if(b)return y=t.applyToRect(b),b={text:e.text,secondRowText:e.secondRowText,boundingBox:y,isVisible:!0,fontProperties:{color:e.insideFill},identity:null,selected:!1,hasBackground:!0,isPlacedInsidePolygon:!1,textAnchor:"middle",originalPixelOffset:p,originalPosition:c,originalAbsoluteCentroid:g.absoluteCentroid(),absoluteBoundingBoxCenter:{x:b.left+b.width/2,y:b.top+b.height/2}},g=this.calculateStemSource(t,r,g,y,c,h),b.leaderLinePoints=this.setLeaderLinePoints(g,this.calculateStemDestination(y,c)),b.absoluteStemSource=r.applyToPoint(g),a.add(y),b}}p+=10}return null},e.prototype.setLeaderLinePoints=function(e,t){return[[e.x,e.y],[t.x,t.y]]},e.prototype.calculateStemSource=function(e,t,a,i,o,r){a=a.lineIntersectionPoint(a.absoluteCentroid(),t.applyToPoint({x:i.left+i.width/2,y:i.top+i.height/2}));if(null==a)return r;var n=e.applyToPoint(a);switch(o){case 1:n.y+=5;break;case 2:n.y-=5;break;case 4:n.x+=5;break;case 8:n.x-=5;break;case 128:n.x+=5/S.DataLabelPointPositioner.cos45,n.y+=5/S.DataLabelPointPositioner.sin45;break;case 64:n.x-=5/S.DataLabelPointPositioner.cos45,n.y+=5/S.DataLabelPointPositioner.sin45;break;case 32:n.x+=5/S.DataLabelPointPositioner.cos45,n.y-=5/S.DataLabelPointPositioner.sin45;break;case 16:n.x-=5/S.DataLabelPointPositioner.cos45,n.y-=5/S.DataLabelPointPositioner.sin45}return n},e.prototype.calculateStemDestination=function(e,t){var a,i;switch(t){case 1:a=e.left+e.width/2,i=e.top+e.height;break;case 2:a=e.left+e.width/2,i=e.top;break;case 4:a=e.left+e.width,i=e.top+e.height/2;break;case 8:a=e.left,i=e.top+e.height/2;break;case 128:a=e.left+e.width,i=e.top+e.height;break;case 64:a=e.left,i=e.top+e.height;break;case 32:a=e.left+e.width,i=e.top;break;case 16:a=e.left,i=e.top}return{x:a,y:i}},e.prototype.tryPositionForPolygonPosition=function(e,t,a,i,o){var r=t.parentShape.polygon,a=a.applyToPoint(r.absoluteCentroid()),t=this.getLabelPolygon(t,e,a,i),e=this.getAbsoluteRectangle(o,t);return r.contains(e)?e:null},e.prototype.tryPlaceLabelOutsidePolygon=function(e,t,a,i,o,r,n){a=this.getLabelPolygon(a,t,o,i);if(!e.hasConflict(a)){t=this.getAbsoluteRectangle(n,a);if(!r.hasConflict(t,a))return t}return null},e.prototype.updateLabelOffsets=function(e){for(var t=0,a=this.labels;t<a.length;t++){var i,o,r=a[t];r.isVisible&&(r.isPlacedInsidePolygon?(i=e.applyToPoint(r.absoluteBoundingBoxCenter),o=r.boundingBox.left+r.boundingBox.width/2-i.x,i=r.boundingBox.top+r.boundingBox.height/2-i.y,r.boundingBox.top-=i,r.boundingBox.left-=o):(i=e.applyToPoint(r.absoluteStemSource),o=e.applyToPoint(r.originalAbsoluteCentroid),r.boundingBox=this.getLabelBoundingBox({width:r.boundingBox.width,height:r.boundingBox.height},r.originalPosition,o,r.originalPixelOffset),void 0!==r.leaderLinePoints&&(r.leaderLinePoints=this.setLeaderLinePoints(i,this.calculateStemDestination(r.boundingBox,r.originalPosition)))))}},e.prototype.getAbsoluteRectangle=function(e,t){return e.applyToRect(t)},S.FilledMapLabelLayout=e;h.prototype.hasConflict=function(e,t){for(var a=this.getContainingGridSubsection(t),i=this.grid,o=a.xMin;o<a.xMax;o++)for(var r=a.yMin;r<a.yMax;r++)for(var n=0,l=i[o][r];n<l.length;n++)if(l[n].conflicts(e))return!0;return!1},h.prototype.add=function(e){for(var t=this.getContainingGridSubsection(e.pixelBoundingRect),a=t.xMin;a<t.xMax;a++)for(var i=t.yMin;i<t.yMax;i++)this.grid[a][i].push(e)},h.prototype.getContainingGridSubsection=function(e){return{xMin:h.bound(Math.floor(e.left/this.cellSize.width),0,this.columnCount),xMax:h.bound(Math.ceil((e.left+e.width)/this.cellSize.width),0,this.columnCount),yMin:h.bound(Math.floor(e.top/this.cellSize.height),0,this.rowCount),yMax:h.bound(Math.ceil((e.top+e.height)/this.cellSize.height),0,this.rowCount)}},h.getCellCount=function(e,t,a,i){return h.bound(Math.ceil(t/e),a,i)},h.bound=function(e,t,a){return Math.max(Math.min(e,a),t)},h.cellSizeMultiplier=2;var C=h;function h(e,t){for(var a=0,i=0,o=0,r=e;o<r.length;o++){var n=(g=r[o]).pixelBoundingRect;n.width>a&&(a=n.width),n.height>i&&(i=n.height)}0===a&&(a=t.width),0===i&&(i=t.height);for(var l=this.cellSize={width:a*h.cellSizeMultiplier,height:i*h.cellSizeMultiplier},s=(this.columnCount=h.getCellCount(l.width,t.width,1,100),this.rowCount=h.getCellCount(l.height,t.height,1,100),[]),c=0,u=this.columnCount;c<u;c++){s[c]=[];for(var p=0,d=this.rowCount;p<d;p++)s[c][p]=[]}this.grid=s;for(var m=0,y=e;m<y.length;m++){var g=y[m];this.add(g)}}S.LabelPolygonArrangeGrid=C})(powerbi=powerbi||{}),(function(e){var o;o=e.visuals||(e.visuals={}),(e=o.FormattingStrategies||(o.FormattingStrategies={})).defaultFormatter=function(i){return function(e,t,a){return o.converterHelper.formatFromMetadataColumn(e,t,i,!0,a)}},e.fallbackBasedOnType=function(i){return function(e,t,a){return o.converterHelper.formatFromMetadataColumn(e,t,i,!1,a)}}})(powerbi=powerbi||{}),(function(e){var a,t,i,o,r;function n(){this.instanceId=void 0}a=e.visuals||(e.visuals={}),t=e.data.DataViewTransform,i={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},o={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"},n.initialize=function(){a.valueFormatter.setLocaleOptions(n.createLocaleOptions()),e.visuals.ToolTipComponent.localizationOptions=n.createTooltipLocaleOptions(),t.setLocalizationOptions(n.createDataViewTransformLocalizationOptions())},n.createLocaleOptions=function(){return{null:o.NullValue,true:o.BooleanTrue,false:o.BooleanFalse,NaN:o.NaNValue,infinity:o.InfinityValue,negativeInfinity:o.NegativeInfinityValue,beautify:function(e){return n.beautify(e)},describe:function(e){return n.describeUnit(e)},restatementComma:o.Restatement_Comma,restatementCompoundAnd:o.Restatement_CompoundAnd,restatementCompoundOr:o.Restatement_CompoundOr}},n.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:o.Tooltip_HighlightedValueDisplayName}},n.createDataViewTransformLocalizationOptions=function(){return{quarterPrefix:o.Visual_Quarter_Abbreviated}},n.prototype.getLocalizedString=function(e){for(var t=1;t<arguments.length;t++)t-1,0;return o[e]},n.prototype.alertScreenReader=function(e){},n.prototype.alertWithDebounce=function(e,t){},n.prototype.requestFocus=function(){},n.prototype.onDragStart=function(){},n.prototype.getVisualLinkProperties=function(){},n.prototype.canSelect=function(){return!1},n.prototype.onSelecting=function(e){e.action=0},n.prototype.onSelect=function(){},n.prototype.onSwitchFocusModeState=function(){},n.prototype.canExpandCollapse=function(e){return!1},n.prototype.setNodeExpansionState=function(e){},n.prototype.setLevelExpansionState=function(e){},n.prototype.onContextMenu=function(){},n.prototype.loadMoreData=function(){},n.prototype.loadWindow=function(e){},n.prototype.setShouldDeferData=function(){},n.prototype.fetchMoreData=function(e){return!0},n.prototype.persistProperties=function(e){},n.prototype.onCustomSort=function(e){},n.prototype.getViewMode=function(){return 0},n.prototype.getEditMode=function(){return 0},n.prototype.setWarnings=function(e){},n.prototype.getWarnings$=function(){},n.prototype.setToolbar=function(e){},n.prototype.shouldRetainSelection=function(){return!1},n.prototype.geocoder=function(){return a.services.createGeocoder()},n.prototype.geolocation=function(){},n.prototype.promiseFactory=function(){return e.createJQueryPromiseFactory()},n.prototype.visualCapabilitiesChanged=function(){},n.prototype.ignoreDefaultFilter=function(){},n.prototype.getIdentityDisplayNames=function(e){},n.prototype.setIdentityDisplayNames=function(e){},n.prototype.drill=function(e){},n.prototype.setFilterExpressionMetadata=function(e){},n.prototype.getFilterExpressionMetadata=function(){},n.prototype.dropdown=function(){},n.prototype.tooltips=function(){},n.prototype.telemetry=function(){},n.prototype.authenticationService=function(){},n.prototype.localStorageService=function(){},n.prototype.acquireAADTokenService=function(){},n.prototype.eventService=function(){},n.prototype.licenseManagerService=function(){},n.prototype.decompositionService=function(){},n.prototype.locale=function(){return navigator.language},n.prototype.allowInteractions=function(){return!0},n.prototype.loader=function(){return e.createModuleLoader(this.promiseFactory(),void 0,null)},n.prototype.getUIComponentFactory=function(){return null},n.prototype.applyJsonFilter=function(e,t,a,i){return!0},n.prototype.applyIdentityFilter=function(e,t,a,i){return!0},n.prototype.launchUrl=function(e){},n.prototype.refreshHostData=function(){},n.prototype.sendSelectionIdsToHost=function(e){},n.prototype.getJSONFilter=function(e,t){return this.promiseFactory().reject()},n.prototype.onHyperlinkClick=function(e,t){},n.prototype.visualTimeSynchronization=function(){},n.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},n.prototype.dataMultiSelectMode=function(){return 0},n.prototype.networkAvailability=function(){},n.prototype.downloadService=function(){},n.prototype.setAriaMetadata=function(e){},n.prototype.artifactService=function(){},n.prototype.getSectionsMetadata$=function(){},n.prototype.getBookmarksMetadata$=function(){},n.prototype.onNotifyLicense=function(e){},n.prototype.onClearLicenseNotification=function(){},n.prototype.onNotifyFeatureBlocked=function(e){},n.prototype.getSubSelectionService=function(){},n.prototype.webAccessService=function(){},n.prototype.getAzureMapToken=function(){},n.prototype.localStorageV2Service=function(){},n.prototype.aiNarrativesService=function(){},n.beautify=function(e){var t=i[e];return t&&(a.valueFormatter.beautifyTrace(t),o[t])||e},n.describeUnit=function(e){var t=-1===e?"Auto":e.toString(),a=o["DisplayUnitSystem_E"+t+"_Title"],e=e<=0?"{0}":o["DisplayUnitSystem_E"+t+"_LabelFormat"];if(a||e)return{title:a,format:e}},r=n,a.DefaultVisualHostServices=r,a.defaultVisualHostServices=new r})(powerbi=powerbi||{}),(function(m){var i=m.visuals||(m.visuals={});function l(e){if(!_.isEmpty(e))for(var t=0,a=e.length;t<a;t++)if(e[t].selected)return!0;return!1}i.createInteractivityService=function(e){return new r(e)},i.appendClearCatcher=function(e,t){var a=e.select("".concat(t=void 0===t?"rect":t,".clearCatcher"));return a=a.empty()?e.append(t).classed("clearCatcher",!0).attr("width","100%").attr("height","100%"):a},i.disableClearCatcher=function(e,t){(e=e.select("".concat(t=void 0===t?"rect":t,".clearCatcher"))).empty()||e.style("pointer-events","none")},i.enableClearCatcher=function(e,t){(e=e.select("".concat(t=void 0===t?"rect":t,".clearCatcher"))).empty()||e.style("pointer-events","auto")},i.isCategoryColumnSelected=function(e,t,a){return null!=t.objects&&t.objects[a]&&m.DataViewObjects.getValue(t.objects[a],e)},i.dataHasSelection=l,e.prototype.render=function(){this.behavior.renderSelection(this.hasSelection())};var s=e;function e(e,t,a,i,o){this.dataPoints=e,this.behavior=t,this.key=a,this.hasSelection=i,this.matchPartialIdentities=o}i.SelectableDataPointSource=s,a.prototype.findNonHightlightDataPoint=function(e){for(var t=0,a=this.getSelectablePointSources();t<a.length;t++){var i=(function(e,t){return _.find(e,(function(e){return!e.identity.highlight&&t.identity.includes(e.identity,!0)}))})(a[t].dataPoints,e);if(i)return i}},a.prototype.applySelectionStateToDataPoints=function(e){this.updateSelectableDataPointsBySelectedIds(e)},a.prototype.syncSelectionState=function(e){var t=this;this.getSelectablePointSources(e).forEach((function(e){t.updateSelectableDataPointsBySelectedIds(e.dataPoints,e.matchPartialIdentities)}))},a.prototype.clearDataPointSelection=function(){this.applyToAllSelectableDataPoints((function(e){return e.selected=!1}))},a.prototype.render=function(){this.getSelectablePointSources().forEach((function(e){e.render()}))},a.prototype.bind=function(e,t,a,i){var o,r=this,n=!1;i&&(i.isAxis||i.isLabels||i.isLegend||i.useSelectableDataPointForHasSelection)?o=function(){return!!e&&l(e)}:(o=function(){return 0<r.selectionStateManager.getSelectionSize()},n=!0),this.isHierarchicalAxis=i&&i.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[a]=new s(e,t,a,o,n)},a.prototype.hasSelectionForSource=function(e){return l(null==(e=this.pointSources[e])?void 0:e.dataPoints)},a.prototype.applyToAllSelectableDataPoints=function(o){this.getSelectablePointSources().forEach((function(e){if(e.dataPoints)for(var t=0,a=e.dataPoints;t<a.length;t++){var i=a[t];o(i)}}))},a.prototype.updateSelectableDataPointsBySelectedIds=function(e,t){void 0===t&&(t=!1),_.isEmpty(e)||this.selectionStateManager.updateDatapointAgainstSelectedIds(e,t,this.isHierarchicalAxis)},a.prototype.getSelectablePointSources=function(e){var t=this;return e?(e=this.pointSources[e])?[e]:[]:_.map(Object.keys(this.pointSources),(function(e){return t.pointSources[e]}))};var t=a;function a(e){this.selectionStateManager=e,this.pointSources={}}i.FederatedDataPointManager=t,n.prototype.bind=function(e,t,a,i){i&&i.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(e),this.isHierarchicalAxis=i&&i.isHierarchicalAxis;var o=i?i.pointSourceKey:"";this.dataPointManager.bind(e,t,o,i),i&&i.navigationOptions&&((i.isAxis?this.categoryAxisNavigationManager:this.dataPointNavigationManager).update(t,i.navigationOptions,o),i.navigationOptions.focusElement)&&t.renderFocus(i.navigationOptions.focusElement),e=i&&i.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:o}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:o},t.bindEvents(a,this,e,this.formatMode),this.syncSelectionState(i&&i.pointSourceKey)},n.prototype.clearSelection=function(){this.clearSelectionInternal(),this.renderAll()},n.prototype.clearSelectionInternal=function(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()},n.prototype.applySelectionStateToData=function(e){return this.dataPointManager.applySelectionStateToDataPoints(e),this.hasSelection()},n.prototype.hasSelection=function(){return 0<this.selectionStateManager.getSelectionSize()},n.prototype.hasSelectionForSource=function(e){return this.dataPointManager.hasSelectionForSource(e)},n.getVisualObjects=function(e){return _.map(e,(function(e){return{objectName:n.dataPointObjectName,selectorsByColumn:e.getSelectorsByColumn()}}))},n.prototype.handleSelection=function(t,a,i){var o,r=this;t&&(t.specificIdentity?o=t.specificIdentity.getSelectorsByColumn():(!t.identity&&t.lazyIdentity&&(t.identity=t.lazyIdentity()),t.identity&&(o=t.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===a&&(a=3),this.runInTransaction((function(){t.identity&&r.select(t,a);var e={type:0,visualObjects:t.specificIdentity?[{objectName:n.dataPointObjectName,selectorsByColumn:o}]:n.getVisualObjects(r.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===a,isShiftKey:1===a,isLassoSelect:!1,position:i};return _.isEmpty(o)||r.hostService.onSelecting(e),e}),a,!1,!t.identity))},n.prototype.handleMultipleSelection=function(t,a,i,o){var r=this;this.runInTransaction((function(){r.selectMultiple(t,a);var e={type:0,visualObjects:n.getVisualObjects(r.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!i||3===a,isShiftKey:1===a,isLassoSelect:i,position:o};return r.hostService.onSelecting(e),e}),a,i,!1)},n.prototype.runInTransaction=function(e,t,a,i){var o,r=!1;this.selectionStateManager.beginTransaction();try{var n=e();0!==n.action&&n.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),r=!0,o=n.selectionLimitInfo,this.syncSelectionState())}catch(e){this.selectionStateManager.rollback()}finally{r&&(i?this.handleClearSelection():(this.sendSelectionToHost(t,a,o),this.renderAll()))}},n.prototype.handleContextMenu=function(e,t){this.sendContextMenuToHost(e,t)},n.prototype.handleClearSelection=function(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))},n.prototype.restoreSelection=function(e){return this.clearSelection(),this.selectionStateManager.restoreSelection(e,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()},n.prototype.renderAll=function(){this.dataPointManager.render()},n.prototype.clearSelectionState=function(){this.selectionStateManager.clearSelectionState()},n.prototype.selectMultiple=function(e,t){0!==t&&2!==t||this.clearSelectionState();for(var a=0,i=e;a<i.length;a++){var o=i[a],r=o.identity;r.highlight||(1===t||0===t?this.addId(r):3===t?o.selected?this.removeId(r):this.addId(r):2===t&&o.selected&&this.addId(r))}},n.prototype.updateSelectionState=function(e,t,a,i){i||this.clearSelectionInternal(),e.selected?i&&3===t&&this.removeId(a):(this.addId(a),i&&(a.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))},n.prototype.select=function(e,t){var a=(e=e.identity&&e.identity.highlight?this.dataPointManager.findNonHightlightDataPoint(e):e).identity;if(a){var i=this.getSelectionIds(),o=this.hostService.canSelect(n.createSelectEventArgs(i,t));switch(t){case 0:!e.selected||1<i.length||1===i.length&&!i[0].equals(a)?(this.clearSelectionInternal(),this.addId(a)):e.selected?this.removeId(a):this.addId(a);break;case 3:case 1:this.updateSelectionState(e,t,a,o)}}},n.prototype.removeId=function(e){this.selectionStateManager.removeId(e,this.isHierarchicalAxis)},n.prototype.addId=function(e){this.selectionStateManager.addId(e,this.isHierarchicalAxis)},n.prototype.getSelectionIds=function(){return this.selectionStateManager.getSelectionIds()},n.prototype.sendContextMenuToHost=function(e,t){var a=this.hostService;if(a.onContextMenu){e.specificIdentity?i=e.specificIdentity:e.identity&&(i=e.identity),e=this.selectionStateManager.isIdSelected(i);for(var i,o=[],r=0,n=!i||e?this.getSelectionIds():[i];r<n.length;r++){var l=n[r].getSelectorsByColumn();_.isEmpty(l)||o.push(l)}_.isEmpty(o)||a.onContextMenu({data:o,position:t})}},n.prototype.sendSelectionToHost=function(e,t,a){var i=this.hostService;i.onSelect&&(e=n.createSelectEventArgs(this.getSelectionIds(),e,t,a),i.onSelect(e))},n.createSelectEventArgs=function(e,t,a,i){var o=!1,e=(_.isEmpty(e)||(o=e[0].getSelector()&&!e[0].getSelectorsByColumn()),_.chain(e).filter((function(e){return e.hasIdentity()}))),t={type:0,visualObjects:e.map((function(e){return{objectName:n.dataPointObjectName,selectorsByColumn:e.getSelectorsByColumn()}})).value(),selectionMode:t,isLassoSelect:a,selectionLimitInfo:i};return o&&(t.selectors=e.map((function(e){return e.getSelector()})).value()),t},n.prototype.takeSelectionStateFromDataPoints=function(e){this.clearSelectionState();for(var t=0,a=e;t<a.length;t++){var i=a[t];i.selected&&this.addId(i.identity)}},n.prototype.syncSelectionState=function(e){this.dataPointManager.syncSelectionState(e)},n.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.filterSelection((function(e){return e.hasIdentity()}))},n.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.filterSelection((function(e){return!e.hasIdentity()}))},n.prototype.filterSelection=function(e){this.selectionStateManager.filterSelection(e)},n.prototype.setFormatMode=function(e){(this.formatMode=e)&&this.handleClearSelection()},n.prototype.setSubSelectionHelper=function(e){this.subSelectionHelper=e},n.prototype.getSubSelectionHelper=function(){return this.subSelectionHelper},n.dataPointObjectName="dataPoint";var c,u,o,r=n;function n(e){this.hostService=e,this.dataPointNavigationManager=new y,this.categoryAxisNavigationManager=new y,this.selectionStateManager=new p,this.dataPointManager=new t(this.selectionStateManager)}i.InteractivityService=r,(o=c=i.DataPointNavigationStrategy||(i.DataPointNavigationStrategy={}))[o.CategoryFirst=0]="CategoryFirst",o[o.SeriesFirst=1]="SeriesFirst",o[o.CategoryOnly=2]="CategoryOnly",o[o.SeriesOnly=3]="SeriesOnly",(o=u=i.DataDirection||(i.DataDirection={}))[o.NextCategory=0]="NextCategory",o[o.PreviousCategory=1]="PreviousCategory",o[o.NextSeries=2]="NextSeries",o[o.PreviousSeries=3]="PreviousSeries",d.prototype.beginTransaction=function(){this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize},d.prototype.commit=function(){this.previousSelectedIds,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},d.prototype.rollback=function(){this.previousSelectedIds,this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},d.prototype.isIdSelected=function(e){var t=this.selectedIds[null==e?void 0:e.getKeyWithoutHighlight()];return 1<this.selectionIdSize&&t&&t.equals(e)},d.prototype.clearSelectionState=function(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0},d.prototype.restoreSelection=function(e,t){var a=this;_.forEach(e,(function(e){e=i.SelectionId.fromSelectorsByColumn(e);a.addId(e,t)}))},d.prototype.addId=function(e,t){this.addDecomposedId(e,!t);t=!!this.selectedIds[e.getKeyWithoutHighlight()];this.selectedIds[e.getKeyWithoutHighlight()]=e,t||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)},d.prototype.addDecomposedId=function(t,e){e=t.getDecomposedKeys(e);if(e)for(var a=0,i=e;a<i.length;a++){var o=i[a],r=this.decomposedSelectedIds[o];_.isArray(r)?_.some(r,(function(e){return e.equals(t)}))||r.push(t):this.decomposedSelectedIds[o]=[t]}},d.prototype.amendDecomposedSelection=function(e){this.decomposedSelectedIds={};for(var t=0,a=_.values(this.selectedIds);t<a.length;t++){var i=a[t];this.addDecomposedId(i,e)}},d.prototype.removeId=function(i,e){function t(e){if(e)for(var t=e.length-1;-1<t;t--){var a=e[t];i.includes(a)&&(e.splice(t,1),o(a))}}var a=this,o=function(e){var e=e.getKeyWithoutHighlight(),t=a.selectedIds[e];t&&t.includes(i)&&(delete a.selectedIds[e],a.selectionIdSize--)},e=(o(i),i.getDecomposedKeys(!e));if(e)for(var r=0,n=e;r<n.length;r++){var l=n[r],s=this.decomposedSelectedIds[l];t(s),_.isEmpty(s)&&delete this.decomposedSelectedIds[l]}e=this.decomposedSelectedIds[m.data.Selector.AllEncompasingKey];e&&e.length&&(t(e),_.isEmpty(e))&&delete this.decomposedSelectedIds[m.data.Selector.AllEncompasingKey]},d.prototype.getSelectionSize=function(){return this.selectionIdSize},d.prototype.getSelectionIds=function(){return _.values(this.selectedIds)},d.prototype.filterSelection=function(a){this.selectedIds=_.pickBy(this.selectedIds,a);var i={};_.forEach(this.decomposedSelectedIds,(function(e,t){e=_.filter(e,a);e&&!_.isEmpty(e)&&(i[t]=e)})),this.decomposedSelectedIds=i},d.prototype.updateDatapointAgainstSelectedIds=function(e,t,a){if(_.isEmpty(this.selectedIds)&&_.isEmpty(this.decomposedSelectedIds))for(var i=0,o=e;i<o.length;i++)(r=o[i]).selected=!1;else for(var r,n=0,l=e;n<l.length;n++)(r=l[n]).selected=this.checkDatapointAgainstSelectedIds(r,t,a)},d.prototype.checkDatapointAgainstSelectedIds=function(e,t,a){if(!_.isEmpty(this.selectedIds)){var i=null==(o=e.identity)?void 0:o.getKeyWithoutHighlight();if(i)if((u=this.selectedIds[i])&&u.includes(e.identity,!0,t))return!0}if(!_.isEmpty(this.decomposedSelectedIds)){var o=null==(o=e.identity)?void 0:o.getDecomposedKeys(!a);if(o)for(var r=0,n=o;r<n.length;r++){var i=n[r],l=this.decomposedSelectedIds[i];if(l)for(var s=0,c=l;s<c.length;s++)if((u=c[s])&&u.includes(e.identity,!0,t))return!0}a=this.decomposedSelectedIds[m.data.Selector.AllEncompasingKey];if(!_.isEmpty(a))for(var u,p=0,d=a;p<d.length;p++)if((u=d[p])&&u.includes(e.identity,!0,t))return!0}return!1};var p=d;function d(){this.clearSelectionState()}i.SelectionStateManager=p,g.prototype.update=function(e,t,a){this.behaviors[a]=e,this.navigationStrategy=t.navigationStrategy,this.helpers[a]=t.helper},g.prototype.goToFirstElement=function(e){var t=this.helpers[e].getFirstElement().element;t&&this.behaviors[e].renderFocus(t)},g.prototype.isEmpty=function(e){return!this.behaviors[e]||_.isEmpty(this.helpers[e])},g.prototype.handleKeyDownEvent=function(e,t,a,i,o){var r,n=this.helpers[e];switch(i){case 9:var l=this.navigationStrategy;l===c.CategoryFirst||l===c.SeriesOnly?r=n.getNextDataPoint(t,a,o?u.PreviousSeries:u.NextSeries):l!==c.SeriesFirst&&l!==c.CategoryOnly||(r=n.getNextDataPoint(t,a,o?u.PreviousCategory:u.NextCategory));break;case 37:r=n.getNextDataPoint(t,a,u.PreviousCategory);break;case 39:r=n.getNextDataPoint(t,a,u.NextCategory);break;case 38:r=n.getNextDataPoint(t,a,u.NextSeries);break;case 40:r=n.getNextDataPoint(t,a,u.PreviousSeries)}this.behaviors[e].renderFocus(r.element)};var y=g;function g(){this.behaviors={},this.helpers={}}i.DataPointNavigationManager=y})(powerbi=powerbi||{}),(function(e){var c,u,p;c=e.visuals||(e.visuals={}),u=c.services||(c.services={}),e=u.GeocodeQueueManager||(u.GeocodeQueueManager={}),p={},e.ensureQueue=function(e,t,a,i,o){var r=e.toString()+t+(a||""),n=((3===e||6===e)&&o&&(r+=o),p[r]);if(!n){var l=jsCommon.UrlUtils.splitUrlAndQuery(t),s=(t=l.baseUrl,l.queryParameters);switch("/"===t[t.length-1]&&(t=t.substring(0,t.length-1)),e){case 6:n=new u.BatchGeocodeQueue("".concat(t,"/").concat(u.AzureMapsBatchEndpointPath),a,{batchGeocodeCulture:o,batchRequest:function(e){return JSON.stringify({batchItems:_.map(e,(function(e){return e.getEntity()}))})},batchHeaders:function(e,t){t={"Accept-Language":t||u.getCultureName()};return"sasToken"===i?t.Authorization="jwt-sas ".concat(e):t["subscription-key"]=e||c.MapSubscriptionKeys.Keys.AzureKey,t},batchQueryParameters:function(e,t){return __assign(__assign({},s),{"api-version":u.AzureMapsAPIVersion})}});break;case 3:n=new u.BatchGeocodeQueue("".concat(t,"/").concat(u.BingMapsBatchEndpointPath),a,{batchGeocodeCulture:o,batchRequest:function(e){return JSON.stringify({GeocodeEntities:_.map(e,(function(e){return e.getEntity()}))})},batchHeaders:function(e,t){return{}},batchQueryParameters:function(e,t){return __assign(__assign({},s),{culture:t||u.getCultureName(),output:"json",key:e})}});break;default:n=new u.GeocodeQueue(t,a)}p[r]=n}return n},e.reset=function(){for(var e in p)p[e].reset();p={}}})(powerbi=powerbi||{}),(function(e){var t,a,i;function o(){return a=a||t.createGeocodingCache(i.MaxCacheSize,i.MaxCacheSizeOverflow,i.MaxPersistedSpace,i.MaxAge,t.GeocodingCacheVersion)}e=e.visuals||(e.visuals={}),t=e.services||(e.services={}),i=e.MapUtil.Settings,(e=t.GeocodeCacheManager||(t.GeocodeCacheManager={})).getCoordinates=function(e,t){if(e.getKey())return o().getCoordinates(e,t)},e.registerCoordinates=function(e,t,a){if(e)return o().registerCoordinates(e,t,a)},e.reset=function(e){a=e},e.clear=function(){o().clear()}})(powerbi=powerbi||{}),(function(e){var t,a,i;e=e.visuals||(e.visuals={}),t=e.services||(e.services={}),i=e.MapUtil.CategoryTypes,(e=t.CategoryToBingEntity||(t.CategoryToBingEntity={})).reset=function(){a=void 0},e.find=function(e){return a||((a={})[i.Continent.toLowerCase()]=t.BingEntities.Continent,a[i.CountryRegion.toLowerCase()]=t.BingEntities.Sovereign,a[i.StateOrProvince.toLowerCase()]=t.BingEntities.AdminDivision1,a[i.County.toLowerCase()]=t.BingEntities.AdminDivision2,a[i.City.toLowerCase()]=t.BingEntities.PopulatedPlace,a[i.PostalCode.toLowerCase()]=t.BingEntities.Postcode,a[i.Address.toLowerCase()]=t.BingEntities.Address),e&&a[e.toLowerCase()]||""}})(powerbi=powerbi||{}),(function(e){var t,a,i;e=e.visuals||(e.visuals={}),t=e.services||(e.services={}),i=e.MapUtil.CategoryTypes,(e=t.CategoryToBingEntityGeodata||(t.CategoryToBingEntityGeodata={})).reset=function(){a=void 0},e.find=function(e){return a||((a={})[i.CountryRegion.toLowerCase()]=t.BingEntities.CountryRegion,a[i.StateOrProvince.toLowerCase()]=t.BingEntities.AdminDivision1,a[i.County.toLowerCase()]=t.BingEntities.AdminDivision2,a[i.City.toLowerCase()]=t.BingEntities.PopulatedPlace,a[i.PostalCode.toLowerCase()]=t.BingEntities.Postcode1),e&&a[e.toLowerCase()]||""}})(powerbi=powerbi||{}),(function(r){var e=r.visuals||(r.visuals={}),c=e.services||(e.services={}),t=jsCommon.BrowserUtils,a=e.MapUtil.CategoryTypes,s=r.JQueryPromiseState,i=e.MapUtil.Settings,o=jsCommon.Trace,u=jsCommon.UrlUtils;function n(e,t){return _.some(e,(function(e){return e===t}))}function p(e,t,a){e&&(t instanceof c.GeocodeQuery?e.logGeocodeImmediate(t,a):t instanceof c.GeocodeBoundaryQuery?e.logGeocodeBoundaryImmediate(t,a):t instanceof c.AzureMapsGeocodeQuery?e.logAzureMapsGeocodeImmediate(t):t instanceof c.AzureMapsGeocodeBoundaryQuery&&e.logAzureMapsGeocodeBoundaryImmediate(t))}function d(e,t,a,i,o){e&&(t instanceof c.GeocodeQuery?e.logGeocodeResult(t,a,i,o):t instanceof c.GeocodeBoundaryQuery?e.logGeocodeBoundaryResult(t,a,i,o):t instanceof c.AzureMapsGeocodeQuery?e.logAzureMapsGeocodeResult(t,a,i,o):t instanceof c.AzureMapsGeocodeBoundaryQuery&&e.logAzureMapsGeocodeBoundaryResult(t,a,i,o))}function m(e){o.information("georequest",void 0,e)}function l(e,t){this.useBatchGeocoding=e,this.bypassGeocodingCache=t}c.createGeocoder=function(){return new g},c.getCultureName=function(){var e=t.getLanguage();switch(e.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return e;default:return null}},c.isNotUpHierarchyMatchCode=function(e){return!n(e,"UpHierarchy")},c.isNotAmbiguousMatchCode=function(e){return!n(e,"Ambiguous")},c.logGeocodeImmediate=p,c.logGeocode=d,l.prototype.geocodeBaseUrl=function(e){switch(e){case 4:case 6:return this.azureMapsGeocodingUrl();case 5:return this.azureMapsBoundaryUrl();case 1:return this.bingSpatialDataUrl();default:return this.bingGeocodingUrl()}},l.prototype.geocodeQueueType=function(e){return 1===e?this.useBatchGeocoding()?6:4:this.useBatchGeocoding()?3:0},l.prototype.geocode=function(e,t,a){var i=r.createJQueryPromiseFactory().defer(),o=this.geocodeQueueType(t),t=1===t?new c.AzureMapsGeocodeQuery(this.azureMapsGeocodingUrl(),e,c.AzureMapsAPIVersion,a&&a.credentials,a&&a.credentialType):new c.GeocodeQuery(this.bingGeocodingUrl(),e,a&&a.credentials);return this.geocodeCore(o,t,a).pipe((function(e){return i.resolve(e)}),(function(e){return i.reject(e)})),i.promise},l.prototype.geocodeBoundary=function(e,t,a){var i=e.latitude,o=e.longitude,r=e.category,r=void 0===r?"":r,n=e.levelOfDetail,n=void 0===n?2:n,l=e.maxGeoData,l=void 0===l?3:l,e=e.entityType,s=1===t?5:1,t=1===t?new c.AzureMapsGeocodeBoundaryQuery(this.azureMapsBoundaryUrl(),r,c.AzureMapsAPIVersion,i,o,n,l,e,a&&a.credentials,a&&a.credentialType):new c.GeocodeBoundaryQuery(this.bingSpatialDataUrl(),i,o,r,n,l,e,a&&a.credentials);return this.geocodeCore(s,t,a)},l.prototype.geocodePoint=function(e,t,a,i){return this.geocodeCore(2,new c.GeocodePointQuery(this.bingGeocodingUrl(),e,t,a,i&&i.credentials),i)},l.prototype.tryGeocodeImmediate=function(e,t){if(!this.bypassGeocodingCache())return t=1===t?new c.AzureMapsGeocodeQuery(this.azureMapsGeocodingUrl(),e,c.AzureMapsAPIVersion):new c.GeocodeQuery(this.bingGeocodingUrl(),e),p(e=this.bingGeocodingLogger(),t,t=c.GeocodeCacheManager.getCoordinates(t,e)),t},l.prototype.tryGeocodeBoundaryImmediate=function(e,t){var a,i,o,r,n;if(!this.bypassGeocodingCache())return r=e.latitude,n=e.longitude,a=e.category,i=e.levelOfDetail,o=void 0===(o=e.maxGeoData)?3:o,e=e.entityType,t=1===t?new c.AzureMapsGeocodeBoundaryQuery(this.azureMapsBoundaryUrl(),a,c.AzureMapsAPIVersion,r,n,i,o,e):new c.GeocodeBoundaryQuery(this.bingSpatialDataUrl(),r,n,a,i,o,e),p(r=this.bingGeocodingLogger(),t,n=c.GeocodeCacheManager.getCoordinates(t,r)),n},l.prototype.geocodeCore=function(e,t,a){var i,o,r,n,l=$.Deferred();return t.validate()?(o=this.bingGeocodingLogger(),(r=!(i=a&&null!=a.bypassCache?a.bypassCache:this.bypassGeocodingCache())&&c.GeocodeCacheManager.getCoordinates(t,o))?(p(o,t,r),l.resolve(r)):(o=a&&a.timeout,r=3===e||6===e,e=c.GeocodeQueueManager.ensureQueue(e,this.geocodeBaseUrl(e),a&&a.credentials,a&&a.credentialType,r&&t.getCulture?t.getCulture():void 0),n={timeout:o,geocoder:this,query:t,deferred:l,logger:this.bingGeocodingLogger(),bypassCache:i},e.enqueue(n),o&&a.timeout.finally((function(){n.deferred.state()===s[s.pending]&&n.deferred.reject()})))):l.reject(),l},e=l,c.MapsGeocoder=e,c.DefaultSpatialDataUrl="https://platform.bing.com/geo/spatial/v1/public/Geodata",c.DefaultGeocodingUrl="https://dev.virtualearth.net/REST/v1/Locations",c.DefaultAzureMapsGeocodingUrl="https://atlas.microsoft.com/geocode",c.DefaultAzureMapsBoundaryUrl="https://atlas.microsoft.com/search/polygon",__extends(h,y=e),h.prototype.bingSpatialDataUrl=function(){return c.DefaultSpatialDataUrl},h.prototype.bingGeocodingUrl=function(){return c.DefaultGeocodingUrl},h.prototype.bingGeocodingLogger=function(){return this.logger},h.prototype.azureMapsGeocodingUrl=function(){return c.DefaultAzureMapsGeocodingUrl},h.prototype.azureMapsBoundaryUrl=function(){return c.DefaultAzureMapsBoundaryUrl};var y,g=h;function h(e,t,a){e=y.call(this,e=void 0===e?function(){return!1}:e,t=void 0===t?function(){return!1}:t)||this;return e.logger=a,e}c.DefaultGeocoder=g,c.safeCharacters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-",f.setMapsAjaxCall=function(e){f.MapsAjaxCall=e},f.MapsAjaxCall=$.ajax;var b=f;function f(){}c.MapsAjaxCaller=b,c.CategoryTypeArray=[a.Address,a.City,a.Continent,a.CountryRegion,a.County,a.Longitude,a.Latitude,a.Place,a.PostalCode,a.StateOrProvince],c.isCategoryType=function(e){return-1<c.CategoryTypeArray.indexOf(e)},c.BingEntities={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},c.AzureMapsAPIVersion="2022-12-01-preview",c.AzureMapsBatchEndpointPath="batch",c.BingMapsBatchEndpointPath="multigeocode",c.GeocodingCacheVersion="4",c.EntityFieldFromComponentKey={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},c.ComponentKeyFromEntityField={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"},c.userRegionOfCulture=function(e){switch(e=e.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}return 1<(e=e.split("-",2)).length?e[1]:""};var S=30;function v(e,t,a){this.baseUrl=e,this.credentials=t,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.inDequeue=!1,this.culture=a.batchGeocodeCulture,this.batchRequest=a.batchRequest,this.batchHeaders=a.batchHeaders,this.batchQueryParameters=a.batchQueryParameters}function C(e,t){this.baseUrl=e,this.credentials=t,this.entries=[],this.activeEntries=[],this.inDequeue=!1}c.getGeocodeBatchSize=function(){return S},c.setGeocodeBatchSize=function(e){S=e},c.BatchGeocodeQueueOptions=function(){},v.prototype.reset=function(){var e=this.dequeueTimeout;e&&(this.dequeueTimeout=void 0,clearTimeout(e));for(var t=0,a=this.entries.concat(this.activeEntries);t<a.length;t++){var i=a[t];this.cancel(i)}this.entries=[],this.activeEntries=[]},v.prototype.enqueue=function(e){var t=this,a={item:e};this.entries.push(a),e.deferred.always((function(){t.cancel(a)})),this.inDequeue||this.entries.length<S||this.activeBatches>=i.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())},v.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<i.MaxBingRequest;){for(var e=[];0!==this.entries.length&&e.length<S;){var t,a=this.entries.shift();a.isCompleted||((t=!a.item.bypassCache&&c.GeocodeCacheManager.getCoordinates(a.item.query,a.item.logger))?(p(a.item.logger,a.item.query,t),this.complete(a,{coordinates:t},!0)):e.push(a))}e.length&&this.makeRequest(e)}}finally{this.inDequeue=!1}},v.prototype.scheduleDequeue=function(){var e=this;this.dequeueTimeout||0===this.entries.length||(this.dequeueTimeout=setTimeout((function(){e.dequeueTimeout=void 0,e.dequeue()})))},v.prototype.cancel=function(e){var t,a=e.batch;a&&(t=a.request)&&--a.uncancelledCount<=0&&(a.request=null,t.abort()),this.complete(e,{error:new Error("cancelled")})},v.prototype.complete=function(e,t,a){e.isCompleted||(e.isCompleted=!0,e.item.deferred.state()===s[s.pending]&&(!t||t.error?e.item.deferred.reject(t&&t.error||new Error("cancelled")):(e.item.bypassCache||!t.coordinates||a||c.GeocodeCacheManager.registerCoordinates(e.item.query.getKey(),t.coordinates,e.item.logger),e.item.deferred.resolve(t.coordinates)))),this.scheduleDequeue()},v.prototype.makeRequest=function(r){var n=this;if(!_.isEmpty(r)){for(var l={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(r.map((function(e){return e.item.query})))},e=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture),e=(_.isEmpty(e)||(l.headers=e),this.batchQueryParameters(this.credentials,this.culture)),s=u.setQueryParameters(this.baseUrl,e),t={uncancelledCount:r.length,request:b.MapsAjaxCall(s,l)},a=0,i=r;a<i.length;a++){var o=i[a];o.batch=t,this.activeEntries.push(o)}++this.activeBatches;var e=t.request,c=(e.always((function(){--n.activeBatches;for(var e=0,t=r;e<t.length;e++){var a=t[e];_.pull(n.activeEntries,a)}})),_.head(r).item.bypassCache);e.pipe((function(o){c&&m({url:s,request:l.data,response:JSON.stringify(o)});for(var e=0;e<r.length;++e)!(function(e){var t,a=r[e],i=(a.batch=null,a.item),e=i.query.extractSingleResult&&i.query.extractSingleResult(o,e);if(i.geocoder&&i.query.shouldDoFullGeocoding&&i.query.shouldDoFullGeocoding(e))i.geocoder.geocodeCore(0,i.query,{bypassCache:!0,timeout:i.timeout}).then((function(e){t={coordinates:e}}),(function(e){t={error:e}})).done((function(){n.complete(a,t)}));else{if(e)try{t=i.query.getResult(e)}catch(e){t={error:e}}else t={error:new Error("no data")};d(i.logger,i.query,e,t,!0),n.complete(a,t)}})(e)}),(function(e){c&&m({url:s,request:l.data,error:JSON.stringify(e)});for(var t=0,a=r;t<a.length;t++){var i=a[t],o=(i.batch=null,{error:new Error(e&&e.statusText||"cancelled")});d(i.item.logger,i.item.query,void 0,o,!0),n.complete(i,o)}}))}},e=v,c.BatchGeocodeQueue=e,C.prototype.reset=function(){var e=this.dequeueTimeout;e&&(this.dequeueTimeout=void 0,clearTimeout(e));for(var t=0,a=this.entries.concat(this.activeEntries);t<a.length;t++){var i=a[t];this.cancel(i)}this.entries=[],this.activeEntries=[]},C.prototype.enqueue=function(e){var t=this,a={item:e};this.entries.push(a),e.deferred.always((function(){t.cancel(a)})),this.dequeue()},C.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<i.MaxBingRequest;){var e=this.entries.shift();e.isCompleted||this.makeRequest(e)}}finally{this.inDequeue=!1}},C.prototype.scheduleDequeue=function(){var e=this;this.dequeueTimeout||0===this.entries.length||(this.dequeueTimeout=setTimeout((function(){e.dequeueTimeout=void 0,e.dequeue()})))},C.prototype.cancel=function(e){var t;e.jsonp||(t=e.request)&&(e.request=null,t.abort()),this.complete(e,{error:new Error("cancelled")})},C.prototype.complete=function(e,t,a){e.isCompleted||(e.isCompleted=!0,e.item.deferred.state()===s[s.pending]&&(!t||t.error?e.item.deferred.reject(t&&t.error||new Error("cancelled")):(e.item.bypassCache||!t.coordinates||a||c.GeocodeCacheManager.registerCoordinates(e.item.query.getKey(),t.coordinates,e.item.logger),e.item.deferred.resolve(t.coordinates)))),this.scheduleDequeue()},C.prototype.makeRequest=function(a){var e,i,o=this,t=!a.item.bypassCache&&c.GeocodeCacheManager.getCoordinates(a.item.query,a.item.logger);t?(p(a.item.logger,a.item.query,t),this.complete(a,{coordinates:t},!0)):((t=a.item.query.getAjaxConfig()).jsonp&&(a.jsonp=!0),e=a.item.query.getHeaders&&a.item.query.getHeaders(),_.isEmpty(e)||(t.headers=e),(i=a.item.query.getUrl(this.baseUrl))?(this.activeEntries.push(a),a.request=b.MapsAjaxCall(i,t),a.request.always((function(){_.pull(o.activeEntries,a)})),a.request.pipe((function(e){var t;a.item.bypassCache&&m({url:i,response:JSON.stringify(e)}),a.request=null;try{t=a.item.query.getResult(e)}catch(e){t={error:e}}d(a.item.logger,a.item.query,e,t,!1),o.complete(a,t)}),(function(e){a.item.bypassCache&&m({url:i,error:JSON.stringify(e)}),a.request=null;e={error:new Error(e&&e.statusText||"cancelled")};d(a.item.logger,a.item.query,void 0,e,!1),o.complete(a,e)}))):this.complete(a,{error:new Error("Unsupported query.")}))},c.GeocodeQueue=C,c.clearGeocodingCache=function(){c.GeocodeCacheManager.clear()},c.resetStaticGeocoderState=function(e){c.GeocodeCacheManager.reset(e),c.GeocodeQueueManager.reset(),c.CategoryToBingEntity.reset(),c.CategoryToBingEntityGeodata.reset()}})(powerbi=powerbi||{}),(function(e){var r,n,s,u,i,a=e.visuals||(e.visuals={}),p=a.services||(a.services={}),o=a.MapUtil.CategoryTypes,l=a.MapUtil.Settings,c=jsCommon.UrlUtils,d=((e={})[p.DefaultGeocodingUrl]="G",e[p.DefaultSpatialDataUrl]="S",e[p.DefaultAzureMapsGeocodingUrl]="AG",e[p.DefaultAzureMapsBoundaryUrl]="AS",e),m={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},y={Sovereign:"countryRegionSet",CountryRegion:"countryRegionSet",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},g={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},e=(t.prototype.getKey=function(){return this.key},t.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}},t);function t(e,t){this.location=e,t&&(this.key=((t=d[t]||t)+";"+_.map(this.location.components,(function(e){return(e.query||"")+"/"+(e.category||"")})).join("&")).toLowerCase(),e.culture)&&(this.key+="&c=".concat(e.culture))}function h(e,t,a){t=i.call(this,t,e)||this;return t.credentials=a,t}function b(e,t,a,i,o){void 0===o&&(o="subscriptionKey");t=r.call(this,t,e)||this;return t.apiVersion=a,t.credentials=i,t.credentialType=o,t}function f(e,t){var e=e&&!_.isEmpty(e.resourceSets)&&e.resourceSets[0].resources;if(Array.isArray(e))return(e=_.chain(e).map((function(e){return{location:e,value:t(e)}})).filter((function(e){return 0<=e.value})).maxBy((function(e){return e.value})).value())&&e.location}function S(e,t,a,i,o){var r=n.call(this,{components:[{query:[t,a].join(),category:"Point"}]})||this;return r.credentials=o,r.latitude=t,r.longitude=a,r.entities=i,r}function v(e,t,a,i,o,r,n,l){i=s.call(this,{components:[{query:[t,a,o,r=void 0===r?3:r].join(",")+(n!==p.CategoryToBingEntityGeodata.find(i)?","+n:""),category:i}]},e)||this;return i.credentials=l,i.latitude=t,i.longitude=a,i.levelOfDetail=o,i.maxGeoData=r,i.entityType=n,i}function C(e,t,a,i,o,r,n,l,s,c){void 0===c&&(c="subscriptionKey");t=u.call(this,{components:[{query:[i,o,r,n=void 0===n?3:n].join(",")+(l!==p.CategoryToBingEntityGeodata.find(t)?","+l:""),category:t}]},e)||this;return t.apiVersion=a,t.latitude=i,t.longitude=o,t.levelOfDetail=r,t.maxGeoData=n,t.entityType=l,t.credentials=s,t.credentialType=c,t}p.GeocodeQueryBase=e,__extends(h,i=e),h.prototype.getCulture=function(){return this.location.culture},h.prototype.getBingEntity=function(){return p.CategoryToBingEntity.find(_.last(this.location.components).category)},h.prototype.validate=function(){return null!=this.getEntity()},h.prototype.getEntity=function(){var e=this.getGeocodingParameters();if(_.some(e,(function(e){return!e.key})))return(t=_.chain(e).map((function(e){return e.value})).filter((function(e){return e})).reverse().value().join(", "))?{Query:t}:void 0;for(var t={Address:{}},a=t.Address,i=0,o=e;i<o.length;i++){var r=o[i],n=r.value;if(!n||!(n=n.trim()))return;n=r.key;"adminDistrict"===n&&a.AdminDistrict?a.AdminDistrict=r.value+", "+a.AdminDistrict:a[p.EntityFieldFromComponentKey[n]]=r.value}return t},h.prototype.getUrl=function(e){var t={key:this.credentials||l.BingKey},a=this.getEntity();if(a){var i=a.Address;if(i)for(var o in i)t[p.ComponentKeyFromEntityField[o]]=i[o];else t.q=a.Query;a=this.location.culture||p.getCultureName();return a&&(t.c=a),t.maxRes="10",c.setQueryParameters(e,t,!0)}},h.prototype.getGeocodingParameters=function(){var e=this.location.components;return 2<=e.length&&e[0].category===o.Continent&&e[1].category===o.CountryRegion&&(e=_.tail(e)),_.map(e,(function(e){var t=p.CategoryToBingEntity.find(e.category),a="",e=e.query;return{key:a=t in m?m[t]:a,value:e=t===p.BingEntities.Sovereign?e&&(h.Iso3166Substitutions[e]||e):e}}))},h.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),(function(e){return!e.key}))},h.prototype.getResult=function(e){var t,a=this,i=this.isGeneralQuery(),e=f(e,(function(e){return a.locationQuality(e,i)}));return e?{coordinates:{latitude:(t=e.point.coordinates)&&t[0],longitude:t&&t[1],entityType:e.entityType}}:{error:new Error("Geocode result is empty.")}},h.prototype.shouldDoFullGeocoding=function(e){var t,e=e&&e.resourceSets&&e.resourceSets[0]&&e.resourceSets[0].resources&&e.resourceSets[0].resources[0];return!!e&&!p.isNotAmbiguousMatchCode(e.matchCodes)&&(t=this.getBingEntity().toLowerCase(),e=e.entityType&&e.entityType.toLowerCase(),"admindivision1"===t&&"admindivision2"===e||"admindivision2"===t&&"admindivision1"===e)},h.prototype.extractSingleResult=function(e,t){return e&&e.resourceSets&&e.resourceSets.length>t?{resourceSets:[e.resourceSets[t]]}:void 0},h.prototype.locationQuality=function(e,t){var a,i;return t||!e.matchCodes||p.isNotUpHierarchyMatchCode(e.matchCodes)?(t=0,1===this.location.components.length&&this.location.components[0].category===o.CountryRegion&&(a=e.address&&e.address.countryRegionIso2)&&2===(i=this.location.components[0].query.toLowerCase()).length&&i===a.toLowerCase()&&(t+=2),e.entityType&&e.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(t+=1),t):-1},h.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},p.GeocodeQuery=h,__extends(b,r=e),b.prototype.getCulture=function(){return this.location.culture},b.prototype.validate=function(){return null!=this.getEntity()},b.prototype.getEntity=function(){var e,t=this.getGeocodingParameters();if(_.some(t,(function(e){return!e.key})))return(e=_.chain(t).map((function(e){return e.value})).filter((function(e){return e})).reverse().value().join(", "))?{query:e}:void 0;for(var a={},i=0,o=t;i<o.length;i++){var r=o[i],n=r.value;if(!n||!(n=n.trim()))return;n=r.key;"adminDistrict"===n&&a.adminDistrict?a.adminDistrict=r.value+", "+a.adminDistrict:a[n]=r.value}return a},b.prototype.getUrl=function(e){var t={},a=this.getEntity();if(!_.isEmpty(a)){for(var i in a)t[i]=a[i];return t.top="10",t["api-version"]=this.apiVersion,c.setQueryParameters(e,t,!0)}},b.prototype.getGeocodingParameters=function(){var e=this.location.components;return 2<=e.length&&e[0].category===o.Continent&&e[1].category===o.CountryRegion&&(e=_.tail(e)),_.map(e,(function(e){var t=p.CategoryToBingEntity.find(e.category),a="",e=e.query;return{key:a=t in y?y[t]:a,value:e=t===p.BingEntities.Sovereign?e&&(b.Iso3166Substitutions[e]||e):e}}))},b.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),(function(e){return!e.key}))},b.prototype.getResult=function(e){var t,a=this,e=e&&!_.isEmpty(e.features)&&e.features;return(t=Array.isArray(e)?(e=_.chain(e).map((function(e){return{feature:e,value:a.locationQuality(e,a.isGeneralQuery())}})).filter((function(e){return 0<=e.value})).maxBy((function(e){return e.value})).value())&&e.feature:t)?(e=t.geometry,t=t.properties,{coordinates:{latitude:e&&e.coordinates[1],longitude:e&&e.coordinates[0],entityType:t&&t.type}}):{error:new Error("Azure Maps Geocode result is empty.")}},b.prototype.extractSingleResult=function(e,t){return e&&e.batchItems&&e.batchItems.length>t?e.batchItems[t]:void 0},b.prototype.getBingEntity=function(){return p.CategoryToBingEntity.find(_.last(this.location.components).category)},b.prototype.locationQuality=function(e,t){var a,i;return!t&&e.properties&&e.properties.matchCodes&&!p.isNotUpHierarchyMatchCode(e.properties.matchCodes)?-1:(t=0,1===this.location.components.length&&this.location.components[0].category===o.CountryRegion&&(a=e.properties&&e.properties.address&&e.properties.address.countryRegion&&e.properties.address.countryRegion.ISO)&&2===(i=this.location.components[0].query.toLowerCase()).length&&i===a.toLowerCase()&&(t+=2),e.properties&&e.properties.type&&e.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(t+=1),t)},b.prototype.getHeaders=function(){var e="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||a.MapSubscriptionKeys.Keys.AzureKey},t=this.getCulture()||p.getCultureName();return t&&(e["Accept-Language"]=t),e},b.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},b.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},p.AzureMapsGeocodeQuery=b,__extends(S,n=e),S.prototype.validate=function(){return!0},S.prototype.getUrl=function(e){var e=c.splitUrlAndQuery(e),e=_.endsWith(e.baseUrl,"/")?e.baseUrl:e.baseUrl+"/",t=(e+=[this.latitude,this.longitude].join(),{key:this.credentials||l.BingKey,include:"ciso2"});return _.isEmpty(this.entities)||(t.includeEntityTypes=this.entities.join()),c.setQueryParameters(e,t,!0)},S.prototype.getResult=function(e){var t,a,i=this,e=f(e,(function(e){return-1===i.entities.indexOf(e.entityType)?0:1}));return e?(t=e.point.coordinates,a=e.address||{},e=e.name,{coordinates:{latitude:t[0],longitude:t[1],addressLine:a.addressLine,locality:a.locality,neighborhood:a.neighborhood,adminDistrict:a.adminDistrict,adminDistrict2:a.adminDistrict2,formattedAddress:a.formattedAddress,postalCode:a.postalCode,countryRegionIso2:a.countryRegionIso2,countryRegion:a.countryRegion,landmark:a.landmark,name:e}}):{coordinates:null}},p.GeocodePointQuery=S,__extends(v,s=e),v.prototype.getBingEntity=function(){return p.CategoryToBingEntityGeodata.find(_.last(this.location.components).category)},v.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},v.prototype.getUrl=function(e){var t,a,i,o=this.entityType||this.getBingEntity();return o?(t=(e=jsCommon.UrlUtils.splitUrlAndQuery(e)).baseUrl,a=(i=(e=(e=e.queryParameters)||{}).c||e.culture)||"",i=i&&p.userRegionOfCulture(i)||"",e.key=this.credentials||l.BingKey,e.$format="json",o=[this.latitude,this.longitude,this.levelOfDetail,"'"+o+"'",1,0,"'"+a+"'","'"+i+"'"],e.SpatialFilter="GetBoundary("+o.join(", ")+")",delete e.c,delete e.culture,c.setQueryParameters(t,e,!0)):null},v.prototype.getResult=function(e){if(e&&e.d&&Array.isArray(e.d.results)&&0<e.d.results.length){var t=e.d.results[0].Primitives;if(t&&0<t.length){for(var a={latitude:this.latitude,longitude:this.longitude,locations:[]},i=(t.sort((function(e,t){return e.Shape.length<t.Shape.length?1:e.Shape.length>t.Shape.length?-1:0})),Math.min(t.length,this.maxGeoData)),o=0;o<i;o++)for(var r=t[o].Shape.split(","),n=1;n<r.length;n++)a.locations.push({nativeBing:r[n]});return{coordinates:a}}}return{error:new Error("Geocode result is empty.")}},p.GeocodeBoundaryQuery=v,__extends(C,u=e),C.prototype.getBingEntity=function(){return p.CategoryToBingEntityGeodata.find(_.last(this.location.components).category)},C.prototype.getResolution=function(){switch(this.levelOfDetail){case 3:return"huge";case 2:return"large";case 1:return"medium";default:return"small"}},C.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},C.prototype.getUrl=function(e){var t,a=null!=(a=this.entityType)?a:this.getBingEntity();return(t=""!==a&&a in g?g[a]:t)?(a={coordinates:"".concat(this.longitude,",").concat(this.latitude),view:"".concat("Auto"),resultType:t,resolution:"".concat(this.getResolution()),"api-version":this.apiVersion},c.setQueryParameters(e,a,!0)):null},C.prototype.getResult=function(e){var a;return e&&e.geometry&&Array.isArray(e.geometry.geometries)&&0<e.geometry.geometries.length?(e=e.geometry.geometries,a=function(e,t){return e+t.length},e.sort((function(e,t){e=e.coordinates.reduce(a,0);return t.coordinates.reduce(a,0)-e})),this.maxGeoData<e.length&&(e=e.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:e}}):{error:new Error("Azure Maps Geo-boundary result is empty.")}},C.prototype.getHeaders=function(){var e="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||a.MapSubscriptionKeys.Keys.AzureKey},t=(e.Accept="application/json",p.getCultureName());return t&&(e["Accept-Language"]=t),e},C.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},p.AzureMapsGeocodeBoundaryQuery=C})(powerbi=powerbi||{}),(function(r){var e,n;function a(e,t,a){this.localStorageCache=a,this.geocodeCache={},this.geocodeCacheCount=0,this.maxCacheSize=e,this.maxCacheSizeOverflow=t,this.localStorageCache=a}((e=r.visuals||(r.visuals={})).services||(e.services={})).createGeocodingCache=function(e,t,a,i,o){return new n(e,t,r.ensureCache("G",o,a,i))},a.prototype.clear=function(){r.clearCache("G"),this.geocodeCache={},this.geocodeCacheCount=0},a.prototype.getCoordinates=function(e,t){var a,i=e.getKey(),o=this.geocodeCache[i];return o?(++o.hitCount,o.coordinate):(a=this.localStorageCache.getData(i))?(t.logFirstQueryHit(e),this.registerInMemory(i,a,t),a):void(void 0===o&&(t.logFirstQueryMiss(e),this.markPendingInMemory(i)))},a.prototype.registerCoordinates=function(e,t,a){this.registerInMemory(e,t,a),this.registerInStorage(e,t)},a.prototype.markPendingInMemory=function(e){this.geocodeCache[e]=null},a.prototype.registerInMemory=function(e,t,a){var i=this.geocodeCache,o=this.maxCacheSize,r=o+this.maxCacheSizeOverflow;if(this.geocodeCacheCount>=r){a.disableFirstQueryLogging();var n=Object.keys(i),l=n.length;if(n.sort((function(e,t){e=i[e],t=i[t],e=e?e.hitCount:0;return(t?t.hitCount:0)-e})),l<2*r)for(var s=o-1;s<l;s++)i[n[s]]=void 0;else{for(var c={},s=o-1;0<s--;)c[n[s]]=i[n[s]];i=this.geocodeCache=c}this.geocodeCacheCount=o}i[e]={coordinate:t,hitCount:1},++this.geocodeCacheCount},a.getCoordinateToCache=function(e){var t=e.locations;return t&&a.hasRuntimeBoundaryData(t)?(t={latitude:e.latitude,longitude:e.longitude,locations:_.map(t,(function(e){return{nativeBing:e.nativeBing}}))},e.entityType&&(t.entityType=e.entityType),t):e},a.hasRuntimeBoundaryData=function(e){for(var t,a=0,i=e;a<i.length;a++)for(t in i[a])if("nativeBing"!==t)return!0;return!1},a.prototype.registerInStorage=function(e,t){this.localStorageCache.setData(e,a.getCoordinateToCache(t))},n=a})(powerbi=powerbi||{}),(function(e){var s=jsCommon.BrowserUtils;e.tooltipEventsRegistratorModuleFactory=function(){var t=".tooltip",a=(e.prototype.showTooltip=function(e,t,a,i,o,r,n,l){var s;this.canDisplayTooltip(e,r)&&(this.visualElement&&this.visualElement.removeEventListener("contextmenu",this.preventContextMenuHandler,!0),r=d3.event,this.visualElement=$(r.target).parent().get(0),e&&this.visualElement&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&(this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.visualElement.addEventListener("contextmenu",this.preventContextMenuHandler,!0)),this.touchOriginTooltipShowing=e,r=this.makeTooltipEventArgs(e))&&((i||e||this.forceRefreshData)&&(this.forceRefreshData=!1,null==(s=t(r)))?o&&this.visualHostTooltipService.hide({isTouchEvent:e,immediately:!1}):(t=(i=a(r))&&i.map((function(e){return __assign(__assign({},e.getSelectorsByColumn()),{exclude:e.exclude})})),o=i&&i.map((function(e){return null==e?void 0:e.role})),"touch"===(a=d3.event).pointerType&&(a.tooltip=!0),this.visualHostTooltipService.show({coordinates:r.coordinates,isTouchEvent:e,dataItems:s,identities:t,roles:o,suppressAnnouncements:n,showByDefaultOverride:l}),e&&!this.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&this.startTouchHideTooltipTimeout()))},e.prototype.hideTooltip=function(e,t){"pointerleave"===t&&e||"mouseout"===t&&this.ignoreMouseoutEvent||(this.touchOriginTooltipShowing=!1,clearTimeout(this.handleTouchTooltipHideId),this.visualHostTooltipService.hide({isTouchEvent:e,immediately:"pointerdown"===t}))},e.prototype.getCoordinates=function(e){for(var t,a=d3.event;t=a.sourceEvent;)a=t;var i,o=e.getBoundingClientRect(),r=a.clientX,n=a.clientY;return null!=r&&null!=n||(r=(i=d3.event.target.getBoundingClientRect()).left+i.width/2,n=i.top+i.height/2),[r-o.left-e.clientLeft,n-o.top-e.clientTop]},e.prototype.makeTooltipEventArgs=function(e){var t=this.getCoordinates(this.rootNode),a=e?document.elementFromPoint(t[0],t[1]):d3.event.target;return{data:d3.select(a).datum(),coordinates:t,elementCoordinates:this.getCoordinates(a),context:a,isTouchEvent:e}},e.prototype.startTouchHideTooltipTimeout=function(){var e=this;this.handleTouchTooltipHideId&&clearTimeout(this.handleTouchTooltipHideId),this.handleTouchTooltipHideId=setTimeout((function(){e.hideTooltip(!0,"timeout")}),this.handleTouchTooltipHideDelay)},e.prototype.startIgnoreMouseEventsTimeout=function(){var e=this;this.ignoreMouseEventsTimeoutId&&clearTimeout(this.ignoreMouseEventsTimeoutId),this.ignoreMouseEventsTimeoutId=setTimeout((function(){e.visualElement&&e.visualElement.removeEventListener("contextmenu",e.preventContextMenuHandler,!0),e.ignoreMouseEventsTimeoutId=void 0,e.forceRefreshData=!0}),this.handleTouchDelay)},e.prototype.canDisplayTooltip=function(e,t){return!(!e&&("pointerdown"===t||this.touchOriginTooltipShowing||void 0!==this.ignoreMouseEventsTimeoutId))},e);function e(e,t){var a=this;this.handleTouchDelay=t,this.handleTouchTooltipHideDelay=2e3,this.preventContextMenuHandler=function(e){e.preventDefault(),e.stopPropagation(),a.visualElement&&a.visualElement.removeEventListener("contextmenu",a.preventContextMenuHandler,!0)},this.ignoreMouseoutEvent=!1,this.forceRefreshData=!1,this.visualHostTooltipService=e,this.rootNode=this.visualHostTooltipService.container()}o.prototype.unregisterEvents=function(e){e.on(t,null)},o.prototype.registerEvents=function(e,t,a,i,o,r){this.registerTooltipEvents(e,t,a,i,o,r)},o.prototype.hasPointerTypeTouch=function(e){return"touch"===e.pointerType},o.prototype.onPointerEnd=function(){var e;this.tooltipServiceDelegate.startIgnoreMouseEventsTimeout(),this.visualHostTooltipService.visible()&&this.visualHostTooltipService.isTouchScreenOptimizedEnabled()?this.tooltipServiceDelegate.ignoreMouseoutEvent=!0:(e=d3.event,this.tooltipServiceDelegate.hideTooltip(this.hasPointerTypeTouch(e),e.type))},o.prototype.moveThresholdReached=function(e,t){e-=this.initialX,t-=this.initialY;return Math.sqrt(e*e+t*t)>this.moveThreshold},o.prototype.registerTooltipEvents=function(e,t,a,i,o,r){var n,l=this;e.on("pointerover.tooltip",(function(){var e=d3.event;l.hasPointerTypeTouch(e)||l.tooltipServiceDelegate.showTooltip(l.hasPointerTypeTouch(e),t,a,!0,!1,e.type,o,r)})),e.on("keydown.tooltip",(function(){var e=d3.event;s.isCtrlOrMeta(e)&&72===e.keyCode&&(e.target===n&&l.visualHostTooltipService.visible()?l.tooltipServiceDelegate.hideTooltip(!1,e.type):l.tooltipServiceDelegate.showTooltip(l.hasPointerTypeTouch(e),t,a,!0,!1,e.type,o,r),n=e.target,e.preventDefault())})),e.on("pointerleave.tooltip",(function(){var e=d3.event;l.tooltipServiceDelegate.hideTooltip(l.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&l.hasPointerTypeTouch(e),e.type)})),e.on("mouseout.tooltip",(function(){var e=d3.event;l.tooltipServiceDelegate.hideTooltip(l.visualHostTooltipService.isTouchScreenOptimizedEnabled()&&l.hasPointerTypeTouch(e),e.type)})),e.on("pointermove.tooltip",(function(){var e=d3.event;l.tooltipServiceDelegate.ignoreMouseoutEvent=!1,!l.visualHostTooltipService.visible()&&l.hasPointerTypeTouch(e)?l.moveThresholdReached(e.screenX,e.screenY)&&l.tooltipServiceDelegate.hideTooltip(l.hasPointerTypeTouch(e),e.type):l.tooltipServiceDelegate.showTooltip(l.hasPointerTypeTouch(e),t,a,i,!0,e.type,o,r)})),e.on("pointerdown.tooltip",(function(){var e=d3.event;l.initialX=e.screenX,l.initialY=e.screenY,l.tooltipServiceDelegate.showTooltip(l.hasPointerTypeTouch(e),t,a,!0,!l.visualHostTooltipService.isTouchScreenOptimizedEnabled(),e.type,o,r)})),e.on("pointerup.tooltip",(function(){return l.onPointerEnd()})),e.on("pointercancel.tooltip",(function(){return l.onPointerEnd()}))};var i=o;function o(e,t){this.tooltipServiceDelegate=e,this.visualHostTooltipService=t,this.moveThreshold=10}return{create:function(e){var t=new a(e.visualHostTooltipService,e.handleTouchDelay);return new i(t,e.visualHostTooltipService)}}}})(powerbi=powerbi||{}),(function(a){var e=a.visuals||(a.visuals={}),t=(e.createTooltipService=function(e){return e=e.tooltips(),new t(e)},i.prototype.addTooltip=function(e,t,a,i,o,r){(r||this.visualHostTooltipService.enabled())&&this.tooltipEventsRegistrator.registerEvents(e,t,a,i,o,r)},i.prototype.removeTooltips=function(e){this.tooltipEventsRegistrator.unregisterEvents(e)},i.prototype.hide=function(){this.visualHostTooltipService.hide({immediately:!0,isTouchEvent:!1})},i.prototype.visible=function(){return this.visualHostTooltipService&&this.visualHostTooltipService.visible()},i.prototype.isTouchScreenOptimizedEnabled=function(){return this.visualHostTooltipService.isTouchScreenOptimizedEnabled()},i);function i(e,t){void 0===t&&(t=1e3),this.visualHostTooltipService=e,this.tooltipEventsRegistrator=a.tooltipEventsRegistratorModuleFactory().create({visualHostTooltipService:this.visualHostTooltipService,handleTouchDelay:t})}e.TooltipService=t})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).CardUtil||(e.CardUtil={})).DefaultStyle={card:{maxFontSize:200},label:{textSize:12,fontFamily:e.DataLabelViewModel.StandardFontFamily,colorName:"foregroundNeutralTertiary",paddingTop:8},value:{textSize:27,colorName:"foreground",fontFamily:e.Font.Family.regularSecondary.css}}})(powerbi=powerbi||{}),(function(e){var t,i,o;function a(e){this.$select=e}function r(e){this.isOpened=!1,e.container,this.settings=e,this.init(),this.applyStyles(),this.setValue(this.settings.selectedValue)}t=(t=e.visuals||(e.visuals={})).controls||(t.controls={}),i=e.visuals.SlicerHelper,a.prototype.execute=function(e){if(this.$select.selectmenu("instance"))return this.$select.selectmenu(e)},o=a,r.prototype.destroy=function(){this.selectMenu.execute("destroy")},r.prototype.update=function(e){_.extend(this.settings,e),r.populateOptions(this.$select,this.settings.options),null!=this.settings.selectedValue&&this.setValue(this.settings.selectedValue),this.refresh(),this.applyStyles(),this.applyState()},r.prototype.disableOption=function(e){for(var t=this.$select.find("option"),a=0;a<t.length;a++){var i=t[a];i.getAttribute("value")===e&&i.setAttribute("disabled","true")}this.refresh()},r.prototype.enableOption=function(e){for(var t=this.$select.find("option"),a=0;a<t.length;a++){var i=t[a];i.getAttribute("value")===e&&i.setAttribute("disabled","false")}this.refresh()},r.prototype.close=function(){this.selectMenu.execute("close")},r.prototype.setValue=function(e){this.$select.val(e)},r.prototype.init=function(){var e,a=this;this.$select=InJs.DomFactory.select(),this.$select.attr("drag-resize-disabled","true").appendTo(this.settings.container),r.populateOptions(this.$select,this.settings.options),this.$select.selectmenu({open:function(){a.isOpened=!0,i.fixWidgetPosition(a.menuWidget,a.widget,{left:-0,top:0},!0)},select:function(e){e.stopPropagation()},width:"auto",close:function(e){a.isOpened=!1,27===e.keyCode&&(e.stopPropagation(),e.preventDefault())}}),this.selectMenu=new o(this.$select),this.settings.onChange&&this.$select.on("selectmenuchange",(function(e,t){t=t.item.value;a.settings.onChange(t)})),this.applyState(),this.widget=this.selectMenu.execute("widget"),this.settings.title&&this.widget.attr("aria-label",this.settings.title),this.widget.attr("role","combobox").removeAttr("aria-autocomplete"),this.widget.on("keydown",(function(e){40!==e.keyCode&&38!==e.keyCode&&37!==e.keyCode&&39!==e.keyCode||(a.isOpened||a.selectMenu.execute("open"),e.stopPropagation()),e.preventDefault()})),this.menuWidget=null==(e=this.selectMenu.execute("menuWidget"))?void 0:e.parent(),null!=(e=this.menuWidget)&&e.addClass(this.settings.className+" themeableElement highContrastBorder")},r.prototype.applyState=function(){this.settings.disabled?this.selectMenu.execute("disable"):this.selectMenu.execute("enable")},r.prototype.applyStyles=function(){this.settings.css&&this.widget.css(this.settings.css)},r.prototype.refresh=function(){this.selectMenu.execute("refresh"),this.updateAria()},r.prototype.updateAria=function(){var a=this;setTimeout((function(){a.settings.title?a.widget.removeAttr("aria-labelledby"):(e=a.widget.attr("id"),t=a.widget.attr("aria-labelledby").replace(e,"").trim(),a.widget.attr("aria-labelledby",t+" "+e));var e,t=a.widget.attr("aria-owns");null!=t&&(a.widget.attr("aria-controls",t),a.widget.removeAttr("aria-owns")),a.widget.attr("aria-haspopup")&&a.widget.attr("aria-haspopup","listbox"),a.widget.removeAttr("title"),a.widget.find(".ui-selectmenu-icon").attr("aria-hidden","true"),a.updateMenuItemAria()}))},r.prototype.updateMenuItemAria=function(){var o=this;this.menuWidget.find(".ui-menu-item").each((function(e,t){var t=$(t),a=(t.attr("role","none"),t.find(".ui-menu-item-wrapper")),i=(t.hasClass("ui-state-disabled")&&(a.attr("aria-disabled","true"),t.removeAttr("aria-disabled")),o.menuWidget.find(".ui-menu").attr("aria-activedescendant"));a.attr("aria-selected",(function(){return a.attr("id")===i?"true":"false"}))}))},r.populateOptions=function(e,t){e.find("option").remove();for(var a=0,i=t;a<i.length;a++){var o=i[a];$("<option ></option>").attr("value",o.value).text(o.text).appendTo(e)}},t.SelectMenu=r})(powerbi=powerbi||{}),(function(n){var l,s,a,i,r;function c(e,t,a,i,o,r){this.objectName=e,this.propertyName=t,this.defaultValue=a,this.usage=i,this.fallbackProperties=r,this.getterFunction=o||n.DataViewObjects.getValue}function u(e){function t(e,t,a,i){return o.colorHelper.getColorForProperty(e,t,a,i)}var o=this;this.colorHelper=l.ColorHelper.create(e);this.PropGridVerticalColor=new a(u.ObjectGrid,"gridVerticalColor",i,"attribute",t),this.PropGridHorizontalColor=new a(u.ObjectGrid,"gridHorizontalColor",i,"attribute",t),this.PropGridOutlineColor=new a(u.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",t),this.PropRowsOutlineColor=new a(u.ObjectRowHeaders,"outlineColor",void 0,"attribute",t),this.PropColumnsOutlineColor=new a(u.ObjectColumnHeaders,"outlineColor",void 0,"attribute",t),this.PropValuesOutlineColor=new a(u.ObjectValues,"outlineColor",void 0,"attribute",t),this.PropTotalOutlineColor=new a(u.ObjectTotal,"outlineColor",void 0,"attribute",t),this.PropColumnsFontColor=new a(u.ObjectColumnHeaders,"fontColor",r,"attribute",t),this.PropColumnsBackColor=new a(u.ObjectColumnHeaders,"backColor",void 0,"attribute",t),this.PropRowsFontColor=new a(u.ObjectRowHeaders,"fontColor",r,"attribute",t),this.PropRowsBackColor=new a(u.ObjectRowHeaders,"backColor",void 0,"attribute",t),this.PropRowsExpandCollapseButtonsColor=new a(u.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",t),this.PropValuesFontColor=new a(u.ObjectValues,"fontColor",void 0,"attribute",t),this.PropValuesFontColorPrimary=new a(u.ObjectValues,"fontColorPrimary",l.ForegroundColorName,"attribute",t),this.PropValuesFontColorSecondary=new a(u.ObjectValues,"fontColorSecondary",l.ForegroundColorName,"attribute",t),this.PropValuesBackColor=new a(u.ObjectValues,"backColor",void 0,"attribute",t),this.PropValuesBackColorPrimary=new a(u.ObjectValues,"backColorPrimary",void 0,"attribute",t),this.PropValuesBackColorSecondary=new a(u.ObjectValues,"backColorSecondary",void 0,"attribute",t),this.PropTotalFontColor=new a(u.ObjectTotal,"fontColor",l.ForegroundColorName,"attribute",t),this.PropTotalBackColor=new a(u.ObjectTotal,"backColor",void 0,"attribute",t),this.PropSubTotalsFontColor=new a(u.ObjectSubTotals,"fontColor",void 0,"attribute",t),this.PropSubTotalsBackColor=new a(u.ObjectSubTotals,"backColor",void 0,"attribute",t),this.PropGrandTotalFontColor=new a(u.ObjectTotal,"fontColor",void 0,"attribute",t),this.PropGrandTotalBackColor=new a(u.ObjectTotal,"backColor",void 0,"attribute",t),this.PropColumnGrandTotalFontColor=new a(u.ObjectColumnTotal,"fontColor",void 0,"attribute",t),this.PropColumnGrandTotalBackColor=new a(u.ObjectColumnTotal,"backColor",void 0,"attribute",t),this.PropRowGrandTotalFontColor=new a(u.ObjectRowTotal,"fontColor",void 0,"attribute",t),this.PropRowGrandTotalBackColor=new a(u.ObjectRowTotal,"backColor",void 0,"attribute",t),this.PropColumnFormattingFontColor=new a(u.ObjectColumnFormatting,"fontColor",void 0,"attribute",t),this.PropColumnFormattingBackColor=new a(u.ObjectColumnFormatting,"backColor",void 0,"attribute",t),this.PropSparklinesDataColor=new a(u.ObjectSparklines,"dataColor",{solid:{color:l.ColorHelper.getDataColorByIndex(e,0)}},"attribute"),this.PropSparklinesMarkerColor=new a(u.ObjectSparklines,"markerColor",{solid:{color:l.ColorHelper.getDataColorByIndex(e,0)}},"attribute")}l=n.visuals||(n.visuals={}),s=jsCommon.StringExtensions.encodeHtml,l.PivotTableAttributeDelimiter='"',c.prototype.getValue=function(a,i,e,t,o,r){void 0===i&&(i=!1);var n=this.getterFunction(a,this,this.defaultValue,o);if(o&&void 0===n&&(n=this.getValue(a,i)),void 0!==(n=!e||e(a,this,o)||_.isNil(t)?n:t)||_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach((function(e,t){t=r&&r[t];n=e.getValue(a,i,void 0,void 0,t)})),!i&&"string"==typeof n)switch(this.usage){case"attribute":n=n.replace(c.AttributeDelimiter,l.PivotTableAttributeDelimiter+l.PivotTableAttributeDelimiter);break;case"unsafeTextContent":n=s(n);break;case"codeOnly":case"safeTextContent":break;default:this.usage}return n},c.prototype.setInstanceProperty=function(e,t,a,i,o){t=this.getValue(t,!0,a,i,o);return e&&e.properties&&(e.properties[this.propertyName]=t),t},c.prototype.setInstanceValidValues=function(e,t){e.validValues||(e.validValues={}),e.validValues[this.propertyName]=t},c.AttributeDelimiter=new RegExp(l.PivotTableAttributeDelimiter,"g"),a=c,l.TablixProperty=a,i="foregroundNeutralLight",r="foregroundNeutralSecondary",l.DefaultColumnsOutline=l.outline.bottomOnly,l.DefaultColumnsOutlineStyle=4,l.DefaultGridOutline=l.outline.none,l.DefaultGridOutlineStyle=0,l.DefaultRowsOutline=l.outline.rightOnly,l.DefaultRowsOutlineStyle=2,l.DefaultTotalOutline=l.outline.topOnly,l.DefaultTotalOutlineStyle=1,l.DefaultValuesOutline=l.outline.none,l.DefaultValuesOutlineStyle=0,u.ObjectGeneral="general",u.ObjectGrid="grid",u.ObjectColumnHeaders="columnHeaders",u.ObjectRowHeaders="rowHeaders",u.ObjectValues="values",u.ObjectTotal="total",u.ObjectColumnTotal="columnTotal",u.ObjectRowTotal="rowTotal",u.ObjectSubTotals="subTotals",u.ObjectColumnFormatting="columnFormatting",u.ObjectColumnWidth="columnWidth",u.ObjectSparklines="sparklines",u.ObjectAccessibility="accessibility",u.PropColumnFormatString=new a(u.ObjectGeneral,"formatString",void 0,"codeOnly"),u.PropGeneralTableTotals=new a(u.ObjectGeneral,"totals",!0,"codeOnly"),u.PropGeneralMatrixRowSubtotals=new a(u.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),u.PropGeneralMatrixColumnSubtotals=new a(u.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),u.PropGeneralAutoSizeColumns=new a(u.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),u.PropGeneralTextSize=new a(u.ObjectGeneral,"textSize",8,"attribute"),u.PropGridPivotTableTextSize=new a(u.ObjectGrid,"textSize",8,"attribute"),u.PropGridVertical=new a(u.ObjectGrid,"gridVertical",!1,"codeOnly"),u.PropGridVerticalWeight=new a(u.ObjectGrid,"gridVerticalWeight",1,"attribute"),u.PropGridHorizontalTable=new a(u.ObjectGrid,"gridHorizontal",!0,"codeOnly"),u.PropGridHorizontalMatrix=new a(u.ObjectGrid,"gridHorizontal",!1,"codeOnly"),u.PropGridHorizontalWeight=new a(u.ObjectGrid,"gridHorizontalWeight",1,"attribute"),u.PropGridRowPadding=new a(u.ObjectGrid,"rowPadding",0,"attribute"),u.PropGridOutlineStyle=new a(u.ObjectGrid,"outlineStyle",void 0,"codeOnly"),u.PropGridOutline=new a(u.ObjectGrid,"outline",void 0,"codeOnly"),u.PropGridOutlineWeight=new a(u.ObjectGrid,"outlineWeight",1,"attribute"),u.PropGridImageHeight=new a(u.ObjectGrid,"imageHeight",75,"attribute"),u.PropGridImageWidth=new a(u.ObjectGrid,"imageWidth",void 0,"attribute",void 0,[u.PropGridImageHeight]),u.PropColumnsFontFamily=new a(u.ObjectColumnHeaders,"fontFamily",l.Font.Family.regular.css,"attribute"),u.PropColumnsOutline=new a(u.ObjectColumnHeaders,"outline",l.outline.bottomOnly,"codeOnly"),u.PropColumnsOutlineStyle=new a(u.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),u.PropColumnsNewVisualOutline=new a(u.ObjectColumnHeaders,"outline",void 0,"codeOnly"),u.PropColumnsAlignment=new a(u.ObjectColumnHeaders,"alignment",l.textAlignment.auto,"codeOnly"),u.PropColumnsAlignmentTitle=new a(u.ObjectColumnHeaders,"titleAlignment",l.textAlignment.auto,"codeOnly",null,[u.PropColumnsAlignment]),u.PropColumnPivotTableAutoSizeColumns=new a(u.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),u.PropColumnsWordWrap=new a(u.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),u.PropColumnsOutlineWeight=new a(u.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),u.PropColumnsUrlIcon=new a(u.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),u.PropColumnsFontSize=new a(u.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[u.PropGridPivotTableTextSize]),u.PropColumnsBold=new a(u.ObjectColumnHeaders,"bold",!1,"codeOnly"),u.PropColumnsItalic=new a(u.ObjectColumnHeaders,"italic",!1,"codeOnly"),u.PropColumnsUnderline=new a(u.ObjectColumnHeaders,"underline",!1,"codeOnly"),u.PropRowsSteppedLayout=new a(u.ObjectRowHeaders,"stepped",!0,"codeOnly"),u.PropRowsSteppedLayoutIndentation=new a(u.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),u.PropRowsFontFamily=new a(u.ObjectRowHeaders,"fontFamily",l.Font.Family.regular.css,"attribute"),u.PropRowsOutline=new a(u.ObjectRowHeaders,"outline",l.outline.rightOnly,"codeOnly"),u.PropRowsPivotTableOutline=new a(u.ObjectRowHeaders,"outline",void 0,"codeOnly"),u.PropRowsOutlineStyle=new a(u.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),u.PropRowsAlignment=new a(u.ObjectRowHeaders,"alignment",l.textAlignment.auto,"codeOnly"),u.PropRowsWordWrap=new a(u.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),u.PropRowsOutlineWeight=new a(u.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),u.PropRowsUrlIcon=new a(u.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),u.PropRowsFontSize=new a(u.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[u.PropGridPivotTableTextSize]),u.PropRowsShowExpandCollapseButtons=new a(u.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),u.PropRowsExpandCollapseButtonsSize=new a(u.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[u.PropRowsFontSize]),u.PropRowsBold=new a(u.ObjectRowHeaders,"bold",!1,"codeOnly"),u.PropRowsItalic=new a(u.ObjectRowHeaders,"italic",!1,"codeOnly"),u.PropRowsUnderline=new a(u.ObjectRowHeaders,"underline",!1,"codeOnly"),u.PropRowsExpandCompositeHierarchy=new a(u.ObjectRowHeaders,"expandCompositeHierarchy",!1,"codeOnly"),u.PropValuesFontFamily=new a(u.ObjectValues,"fontFamily",l.Font.Family.regular.css,"attribute"),u.PropValuesBandedRowHeaders=new a(u.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),u.PropValuesOutline=new a(u.ObjectValues,"outline",l.outline.none,"codeOnly"),u.PropValuesOutlineStyle=new a(u.ObjectValues,"outlineStyle",void 0,"codeOnly"),u.PropValuesNewVisualOutline=new a(u.ObjectValues,"outline",void 0,"codeOnly"),u.PropValuesUrlIcon=new a(u.ObjectValues,"urlIcon",!1,"codeOnly"),u.PropValuesWordWrap=new a(u.ObjectValues,"wordWrap",!1,"codeOnly"),u.PropValuesOutlineWeight=new a(u.ObjectValues,"outlineWeight",void 0,"attribute"),u.PropValuesOnRow=new a(u.ObjectValues,"valuesOnRow",!1,"attribute"),u.PropValuesFontSize=new a(u.ObjectValues,"fontSize",void 0,"attribute",void 0,[u.PropGridPivotTableTextSize]),u.PropValuesIcon=new a(u.ObjectValues,"icon",void 0,"attribute"),u.PropValuesWebURL=new a(u.ObjectValues,"webURL",void 0,"attribute"),u.PropValuesBold=new a(u.ObjectValues,"bold",!1,"codeOnly"),u.PropValuesItalic=new a(u.ObjectValues,"italic",!1,"codeOnly"),u.PropValuesUnderline=new a(u.ObjectValues,"underline",!1,"codeOnly"),u.PropTotalTableExTotals=new a(u.ObjectTotal,"totals",!0,"codeOnly"),u.PropTotalTableExTotalLabel=new a(u.ObjectTotal,"label",null,"safeTextContent"),u.PropTotalOutline=new a(u.ObjectTotal,"outline",l.outline.topOnly,"codeOnly"),u.PropTotalTableExOutline=new a(u.ObjectTotal,"outline",void 0,"codeOnly"),u.PropTotalOutlineStyle=new a(u.ObjectTotal,"outlineStyle",void 0,"codeOnly"),u.PropTotalOutlineWeight=new a(u.ObjectTotal,"outlineWeight",void 0,"attribute"),u.PropTotalFontFamily=new a(u.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[u.PropValuesFontFamily]),u.PropTotalFontSize=new a(u.ObjectTotal,"fontSize",void 0,"attribute",void 0,[u.PropValuesFontSize]),u.PropTotalBold=new a(u.ObjectTotal,"bold",!0,"codeOnly"),u.PropTotalItalic=new a(u.ObjectTotal,"italic",!1,"codeOnly"),u.PropTotalUnderline=new a(u.ObjectTotal,"underline",!1,"codeOnly"),u.PropSubTotalsPivotTableRowSubtotals=new a(u.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),u.PropSubTotalsPivotTableRowSubtotalsLabel=new a(u.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),u.PropSubTotalsPivotTableRowSubtotalsPerLevel=new a(u.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),u.PropSubTotalsPivotTableColumnSubtotals=new a(u.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),u.PropSubTotalsPivotTableColumnSubtotalsLabel=new a(u.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),u.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new a(u.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),u.PropSubTotalsPivotTableLevelSubtotalEnabled=new a(u.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),u.PropSubTotalsPivotTableLevelSubtotalLabel=new a(u.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),u.PropSubTotalsPivotTableRowSubtotalsPosition=new a(u.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",function(e,t,a){t=n.DataViewObjects.getValue(e,t,a);return null!=t?t:u.PropRowsSteppedLayout.getValue(e)?l.rowSubtotalPosition.top:l.rowSubtotalPosition.bottom}),u.PropSubTotalsApplyToHeaders=new a(u.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),u.PropSubTotalsFontFamily=new a(u.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[u.PropValuesFontFamily]),u.PropSubTotalsFontSize=new a(u.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[u.PropValuesFontSize]),u.PropSubTotalsBold=new a(u.ObjectSubTotals,"bold",!0,"codeOnly"),u.PropSubTotalsItalic=new a(u.ObjectSubTotals,"italic",!1,"codeOnly"),u.PropSubTotalsUnderline=new a(u.ObjectSubTotals,"underline",!1,"codeOnly"),u.PropGrandTotalApplyToHeaders=new a(u.ObjectTotal,"applyToHeaders",!1,"codeOnly"),u.PropGrandTotalFontFamily=new a(u.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[u.PropSubTotalsFontFamily]),u.PropGrandTotalFontSize=new a(u.ObjectTotal,"fontSize",void 0,"attribute",void 0,[u.PropSubTotalsFontSize]),u.PropGrandTotalBold=new a(u.ObjectTotal,"bold",!0,"codeOnly"),u.PropGrandTotalItalic=new a(u.ObjectTotal,"italic",!1,"codeOnly"),u.PropGrandTotalUnderline=new a(u.ObjectTotal,"underline",!1,"codeOnly"),u.PropColumnGrandTotalApplyToHeaders=new a(u.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),u.PropColumnGrandTotalFontFamily=new a(u.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[u.PropSubTotalsFontFamily]),u.PropColumnGrandTotalFontSize=new a(u.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[u.PropSubTotalsFontSize]),u.PropColumnGrandTotalBold=new a(u.ObjectColumnTotal,"bold",!0,"codeOnly"),u.PropColumnGrandTotalItalic=new a(u.ObjectColumnTotal,"italic",!1,"codeOnly"),u.PropColumnGrandTotalUnderline=new a(u.ObjectColumnTotal,"underline",!1,"codeOnly"),u.PropRowGrandTotalApplyToHeaders=new a(u.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),u.PropRowGrandTotalFontFamily=new a(u.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[u.PropSubTotalsFontFamily]),u.PropRowGrandTotalFontSize=new a(u.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[u.PropSubTotalsFontSize]),u.PropRowGrandTotalBold=new a(u.ObjectRowTotal,"bold",!0,"codeOnly"),u.PropRowGrandTotalItalic=new a(u.ObjectRowTotal,"italic",!1,"codeOnly"),u.PropRowGrandTotalUnderline=new a(u.ObjectRowTotal,"underline",!1,"codeOnly"),u.PropColumnFormattingDisplayUnits=new a(u.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",n.DataViewObjects.getValue),u.PropColumnFormattingPrecision=new a(u.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",n.DataViewObjects.getValue),u.PropColumnFormattingAlignment=new a(u.ObjectColumnFormatting,"alignment",l.textAlignment.auto,"codeOnly"),u.PropColumnFormattingStyleHeader=new a(u.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),u.PropColumnFormattingStyleValues=new a(u.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),u.PropColumnFormattingStyleSubtotals=new a(u.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),u.PropColumnFormattingDataBars=new a(u.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),u.PropSparklinesChartType=new a(u.ObjectSparklines,"chartType",l.sparklineChartType.line,"codeOnly"),u.PropSparklinesStrokeWidth=new a(u.ObjectSparklines,"strokeWidth",1,"attribute"),u.PropSparklinesMarkerType=new a(u.ObjectSparklines,"markers",l.sparklineMarkerType.isolated,"codeOnly"),u.PropSparklinesMarkerSize=new a(u.ObjectSparklines,"markerSize",3,"attribute"),u.PropSparklinesMarkerShape=new a(u.ObjectSparklines,"markerShape",l.markerShape.circle,"codeOnly"),u.PropColumnFormattingStyleTotal=new a(u.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),u.PropColumnWidthValue=new a(u.ObjectColumnWidth,"value",void 0,"attribute"),u.PropAltTextValue=new a(u.ObjectAccessibility,"altTextColumns",void 0,"attribute"),u.ProprowWithReferenceText=new a(u.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),l.TablixProperties=u})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).PivotTableOptions||(e.PivotTableOptions={})).createDashboardConstructorOptions=function(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"nonInteractive"}}},e.createDefaultConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}},e.createMobileConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}}})(powerbi=powerbi||{}),(function(e){(e=(e=e.visuals||(e.visuals={})).TableExOptions||(e.TableExOptions={})).createDashboardConstructorOptions=function(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}},e.createDefaultConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}},e.createMobileConstructorOptions=function(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}})(powerbi=powerbi||{}),(function(e){var n,l,s,t,a;function c(e){this.brushType=s.none,this.scrollingMode=l.None,this.brushWidth=e.scrollbarWidth,this.brushContextAdditionalClass=e.scrollbarClass,this.onExtentUpdate=e.onExtentUpdate,this.updateBrushRadius(e.scrollbarRadius)}n=e.visuals||(e.visuals={}),e=n.controls||(n.controls={}),t=jsCommon.CssConstants.createClassAndSelector,(a=l=l||{})[a.None=0]="None",a[a.DraggingThumb=1]="DraggingThumb",a[a.BackgroundClicked=2]="BackgroundClicked",a[a.InitialPagingDelay=3]="InitialPagingDelay",a[a.Paging=4]="Paging",(a=s=s||{})[a.none=0]="none",a[a.active=1]="active",c.prototype.updateBrushRadius=function(e){this.brushRadius=null!=e?e:c.defaultBrushRadius},c.prototype.updateScrollbarOptions=function(e){this.brushWidth=e.scrollbarWidth,this.updateBrushRadius(e.scrollbarRadius);var e=e.scrollbarClass,t=this.brushContextAdditionalClass;this.brushContextAdditionalClass=e,this.brushGraphicsContext&&t!==e&&this.brushGraphicsContext.classed(t,!1).classed(e,!!e)},c.prototype.init=function(e){this.element=e},c.prototype.remove=function(){this.isInitialized=!1,this.element.selectAll(c.Brush.selector).remove(),this.brush&&(this.brush.on(c.events.start,null).on(c.events.brush,null).on(c.events.end,null),this.brush=void 0,this.brushType=s.none),this.brushGraphicsContext=void 0,this.clearRenderingTimeout()},c.prototype.getExtent=function(){return this.extent?{start:this.extent[0],end:this.extent[1]}:{start:0,end:0}},c.prototype.setExtent=function(e){var t,a;null==e.start||null==e.end?(t=this.getExtentLength(),null==e.start?e.start=e.end-t:e.end=e.start+t):t=e.end-e.start,t>this.scrollBarLength||(a=this.getExtent().start,e=c.clampExtent(e,this.scrollBarLength,t),this.scrollingMode!==l.None&&(this.offset=e.start-a,this.previousBrushExtent=e),this.extent=[e.start,e.end],this.brushType===s.active&&null!=(a=null==(a=this.brushGraphicsContext)?void 0:a.node().__brush)&&a.selection&&(this.isHorizontal?this.brushGraphicsContext.node().__brush.selection=[[e.start,0],[e.end,this.brushWidth]]:this.brushGraphicsContext.node().__brush.selection=[[0,e.start],[this.brushWidth,e.end]]))},c.prototype.getExtentLength=function(){var e=this.getExtent();return e.end-e.start},c.prototype.setExtentLength=function(e){var t=this.getExtent();t.end=t.start+e,this.setExtent(t)},c.prototype.setScale=function(e,t){this.brushType=t?s.none:s.active,this.brushType===s.active&&(t=e.range(),this.isHorizontal?(this.brush=d3.brushX(),this.brush.extent([[t[0],0],[t[1],this.brushWidth]])):(this.brush=d3.brushY(),this.brush.extent([[0,t[0]],[this.brushWidth,t[1]]])))},c.prototype.setOrientation=function(e){this.isHorizontal=e},c.prototype.render=function(e,t,a,i,o){var r=this,a=(this.brushGraphicsContext||(this.brushGraphicsContext=this.element.append("g").classed(c.Brush.class,!0).classed(this.brushContextAdditionalClass,!!this.brushContextAdditionalClass)),this.onRefreshVisualCallback=a,this.brushGraphicsContext.attrs({transform:n.SVGUtil.translate(e,t),"drag-resize-disabled":"true"})),e=(this.brushType!==s.none&&(a=a.call(this.brush)),this.brushType!==s.active||this.isInitialized||(this.isInitialized=!0,this.brushGraphicsContext.call(this.brush.move,this.extent)),this.brushType!==s.none&&this.brush.on("start",(function(){r.previousBrushExtent=r.getExtent(),r.extent=d3.event.selection,r.handleDrag()})).on("brush",(function(){r.extent=d3.event.selection,i&&null!=o&&o.onVisualScroll(),r.handleDrag()})).on("end",(function(){r.setExtent(r.previousBrushExtent),r.refreshExtent(),r.previousBrushExtent=null,r.startBrushExtent=null,r.pointerPosition=null,r.scrollingMode=l.None,(r.offset=null)!=r.timeoutId&&(window.clearTimeout(r.timeoutId),r.timeoutId=null)})),a.selectAll(".handle").remove(),{rx:this.brushRadius,ry:this.brushRadius});this.isHorizontal?e.height=this.brushWidth:e.width=this.brushWidth,a.selectAll("rect").attrs(e)},c.prototype.handleDrag=function(){var e,t=this.previousBrushExtent?this.previousBrushExtent.end-this.previousBrushExtent.start:0,a=this.getExtent(),i=!1,o=(this.scrollingMode===l.None&&(a.start<0&&0===a.end?a.start=0:a.start===this.scrollBarLength&&a.end>this.scrollBarLength&&(a.end=this.scrollBarLength),this.scrollingMode=c.isBackgroundClickExtent(a)?l.BackgroundClicked:l.DraggingThumb,this.startBrushExtent=a),null!=this.offset&&(a.start+=this.offset,a.end+=this.offset),this.getExtentLength());switch(a=c.clampExtent(a,this.scrollBarLength,o),this.pointerPosition=this.getPointerPosition(),this.scrollingMode){case l.DraggingThumb:0<t&&t!=a.end-a.start&&(a.end=a.start+t),i=!0;break;case l.BackgroundClicked:c.CenterOnBackgroundClick?(a.start=this.pointerPosition-(e=o/2),a.end=this.pointerPosition+e):(e=a.start>this.previousBrushExtent.start,a=c.stepExtent(this.previousBrushExtent,e),this.scrollingMode=l.InitialPagingDelay,this.setStepTimeout(e,a)),i=!0;break;case l.InitialPagingDelay:case l.Paging:a=this.previousBrushExtent}this.onExtentUpdate?this.onExtentUpdate(a):(i&&this.refreshVisual(),this.setExtent(a),this.refreshExtent(),this.previousBrushExtent=a)},c.prototype.shouldContinueStepping=function(e,t){var a=this.pointerPosition>=t.start&&this.pointerPosition<=t.end;return 0!==t.start&&t.end!==e&&!a},c.prototype.getPointerPosition=function(){var e=this.getExtent();return c.isBackgroundClickExtent(this.startBrushExtent)?e.start<this.startBrushExtent.start?e.start:e.end:(e.end-e.start)/2},c.prototype.refreshExtent=function(){var e=this.getExtent(),t=this.getExtentLength(),a=this.brushGraphicsContext.select(".selection");this.isHorizontal?a.attrs({width:t,x:e.start}):a.attrs({height:t,y:e.start})},c.prototype.refreshVisual=function(){var e=this;this.onRefreshVisualCallback&&(this.clearRenderingTimeout(),this.renderTimeoutHandle=window.requestAnimationFrame((function(){e.renderTimeoutHandle=void 0,e.onRefreshVisualCallback()})))},c.prototype.clearRenderingTimeout=function(){this.renderTimeoutHandle&&(window.cancelAnimationFrame(this.renderTimeoutHandle),this.renderTimeoutHandle=void 0),null!=this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},c.prototype.refreshExtentAndVisual=function(){this.refreshExtent(),this.refreshVisual()},c.prototype.setStepTimeout=function(e,t){var a=this;this.shouldContinueStepping(this.scrollBarLength,t)&&(t=this.scrollingMode===l.InitialPagingDelay?c.InitialPagingDelayMS:c.PagingDelayMS,this.timeoutId=_.delay((function(){a.onPagingTimeoutExpired(e)}),t))},c.isBackgroundClickExtent=function(e){return e.start===e.end},c.stepExtent=function(e,t){var a=e.end-e.start;return e.start=t?e.start+a:e.start-a,e.end=t?e.end+a:e.end-a,e},c.prototype.onPagingTimeoutExpired=function(e){this.scrollingMode!==l.Paging&&(this.scrollingMode=l.Paging);var t=this.getExtent(),a=c.stepExtent(t,e);this.setExtent(a),this.refreshExtentAndVisual(),this.previousBrushExtent=t,this.setStepTimeout(e,a)},c.clampExtent=function(e,t,a){return e.end>t?{start:t-a,end:t}:e.start<0?{start:0,end:a}:e},c.InitialPagingDelayMS=500,c.PagingDelayMS=50,c.defaultBrushRadius=0,c.CenterOnBackgroundClick=!1,c.events={start:"start",brush:"brush",end:"end"},c.Brush=t("brush"),a=c,e.SvgScrollbar=a})(powerbi=powerbi||{}),(function(e){var y;function g(e){return y.isForMapping(e)&&e.for?b(e.for.in,3):y.isBindMapping(e)&&e.bind?b(e.bind.to,3):void 0}function h(e){return e&&e.scalarKeyInfo&&e.scalarKeyInfo.hasScalarKey||y.ScalarUtils.typeCanBeScalar(e&&e.type)?2:1}function b(e,t){var a=[];if(e&&e.role!==y.cartesianRoleNames.tooltips&&!_.isEmpty(e.items))for(var i=e.activeItems,o=0,r=e.items;o<r.length;o++){var n,l=r[o];_.some(i)&&!_.includes(i,l.queryName)||(n=0,e.role===y.kpiRoleNames.goal&&(n=6),a.push({selectName:l.queryName,kind:t,roleKind:n}))}return a}function i(e){var t,a=[],e=e.categorical.categories;return y.isForMapping(e)&&e.for&&e.for.in&&(t=void 0,t=h(_.first(e.for.in.items)),a.push.apply(a,b(e.for.in,t))),a}function o(e){var t=[],e=e.categorical.values;if(e&&e.group){var a=e.group;if(t.push.apply(t,b(a.by,1)),a.select)for(var i=0,o=a.select;i<o.length;i++){var r=g(o[i]);_.isEmpty(r)||t.push.apply(t,r)}}if(e&&e.select)for(var n=0,l=e.select;n<l.length;n++){r=g(l[n]);_.isEmpty(r)||t.push.apply(t,r)}return t}y=e.visuals||(e.visuals={}),(e=y.NarrativeSummaryBinding||(y.NarrativeSummaryBinding={})).getBindingsFromRoleMapping=g,e.getSummaryCategoricalBindingsForCategories=i,e.getSummaryCategoricalBindingsForValues=o,e.getSummaryCategoricalBindings=function(e,t){var a;return!((e=_.first(e.dataViewMappings))&&e.categorical&&e.categorical.categories)||((a=i(e)).push.apply(a,o(e)),_.isEmpty(a))?{subjectKind:t,error:2,bindings:void 0}:{subjectKind:t,error:void 0,bindings:a}},e.getScatterChartSummaryMatrixBindings=function(e,t){return e=(function(e){for(var t=[],a=[],i=[],o=0,r=e.rows.select;o<r.length;o++){var n=r[o];if(y.isBindMapping(n)&&n.bind&&n.bind.to){var l=h(_.first(n.bind.to.items));i.push.apply(i,b(n.bind.to,l))}else if(y.isComposite(n)&&n.composite&&n.composite)for(var s=0,c=n.composite;s<c.length;s++){var u=c[s];y.isForMapping(u)&&u.for&&u.for.in&&(l=h(_.first(u.for.in.items)),a.push.apply(a,b(u.for.in,l)))}}if(t.push.apply(t,a),t.push.apply(t,i),(e=e.values)&&e.select)for(var p=0,d=e.select;p<d.length;p++){var m=g(d[p]);_.isEmpty(m)||t.push.apply(t,m)}return t})(e),_.isEmpty(e)?{subjectKind:t,error:2,bindings:void 0}:{subjectKind:t,error:void 0,bindings:e}},e.getGaugeSummaryBindings=function(e){var t=[];if(e&&e.categorical&&e.categorical.values){var a=e.categorical.values;if(a&&a.select)for(var i=0,o=a.select;i<o.length;i++){var r,n=o[i];y.isBindMapping(n)&&n.bind&&((n=n.bind.to)&&n.items?t.push.apply(t,(function(e){for(var t=[],a=e.activeItems,i=0,o=e.items;i<o.length;i++){var r=o[i];if(!_.some(a)||_.includes(a,r.queryName)){var n=0;switch(e.role){case"MinValue":n=8;break;case"MaxValue":n=9;break;case"TargetValue":n=6}t.push({selectName:r.queryName,kind:3,roleKind:n})}}return t})(n)):n&&void 0===n.items&&e.metadata&&e.metadata.objects&&e.metadata.objects.axis&&(r=e.metadata.objects.axis,t.push.apply(t,(function(e,t){var a=[];if(e&&t){var i,o=0,r=0;switch(e.role){case"MinValue":t.min&&(i=t.min.toString(),o=4,r=8);break;case"MaxValue":t.max&&(i=t.max.toString(),o=4,r=9);break;case"TargetValue":t.target&&(i=t.target.toString(),o=4,r=6)}i&&a.push({selectName:i,kind:o,roleKind:r})}return a})(n,r))))}}return t}})(powerbi=powerbi||{}),(function(s){var i;function o(e){return e&&!!e.for}function r(e,a){return e.filter((function(e){var t;return!!o(e)&&(t=e.for.in.role,_.some(a,(function(e){return e===t})))}))}function n(e,t){for(var a=0,i=e;a<i.length;a++){var o=i[a],o=s.data.CompiledDataViewMapping.getRoleFromMapping(o).items;if(!_.isEmpty(o))for(var r=0,n=o;r<n.length;r++){var l=n[r];l.hidden||(l.aggregates=l.aggregates||[]).push(t)}}}(i=s.visuals||(s.visuals={})).isBindMapping=function(e){return e&&!!e.bind},i.isForMapping=o,i.isComposite=function(e){return e&&!!e},i.getAggregatesForSmallMultiples=function(e,t){var a=e.metadata.objects;a&&a.valueAxis&&!1===a.valueAxis.sharedAxis&&!0===a.valueAxis.scaleToFit||(e=r((a=e.matrix).values.select,t),a=a.rows.values,_.isEmpty(a)||e.push.apply(e,r(a.select,t)),n(e,{min:!0,max:!0}))},i.findRoleItems=r,i.getAggregatesForRoleItems=n,i.updateSmallMultiplesRowWindow=function(e){var t,a=e.matrix.rows.select[0].dataReductionAlgorithm;a.window&&(e=(e=e.metadata&&e.metadata.objects)&&e[i.SmallMultiplesUtils.LayoutObjectName])&&(t=e.rowCount||i.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultRowCount,e=e.columnCount||i.SmallMultiplesUtils.SmallMultiplesDefaults.DefaultColumnCount,a.window.count=i.SmallMultiplesUtils.windowCount(t,e))},i.customizeSparklineInfo=function(e,a){e=_.filter(e.metadata.columns,(function(e){var t=null==(t=null==(t=null==(t=e.type)?void 0:t.misc)?void 0:t.sparkline)?void 0:t.groupingType;return!!t&&(t=t.temporal||t.dateTime||t.numeric,e=s.DataViewObjects.getValue(e.objects,{objectName:"sparklines",propertyName:"chartType"},void 0),t)&&e===i.sparklineChartType.column})),_.forEach(e,(function(t){var e=_.find(a,(function(e){return t.queryName===e.queryName}));e&&(e.sparklineInfo={includeMinGroupingInterval:!0})}))}})(powerbi=powerbi||{}),(function(a){var i,e;function o(){var e,t;return{skipRoleMapping:!0,objects:((e={})[i.azureMapObjectNames.mapControls]=((t={})[i.azureMapObjectPropertyNames.defaultStyle]={transformArgs:[{identifier:i.mapProps.mapStyles.mapTheme}],transform:function(e){return e&&a.data.SQExpr.isConstant(e)?(e=n(e.value),a.data.SQExprBuilder.text(e)):a.data.SQExprBuilder.text(n(i.BingMapTheme.road))}},t[i.azureMapObjectPropertyNames.showLabels]={transformArgs:[{identifier:i.mapProps.mapStyles.showLabels}]},t[i.azureMapObjectPropertyNames.autoZoom]={transformArgs:[{identifier:i.mapProps.mapControls.autoZoom}]},t[i.azureMapObjectPropertyNames.zoom]={transformArgs:[{identifier:i.mapProps.mapControls.zoomLevel}],transform:function(e){if(e&&a.data.SQExpr.isConstant(e))return e=l(e.value),a.data.SQExprBuilder.integer(e)}},t[i.azureMapObjectPropertyNames.centerLatitude]={transformArgs:[{identifier:i.mapProps.mapControls.centerLatitude}]},t[i.azureMapObjectPropertyNames.centerLongitude]={transformArgs:[{identifier:i.mapProps.mapControls.centerLongitude}]},t[i.azureMapObjectPropertyNames.showStylePicker]={transform:function(){return a.data.SQExprBuilder.boolean(!1)}},t[i.azureMapObjectPropertyNames.showNavigationControls]={transformArgs:[{identifier:i.mapProps.mapControls.showZoomButtons}],transform:function(e){return e||a.data.SQExprBuilder.boolean(!1)}},t[i.azureMapObjectPropertyNames.showSelectionControl]={transformArgs:[{identifier:i.mapProps.mapControls.showLassoButton}],transform:function(e){return e||a.data.SQExprBuilder.boolean(!1)}},t),e.dataPoint={showAllDataPoints:{transformArgs:[{identifier:i.mapProps.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:i.mapProps.dataPoint.fill}]}},e[i.azureMapObjectNames.bubbleLayer]=((t={})[i.azureMapObjectPropertyNames.show]={transformArgs:[{identifier:i.mapProps.heatMap.show}],transform:function(e){return e&&a.data.SQExpr.isConstant(e)&&e.value?a.data.SQExprBuilder.boolean(!1):a.data.SQExprBuilder.boolean(!0)}},t[i.azureMapObjectPropertyNames.bubbleRadius]={transformArgs:[{identifier:i.mapProps.bubbles.bubbleSize}],transform:function(e){e=s((e=e&&a.data.SQExpr.isConstant(e)?e:a.data.SQExprBuilder.integer(1)).value,[-30,100],[.6,24]);return a.data.SQExprBuilder.integer(Math.round(e))}},t[i.azureMapObjectPropertyNames.minBubbleRadius]={transformArgs:[{identifier:i.mapProps.bubbles.bubbleSize}],transform:function(e){e&&a.data.SQExpr.isConstant(e)||(e=a.data.SQExprBuilder.integer(1));var t=[-30,50],e=s(_.clamp(e.value,t[0],t[1]),t,[.6,15]);return a.data.SQExprBuilder.integer(Math.round(e))}},t[i.azureMapObjectPropertyNames.maxRadius]={transformArgs:[{identifier:i.mapProps.bubbles.bubbleSize}],transform:function(e){e&&a.data.SQExpr.isConstant(e)||(e=a.data.SQExprBuilder.integer(1));var t=[-30,50],e=s(_.clamp(e.value,t[0],t[1]),t,[2,50]);return a.data.SQExprBuilder.integer(Math.round(e))}},t[i.azureMapObjectPropertyNames.bubbleStrokeWidth]={transform:function(){return a.data.SQExprBuilder.integer(1)}},t[i.azureMapObjectPropertyNames.autoStrokeColor]={transform:function(){return a.data.SQExprBuilder.boolean(!0)}},t[i.azureMapObjectPropertyNames.layerPosition]={transform:function(){return a.data.SQExprBuilder.text("")}},t),e[i.azureMapObjectNames.categoryLabels]=((t={})[i.azureMapObjectPropertyNames.show]={transformArgs:[{identifier:i.mapProps.categoryLabels.show},{identifier:i.mapProps.heatMap.show}],transform:function(e,t){return t&&a.data.SQExpr.isConstant(t)&&t.value?a.data.SQExprBuilder.boolean(!1):e}},t.color={transformArgs:[{identifier:i.mapProps.categoryLabels.color}]},t.fontFamily={transformArgs:[{identifier:i.mapProps.categoryLabels.fontFamily}]},t.fontSize={transformArgs:[{identifier:i.mapProps.categoryLabels.fontSize}]},t.bold={transformArgs:[{identifier:i.mapProps.categoryLabels.bold}]},t.italic={transformArgs:[{identifier:i.mapProps.categoryLabels.italic}]},t.underline={transformArgs:[{identifier:i.mapProps.categoryLabels.underline}]},t.enableBackground={transformArgs:[{identifier:i.mapProps.categoryLabels.enableBackground}]},t.backgroundColor={transformArgs:[{identifier:i.mapProps.categoryLabels.backgroundColor}]},t.backgroundTransparency={transformArgs:[{identifier:i.mapProps.categoryLabels.backgroundTransparency}]},t),e[i.azureMapObjectNames.heatMapLayer]=((t={})[i.azureMapObjectPropertyNames.show]={transformArgs:[{identifier:i.mapProps.heatMap.show}]},t[i.azureMapObjectPropertyNames.heatMapRadius]={transformArgs:[{identifier:i.mapProps.heatMap.filterRadius}]},t[i.azureMapObjectPropertyNames.heatMapRadiusUnit]={transformArgs:[{identifier:i.mapProps.heatMap.unit}]},t[i.azureMapObjectPropertyNames.mapTransparency]={transformArgs:[{identifier:i.mapProps.heatMap.transparency}]},t[i.azureMapObjectPropertyNames.heatMapColorLow]={transformArgs:[{identifier:i.mapProps.heatMap.color0}]},t[i.azureMapObjectPropertyNames.heatMapColorCenter]={transformArgs:[{identifier:i.mapProps.heatMap.color50}]},t[i.azureMapObjectPropertyNames.heatMapColorHigh]={transformArgs:[{identifier:i.mapProps.heatMap.color100}]},t),e)}}function r(){var e,t;return{skipRoleMapping:!0,objects:((e={dataPoint:{showAllDataPoints:{transformArgs:[{identifier:i.filledMapProps.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:i.filledMapProps.dataPoint.fill}]}}})[i.azureMapObjectNames.mapControls]=((t={})[i.azureMapObjectPropertyNames.defaultStyle]={transformArgs:[{identifier:i.mapProps.mapStyles.mapTheme}],transform:function(e){return e&&a.data.SQExpr.isConstant(e)?(e=n(e.value),a.data.SQExprBuilder.text(e)):a.data.SQExprBuilder.text(n(i.BingMapTheme.road))}},t[i.azureMapObjectPropertyNames.showLabels]={transformArgs:[{identifier:i.mapProps.mapStyles.showLabels}]},t[i.azureMapObjectPropertyNames.autoZoom]={transformArgs:[{identifier:i.filledMapProps.mapControls.autoZoom}]},t[i.azureMapObjectPropertyNames.zoom]={transformArgs:[{identifier:i.filledMapProps.mapControls.zoomLevel}],transform:function(e){if(e&&a.data.SQExpr.isConstant(e))return e=l(e.value),a.data.SQExprBuilder.integer(e)}},t[i.azureMapObjectPropertyNames.centerLatitude]={transformArgs:[{identifier:i.filledMapProps.mapControls.centerLatitude}]},t[i.azureMapObjectPropertyNames.centerLongitude]={transformArgs:[{identifier:i.filledMapProps.mapControls.centerLongitude}]},t[i.azureMapObjectPropertyNames.showStylePicker]={transform:function(){return a.data.SQExprBuilder.boolean(!1)}},t[i.azureMapObjectPropertyNames.showNavigationControls]={transformArgs:[{identifier:i.filledMapProps.mapControls.showZoomButtons}],transform:function(e){return e||a.data.SQExprBuilder.boolean(!1)}},t[i.azureMapObjectPropertyNames.showSelectionControl]={transformArgs:[{identifier:i.filledMapProps.mapControls.showLassoButton}],transform:function(e){return e||a.data.SQExprBuilder.boolean(!1)}},t),e[i.azureMapObjectNames.categoryLabels]=((t={})[i.azureMapObjectPropertyNames.show]={transform:function(){return a.data.SQExprBuilder.boolean(!1)}},t),e[i.azureMapObjectNames.bubbleLayer]=((t={})[i.azureMapObjectPropertyNames.show]={transform:function(){return a.data.SQExprBuilder.boolean(!1)}},t),e[i.azureMapObjectNames.filledMap]=((t={})[i.azureMapObjectPropertyNames.show]={transform:function(){return a.data.SQExprBuilder.boolean(!0)}},t[i.azureMapObjectPropertyNames.defaultColor]={transformArgs:[{identifier:i.filledMapProps.dataPoint.defaultColor}]},t[i.azureMapObjectPropertyNames.mapTransparency]={transform:function(){return a.data.SQExprBuilder.integer(40)}},t),e)}}function n(e){switch(e){case i.BingMapTheme.aerial:return i.azureMapStyles.satellite;case i.BingMapTheme.canvasDark:return i.azureMapStyles.night;case i.BingMapTheme.canvasLight:return i.azureMapStyles.road;case i.BingMapTheme.grayscale:return i.azureMapStyles.grayscaleLight;case i.BingMapTheme.road:return i.azureMapStyles.road}return i.azureMapStyles.grayscaleLight}function l(e){return _.clamp(e-1,0,22)}function s(e,t,a){var i=t[0],t=t[1],o=a[0],t=t-i,a=a[1]-o;if(0==t)throw new Error("Input range size must be greater than 0");return(e-i)/t*a+o}i=a.visuals||(a.visuals={}),(e=i.AzureMapPluginMethods||(i.AzureMapPluginMethods={})).getCustomizeConvertToOptions=function(e,t){if(t.azureMapsConversion)return"map"===e?o():"filledMap"===e?r():void 0},e.convertFromMapVisual=o,e.convertFromFilledMapVisual=r,e.convertBingMapThemeToAzureMapStyle=n,e.convertBingMapZoomLevelToAzureMapZoomLevel=l,e.rescale=s})(powerbi=powerbi||{}),(function(e){var a;((a=e.visuals||(e.visuals={})).CardPluginMethods||(a.CardPluginMethods={})).getNarrativeSummaryBindings=function(e){var t=[],e=_.first(e.dataViewMappings).table.rows,e=a.NarrativeSummaryBinding.getBindingsFromRoleMapping(e);return _.isEmpty(e)?{subjectKind:5,error:2,bindings:void 0}:(t.push.apply(t,e),{subjectKind:5,error:void 0,bindings:t})}})(powerbi=powerbi||{}),(function(e){var a;((a=e.visuals||(e.visuals={})).CardVisualPluginMethods||(a.CardVisualPluginMethods={})).getNarrativeSummaryBindings=function(e){var t=[],e=_.first(e.dataViewMappings).table.rows,e=a.NarrativeSummaryBinding.getBindingsFromRoleMapping(e);return _.isEmpty(e)?{subjectKind:5,error:2,bindings:void 0}:(t.push.apply(t,e),{subjectKind:5,error:void 0,bindings:t})}})(powerbi=powerbi||{}),(function(e){var i;i=e.visuals||(e.visuals={}),(e=i.CartesianPluginMethods||(i.CartesianPluginMethods={})).getAdditionalTelemetry=function(e){var t={},a=e&&e.categorical&&_.head(e.categorical.categories);return a&&(t.axisType=i.ScalarUtils.shouldDrawScalar(e.metadata.objects,i.columnChartProps.categoryAxis.axisType,a.source.type,void 0,i.CartesianHelper.hasCategoryHierarchy(e))?"scalar":"categorical"),t},e.getNarrativeSummaryBindings=function(e){return i.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,1)}})(powerbi=powerbi||{}),(function(e){var l;function r(e){var t=e.dataViewMappings[0];if(l.SmallMultiplesUtils.isSmallMultiplesMapping(t))return a=t,i=e.featureSwitches,a=l.ScalarUtils.mappingSupportsScalarAxis(t,!0),r=[l.columnRoleNames.rows],a||r.push(l.columnRoleNames.category),r.push(l.columnRoleNames.y,l.columnRoleNames.tooltips),null!=i&&i.sortLegend&&r.push(l.columnRoleNames.series),r;var a=t,i=e.featureSwitches;if(!a||!a.categorical||!a.categorical.categories)return null;var o,r=a.categorical.categories.for.in,t=r.items,n=r.activeItems;if(r=null!=i&&i.sortLegend?(o=["Category","Series","Y","Tooltips"],["Series"]):(o=["Category","Y","Tooltips"],[]),_.isEmpty(t))return null;if(i=void 0,a.metadata&&(i=a.metadata.objects),a=void 0,_.isEmpty(n))a=t[0].type;else if(1===n.length){t=_.find(t,(function(e){return e.queryName===n[0]}));a=t.type}else if(1<n.length)return o;return l.ScalarUtils.canHaveScalarAxis(i,l.lineChartProps.categoryAxis.axisType,a)?r:o}l=e.visuals||(e.visuals={}),(e=l.ColumnChartPluginMethods||(l.ColumnChartPluginMethods={})).customizeQuery=function(e){var t,a,i,o=e.dataViewMappings[0];o&&(o.categorical?(i=(t=e).dataViewMappings[0]).categorical.categories&&(i.categorical.dataVolume=4,l.ScalarUtils.mappingSupportsScalarAxis(i,!1)?(i.categorical.categories.dataReductionAlgorithm={sample:{}},(a=i.categorical.values)&&a.group&&(a.group.dataReductionAlgorithm={top:{}})):l.CartesianHelper.expandCategoryWindow([i]),l.CartesianHelper.requestFilteredToUniqueValue(t.dataViewMappings),a=r(t),l.CartesianHelper.applyHierarchicalSorts(t.dataViewMappings,a)):e.cartesianMultiples&&o.matrix&&(i=(i=e).dataViewMappings[0],l.SmallMultiplesUtils.isSmallMultiplesMapping(i))&&(l.ScalarUtils.mappingSupportsScalarAxis(i,!0)&&(l.SmallMultiplesUtils.setCategoryDataReduction(i,{sample:{}}),t=l.SmallMultiplesUtils.getCategoryMapping(i),l.getAggregatesForRoleItems([t],{min:!0,max:!0})),l.getAggregatesForSmallMultiples(i,[l.columnRoleNames.y]),l.updateSmallMultiplesRowWindow(i)))},e.getSortableRoles=r})(powerbi=powerbi||{}),(function(e){var r;function n(e,t){e&&t&&(e=(t=e.categorical&&e.categorical.values).group&&!_.isEmpty(t.group.select)&&t.group.select[0],_.isEmpty(e.for.in.items))&&(t.group.by.items=void 0)}function l(e){var t,a,i;if(e&&0<e.dataViewMappings.length){var o=e.dataViewMappings[0];if(r.SmallMultiplesUtils.isSmallMultiplesMapping(o))return t=o,a=e.featureSwitches,t=r.ScalarUtils.mappingSupportsScalarAxis(o,!0),i=[r.comboChartRoleNames.rows],t||i.push(r.comboChartRoleNames.category),i.push(r.comboChartRoleNames.y,r.comboChartRoleNames.y2,r.comboChartRoleNames.tooltips),null!=a&&a.sortLegend&&i.push(r.comboChartRoleNames.series),i;if(!r.ScalarUtils.mappingSupportsScalarAxis(o,!1))return null!=(t=e.featureSwitches)&&t.sortLegend?["Category","Series","Y","Y2","Tooltips"]:["Category","Y","Y2","Tooltips"]}return null}r=e.visuals||(e.visuals={}),(e=r.ComboChartPluginMethods||(r.ComboChartPluginMethods={})).customizeQuery=function(e){var t,a,i,o;_.isEmpty(e.dataViewMappings)||(i=e.dataViewMappings[0],e.cartesianMultiples&&i.matrix?(i=(i=e).dataViewMappings[0],r.SmallMultiplesUtils.isSmallMultiplesMapping(i)&&(r.ScalarUtils.mappingSupportsScalarAxis(i,!0)&&(r.SmallMultiplesUtils.setCategoryDataReduction(i,{sample:{}}),o=r.SmallMultiplesUtils.getCategoryMapping(i),r.getAggregatesForRoleItems([o],{min:!0,max:!0})),r.getAggregatesForSmallMultiples(i,[r.comboChartRoleNames.y,r.comboChartRoleNames.y2]),r.updateSmallMultiplesRowWindow(i))):(o=e,i=!_.isEmpty(o.dataViewMappings)&&o.dataViewMappings[0],e=1<o.dataViewMappings.length&&o.dataViewMappings[1],n(i,e),t=r.ScalarUtils.mappingSupportsScalarAxis(i,!1),i&&i.categorical&&(i.categorical.dataVolume=4,t)&&(i.categorical.categories.dataReductionAlgorithm={sample:{}},a=i.categorical.values)&&a.group&&(a.group.dataReductionAlgorithm={top:{}}),e&&e.categorical&&(e.categorical.dataVolume=4,t)&&(e.categorical.categories.dataReductionAlgorithm={sample:{}},a=e.categorical.values)&&a.group&&(a.group.dataReductionAlgorithm={top:{}}),t||r.CartesianHelper.expandCategoryWindow(o.dataViewMappings),r.CartesianHelper.requestFilteredToUniqueValue(o.dataViewMappings),i=l(o),r.CartesianHelper.applyHierarchicalSorts(o.dataViewMappings,i)))},e.getSortableRoles=l,e.getNarrativeSummaryBindings=function(e){var t,a;return!e||_.isEmpty(e.dataViewMappings)||(n(t=e.dataViewMappings[0],e=e.dataViewMappings[1]),!(t&&t.categorical&&t.categorical.categories))||((a=r.NarrativeSummaryBinding.getSummaryCategoricalBindingsForCategories(t)).push.apply(a,r.NarrativeSummaryBinding.getSummaryCategoricalBindingsForValues(t)),e&&e.categorical&&e.categorical.categories&&a.push.apply(a,r.NarrativeSummaryBinding.getSummaryCategoricalBindingsForValues(e)),_.isEmpty(a))?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:a}}})(powerbi=powerbi||{}),(function(A){var e,n,t;function O(e,t,a){var i,o,r=!0;if(!t||!t.dataReductionCustomization)return!1;switch(e){case 2:a.matrix&&(o=k(t,a.matrix.rowCount),i=k(t,a.matrix.columnCount),void 0!==o&&(r=r&&o>=n.minimumRowLimit&&o<=n.maximumRowLimit),void 0!==i)&&(r=r&&i>=n.minimumColumnLimit&&i<=n.maximumColumnLimit);break;case 8:a.table&&void 0!==(o=k(t,a.table.rowCount))&&(r=r&&o>=n.minimumRowLimit&&o<=n.maximumRowLimit);break;case 1:a.categorical&&(i=k(t,a.categorical.categoryCount),o=k(t,a.categorical.groupedValuesCount),void 0!==i&&(r=r&&i>=n.minimumRowLimit&&i<=n.maximumRowLimit),void 0!==o)&&(r=r&&o>=n.minimumColumnLimit&&o<=n.maximumColumnLimit)}return r}function j(e){return e&&(e=e.matrix)&&a(e.columnSubtotals)&&a(e.columnSubtotalsPerLevel)&&a(e.levelSubtotalEnabled)&&a(e.rowSubtotals)&&a(e.rowSubtotalsPerLevel)}function a(e){return!!(e&&e.propertyIdentifier&&e.propertyIdentifier.objectName&&e.propertyIdentifier.propertyName)}function k(e,t){var a;if(t)return e&&(a=e[t.propertyIdentifier.objectName]),A.DataViewObject.getValue(a,t.propertyIdentifier.propertyName,t.defaultValue)}e=(e=A.visuals||(A.visuals={})).CustomVisualPluginMethods||(e.CustomVisualPluginMethods={}),(t=n=e.DataReductionCustomization||(e.DataReductionCustomization={})).minimumRowLimit=15,t.maximumRowLimit=3e4,t.minimumColumnLimit=1,t.maximumColumnLimit=2e3,e.customizeQuery=function(e,t){if(t&&t.subtotals&&t.subtotals.matrix&&j(t.subtotals)){var a=e,i=t.subtotals.matrix,a=a.dataViewMappings[0];if(a&&a.matrix&&a.metadata){N=a.matrix;var o=a,r=N,n=i,l=o.metadata.objects,s=o.metadata.columns,c=r.rows.for.in.items,u=k(l,n.rowSubtotals),p=2,d=k(l,n.rowSubtotalsPerLevel);if(null!=n.rowSubtotalsType&&"Top"===k(l,n.rowSubtotalsType)&&(p=1),!_.isEmpty(c))for(var m=0,y=c.length;m<y;m++)!(function(e){var t=c[e],e=_.find(s,(function(e){return e.queryName===t.queryName}));if(!e)return;e=k(e.objects,n.levelSubtotalEnabled);t.subtotalType=!u||d&&!e?0:p})(m);var o=N,g=i,l=(r=a).metadata.objects,h=r.metadata.columns,r=o.columns.for.in.items,b=k(l,g.columnSubtotals),f=k(l,g.columnSubtotalsPerLevel);if(!_.isEmpty(r))for(var S=0,v=r;S<v.length;S++)!(function(t){var e=_.find(h,(function(e){return e.queryName===t.queryName}));if(!e)return;e=k(e.objects,g.levelSubtotalEnabled);t.subtotalType=!b||f&&!e?0:2})(v[S])}}if(t&&t.dataReductionCustomization){var C,N=e,x=t.dataReductionCustomization,w=null==(i=null==N?void 0:N.dataViewMappings)?void 0:i[0],P=null==(i=null==w?void 0:w.metadata)?void 0:i.objects,i=A.DataViewMapping.targetDataViewKinds(N.dataViewMappings);if(O(i,P,x))switch(i){case 2:var T=k(P,x.matrix.rowCount),V=k(P,x.matrix.columnCount),D=null==(D=null==(D=w.matrix)?void 0:D.columns)?void 0:D.dataReductionAlgorithm,L=null==(L=null==(L=w.matrix)?void 0:L.rows)?void 0:L.dataReductionAlgorithm;V&&D&&(M=A.DataViewMapping.getDataReductionType(D),D[M].count=V),T&&L&&(R=A.DataViewMapping.getDataReductionType(L),L[R].count=T);break;case 8:T=k(P,x.table.rowCount),L=null==(V=null==(V=null==w?void 0:w.table)?void 0:V.rows)?void 0:V.dataReductionAlgorithm;T&&L&&(R=A.DataViewMapping.getDataReductionType(L),L[R].count=T);break;case 1:var M,R,V=k(P,x.categorical.categoryCount),T=k(P,x.categorical.groupedValuesCount),D=null==(C=null==(C=null==(C=null==w?void 0:w.categorical)?void 0:C.values)?void 0:C.group)?void 0:C.dataReductionAlgorithm,L=null==(C=null==(C=null==w?void 0:w.categorical)?void 0:C.categories)?void 0:C.dataReductionAlgorithm;T&&D&&(M=A.DataViewMapping.getDataReductionType(D),D[M].count=T),V&&L&&(R=A.DataViewMapping.getDataReductionType(L),L[R].count=V)}}},e.isSubtotalCustomizationCapabilityValid=j,e.getPropertyValue=k})(powerbi=powerbi||{}),(function(a){var r,e,i;r=a.visuals||(a.visuals={}),e=r.DataQueryVisualPluginMethods||(r.DataQueryVisualPluginMethods={}),i=a.data.CompiledDataViewMapping,e.customizeQuery=function(e){var e=_.first(e.dataViewMappings),t=a.DataViewObjects.getValue(e.metadata.objects,r.dataQueryVisualOverrideDataReductionIdentifier,void 0),o=(null!=t&&(e.table.rows.dataReductionAlgorithm={top:{count:t}}),_.groupBy(_.filter(e.metadata.columns,(function(e){return!(null==(e=null==(e=null==e?void 0:e.objects)?void 0:e.columnOptions)||!e.suppressJoinPredicate)})),(function(e){return e.queryName})));_.isEmpty(o)||i.visitTable(e.table,{visitRole:function(e){if(e.role===r.dataQueryVisualRoles.values)for(var t=0,a=e.items;t<a.length;t++){var i=a[t];o[i.queryName]&&(i.joinPredicate=0)}}})}})(powerbi=powerbi||{}),(function(u){var p,e,l;p=u.visuals||(u.visuals={}),e=p.DecompositionTreePluginMethods||(p.DecompositionTreePluginMethods={}),l=u.visuals.decompositionTreeBarsPerLevel,e.customizeQuery=function(e){var t=e.dataViewMappings[0];if(t&&t.matrix&&t.metadata){var a=t.matrix,i=t.metadata.columns,o=a.rows.for.in.items;if(!_.isEmpty(o))for(var r=0,n=o.length;r<n;r++)!(function(e){var t=o[e];if(!_.find(i,(function(e){return e.queryName===t.queryName})))return;t.subtotalType=1})(r);e.scopedAggregates&&!(function(e){var t=_.find(e.matrix.values.select,(function(e){return p.isForMapping(e)&&e.for.in.role===p.decompositionTreeRoles.analyze})).for.in.items;if(!_.isEmpty(t)){var a=e.matrix.rows.for.in.items;if(!_.isEmpty(a)){var i=e.metadata.objects,i=u.DataViewObjects.getValue(i,{objectName:p.decompositionTreeObjectNames.dataBars,propertyName:p.decompositionTreeObjectPropertyNames.dataBarScalingType},"levelMaximum");if("levelMaximum"===i){for(var o=0,r=e.metadata.columns;o<r.length;o++){var n=r[o];if(n.discourageAggregationAcrossGroups)return n.queryName}var l=t[0].queryName,s=a.map((function(e){return e.queryName}));e.scopedAggregates=[{min:!0,max:!0,scope:[s[0]],queryName:l}];for(var c=0;c<a.length-1;c++)a[c].aggregates=[{min:!0,max:!0,scope:s.slice(0,c+2),queryName:l}]}}}})(t),(e=(a=t).matrix.rows.dataReductionAlgorithm)&&e.topNPerLevel&&(a=a.metadata.objects,t=null==(t=u.DataViewObjects.getValue(a,{objectName:p.decompositionTreeObjectNames.tree,propertyName:p.decompositionTreeObjectPropertyNames.responsiveLayout}))||t,((a=u.DataViewObjects.getValue(a,{objectName:p.decompositionTreeObjectNames.tree,propertyName:t?p.decompositionTreeObjectPropertyNames.effectiveBarsPerLevel:p.decompositionTreeObjectPropertyNames.barsPerLevel},l.defaultValue))<l.minValue||a>l.maxValue)&&(a=l.defaultValue),e.topNPerLevel.count=a)}}})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).DonutChartPluginMethods||(t.DonutChartPluginMethods={})).getNarrativeSummaryBindings=function(e){return t.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,2)}})(powerbi=powerbi||{}),(function(e){var t;((t=e.visuals||(e.visuals={})).GaugePluginMethods||(t.GaugePluginMethods={})).getNarrativeSummaryBindings=function(e){return(e=_.first(e.dataViewMappings))&&e.categorical&&e.categorical.values?(e=t.NarrativeSummaryBinding.getGaugeSummaryBindings(e),_.isEmpty(e)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:e}):{subjectKind:1,error:2,bindings:void 0}}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).HistogramPluginMethods||(e.HistogramPluginMethods={})).getSortableRoles=function(e){return e&&0<e.dataViewMappings.length?["Category"]:null}})(powerbi=powerbi||{}),(function(l){var e;((e=l.visuals||(l.visuals={})).KeyDriversPluginMethods||(e.KeyDriversPluginMethods={})).getAnalysisVisualNarrativeSummaryConfiguration=function(e){return!e||_.isEmpty(e.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:(function(e){var e=_.first(e),t=e.table,e=e.metadata,a=e.objects,e=_.map(e.columns,(function(e){return e.queryName})),t=t.rows,i=t.select[0],t=t.select[1],o="keyDrivers",r=_.first(i.bind.to.items).queryName,n=_.map(t.for.in.items,(function(e){return e.queryName})),i=_.filter(e,(function(e){return r!==e&&n.indexOf(e)<0})),t=l.DataViewObjects.getValue(a,{objectName:o,propertyName:"targetValue"},void 0),e=l.DataViewObjects.getValue(a,{objectName:o,propertyName:"selectedNumericAnalysis"},void 0),a=l.DataViewObjects.getValue(a,{objectName:o,propertyName:"numericTargetSelectedKind"},void 0);void 0!==a&&0===a?a="Increase":void 0!==a&&1===a&&(a="Decrease");return{analyzeQueryName:r,explainByQueryNames:n,expandByQueryNames:i,targetValue:t,numericTargetSelectedKind:a,selectedNumericAnalysis:e}})(e.dataViewMappings),error:void 0}}})(powerbi=powerbi||{}),(function(e){var t,a;t=e.visuals||(e.visuals={}),(a=t.KpiPluginMethods||(t.KpiPluginMethods={})).stampHardcodedDefaultObjects=[{objectProperty:t.kpiProps.indicatorFontFamilyProp,defaultValue:e.data.SQExprBuilder.text(t.Font.Family.lightSecondary.family)},{objectProperty:t.kpiProps.goalFontSizeProp,defaultValue:e.data.SQExprBuilder.integer(t.DataLabelViewModel.minLabelFontSize)},{objectProperty:t.kpiProps.goalFontFamilyProp,defaultValue:e.data.SQExprBuilder.text(t.Font.Family.semibold.family)}],a.getNarrativeSummaryBindings=function(e){return t.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,5)}})(powerbi=powerbi||{}),(function(f){var S,e,c,u,p;function d(e,t,a,i){if(e.role===S.LineChartRoles.Category)for(var o=[S.LineChartRoles.Category],r=(i&&o.unshift(S.LineChartRoles.Rows),{data:[f.data.DataViewRoleWildcard.fromRoles(o)]}),n=e.items,l=0,s=_.size(n);l<s;l++){var c=n[l].scalarKeyInfo;if(c&&c.hasScalarKey){c.scalarKeyMinProperty=S.cartesianChartProps.scalarKey.scalarKeyMin,c.selector=r,t&&m(t,r,l),a&&m(a,r,l);break}}}function m(e,t,a){c.visitCategoricalCategories(null==(e=null==e?void 0:e.categorical)?void 0:e.categories,{visitRole:function(e){e.items[a].scalarKeyInfo||(e.items[a].scalarKeyInfo={});e=e.items[a].scalarKeyInfo;e.scalarKeyMinProperty=S.cartesianChartProps.scalarKey.scalarKeyMin,e.selector=t}})}function y(e){var t=e.dataViewMappings[0];if(S.SmallMultiplesUtils.isSmallMultiplesMapping(t))return a=t,i=e.featureSwitches,a=S.ScalarUtils.mappingSupportsScalarAxis(t,!0),r=[S.columnRoleNames.rows],a||r.push(S.columnRoleNames.category),r.push(S.columnRoleNames.y,S.columnRoleNames.tooltips),null!=i&&i.sortLegend&&r.push(S.columnRoleNames.series),r;var a=t,i=e.featureSwitches;if(!a||!a.categorical||!a.categorical.categories)return null;var o,r=a.categorical.categories.for.in,t=r.items,n=r.activeItems;if(r=null!=i&&i.sortLegend?(o=["Category","Series","Y","Y2","Tooltips"],["Series"]):(o=["Category","Y","Y2","Tooltips"],[]),_.isEmpty(t))return null;if(i=void 0,a.metadata&&(i=a.metadata.objects),u.hasScalarKeys(a)&&S.ScalarUtils.scalarAxisTypeAllowed(i,S.lineChartProps.categoryAxis.axisType))return r;if(a=void 0,_.isEmpty(n))a=t[0].type;else if(1===n.length){t=_.find(t,(function(e){return e.queryName===n[0]}));a=t.type}else if(1<n.length)return o;return S.ScalarUtils.canHaveScalarAxis(i,S.lineChartProps.categoryAxis.axisType,a)?r:o}S=f.visuals||(f.visuals={}),e=S.LineChartPluginMethods||(S.LineChartPluginMethods={}),c=f.data.CompiledDataViewMapping,u=f.data.ScalarKeyUtils,p=f.visuals.DataReductionConfiguration,e.customizeQuery=function(e){var t,a,i,o,r,n,l,s=e.dataViewMappings[0];s&&(s.categorical?(n=(t=e).dataViewMappings[0],(l=null==n?void 0:n.categorical)&&l.categories&&(l.dataVolume=4,o=l.categories,(a=_.find(t.dataViewMappings,(function(e){return!(null==(e=e.usage)||!e.anomalyDetection)})))&&(r=a,(l=l)&&l.dataReductionAlgorithm,r&&r.categorical,(l=l.dataReductionAlgorithm.binnedLineSample).count,l.warningCount,l.count=p.MaxPotentialIntersectionCount,l.warningCount=p.MaxIntersectionCount,r.categorical.dataReductionAlgorithm={binnedLineSample:{}},(r=r.categorical.dataReductionAlgorithm.binnedLineSample).count=l.count,r.warningCount=l.warningCount,_.some(t.dataViewMappings,(function(e){return S.AnomalyDetectionVisualPlugin.supportedAnomalyMapping(e)}))||_.remove(t.dataViewMappings,(function(e){return e===a}))),r=!1,S.ScalarUtils.scalarAxisTypeAllowed(n.metadata.objects,S.lineChartProps.categoryAxis.axisType)&&(r=u.hasScalarKeys(n),i=_.find(t.dataViewMappings,(function(e){return!(null==(e=e.usage)||!e.forecast)})),c.visitCategoricalCategories(o,{visitRole:function(e){d(e,i,a,!1)}})),r||S.ScalarUtils.mappingSupportsScalarAxis(n,!1)||(_.remove(t.dataViewMappings,(function(e){return e.usage&&(e.usage.forecast||e.usage.anomalyDetection)})),S.LineChartDataReduction.applyWindow(n,!1),l=[n],S.CartesianHelper.expandCategoryWindow(l),o=y(t),S.CartesianHelper.applyHierarchicalSorts(l,o)),S.CartesianHelper.requestFilteredToUniqueValue(t.dataViewMappings))):e.cartesianMultiples&&s.matrix&&(n=(n=e).dataViewMappings[0],S.SmallMultiplesUtils.isSmallMultiplesMapping(n))&&(l=!1,S.ScalarUtils.scalarAxisTypeAllowed(n.metadata.objects,S.lineChartProps.categoryAxis.axisType)&&(l=u.hasScalarKeys(n),c.visitMatrixRows(n.matrix.rows,{visitRole:function(e){d(e,void 0,void 0,!0)}})),o=S.ScalarUtils.mappingSupportsScalarAxis(n,!0),l||o?o&&(l=S.SmallMultiplesUtils.getCategoryMapping(n),S.getAggregatesForRoleItems([l],{min:!0,max:!0})):S.LineChartDataReduction.applyWindow(n,!0),S.getAggregatesForSmallMultiples(n,[S.LineChartRoles.Y,S.LineChartRoles.Y2]),S.updateSmallMultiplesRowWindow(n)))},e.getSortableRoles=y,e.getDataDrivenAlertCapabilities=function(e,t){for(var a,i,o,r,n,l=[],s=[],c=[],u=[],p=[],d={xIndex:void 0,yIndex:void 0},m=0,y=null==e?void 0:e.selects;m<y.length;m++){var g=y[m];null!=g&&g.roles[S.LineChartRoles.Series]&&l.push(g),null!=g&&g.roles[S.LineChartRoles.Category]&&(s.push(g),p.push(f.ValueType.fromDescriptor(null==g?void 0:g.type))),null!=g&&g.roles[S.LineChartRoles.Y]&&c.push(g),null!=g&&g.roles[S.LineChartRoles.Y2]&&u.push(g)}if(i=s,o=e,t=(t=t)[0],r=S.ScalarUtils.getScalarKeys(null==(r=null==t?void 0:t.categorical)?void 0:r.categories[0]),n=S.ScalarUtils.shouldDrawScalar(null==(n=null==t?void 0:t.metadata)?void 0:n.objects,S.lineChartProps.categoryAxis.axisType,null==(n=i[0])?void 0:n.type,r,S.CartesianHelper.hasCategoryHierarchy(t)),(1===i.length||1<i.length&&n&&null!=(t=null==(r=i[0])?void 0:r.type)&&t.temporal&&(null==(n=null==o?void 0:o.objects)||!n.categoryAxis))&&(function(e,t,a,i){e=_.first(e);return 1===t.length&&0===a.length&&0===i.length&&(null!=e&&e.dateTime||null!=e&&e.numeric||null!=(t=null==e?void 0:e.temporal)&&t.day||null!=(a=null==e?void 0:e.temporal)&&a.year)&&!(null!=(i=null==e?void 0:e.temporal)&&i.quarter||null!=(t=null==e?void 0:e.temporal)&&t.month)})(p,c,u,l)&&e&&e.roles&&e.roles.ordering){if(e.roles.ordering[S.LineChartRoles.Category]&&e.roles.activeItems)for(var h=null==(i=_.first(e.roles.activeItems[S.LineChartRoles.Category]))?void 0:i.queryRef,b=0;b<(null==(a=e.selects)?void 0:a.length);b++)(null==(a=e.selects[b])?void 0:a.queryName)===h&&(d.xIndex=b);e.roles.ordering[S.LineChartRoles.Y]&&(d.yIndex=_.first(e.roles.ordering[S.LineChartRoles.Y]))}return d}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),(e=t.MapPluginMethods||(t.MapPluginMethods={})).customizeQuery=function(e){var t,a,i,o;(e=e.dataViewMappings[0]).categorical&&(t=void 0,(o=e.categorical.categories).select&&(a=(t=e.categorical.values).group.select[0],_.isEmpty(a.bind.to.items))&&(o.dataReductionAlgorithm=void 0,t.group.dataReductionAlgorithm=void 0,a={},i=_.find(o.select,(function(e){return"X"===e.bind.to.role})),o=_.find(o.select,(function(e){return"Y"===e.bind.to.role})),a.x=i?{role:i.bind.to}:void 0,a.y=o?{role:o.bind.to}:void 0,e.categorical.dataReductionAlgorithm={overlappingPointsSample:a}),!(t&&!_.isEmpty(t.group.by.items)))&&e.metadata&&e.metadata.objects&&e.metadata.objects.heatMap&&e.metadata.objects.heatMap.show&&(e.categorical.dataVolume=5)},e.mightRequireMatrixForUnpivot=function(e,t){if(e&&t)for(var a=0,i=t;a<i.length;a++){var o=i[a];if(o.categorical&&o.categorical.categories&&o.categorical.categories.select&&!e.Size&&e.Series)return!0}},e.getNarrativeSummaryBindings=function(e){return t.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,1)}})(powerbi=powerbi||{}),(function(e){var a;a=e.visuals||(e.visuals={}),(e=a.MatrixPluginMethods||(a.MatrixPluginMethods={})).customizeQuery=function(e){var t;(e=e.dataViewMappings[0])&&e.matrix&&e.metadata&&(t=e.matrix,_.isEmpty(t.columns.for.in.items)||(t.rows.dataReductionAlgorithm.window.count=100),e=e.metadata.objects,t.rows.for.in.subtotalType=a.TablixProperties.PropGeneralMatrixRowSubtotals.getValue(e)?2:0,t.columns.for.in.subtotalType=a.TablixProperties.PropGeneralMatrixColumnSubtotals.getValue(e)?2:0)},e.getSortableRoles=function(e){return["Rows","Values"]}})(powerbi=powerbi||{}),(function(e){var a;a=e.visuals||(e.visuals={}),(e=a.MultiRowCardPluginMethods||(a.MultiRowCardPluginMethods={})).getSortableRoles=function(e){if(e&&e.dataViewMappings&&!_.isEmpty(e.dataViewMappings))for(var t=0,a=e.dataViewMappings;t<a.length;t++){var i=a[t];if(i.table){i=i.table.rows;if(i&&i.for&&i.for.in&&i.for.in.items)return["Values"]}}},e.getNarrativeSummaryBindings=function(e){var e=_.first(e.dataViewMappings),t=[];if(e&&e.table&&e.table.rows)return e=e.table.rows,e=a.NarrativeSummaryBinding.getBindingsFromRoleMapping(e),_.isEmpty(e)?{subjectKind:5,error:2,bindings:void 0}:(t.push.apply(t,e),{subjectKind:5,error:void 0,bindings:t})}})(powerbi=powerbi||{}),(function(e){var b;b=e.visuals||(e.visuals={}),(e=b.PivotTablePluginMethods||(b.PivotTablePluginMethods={})).customizeQuery=function(e){if((e=e.dataViewMappings[0])&&e.matrix&&e.metadata){var t=e.matrix,a=!_.isEmpty(t.columns.for.in.items),i=(a&&(t.rows.dataReductionAlgorithm.window.count=100),t.values),a=(i&&(i=i.for.in.items,_.some(i,(function(e){return!(null==(e=null==(e=e.type)?void 0:e.misc)||!e.sparkline)}))&&(t.rows.dataReductionAlgorithm.window.count=a?50:100,a)&&(t.columns.dataReductionAlgorithm.top.count=25),b.customizeSparklineInfo(e,i)),e),i=t,o=a.metadata.objects,r=a.metadata.columns,n=i.rows.for.in.items,l=b.TablixProperties.PropSubTotalsPivotTableRowSubtotals.getValue(o),s=b.TablixProperties.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(o)===b.rowSubtotalPosition.top?1:2,c=b.TablixProperties.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(o);if(!_.isEmpty(n))for(var u=0,p=n.length;u<p;u++)!(function(e){var t=n[e],a=_.find(r,(function(e){return e.queryName===t.queryName}));if(!a)return;a=b.TablixProperties.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(a.objects);!l||c&&!a?t.subtotalType=0:0===e&&b.TablixProperties.PropRowsSteppedLayout.getValue(o)?t.subtotalType=1:t.subtotalType=s})(u);var a=t,t=(i=e).metadata.objects,d=i.metadata.columns,i=a.columns.for.in.items,m=b.TablixProperties.PropSubTotalsPivotTableColumnSubtotals.getValue(t),y=b.TablixProperties.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(t);if(!_.isEmpty(i))for(var g=0,h=i;g<h.length;g++)!(function(t){var e=_.find(d,(function(e){return e.queryName===t.queryName}));if(!e)return;e=b.TablixProperties.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(e.objects);t.subtotalType=!m||y&&!e?0:2})(h[g])}},e.getSortableRoles=function(e){return["Rows","Values"]}})(powerbi=powerbi||{}),(function(e){((e=e.visuals||(e.visuals={})).RdlVisualPluginMethods||(e.RdlVisualPluginMethods={})).customizeQuery=function(e){(e=e.dataViewMappings[0])&&e.table&&(e.table.rows.for.in.subtotalType=1)}})(powerbi=powerbi||{}),(function(w){var P,e,t;P=w.visuals||(w.visuals={}),e=P.ScatterChartPluginMethods||(P.ScatterChartPluginMethods={}),t=w.data.DataRoleHelper,e.customizeQuery=function(e){if((e=e.dataViewMappings[0])&&e.matrix&&e.metadata){var t=e.matrix,e=e.metadata.objects,a=w.DataViewObjects.getValue(e,P.scatterChartProps.ratioLine.show,P.CartesianHelper.getDefaultScatterRatioLineSettings().show),i=!1,o=!1,r=!1,n=[],l=t.rows;if(l&&!_.isEmpty(l.select))for(var s=0,c=l.select;s<c.length;s++)for(var u=c[s],p=u,d=0,m=p.composite||[u];d<m.length;d++){var y=m[d],y=(P.isBindMapping(y)&&n.push(y.bind.to),P.isForMapping(y)&&n.push(y.for.in),(function(e){var t;P.isBindMapping(e)?t=e.bind.to.role:P.isForMapping(e)&&(t=e.for.in.role);return t===P.scatterRoleNames.x?P.scatterRoleNames.x:t===P.scatterRoleNames.y?P.scatterRoleNames.y:void 0})(y));y&&(i=!0,y===P.scatterRoleNames.y&&(o=!0),y===P.scatterRoleNames.x)&&(r=!0)}if(a&&!i){for(var g=0,h=n;g<h.length;g++)h[g].subtotalType=2;P.isForMapping(t.columns)&&(t.columns.for.in.subtotalType=2)}var a=t.rows.dataReductionAlgorithm,b=w.DataViewObjects.getValue(e,P.scatterChartProps.general.dataVolume,null),f=w.DataViewObjects.getValue(e,P.cartesianChartProps.categoryAxis.axisType)===P.axisType.categorical,S=_.find(n,(function(e){return e.role===P.scatterRoleNames.x})),v=S&&_.filter(S.items,(function(e){return _.includes(S.activeItems,e.queryName)})),C=_.size(v),v=0===C?void 0:1===C&&_.every(v,(function(e){return e.type&&(e.type.numeric||e.type.integer)})),N=_.find(t.values.select,(function(e){return P.isBindMapping(e)&&e.bind.to.role===P.scatterRoleNames.x})),N=N&&P.isBindMapping(N)&&N.bind.to,N=N?_.filter(N.items,(function(e){return!e.hidden})):[],x=_.size(N),N=_.every(N,(function(e){return e.type&&(e.type.numeric||e.type.integer)}));if(!r&&1<x||o&&1<C)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(!r&&1===x&&!N)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(i&&(f||!1===v)){if(o)return{error:{code:f?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};t.rows.dataReductionAlgorithm={window:{count:200}};C=_.remove(l.select,(function(e){return P.isBindMapping(e)&&e.bind.to.role===P.scatterRoleNames.series})),x=C[0];x&&x.bind&&(t.columns={for:{in:x.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else null!=a&&a.overlappingPointsSample?(w.DataViewObjects.getValue(e,P.cartesianChartProps.categoryAxis.logAxisScale)&&(a.overlappingPointsSample.x.transform=1),w.DataViewObjects.getValue(e,P.cartesianChartProps.valueAxis.logAxisScale)&&(a.overlappingPointsSample.y.transform=1),null!=b&&(a.overlappingPointsSample.count=b)):null!=a&&a.sample&&null!=b&&(a.sample.count=b)}},e.getSortableRoles=function(e){var t;if(_.find(e.dataViewMappings,(function(e){return e.matrix&&e.matrix.rows&&e.matrix.rows.dataReductionAlgorithm&&e.matrix.rows.dataReductionAlgorithm.window})))return t=[P.scatterRoleNames.x,P.scatterRoleNames.y],null!=(e=e.featureSwitches)&&e.sortLegend&&t.push(P.columnRoleNames.series),t},e.getAdditionalTelemetry=function(e){return{hasSize:t.hasRoleInDataView(e,"Size"),hasPlayAxis:t.hasRoleInDataView(e,"Play")}},e.getNarrativeSummaryBindings=function(e){var t=_.first(e.dataViewMappings);return t&&t.matrix?P.NarrativeSummaryBinding.getScatterChartSummaryMatrixBindings(t.matrix,3):t&&t.categorical&&t.categorical.categories?P.NarrativeSummaryBinding.getSummaryCategoricalBindings(e,3):{subjectKind:3,error:2,bindings:void 0}}})(powerbi=powerbi||{}),(function(o){var r;((r=o.visuals||(o.visuals={})).ShapePluginMethods||(r.ShapePluginMethods={})).getCustomizeConvertToOptions=function(e){var t;if("basicShape"===e)return{objects:((e={})[r.tileLibraryObjectNames.fill]=((t={})[r.tileLibraryObjectPropertyNames.fillColor]={transform:function(e){return null!=e?e:o.data.SQExprBuilder.color(null,"backgroundLight")},transformArgs:[{identifier:r.basicShapeProps.fill.fillColor}],targetSelector:{id:r.shapeInstanceId.default}},t[r.tileLibraryObjectPropertyNames.fillTransparency]={transformArgs:[{identifier:r.basicShapeProps.fill.transparency}],targetSelector:{id:r.shapeInstanceId.default}},t),e[r.tileLibraryObjectNames.outline]=((t={})[r.tileLibraryObjectPropertyNames.outlineColor]={transform:function(e){return null!=e?e:o.data.SQExprBuilder.themeDataColor(2,0)},transformArgs:[{identifier:r.basicShapeProps.line.lineColor}],targetSelector:{id:r.shapeInstanceId.default}},t[r.tileLibraryObjectPropertyNames.outlineWeight]={transform:function(e){return null!=e?e:o.data.SQExprBuilder.integer(3)},transformArgs:[{identifier:r.basicShapeProps.line.weight}],targetSelector:{id:r.shapeInstanceId.default}},t[r.tileLibraryObjectPropertyNames.outlineTransparency]={transformArgs:[{identifier:r.basicShapeProps.line.transparency}],targetSelector:{id:r.shapeInstanceId.default}},t),e[r.tileLibraryObjectNames.shape]=((t={})[r.tileLibraryObjectPropertyNames.tileShape]={transform:function(e){if(e&&o.data.SQExpr.isConstant(e)){var t;switch(e.value){case r.basicShapeType.rectangle:t=r.shapeType.shape.Rectangle;break;case r.basicShapeType.oval:t=r.shapeType.shape.Oval;break;case r.basicShapeType.line:t=r.shapeType.shape.Line;break;case r.basicShapeType.arrow:t=r.shapeType.shape.Arrow;break;case r.basicShapeType.triangle:t=r.shapeType.shape.TriangleIsoc;break;default:t=r.shapeType.shape.Rectangle}return o.data.SQExprBuilder.text(t)}},transformArgs:[{identifier:r.basicShapeProps.general.shapeType}]},t[r.tileLibraryObjectPropertyNames.shapeRounding]={transformArgs:[{identifier:r.basicShapeProps.line.roundEdge}]},t),e[r.shapeObjectNames.rotation]=((t={})[r.tileLibraryObjectPropertyNames.shapeRotation]={transform:function(e,t){if(void 0===e&&(e=o.data.SQExprBuilder.integer(0)),!t)return e;if(o.data.SQExpr.isConstant(e)&&o.data.SQExpr.isConstant(t)){var a,i=e.value;switch(t.value){case r.basicShapeType.line:a=(i+90)%360;break;case r.basicShapeType.arrow:a=(i+270)%360;break;default:a=i}return o.data.SQExprBuilder.integer(a)}},transformArgs:[{identifier:r.basicShapeProps.rotation.angle},{identifier:r.basicShapeProps.general.shapeType}]},t[r.shapeObjectPropertyNames.rotation]={transform:function(){}},t),e)}}})(powerbi=powerbi||{}),(function(c){var u,e,t;function p(e,t,a,i){var o,r,n;u.slicerMode.isRelativeSlicer(t)&&(t=u.slicerMode.convertModeToRelativeFilterType(t),(e=c.data.RelativeDateFilterPattern.extractParametersFromSemanticFilter(e,t))&&e.options?(t=u.slicerProps.data.relativeRange.objectName,r=u.relativeSlicerRelativeQualifier.toString(e.options.relativeQualifier),n=u.relativeSlicerPeriod.toString(e.options.relativeUnit),o=e.options.duration,null!=r&&null!=o&&null!=n||s(a,t),null==r&&null==o&&null==n||l(a,t),(o={})[u.slicerProps.data.relativeRange.propertyName]=r,o[u.slicerProps.data.relativeDuration.propertyName]=r===u.relativeSlicerRelativeQualifier.current?0:e.options.duration,o[i]=n,d(a,t,o),r=a,i=e.options,n=u.slicerProps.dateRange.includeToday.objectName,t={},i.includeTodayFromDefault||(t[u.slicerProps.dateRange.includeToday.propertyName]=i.includeToday),t[u.slicerProps.dateRange.anchorDate.propertyName]=i.anchorDate,d(r,n,t)):e&&e.options)}function l(e,t){e.merge=e.merge||[];t=a(e.merge,t);return e.merge[t]}function s(e,t){e.remove=e.remove||[];t=a(e.remove,t);return e.remove[t]}function d(e,t,a){var i,o=null,r=null;for(i in _.some(a,(function(e){return null==e}))&&(o=s(e,t)),_.some(a,(function(e){return null!=e}))&&(r=l(e,t)),a)null==a[i]?o.properties[i]=!0:r.properties[i]=a[i]}function a(e,t){var a=e.map((function(e){return e.objectName})).indexOf(t);return a<0&&(e.push({objectName:t,selector:null,properties:{}}),a=e.length-1),a}function m(e,t){var a,i=[];for(a in e.changes){var o,r={};for(o in e.changes[a])r[o]=e.changes[a][o];null!=t&&a===u.slicerProps.data.mode.objectName&&(r[u.slicerProps.data.mode.propertyName]=t),i.push({objectName:a,selector:null,properties:r})}return{merge:i}}function y(e){var t=null;return t=e?c.DataViewObjects.getValue(e,u.slicerProps.data.mode,t):t}function n(e,t,a){if(void 0===a&&(a=!1),1<e.length)return t===u.slicerMode.dropdown?u.slicerMode.dropdown:u.slicerMode.basic;e=e[0];if(e.type)if(e.parameter&&0===e.parameter.kind)t=null===t||u.slicerMode.isRelativeSlicer(t)?u.slicerMode.single:t;else{if(e.parameter&&1===e.parameter.kind)return null==t?u.slicerMode.basic:t;!0===e.type.dateTime?t=null===t||t===u.slicerMode.single?u.slicerMode.between:t:e.type.numeric?null===t?t=a?u.slicerMode.between:u.slicerMode.basic:!u.slicerMode.isRelativeSlicer(t)&&t!==u.slicerMode.single||(t=u.slicerMode.between):t!==u.slicerMode.basic&&t!==u.slicerMode.dropdown&&(t=u.slicerMode.basic)}return t}function g(e){return e.metadata?e.metadata.columns:null}u=c.visuals||(c.visuals={}),e=u.SlicerPluginMethods||(u.SlicerPluginMethods={}),t=c.data.DataViewObjectDefinitions,e.getSortableRoles=function(e){var t=g(e=e.dataViewMappings[0]);return _.isEmpty(t)||null!==(t=n(t,y(e.metadata.objects)))&&!u.slicerMode.isRangeSlicerMode(t)&&!u.slicerMode.isRelativeSlicer(t)?[u.slicerRoles.value]:null},e.mergeObjects=function(e){s=y((l=e).objects),l=y(l.changes);var t,a,i,o,r,n,l=(s===u.slicerMode.basic&&l===u.slicerMode.dropdown||s===u.slicerMode.dropdown&&l===u.slicerMode.basic)&&s!==l&&s?{merge:!0,mode:s}:{merge:!1,mode:l||s},s=e.changes&&e.changes[u.slicerProps.general.filter.objectName];return null!=(s=s&&s[u.slicerProps.general.filter.propertyName])?(t=m(e,l.mode),u.slicerMode.isRangeSlicerMode(l.mode)?(a=s,i=l.mode,o=t,u.slicerMode.isRangeSlicerMode(i)&&((a=c.data.RangeFilterPattern.extractParametersFromSemanticFilter(a))&&a.options?(r=u.slicerProps.data.numericStart.objectName,n={},_.isNumber(a.options.min)||_.isNumber(a.options.max)?(n[u.slicerProps.data.numericStart.propertyName]=a.options.min,i!==u.slicerMode.single&&(n[u.slicerProps.data.numericEnd.propertyName]=a.options.max),d(o,r,n)):(_.isDate(a.options.min)||_.isDate(a.options.max))&&(n[u.slicerProps.data.startDate.propertyName]=a.options.min,n[u.slicerProps.data.endDate.propertyName]=a.options.max,d(o,r,n))):a&&a.options)):l.mode===u.slicerMode.relativeDate?p(s,l.mode,t,u.slicerProps.data.relativePeriod.propertyName):l.mode===u.slicerMode.relativeTime&&p(s,l.mode,t,u.slicerProps.data.relativeTimePeriod.propertyName),t):l.merge?m(e,l.mode):null},e.customizeQuery=function(e){if(!_.isEmpty(e.dataViewMappings)){e=e.dataViewMappings[0];if(e&&e.metadata){var a=g(e)||[];if(e.matrix&&e.matrix.rows){var t=e.matrix.rows.for.in.items;if(!_.isEmpty(t))for(var i=0,o=t;i<o.length;i++)!(function(t){if(!_.find(a,(function(e){return e.queryName===t.queryName})))return;t.subtotalType=1})(o[i])}var r,t=y(e.metadata.objects);if(!_.isEmpty(a)){if((t=n(a,t))===u.slicerMode.single)return void((r=e.categorical&&e.categorical.categories)&&(r.dataReductionAlgorithm={sample:{}}));u.slicerMode.slicerModeSupportsMinMax(t)&&e.categorical&&e.categorical.categories&&(r=e.categorical.categories.for.in.items,e.categorical.categories=null,e.categorical.values={bind:{to:{role:u.slicerRoles.value,aggregates:{min:!0,max:!0},items:r}}})}u.slicerMode.isRelativeSlicer(t)&&(e.updateType=2),t===u.slicerMode.dropdown&&(function(e){if(e){var t,a;if(c.DataViewObjects.getValue(e,u.slicerProps.selection.strictSingleSelect,!1))return t=null,a=!1,t=c.DataViewObjects.getValue(e,u.slicerProps.general.filter,null),a=c.DataViewObjects.getValue(e,u.slicerProps.data.isInvertedSelectionMode,!1),null!=t&&!a}return 1})(e.metadata.objects)&&(e.updateType=1)}}},e.customizeVisualAuthoringOperations=function(e){var t=e.objects,a=y(t),e=g(e.dataViewMappings[0]);if(!_.isEmpty(e)){var i,a=n(e,a,!0),o=t&&t[u.slicerProps.data.mode.objectName],r={};for(i in o=o||{})r[i]=o[i];return r[u.slicerProps.data.mode.propertyName]=a,{replace:[{objectName:u.slicerProps.data.mode.objectName,selector:null,properties:r}]}}},e.getSlicerModeDefinition=function(e){return e&&t.getValue(e,u.slicerProps.data.mode,void 0)},e.getValidatedSlicerMode=n,e.isCrossFilteredByDefault=function(e){var t;return!(!(e=e.dataViewMappings[0])||!e.metadata)&&(t=y(e.metadata.objects),e=g(e),_.isEmpty(e)||(t=n(e,t)),u.slicerMode.isRangeSlicerMode(t))}})(powerbi=powerbi||{}),(function(e){var a;a=e.visuals||(e.visuals={}),(e=a.TablePluginMethods||(a.TablePluginMethods={})).customizeQuery=function(e){var t;(e=e.dataViewMappings[0])&&e.table&&e.metadata&&(t=e.table.rows,e=e.metadata.objects,t.for.in.subtotalType=a.TablixProperties.PropGeneralTableTotals.getValue(e)?1:0)},e.getSortableRoles=function(e){return["Values"]}})(powerbi=powerbi||{}),(function(e){var o;o=e.visuals||(e.visuals={}),(e=o.TableExPluginMethods||(o.TableExPluginMethods={})).customizeQuery=function(e){var t,a,i;(e=e.dataViewMappings[0])&&e.table&&e.metadata&&(a=(t=e.table.rows).for.in.items,_.some(a,(function(e){return!(null==(e=null==(e=e.type)?void 0:e.misc)||!e.sparkline)}))&&(e.table.rows.dataReductionAlgorithm.window.count=100),i=e.metadata.objects,t.for.in.subtotalType=o.TablixProperties.PropTotalTableExTotals.getValue(i)?1:0,o.customizeSparklineInfo(e,a))},e.getSortableRoles=function(e){return["Values"]}})(powerbi=powerbi||{}),(function(e){var t;t=e.visuals||(e.visuals={}),(e=t.WaterfallChartPluginMethods||(t.WaterfallChartPluginMethods={})).customizeQuery=function(e){(e=e.dataViewMappings[0])&&e.matrix&&(e=e.matrix).columns&&e.columns.for&&e.columns.for.in&&(e.columns.for.in.subtotalType=1)},e.getSortableRoles=function(e){return[t.waterfallRoleNames.category,t.waterfallRoleNames.y,t.waterfallRoleNames.tooltips]}})(powerbi=powerbi||{}),(function(e){var i;((i=e.visuals||(e.visuals={})).AxisViewModel||(i.AxisViewModel={})).createAxisLabel=function(e,t,a){return e?e===i.axisStyle.showBoth?t+" ("+a+")":e===i.axisStyle.showUnitOnly?a:t:t}})(powerbi=powerbi||{}),(function(E){var G,e,h,b;function W(e){this.AxisDataDefaults={show:!0,alignZeros:!1,showAxisTitle:!1,includeDomains:void 0,axisType:void 0,axisStyle:G.axisStyle.showTitleOnly,labelDisplayUnits:0,labelPrecision:G.DataLabelViewModel.defaultLabelPrecision,titleText:void 0,preferredCategoryWidth:G.CartesianHelper.MinOrdinalRectThickness,maxMarginFactor:G.CartesianAxes.DefaultMaxMarginFactor,concatenateLabels:G.CartesianHelper.DefaultConcatenateLabelsValue,labelFontProperties:{color:void 0,family:G.CartesianHelper.DefaultAxisFontFamily,size:h.createFromPt(G.CartesianHelper.DefaultAxisFontSizeInPt),style:void 0,variant:void 0,weight:void 0,whiteSpace:void 0,textDecoration:void 0},titleFontProperties:{family:G.CartesianHelper.DefaultAxisFontFamily,size:h.createFromPt(G.CartesianHelper.DefaultAxisFontSizeInPt)},axisLabel:void 0,logAxisScale:!1,gridlineShow:void 0,gridlineColor:void 0,gridlineStyle:G.lineStyle.solid,gridlineThickness:1,innerPadding:void 0,reverseStackOrder:!1,invertAxis:!1,sharedAxis:!0,scaleToFit:!1,totalsEnabled:!0,switchAxisPosition:!1};var t=e.valueAxisProperties,a=e.y2AxisProperties,i=e.categoryAxisProperties,o=e.isYCategorical,r=e.isValueAxisDisabled,n=e.isScatter,l=e.isComboChart,s=e.style,c=e.hasY2Role,u=e.forceShowY2,p=e.show,d=e.seriesMaximumWidth,m=e.seriesPosition,y=e.isLineComboChart,e=e.defaultSeriesWidth,g=(this.isCategoryAxisSet=!!i,this.isValueAxisSet=!!t,this.isValueAxisDisabled=r,o?t:i),i=o?i:t,t=l?t:a,a=_.clone(this.AxisDataDefaults),n=(a.gridlineShow=o||n,a.innerPadding=o||n?void 0:G.DefaultInnerPaddingRatio,_.clone(this.AxisDataDefaults)),g=(n.gridlineShow=!o,n.innerPadding=o?G.DefaultInnerPaddingRatio:void 0,this.x=W.createSingleAxisFromObject(g,a,s),this.y=W.createSingleAxisFromObject(i,n,s),this.categoryAxis=o?this.y:this.x,this.valueAxis=o?this.x:this.y,_.clone(this.AxisDataDefaults)),a=(g.show=u&&c||(l?void 0:c),(o?this.x:this.y).labelFontProperties);g.labelFontProperties=G.FontProperties.inherit(a,{weight:b.noneValue,style:b.noneValue,textDecoration:b.normalValue}),g.showAxisTitle=(o?this.x:this.y).showAxisTitle,g.switchAxisPosition=!0,this.y2=W.createSingleAxisFromObject(t,g,s,!0,l),this.y2.hasY2Role=c,this.secondaryValueAxis=this.y2,this.show=p,this.seriesMaximumWidth=d,this.isLineComboChart=y,this.defaultSeriesWidth=e,this.seriesPosition=m,this.isComboChart=l,this.hasY2Role=c,r&&(this.valueAxis.show=!1,this.valueAxis.showAxisTitle=!1)}G=E.visuals||(E.visuals={}),h=G.Units.FontSize,b=jsCommon.CssConstants,e=G.AxisDataModel||(G.AxisDataModel={}),W.createDefault=function(e){return new W({isYCategorical:!1,isValueAxisDisabled:!1,isScatter:!1,isComboChart:!1,style:e})},W.createSingleAxisFromObject=function(e,t,a,i,o){var r,n=E.DataViewObject.getValue,i=i?function(e){return _.camelCase("sec "+e.propertyName)}:function(e){return e.propertyName},l=G.cartesianChartProps.valueAxis,s=G.ColorHelper.create(a),c=G.cartesianChartProps.categoryAxis,o=n(e,o?i(l.show):l.show.propertyName,t.show),u=n(e,i(l.alignZeros),t.alignZeros),p=n(e,i(l.showAxisTitle),t.showAxisTitle),d=_.filter(t.includeDomains,(function(e){return _.includes(e.domainSources,10)})),d=G.AxisHelper.mergeScalarAxisDomains.apply(G.AxisHelper,d||[]),d=d&&d.domain,m=n(e,i(l.start),d&&d[0]),d=n(e,i(l.end),d&&d[1]),y=n(e,i(l.invertAxis),t.invertAxis),g=n(e,l.sharedAxis.propertyName,t.sharedAxis),h=n(e,l.scaleToFit.propertyName,t.scaleToFit),b=n(e,i(l.totalsEnabled),t.totalsEnabled),f=n(e,i(l.switchAxisPosition),t.switchAxisPosition),S=n(e,i(l.axisType),t.axisType),v=n(e,i(l.axisStyle),t.axisStyle),C=n(e,i(l.labelDisplayUnits),t.labelDisplayUnits),N=n(e,i(l.labelPrecision),t.labelPrecision),x=((null==N||N<0)&&(N=t.labelPrecision),n(e,i(l.titleText),t.titleText)),w=n(e,i(l.preferredCategoryWidth),t.preferredCategoryWidth),P=n(e,i(c.maxMarginFactor),t.maxMarginFactor),T=(1<=P&&(P/=100),n(e,i(l.concatenateLabels),t.concatenateLabels)),V=n(e,i(l.axisLabel)),D=n(e,i(l.logAxisScale),t.logAxisScale),L=n(e,i(l.gridlineShow),t.gridlineShow||!1===T),M=n(e,i(l.gridlineStyle),t.gridlineStyle),R=s.getColorForPropertyName(e,i(l.gridlineColor),W.getGridlineDefaultColorFromGridlineStyle(M)),A=n(e,i(l.gridlineThickness),t.gridlineThickness),O=n(e,i(c.innerPadding),t.innerPadding),c=(1<=O&&(O/=100),n(e,i(c.reverseStackOrder),t.reverseStackOrder)),F=n(e,i(l.bold),!1),z=n(e,i(l.italic),!1),B=n(e,i(l.underline),!1),I=n(e,i(l.titleBold),!1),H=n(e,i(l.titleItalic),!1),n=n(e,i(l.titleUnderline),!1),j={family:i(l.fontFamily),size:i(l.fontSize),color:i(l.labelColor),sizeInPixels:!1,bold:i(l.bold),italic:i(l.italic),underline:i(l.underline)},k=G.FontProperties.createFromObjectOrStyle(e,j,s,a,t.labelFontProperties.color?void 0:G.CartesianHelper.DefaultAxisFontColorName,"smallLightLabel",t.labelFontProperties),i=(j.family=i(l.titleFontFamily),j.size=i(l.titleFontSize),j.color=i(l.titleColor),j.bold=i(l.titleBold),j.italic=i(l.titleItalic),j.underline=i(l.titleUnderline),G.FontProperties.createFromObjectOrStyle(e,j,s,a,void 0,"title",G.FontProperties.inherit(t.titleFontProperties,{color:k.color,family:k.family,size:k.size,variant:k.variant,whiteSpace:k.whiteSpace}))),l=void 0!==m,e=void 0!==d;return{show:o,alignZeros:u,showAxisTitle:p,includeDomains:r=l||e?[G.AxisHelper.createScalarDomainOptions([m,d],10,[l,e])]:r,axisType:S,axisStyle:v,labelDisplayUnits:C,labelPrecision:N,titleText:x,preferredCategoryWidth:w,maxMarginFactor:P,concatenateLabels:T,labelFontProperties:k,titleFontProperties:i,axisLabel:V,logAxisScale:D,gridlineShow:L,gridlineColor:R,gridlineThickness:A,gridlineStyle:M,innerPadding:O,reverseStackOrder:c,invertAxis:y,sharedAxis:g,scaleToFit:h,totalsEnabled:b,labelBold:F,labelItalic:z,labelUnderline:B,titleBold:I,titleItalic:H,titleUnderline:n,switchAxisPosition:f}},W.getGridlineDefaultColorFromGridlineStyle=function(e){switch(e){case G.lineStyle.dashed:case G.lineStyle.solid:return G.CartesianHelper.DefaultGridlineColorName;case G.lineStyle.dotted:return G.CartesianHelper.DefaultGridlineDottedColorName;default:return"unknown gridline style: ".concat(e),G.CartesianHelper.DefaultGridlineColorName}},e.AxesData=W,e.toColorFill=function(e){return{solid:{color:e}}}})(powerbi=powerbi||{}),(function(D){var L=D.visuals||(D.visuals={}),C=jsCommon.BrowserUtils,e=jsCommon.CssConstants.createClassAndSelector,i=jsCommon.DOMConstants;function w(e){this.axes=e}w.prototype.getScrollableRegion=function(){return this.axisGraphicsContextScrollable},w.prototype.getLabelsRegion=function(){return this.labelRegion},w.prototype.getSeriesLabelsRegion=function(){return this.labelSeriesRegion},w.prototype.getLabelBackground=function(){return this.labelBackgroundRegion},w.prototype.getLabelsContainers=function(){return{foreground:this.labelRegion,background:this.labelBackgroundRegion}},w.prototype.getSeriesLabelsContainers=function(){return{seriesForeground:this.labelSeriesRegion,seriesBackground:this.labelSeriesBackgroundRegion}},w.prototype.update=function(e){this.axesData=e},w.prototype.init=function(e,t){this.axesData=t;var t=this.axesData.useManagedTabIndex,a=this.axisGraphicsContext=e.append("g").classed(w.AxisGraphicsContext.class,!0),e=(this.svgScrollable=e.append("svg").classed("svgScrollable",!0).style("overflow","hidden"),this.axisGraphicsContextScrollable=this.svgScrollable.append("g").classed(w.AxisGraphicsContext.class,!0));this.labelBackgroundRegion=this.svgScrollable.append("g").classed(L.DataLabelViewModel.labelBackgroundGraphicsContextClass.class,!0),this.labelRegion=this.svgScrollable.append("g").classed(L.DataLabelViewModel.labelGraphicsContextClass.class,!0),this.labelSeriesBackgroundRegion=this.svgScrollable.append("g").classed(L.DataLabelViewModel.labelSeriesBackgroundGraphicsContextClass.class,!0),this.labelSeriesRegion=this.svgScrollable.append("g").classed(L.DataLabelViewModel.labelSeriesGraphicsContextClass.class,!0),this.axes.isYAxisCategorical?(this.y1AxisGraphicsContext=e.append("g").attr("class","y axis").attr("data-automation-type","y axis").classed(L.managedTabIndexElement.class,t).attr(i.skipChildrenFocusAttribute,t),this.y2AxisGraphicsContext=e.append("g").attr("class","y axis").attr("data-automation-type","y2 axis"),this.xAxisGraphicsContext=a.append("g").attr("class","x axis").attr("data-automation-type","x axis")):(this.y1AxisGraphicsContext=a.append("g").attr("class","y axis").attr("data-automation-type","y axis"),this.y2AxisGraphicsContext=a.append("g").attr("class","y axis").attr("data-automation-type","y2 axis"),this.xAxisGraphicsContext=e.append("g").attr("class","x axis").attr("data-automation-type","x axis").classed(L.managedTabIndexElement.class,t).attr(i.skipChildrenFocusAttribute,t))},w.updateTickTooltips=function(e,t){var i=t.axis.tickValues(),o=w.getTickFormatter(t.axis);e.selectAll("text").each((function(e){var t=d3.select(this),a=i.indexOf(e);a<0||t.append("title").text(o(e,a))}))},w.getTickFormatter=function(e){return e.tickFormat()||w.defaultTickFormat},w.defaultTickFormat=function(e){return'Using default (unformatted) tickFormat for value "'.concat(e,'"'),""+e},w.prototype.renderXAxis=function(e){var t=e.graphicsElement,a=e.layout,i=e.fontProperties,o=e.axisProps,r=e.duration,n=e.easing,l=e.labelColor,s=e.isStacked,c=e.height,u=e.gridlineOptions,p=e.useManagedTabIndex,d=a.margin,m=!!r&&e.animate,y=a.plotArea,g=!L.AxisHelper.isScaleBand(o.scale);(g?o.axis.tickSizeInner(-y.height):o.axis.tickSizeInner(0)).tickSizeOuter(0),o.axis=L.AxisHelper.orient(t,o.axis,"bottom"),o.willLabelsFit||g||o.axis.tickPadding(w.TickPaddingRotatedX),(m?t.transition().duration(r).ease(n):t).call(o.axis),t.call(w.darkenZeroLine,g).call(w.setAxisLabelColor,l).call(w.styleGridlines,u),s&&(w.removeUnwantedLines(t,y=o),_.isEmpty(o.categoryLabelMaxWidths)?t.selectAll("g.tick").selectAll("line").remove():(w.centerHierarchyTicks(t,y),w.styleHierarchyTicks(t,y,u))),2===e.renderMode?t.call((function(e){return e.selectAll(".tick text").style("visibility","hidden")})):((m=t.selectAll("text")).styles(L.FontProperties.toSVGStyle(i)),o.willLabelsWordBreak?m.call(L.AxisHelper.LabelLayoutStrategy.wordBreak,o,c):m.call(L.AxisHelper.LabelLayoutStrategy.rotate,{textTruncator:D.TextMeasurementService.getTailoredTextOrDefault,textProperties:L.FontProperties.toTextProperties(i),needRotate:!o.willLabelsFit&&!g,needEllipsis:!0,axisProperties:o,margin:d,rotate90:a.isXScrollBarVisible||a.isYScrollBarVisible||!o.willLabelsFit&&(!!s||a.rotateXTickLabels90),firstVisibleNode:e.firstVisibleNode,rotationPadding:L.CartesianHelper.TickLabelPadding,height:c}),w.updateTickTooltips(t,o),r=o.categoryIdentities,this.axes.interactivityService&&!this.axes.isYAxisCategorical&&r&&(g?this.removeFocusAbility(t):this.renderCategoricalInteractivity(t,o,r,p)))},w.prototype.renderHierarchicalAxis=function(e,n,l,s,c,u,p,d){var t=n.axes,m=this.axes.getYAxisPosition(),y=n.tickLabelMargins,g=t.x.isCategoryAxis;this.axisGraphicsContextScrollable.selectAll(g?".x.axis > .tick":".y.axis > .tick").remove();(g?t.x:t.y1).categoryIdentities&&(a=C.isInternetExplorerOrEdge(),e.attr("tabindex",0).attr("focusable",!0).attr("aria-label",(g?t.x:t.y1).axisLabel).attr("role","listbox").classed(L.SetFocusRingClassName,!a));var a=e.selectAll(".stack").data(t.hierStack),i=a.enter().append("g").classed("showLinesOnAxis",c.show).classed("hideLinesOnAxis",!c.show).classed("stack",!0).merge(a),h=(a.exit().remove(),t.hierStack.length),b="left"===m,f=P.getLeafHeight(g?y.xMax:b?y.yLeft:y.yRight,y.stackHeight,h),S=l.size.pt<=L.CartesianHelper.DefaultAxisFontSizeInPt?n.marginLimits.bottom:f,v=this;i.each((function(e,t){var a=0,i=0,o=0===t,r=(o||(g?a=f+(t-1)*y.stackHeight:i=b?-f-(t-1)*y.stackHeight:f+t*y.stackHeight),d3.select(this)),i=(r.attr("transform",L.SVGUtil.translate(i,a)),h-t),a=e.scale.domain()[0],t=L.HierarchyNodeHelpers.getNodeAtCategoryIndexForDepth(e.rootNode,a,i),a={graphicsElement:r,axisProps:e,layout:n,labelColor:s,duration:void 0,easing:void 0,fontProperties:l,isStacked:!0,firstVisibleNode:t,height:o?S:y.stackHeight,animate:!1,gridlineOptions:c,renderMode:u,featureSwitches:p,formatMode:d};g?v.renderXAxis(a):v.renderYAxis(n,e,r,void 0,l,void 0,s,!1,c,m,y.stackHeight,!0,u,!1,!0,t,999)})),this.categoryAxisGraphicsContext=e},w.prototype.removeHierarchicalAxis=function(e){e.selectAll(".stack").remove()},w.prototype.renderCategoricalInteractivity=function(e,t,i,a){this.categoryAxisGraphicsContext=e;for(var o=L.AxisHelper.isStackedAxisProperties(t),r=C.isInternetExplorerOrEdge(),n=(o||(e.attr("aria-label",t.axisLabel),a)||e.attr("tabindex",0).attr("focusable",!0).attr("role","listbox").classed(L.SetFocusRingClassName,!r),L.AxisHelper.isStackedAxisProperties(t)?t.adjustedValues:t.values),l=L.AxisHelper.isStackedAxisProperties(t)?t.categoryHierarchyPointers:[],a=t.axis.tickValues(),s=_.map(a,(function(e,t){0!==t||_.isEmpty(l)||(a=e,e=_.findLastIndex(l,(function(e){return!!e}),e));var a,t=l[e];return{value:n[e],selected:!1,categoryIndex:t?t.categoryIndex:e,adjustedCategoryIndex:a,seriesIndex:t?t.seriesIndex:0,identity:i[e]?i[e]():void 0}})),c=0,u=0,p=i.length;u<p;u++){var d=s[c];d&&d.categoryIndex===u?(d.value!==P.hierarchyPlaceholder&&this.categoryDataPoints.push(d),c++):(d=l[u],o&&!d||this.categoryDataPoints.push({value:void 0,categoryIndex:d?d.categoryIndex:u,seriesIndex:d?d.seriesIndex:0,selected:!1,identity:void 0}))}e.selectAll(".tick").data(s,(function(e){return(null!=e.adjustedCategoryIndex?e.adjustedCategoryIndex:null!=e.categoryIndex?e.categoryIndex:e).toString()})).select("text").each((function(e,t){e.value!==P.hierarchyPlaceholder&&d3.select(this).attr("tabindex",0).attr("focusable",!0).attr("role","option").attr("aria-selected",(function(e){return e.selected})).attr("data-automation-type","axis-tick-text").classed(L.SetFocusRingClassName,!r).selectAll("tspan").datum(e)}))},w.prototype.renderY1Axis=function(e,t,a,i,o,r,n,l){this.renderYAxis(e,e.axes.y1,this.y1AxisGraphicsContext,t,a,i,L.AxisDataModel.toColorFill(this.axesData.y.labelFontProperties.color),o,r,this.axes.getYAxisPosition(),-e.plotArea.width,!0,this.getAxisRenderMode(n,e.axes.y1,e.shouldRenderAxis.y,r.show),l)},w.prototype.renderYAxisWithGridLinesOnly=function(e,t,a,i){var o=!L.AxisHelper.isScaleBand(t.axis.scale());this.updateYAxisGraphicContext(e,t,a,o,i),e.call((function(e){return e.selectAll(".tick text").style("visibility","hidden")})),this.removeFocusAbility(e)},w.prototype.removeFocusAbility=function(e){e.attr("tabindex",null).attr("focusable",null)},w.prototype.clearGraphicContext=function(e){e.selectAll("*").remove()},w.prototype.renderY2Axis=function(e,t,a,i,o,r,n,l){this.renderYAxis(e,e.axes.y2,this.y2AxisGraphicsContext,t,a,i,L.AxisDataModel.toColorFill(this.axesData.y2.labelFontProperties.color),o,r,this.axes.getY2AxisPosition(),w.Y2TickSize,!1,this.getAxisRenderMode(n,e.axes.y2,e.shouldRenderAxis.y2,r.show),l)},w.prototype.getAxisRenderMode=function(e,t,a,i){return t?e&&i?2:a?1:0:0},w.prototype.renderYAxis=function(e,t,a,i,o,r,n,l,s,c,u,p,d,m,y,g,h){var b,f,S;0===d?this.clearGraphicContext(a):(f=(b="right"===c)?e.tickPadding.right:e.tickPadding.left,(S=!L.AxisHelper.isScaleBand(t.axis.scale()))?t.axis.tickSize(u).tickPadding(f):t.axis.tickSize(L.AxisHelper.DefaultInnerTickSize),2===d?s.show&&this.renderYAxisWithGridLinesOnly(a,t,s,c):(u=e.marginLimits,d=e.tickLabelMargins,u=u.left,this.updateYAxisGraphicContext(a,t,s,S,c,o,n,!!i&&l,i,r),c=null,y&&(w.removeUnwantedLines(a,n=t),(c=_.isEmpty(n.categoryLabelMaxWidths))?a.selectAll("g.tick").selectAll("line").remove():(w.centerHierarchyTicks(a,n),w.styleHierarchyTicks(a,n,s)),c||((l=a.selectAll("text")).styles(L.FontProperties.toSVGStyle(o)),l.call(L.AxisHelper.LabelLayoutStrategy.rotate,{textTruncator:D.TextMeasurementService.getTailoredTextOrDefault,textProperties:L.FontProperties.toTextProperties(o),needRotate:!0,needEllipsis:!0,axisProperties:t,margin:e.margin,rotate90:!0,firstVisibleNode:g,rotationPadding:L.CartesianHelper.TickLabelPadding,height:h,y1Hierarchy:!0}))),!(b?d.yRight>=u:d.yLeft>=u)||y&&!c||a.selectAll("text").call(L.AxisHelper.LabelLayoutStrategy.clip,u-f,D.TextMeasurementService.svgEllipsis),w.updateTickTooltips(a,t),i=t.categoryIdentities,r=this.axes.interactivityService,p&&r&&this.axes.isYAxisCategorical&&i&&(S?this.removeFocusAbility(a):this.renderCategoricalInteractivity(a,t,i,m))))},w.prototype.updateYAxisGraphicContext=function(e,t,a,i,o,r,n,l,s,c){t.axis=L.AxisHelper.orient(e,t.axis,o),(l&&s&&c?e.transition().duration(s).ease(c):e).call(t.axis),e.call(w.darkenZeroLine,i).call(w.styleGridlines,a),r&&(e.attr("style",null),e.styles(L.FontProperties.toSVGStyle(r))),n&&e.call(w.setAxisLabelColor,n)},w.prototype.convertAxisValuesToSubSelectable=function(e,t){var e=e.selectAll(".tick text"),a=e.nodes();a.length&&(e.classed(L.HtmlSubSelectableClass,!0).attr(L.SubSelectableObjectNameAttribute,t).attr(L.SubSelectableDisplayNameAttribute,"Role_DisplayName_Values").attr(L.SubSelectableTypeAttribute,2),a.forEach((function(e){return L.HtmlSubSelectionHelper.setDataForElement(e,{getRegionOutlines:function(){return"x-axis-values"===t?w.getXAxisValuesOutlines(a):w.getYAxisValuesOutlines(a,t)}})})))},w.getYAxisValuesOutlines=function(e,t){for(var a=Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,n=0,l=e;n<l.length;n++)var s=l[n].getBoundingClientRect(),c=s.x,u=s.y,p=s.bottom,s=s.right,a=Math.min(a,c),i=Math.min(i,u),o=Math.max(o,p),r=Math.max(r,s);return[{id:t,outline:{x:a,y:i,width:r-a,height:o-i,type:1}}]},w.getXAxisValuesOutlines=function(e){for(var t=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,o=Number.MIN_SAFE_INTEGER,r=0,n=e;r<n.length;r++)var l=n[r].getBoundingClientRect(),s=l.x,c=l.y,u=l.bottom,l=l.right,t=Math.min(t,s),a=Math.min(a,c),i=Math.max(i,u),o=Math.max(o,l);return[{id:"x-axis-values",outline:{x:t,y:a,width:o-t,height:i-a,type:1}}]},w.prototype.renderAxes=function(e){e.axesLayout;var t=e.axesLayout,a=e.animateCategoryAxis,i=e.animateValueAxis,o=e.axesFontProperties,r=e.duration,n=e.easing,l=e.featureSwitches,s=e.formatMode,c=t.viewport,u=t.margin,p=t.axes,d=t.axisLabels,m=null==d.x,y=this.axesData&&this.axesData.x,g=this.axesData&&this.axesData.y,h=this.axesData&&this.axesData.y2,b=(this.categoryDataPoints=[],this.categoryAxisGraphicsContext=void 0,!1);p.x&&(S=L.AxisDataModel.toColorFill(y.labelFontProperties.color),C={show:b=!!(!L.AxisHelper.isScaleBand(p.x.scale)||p.x.isCategoryAxis&&!_.isEmpty(p.hierStack))&&y.gridlineShow,color:L.AxisDataModel.toColorFill(y.gridlineColor),thickness:y.gridlineThickness,style:y.gridlineStyle},0!==(N=this.getAxisRenderMode(e.shouldRenderGridLinesOnly,p.x,t.shouldRenderAxis.x,C.show)))?(x=this.xAxisGraphicsContext,!_.isEmpty(p.hierStack)&&t.axes.x.isCategoryAxis?this.renderHierarchicalAxis(x,t,o.x.tickLabels,S,C,N,l,s):(this.removeHierarchicalAxis(x),v=((f=o.x.tickLabels.size.pt<=L.CartesianHelper.DefaultAxisFontSizeInPt)?t.marginLimits:u).bottom,f||m||(v-=D.TextMeasurementService.estimateSvgTextHeight(L.FontProperties.toTextProperties(o.x.tickLabels))+P.XAxisLabelPadding),f=p.x.isCategoryAxis,x={graphicsElement:x,axisProps:p.x,layout:t,labelColor:S,duration:r,easing:n,fontProperties:o.x.tickLabels,isStacked:!1,height:v,animate:i&&!f,gridlineOptions:C,renderMode:N,useManagedTabIndex:e.useManagedTabIndex,featureSwitches:l,formatMode:s},this.renderXAxis(x))):this.xAxisGraphicsContext.selectAll("*").remove();var f,S=!!(!L.AxisHelper.isScaleBand(p.y1.scale)||p.y1.isCategoryAxis&&!_.isEmpty(p.hierStack))&&g.gridlineShow,v={show:S,color:L.AxisDataModel.toColorFill(g.gridlineColor),thickness:g.gridlineThickness,style:g.gridlineStyle},C=null==(f=p.y1)?void 0:f.isCategoryAxis,N=a&&C||i&&!C,x=(!_.isEmpty(p.hierStack)&&C?(x=this.y1AxisGraphicsContext,f=L.AxisDataModel.toColorFill(g.labelFontProperties.color),this.renderHierarchicalAxis(x,t,o.y.tickLabels,f,v,1,l,s)):(this.removeHierarchicalAxis(this.y1AxisGraphicsContext),this.renderY1Axis(t,r,o.y.tickLabels,n,N,v,e.shouldRenderGridLinesOnly,e.useManagedTabIndex)),null==(C=p.y2)?void 0:C.isCategoryAxis);if(this.renderY2Axis(t,r,o.y2.tickLabels,n,a&&x||i&&!x,v,e.shouldRenderGridLinesOnly,e.useManagedTabIndex),(null!=d.x||null!=d.y||null!=d.y2)&&!e.shouldRenderGridLinesOnly?(f=null==d.y,N=null==d.y2,n=r=C=void 0,C=L.AxisDataModel.toColorFill(y.titleFontProperties.color),r=L.AxisDataModel.toColorFill(g.titleFontProperties.color),n=L.AxisDataModel.toColorFill(h.titleFontProperties.color),i={axisLabels:d,viewport:c,margin:u,hideXAxisTitle:m,hideYAxisTitle:f,hideY2AxisTitle:N,xIsCategoryAxis:p.x.isCategoryAxis,y1IsCategoryAxis:null==(a=p.y1)?void 0:a.isCategoryAxis,xLabelColor:C,yLabelColor:r,y2LabelColor:n,axesFontProperties:o,featureSwitches:l,formatMode:s,categoryAxisTitleSliceUid:e.categoryAxisTitleSliceUid,valueAxisTitleSliceUid:e.valueAxisTitleSliceUid,y2AxisTitleSliceUid:e.y2AxisTitleSliceUid},this.renderAxesTitles(i)):(this.axisGraphicsContext.selectAll(".xAxisLabel").remove(),this.axisGraphicsContext.selectAll(".yAxisLabel").remove()),this.valueGridlines=this.axisGraphicsContext.selectAll("g.tick line"),this.translateAxes(t),l&&l.onObject&&(s&&(this.convertAxisValuesToSubSelectable(this.y1AxisGraphicsContext,"y1-axis-values"),this.convertAxisValuesToSubSelectable(this.y2AxisGraphicsContext,"y2-axis-values"),this.convertAxisValuesToSubSelectable(this.xAxisGraphicsContext,"x-axis-values")),S&&(w.renderInteractivityGridline(this.y1AxisGraphicsContext,"horizontal",v,s),w.renderInteractivityGridline(this.y2AxisGraphicsContext,"horizontal",v,s)),b)&&w.renderInteractivityGridline(this.xAxisGraphicsContext,"vertical",v,s),this.axes.interactivityService&&this.categoryAxisGraphicsContext)return x={root:this.categoryAxisGraphicsContext,ticks:this.categoryAxisGraphicsContext.selectAll(".tick")},{dataPoints:this.categoryDataPoints,behaviorOptions:x,navigationOptions:{helper:this,navigationStrategy:p.hierStack?L.DataPointNavigationStrategy.SeriesFirst:L.DataPointNavigationStrategy.CategoryOnly},animateLabels:!1,labelDataPointGroups:[],labelDataPoints:[],labelOrientation:void 0,labelsAreNumeric:void 0,labelDataPointSeriesGroups:[]}},w.renderInteractivityGridline=function(e,t,o,r){var n="horizontal"===t,l=n?"horizontal-gridlines":"vertical-gridlines",s=e.selectAll("g.tick line:not(".concat(w.InteractivityGridlineClassSelector.selector,")"));s.each((function(){var e=r&&o.show,t=d3.select(this.parentNode),a=d3.select(this),i={x1:a.attr("x1"),y1:a.attr("y1"),x2:a.attr("x2"),y2:a.attr("y2")};t.selectAll(w.InteractivityGridlineClassSelector.selector).filter((function(e){return e===a.node()})).data((function(){return e?[a.node()]:[]})).join("line").attr("class",w.InteractivityGridlineClassSelector.class).classed(L.HtmlSubSelectableClass,!0).style("stroke-width",w.interactivityGridlinePadding).style("stroke-linejoin",L.strokeLineJoin.round).style("stroke-dasharray","none").attrs(i).attr(L.SubSelectableObjectNameAttribute,l).attr(L.SubSelectableDisplayNameAttribute,n?"Visual_Gridline_Horizontal":"Visual_Gridline_Vertical").attr(L.SubSelectableTypeAttribute,3).each((function(){L.HtmlSubSelectionHelper.setDataForElement(this,{getRegionOutlines:function(){var e=s.nodes();return w.getGridlinesOutlines(e,l)}})}))}))},w.prototype.getFirstElement=function(){return{element:this.categoryAxisGraphicsContext&&this.categoryAxisGraphicsContext.selectAll(".tick text").node()}},w.prototype.getNextDataPoint=function(t,a,e){if(_.isEmpty(this.categoryDataPoints))return{element:this.categoryAxisGraphicsContext.select(".tick text").node(),targetCategoryIndex:0};switch(e){case L.DataDirection.PreviousCategory:case L.DataDirection.NextCategory:var i=e===L.DataDirection.PreviousCategory?-1:1,o=_.filter(this.categoryDataPoints,(function(e){return e.seriesIndex===a})),r=i+_.findIndex(o,(function(e){return e.categoryIndex===t}));r>=o.length||r<0?(n=this.rollToNextSeries(a,e),t=n[0],a=n[1]):t=o[r].categoryIndex;break;case L.DataDirection.PreviousSeries:case L.DataDirection.NextSeries:i=e===L.DataDirection.PreviousSeries?-1:1,o=_.filter(this.categoryDataPoints,(function(e){return e.categoryIndex===t}));var n=i+_.findIndex(o,(function(e){return e.seriesIndex===a}));a=n>=o.length||n<0?(r=this.findNearestSeries(t,a,e),t=r[0],r[1]):o[n].seriesIndex}return{element:this.categoryAxisGraphicsContext.selectAll(".tick text").filter((function(e){return(!e.adjustedCategoryIndex||e.adjustedCategoryIndex===e.categoryIndex)&&e.categoryIndex===t&&e.seriesIndex===a})).node(),targetCategoryIndex:t}},w.getGridlinesOutlines=function(e,t){return[{id:t,outline:{type:0,outlines:e.map((function(e){var e=e.getBoundingClientRect(),t=e.x,a=e.y,i=e.height;return{points:[{x:t,y:a},{x:t+e.width,y:a+i}],type:2}}))}}]},w.prototype.rollToNextSeries=function(t,e){var a=e===L.DataDirection.PreviousCategory?-1:1,e=e===L.DataDirection.PreviousCategory?_.last:_.first,i=_.maxBy(this.categoryDataPoints,(function(e){return e.seriesIndex})).seriesIndex+1;return i<=(t+=a)?t=0:t<0&&(t=i-1),[e(_.filter(this.categoryDataPoints,(function(e){return e.seriesIndex===t}))).categoryIndex,t]},w.prototype.findNearestSeries=function(e,t,a){var i=_.maxBy(this.categoryDataPoints,(function(e){return e.seriesIndex})).seriesIndex+1,a=a===L.DataDirection.PreviousSeries?-1:1,a=((t=i<=(t+=a)?0:t)<0&&(t=i-1),_.filter(this.categoryDataPoints,(function(e){return e.seriesIndex===t})));return[e=a[_.sortedLastIndexBy(a,{categoryIndex:e},(function(e){return e.categoryIndex}))-1].categoryIndex,t]},w.prototype.renderAxesTitles=function(a){function e(e,t){return D.TextMeasurementService.svgEllipsis(e,t,o)}a.viewport,a.axisLabels,this.axisGraphicsContext.selectAll(".xAxisLabel").remove(),this.axisGraphicsContext.selectAll(".yAxisLabel").remove();var i,o,r,n,l,t,s,c,u,p=a.margin,d=a.viewport.width-(p.left+p.right),m=a.viewport.height-p.top,y=this.axes.shouldShowY1OnRight(),g=a.axesFontProperties,h=a.axisLabels,b=(null==(u=a.featureSwitches)?void 0:u.onObject)&&a.formatMode;a.hideXAxisTitle||(t=g.x.title,i=h.x,o=L.FontProperties.toTextProperties(t,i),r=D.TextMeasurementService.estimateSvgTextBaselineDelta(o),(u=this.axisGraphicsContext.append("text").style("text-anchor","middle").styles(L.FontProperties.toSVGStyle(t)).text(i).call((function(e){e.each((function(){var e,t=d3.select(this);t.attrs({class:"xAxisLabel",transform:L.SVGUtil.translate(d/2,m-r)}),b&&(t.classed(L.HtmlSubSelectableClass,!0).attr(L.SubSelectableObjectNameAttribute,"x-axis-title").attr(L.SubSelectableDisplayNameAttribute,"Visual_Axis_Title").attr(L.SubSelectableTypeAttribute,1),e=a.xIsCategoryAxis?a.categoryAxisTitleSliceUid:a.valueAxisTitleSliceUid,e=L.OnObjectUtil.getHorizontalCenteredTitleDirectEdit(e,i))&&t.attr(L.SubSelectableDirectEdit,JSON.stringify(e))}))}))).style("fill",a.xLabelColor?a.xLabelColor.solid.color:null),u.call(L.AxisHelper.LabelLayoutStrategy.clip,d,e).call(L.tooltipUtils.tooltipUpdate,[a.axisLabels.x])),a.hideYAxisTitle||(t=g.y.title,n=h.y,o=L.FontProperties.toTextProperties(t,n),l=D.TextMeasurementService.estimateSvgTextHeight(o),(u=this.axisGraphicsContext.append("text").style("text-anchor","middle").styles(L.FontProperties.toSVGStyle(t)).text(n).call((function(e){e.each((function(){var e,t=d3.select(this);t.attrs({class:"yAxisLabel",transform:"rotate(-90)",y:y?d+p.right-l-P.YAxisLabelPadding+3:-(p.left+3),x:-(m-p.bottom)/2,dy:"1em"}),b&&(t.classed(L.HtmlSubSelectableClass,!0).attr(L.SubSelectableObjectNameAttribute,"y1-axis-title").attr(L.SubSelectableDisplayNameAttribute,"Visual_Axis_Title").attr(L.SubSelectableTypeAttribute,1),e=a.y1IsCategoryAxis?a.categoryAxisTitleSliceUid:a.valueAxisTitleSliceUid,e=L.OnObjectUtil.getVerticalTitleDirectEdit(e,n))&&t.attr(L.SubSelectableDirectEdit,JSON.stringify(e))}))}))).style("fill",a.yLabelColor?a.yLabelColor.solid.color:null),u.call(L.AxisHelper.LabelLayoutStrategy.clip,m-p.bottom,e).call(L.tooltipUtils.tooltipUpdate,[a.axisLabels.y])),!a.hideY2AxisTitle&&a.axisLabels.y2&&(t=g.y2.title,s=h.y2,o=L.FontProperties.toTextProperties(t,s),c=D.TextMeasurementService.estimateSvgTextHeight(o),(u=this.axisGraphicsContext.append("text").style("text-anchor","middle").styles(L.FontProperties.toSVGStyle(t)).text(s).call((function(e){e.each((function(){var e,t=d3.select(this);t.attrs({class:"yAxisLabel",transform:"rotate(-90)",y:y?-(p.left+3):d+p.right-c-P.YAxisLabelPadding+3,x:-(m-p.bottom)/2,dy:"1em"}),b&&(t.classed(L.HtmlSubSelectableClass,!0).attr(L.SubSelectableObjectNameAttribute,"y2-axis-title").attr(L.SubSelectableDisplayNameAttribute,"Visual_Axis_Title").attr(L.SubSelectableTypeAttribute,1),e=a.y2AxisTitleSliceUid,e=L.OnObjectUtil.getVerticalTitleDirectEdit(e,s))&&t.attr(L.SubSelectableDirectEdit,JSON.stringify(e))}))}))).style("fill",a.y2LabelColor?a.y2LabelColor.solid.color:null),u.call(L.AxisHelper.LabelLayoutStrategy.clip,m-p.bottom,e).call(L.tooltipUtils.tooltipUpdate,[a.axisLabels.y2]))},w.prototype.translateAxes=function(e){var t=e.viewport,a=e.margin,i=t.width-(a.left+a.right),o=t.height-(a.top+a.bottom),r=this.axesData,n=r.seriesMaximumWidth,l=r.seriesPosition,s=r.show,c=r.defaultSeriesWidth,u=r.isComboChart,r=r.hasY2Role,u=u&&!r?0:1,r=(n=null!=c?Math.min(Math.max(1,100*c/i),50):n)&&s&&u?n/100*i:0,c=l&&l===L.labelSeriesPosition.right?1:0,s=c?a.left:a.left+r,u=c?0:r,n=this.axes.shouldShowY1OnRight(),l=(this.xAxisGraphicsContext.attr("transform",L.SVGUtil.translate(0,o)),this.y1AxisGraphicsContext.attr("transform",L.SVGUtil.translate(n?i:0,0)),this.y2AxisGraphicsContext.attr("transform",L.SVGUtil.translate(n?0:i,0)),this.svgScrollable.attrs({x:0,width:t.width,height:t.height}),this.axisGraphicsContext.attr("transform",L.SVGUtil.translate(a.left,a.top)),this.axisGraphicsContextScrollable.attr("transform",L.SVGUtil.translate(s,a.top)),this.labelRegion.attr("transform",L.SVGUtil.translate(s,a.top)),this.labelBackgroundRegion.attr("transform",L.SVGUtil.translate(s,a.top)),this.labelSeriesRegion.attr("transform",L.SVGUtil.translate(s,a.top)),this.labelSeriesBackgroundRegion.attr("transform",L.SVGUtil.translate(s,a.top)),e.isXScrollBarVisible?(this.svgScrollable.attrs({x:a.left}),this.axisGraphicsContextScrollable.attr("transform",L.SVGUtil.translate(u,a.top)),this.labelRegion.attr("transform",L.SVGUtil.translate(u,a.top)),this.labelBackgroundRegion.attr("transform",L.SVGUtil.translate(u,a.top)),this.labelSeriesRegion.attr("transform",L.SVGUtil.translate(u,a.top)),this.labelSeriesBackgroundRegion.attr("transform",L.SVGUtil.translate(u,a.top)),this.svgScrollable.attr("width",i)):e.isYScrollBarVisible&&this.svgScrollable.attr("height",o+a.top),0),l=c?n?-r:0:n?0:r;this.valueGridlines.attr("transform","translate("+l+")")},w.darkenZeroLine=function(e,t){e.selectAll("g.tick line").classed("zero-line",!1),t&&(t=e.selectAll("g.tick").filter((function(e){return 0===e})).node())&&d3.select(t).select("line").classed("zero-line",!0)},w.styleGridlines=function(e,t){e.classed("showLinesOnAxis",t.show).classed("hideLinesOnAxis",!t.show),e.selectAll("g.tick line").styles({stroke:t.color.solid.color,"stroke-width":t.thickness,"stroke-dasharray":L.LineStyle.getStrokeDashArrayFromLineStyle(t.style)}),e.selectAll("g.tick text").style("visibility",null)},w.setAxisLabelColor=function(e,t){e.selectAll("g.tick text").style("fill",t?t.solid.color:null)},w.removeUnwantedLines=function(e,t){e.selectAll("g.tick").filter((function(e){return t.adjustedValues[e]===P.hierarchyPlaceholder})).selectAll("line").remove()},w.centerHierarchyTicks=function(e,o){e.selectAll("g.tick").filter((function(e){return o.adjustedValues[e]!==P.hierarchyPlaceholder})).each((function(e){var t,a=d3.select(this),i=a.attr("transform"),i=L.SVGUtil.parseTranslateTransform(i);i&&0<+i.x&&(t=+i.x+o.categoryLabelMaxWidths[e]/2-o.categoryThickness/2+L.CartesianHelper.TickLabelPadding,a.attr("transform",L.SVGUtil.translate(t,+i.y))),i&&0<+i.y&&(t=+i.y+o.categoryLabelMaxWidths[e]/2-o.categoryThickness/2+L.CartesianHelper.TickLabelPadding,a.attr("transform",L.SVGUtil.translate(+i.x,t)))}))},w.styleHierarchyTicks=function(e,t,a){e=e.selectAll("g.tick").filter((function(e){return t.adjustedValues[e]!==P.hierarchyPlaceholder})).selectAll("line").data((function(e){return t.lineStyleInfo[e]}));e.enter().append("line").merge(e).attr("x1",(function(e){return e.x1})).attr("y1",(function(e){return e.y1})).attr("x2",(function(e){return e.x2})).attr("y2",(function(e){return e.y2})).styles({stroke:a.color.solid.color,"stroke-width":a.thickness,"stroke-dasharray":L.LineStyle.getStrokeDashArrayFromLineStyle(a.style)}),e.exit().remove()},w.AxisPadding={left:10,right:10,top:0,bottom:13},w.AxisGraphicsContext=e("axisGraphicsContext"),w.InteractivityGridlineClassSelector=e("interactivity-gridline"),w.interactivityGridlinePadding=10,w.TickPaddingRotatedX=5,w.Y2TickSize=-6,L.SvgCartesianAxes=w,M.prototype.init=function(e){this.axesData=e.axesData,this.axisZoom=e.axisZoom,this.isYAxisCategorical=e.isYAxisCategorical,this.interactivityService=e.interactivityService},M.prototype.shouldShowY1OnRight=function(){return!0===this.axesData.y.switchAxisPosition},Object.defineProperty(M.prototype,"categoryAxis",{get:function(){return this.isYAxisCategorical?this.getAxis(1):this.getAxis(0)},enumerable:!1,configurable:!0}),M.prototype.hasCategoryAxis=function(){return null!=this.categoryAxis},M.prototype.isCategoryAxisDateTime=function(){var e=this.getCategoryAxisType();return e&&e.dateTime},M.prototype.getCategoryAxisType=function(){var e;return null==(e=this.categoryAxis)?void 0:e.axisType},M.getLeafHeight=function(e,t,a){return e-t*(a-1)+L.AxisHelper.StackedAxisPadding+1},M.prototype.getYAxisPosition=function(){return this.axesData.y.switchAxisPosition?"right":"left"},M.prototype.getY2AxisPosition=function(){return this.axesData.y.switchAxisPosition?"left":"right"},M.prototype.update=function(e,t,a,i){this.categories=e,this.axesData=t,this.updateScrollbarWidthIfNeeded(i),this.isHierarchicalCategoryAxis=3===a},M.prototype.updateResize=function(e,t){this.axesData=e,this.updateScrollbarWidthIfNeeded(t)},M.prototype.addWarnings=function(e){var t,a,i=this.layout&&this.layout.axes;i&&i.x&&i.x.hasDisallowedZeroInDomain&&(t={selector:null,warnings:[new L.ZeroValueWarning]},a=this.isYAxisCategorical?"valueAxis":"categoryAxis",e.addForVisualObject(a,t)),i&&(i.y1&&i.y1.hasDisallowedZeroInDomain||i.y2&&i.y2.hasDisallowedZeroInDomain)&&(t={selector:null,warnings:[new L.ZeroValueWarning]},a=this.isYAxisCategorical?"categoryAxis":"valueAxis",e.addForVisualObject(a,t)),this.alignZerosWithCustomDomainWarning&&(i={selector:null,warnings:[new L.AlignZerosWithCustomDomainWarning]},e.addForVisualObject("valueAxis",i))},M.prototype.getScrollbarWidth=function(){return this.scrollbarWidth},M.prototype.updateScrollbarWidthIfNeeded=function(e){null!=e&&(this.scrollbarWidth=e)},M.prototype.calculateAxes=function(e,t,a,i,o,r,n,l,s,c,u,p,d,m,y){function g(e,t){return{includeDomain:L.AxisHelper.mergeScalarAxisDomains.apply(L.AxisHelper,__spreadArray(__spreadArray([],e.includeDomains||[],!1),[t&&L.AxisHelper.createScalarDomainOptions([t.min,t.max],0)],!1)),displayUnits:e.labelDisplayUnits,precision:e.labelPrecision,logAxisScale:e.logAxisScale,invertAxis:e.invertAxis,switchAxisPosition:e.switchAxisPosition}}var d=M.shouldRenderAnyAxis(d)||m?L.CartesianHelper.DefaultOuterPaddingRatio:0,m=this.axesData.categoryAxis.innerPadding,h={x:null,y1:null},b=this.axesData,f=b.categoryAxis,S=b.valueAxis,b=b.y2,b=_.some(b.includeDomains,(function(e){return e.forced})),v=this.axesData.isValueAxisSet&&!1===this.axesData.y2.show&&!b,f=g(f,s),s=__assign(__assign({},g(S,c)),{totalsEnabled:S.totalsEnabled}),c={viewport:t,margin:a,categoryAxisOptions:f,forceMerge:v,trimOrdinalDataOnOverflow:this.trimOrdinalDataOnOverflow,outerPaddingRatio:d,innerPaddingRatio:m,playAxisControlLayout:i,valueAxisOptions:s,axisZoom:this.axisZoom},f=this.axesData.isValueAxisSet&&this.axesData.y2.show,d=this.axesData.isValueAxisSet&&this.axesData.y.alignZeros,m=y||!v&&(!0===f||b||void 0===f&&(d||s.includeDomain)),C=!1;R(e)&&!m&&((C=(i=(function(e,t){var a={domain:void 0,merged:!1,tickCount:void 0};if(e.length<2)return a;var i=D.Prototype.inherit(t),o=(i.roleName="Y2",e[0].calculateAxesProperties(t)[1]),e=e[1].calculateAxesProperties(i)[1],i=o.scale.domain(),r=e.scale.domain();o.dataDomain&&e.dataDomain&&(n=0===o.dataDomain[0]&&0===o.dataDomain[1],l=0===e.dataDomain[0]&&0===e.dataDomain[1],n&&!l?i=[0,0]:!n&&l&&(r=[0,0]));o.values&&0<o.values.length&&e.values&&0<e.values.length&&(a.tickCount=Math.max(o.values.length,e.values.length));var n=Math.min(i[0],r[0]),l=Math.max(i[1],r[1]);if(t.forceMerge)return{domain:[n,l],merged:!0,tickCount:a.tickCount};if(i[0]>r[1]||i[1]<r[0])return a;o=l-n;if(0==o)return a;e=Math.max(i[0],r[0]),t=Math.min(i[1],r[1]);return Math.abs((t-e)/o)<.1?a:{domain:[n,l],merged:!0,tickCount:a.tickCount}})(e,c)).merged)?s.includeDomain=L.AxisHelper.mergeScalarAxisDomains(s.includeDomain,L.AxisHelper.createScalarDomainOptions(i.domain,0,[!0,!0])):c.forcedTickCount=i.tickCount);for(var y=(R(e)?!C&&!1!==f||f:this.axesData.y2.hasY2Role)||b,d=d&&y,v=D.Prototype.inherit(c),N=(y&&(m=this.axesData.y2,i=v.valueAxisOptions=__assign(__assign({},D.Prototype.inherit(s)),{logAxisScale:m.logAxisScale,displayUnits:m.labelDisplayUnits,precision:m.labelPrecision,invertAxis:S.invertAxis,includeDomain:L.AxisHelper.mergeScalarAxisDomains.apply(L.AxisHelper,__spreadArray([u?L.AxisHelper.createScalarDomainOptions([u.min,u.max],0):void 0],m.includeDomains||[],!1))}),d?(f=e[0].getAxesDomains(!0,{valueAxis:!0}),b=L.AxisHelper.mergeScalarAxisDomains.apply(L.AxisHelper,__spreadArray([L.AxisHelper.createScalarDomainOptions(f.valueAxis,0)],S.includeDomains||[],!1)),y=e[1].getAxesDomains(!0,{valueAxis:!0}),u=L.AxisHelper.mergeScalarAxisDomains(L.AxisHelper.createScalarDomainOptions(y.valueAxis,0),i.includeDomain),d=(m=b&&u)&&(L.AxisHelper.hasForcedDomain(b)||L.AxisHelper.hasForcedDomain(u)),h.alignZerosWithCustomDomainWarning=d,m&&!d?(S=(f=(function(e,t,a){var i=e.slice(),o=t.slice();a&&(r=e[1]-e[0],n=t[1]-t[0],i[0]=i[0]-r*a,i[1]=i[1]+r*a,o[0]=o[0]-n*a,o[1]=o[1]+n*a);{var r,n;0<=e[0]&&0<=t[0]?(i[0]=0,o[0]=0):e[1]<=0&&t[1]<=0?(i[1]=0,o[1]=0):(r=A(i),n=A(o),r.pos<r.neg&&n.pos<n.neg?r.pos<n.pos?i[1]=-(n.pos*i[0])/(1-n.pos):o[1]=-(r.pos*o[0])/(1-r.pos):r.pos>r.neg&&n.pos>n.neg?r.neg<n.neg?i[0]=-(n.neg*i[1])/(1-n.neg):o[0]=-(r.neg*o[1])/(1-r.neg):(a=Math.max(Math.abs(i[0]),Math.abs(i[1])),e=Math.max(Math.abs(o[0]),Math.abs(o[1])),i=[-a,a],o=[-e,e]))}return[i,o]})(b.domain,u.domain,.05))[0],y=f[1],s.includeDomain=L.AxisHelper.createScalarDomainOptions(S,0,[!0,!0]),i.includeDomain=L.AxisHelper.createScalarDomainOptions(y,0,[!0,!0])):i.includeDomain=L.AxisHelper.mergeScalarAxisDomains(i.includeDomain,u)):C||(i.includeDomain=this.axesData.isValueAxisSet&&i.includeDomain)),[c,v]),x=R(e)||this.axesData.y2.hasY2Role?2:1,w=0;w<x;w++){var P,T=N[w],V=e[w],T=(null==V&&(V=e[0]),C||1!==w||(T.roleName="Y2"),V.calculateAxesProperties(T)),V=(0===w?(h.x=T[0],h.y1=T[1]):T&&!h.y2&&(h.x.usingDefaultDomain||_.isEmpty(h.x.dataDomain)?(h.x=T[0],h.y1=T[1]):(V.overrideXScale(h.x),C||T[1].usingDefaultDomain||_.isEmpty(T[1].values)||(h.y2=T[1]))),L.FontProperties.toTextProperties(o.x.tickLabels));n&&n.x?(h.x.willLabelsFit=n.x.willLabelsFit,h.x.willLabelsWordBreak=n.x.willLabelsWordBreak):(T=t.width-(a.left+a.right),h.x.willLabelsFit=L.AxisHelper.LabelLayoutStrategy.willLabelsFit(h.x,T,D.TextMeasurementService.measureSvgTextWidth,V),h.x.willLabelsWordBreak=!h.x.willLabelsFit&&!r&&L.AxisHelper.LabelLayoutStrategy.willLabelsWordBreak(h.x,a,T,D.TextMeasurementService.measureSvgTextWidth,D.TextMeasurementService.estimateSvgTextHeight,D.TextMeasurementService.getTailoredTextOrDefault,V)),this.isHierarchicalCategoryAxis&&((V=(T=h.x.isCategoryAxis)?h.x:h.y1).isHierarchical=!0,V.rootNode=L.HierarchyNodeHelpers.Builder.build(this.categories),V.numLevels=this.categories.length,p)&&(P=!T&&this.axesData.y.switchAxisPosition,h.hierStack=M.createStackedAxis(this.categories,V,p,T,P))}return this.finalizeAxisLabels(h,l),h},M.createStackedAxis=function(i,g,e,h,b){if(void 0===h&&(h=!0),void 0===b&&(b=!1),!_.isEmpty(i)){for(var f=i.length,S=e.stackHeight,v=M.getLeafHeight(h?e.xMax:b?e.yRight:e.yLeft,S,f),C=[],N=L.AxisHelper.getCategoryThickness(g.scale),x=[],t=function(o){for(var r=o===f-1,n=f-o-1,l=i[o],s=(r||(l.source.identityExprs,x.push.apply(x,l.source.identityExprs||[])),[]),c=[],u=[],p=[],d=[],m=0,y=void 0,e=l.values.length,t=0;t<e;t++)!(function(e){var t,a=r?l.identity[e]:M.getSpecificIdentityFromCompositeIdentity(l,e,x),i=l.values[e],i=L.converterHelper.formatFromMetadataColumn(i,l.source,L.columnChartProps.general.formatString);!r&&y&&D.DataViewScopeIdentity.equals(y,a)?(s[e]=M.hierarchyPlaceholder,m++):(0<m&&!r&&(p[t=e-m]=M.getMaxCategoryWidth(m,N),d[t]=M.getHierarchyLineStyleInfo({levelIndex:n,stackHeight:S,leafHeight:v,categorySpanCount:m,categoryWidth:N},h,b)),m=1,s[e]=i,c[e]=function(){return L.SelectionIdBuilder.builder().withCategoryIdentity(l,e,a).createSelectionId()},u[e]={categoryIndex:e,seriesIndex:o}),y=a})(t);0<m&&!r&&(p[a=e-m]=M.getMaxCategoryWidth(m,N),d[a]=M.getHierarchyLineStyleInfo({levelIndex:n,stackHeight:S,leafHeight:v,categorySpanCount:m,categoryWidth:N},h,b));var a=D.Prototype.inherit(g);a.isStacked=!0,a.adjustedValues=s,g.categoryIdentities&&(a.categoryIdentities=c,a.categoryHierarchyPointers=u),a.axis=L.AxisHelper.createStackedAxis({axis:a.axis,scale:a.scale,tickFormat:function(e){return s[e]!==M.hierarchyPlaceholder?s[e]:null}}),a.categoryThickness=N,a.levelIndex=n,a.lineStyleInfo=d,a.values=s,a.categoryLabelMaxWidths=p,r?a.levelSize=v:(a.levelSize=S,a.willLabelsFit=!0,a.willLabelsWordBreak=!1),C.unshift(a)},a=0;a<f;a++)t(a);return C}},M.shouldRenderAnyAxis=function(e){return e&&(e.x||e.y)},M.getSpecificIdentityFromCompositeIdentity=function(e,t,a){e=e.identity,e=e[t],t=D.data.ScopeIdentityExtractor.getSubset(e.expr,a);return D.data.createDataViewScopeIdentity(t)},M.getCategorySpanSize=function(e,t){return e*t},M.getMaxCategoryWidth=function(e,t){return M.getCategorySpanSize(e,t)-2*L.CartesianHelper.TickLabelPadding},M.getHierarchyLineStyleInfo=function(e,t,a){void 0===t&&(t=!0),void 0===a&&(a=!1);var i=M.getCategorySpanSize(e.categorySpanCount,e.categoryWidth);return t?M.createHierarchyLineStyleInfo(e.levelIndex,e.stackHeight,e.leafHeight,i):M.createY1HierarchyLineStyleInfo(e.levelIndex,e.stackHeight,e.leafHeight,i,a)},M.createHierarchyLineStyleInfo=function(e,t,a,i){var o,r;if(0!==e)return r={x1:i/2,y1:t,x2:i/2,y2:1===e?-a:0},(o=[]).push({x1:-i/2,y1:t,x2:-i/2,y2:1===e?-a:0}),o.push(r),1<e&&o.push({x1:-i/2,y1:0,x2:i/2,y2:0}),o},M.createY1HierarchyLineStyleInfo=function(e,t,a,i,o){var r,n;if(0!==e)return n={x1:-t,x2:1===e?a:0,y1:i/2,y2:i/2},(r=[]).push({x1:-t,x2:1===e?a:0,y1:-i/2,y2:-i/2}),r.push(n),1<e&&r.push({x1:0,x2:0,y1:-i/2,y2:i/2}),o&&r.forEach((function(e){e.x1=-e.x1-t,e.x2=-e.x2-t})),r},M.updateWillRenderAxis=function(e,t){return{x:e.x&&t.x&&!_.isEmpty(t.x.values),y:e.y&&t.y1&&!_.isEmpty(t.y1.values),y2:e.y2&&t.y2&&!_.isEmpty(t.y2.values)}},M.prototype.negotiateAxes=function(e){var t,a=e.layers,i=e.padding,o=e.showAxisTitles,r=e.forceMarginMin,n=D.Prototype.inherit(M.MinimumMargin),l={left:0,top:0,bottom:0,right:0},s={left:0,top:0,bottom:0,right:0},c=this.axesData,c=c&&c.categoryAxis&&c.categoryAxis.maxMarginFactor||M.DefaultMaxMarginFactor,u=D.Prototype.inherit(e.parentViewport),p=u.width*c,p={left:p,right:p,top:0,bottom:Math.max(M.MinimumMargin.bottom,Math.ceil(u.height*c))},c=!1,a=(_.isEmpty(a)||a[0].getVisualCategoryAxisIsScalar&&(c=a[0].getVisualCategoryAxisIsScalar()),this.calculateAxesRenderOptions({options:e,viewport:u,axesMargins:n,scrollHandleMargins:l,axesOverflow:s,isScalar:c,marginLimits:p,isScrollVisible:!1,recalculateWordBreak:!0})),d=this.getAxesMarginFactors(a.axes),d=(n=(a=this.calculateAxesRenderOptions({options:e,viewport:u,axesMargins:n,scrollHandleMargins:l,axesOverflow:s,isScalar:c,marginLimits:p,isScrollVisible:!1,recalculateWordBreak:!0,axesRenderOptions:a,forceMarginMin:r})).axesMargins,e.rotateXTickLabels90=e.rotateXTickLabels90||!this.willAllCategoriesFitInPlotArea(a.plotArea,a.preferredPlotArea),this.shouldRecalculateRenderOptions(d,a.axes,e.rotateXTickLabels90)&&(n=(a=this.calculateAxesRenderOptions({options:e,viewport:u,axesMargins:n,axesOverflow:s,scrollHandleMargins:l,isScalar:c,marginLimits:p,isScrollVisible:e.rotateXTickLabels90,recalculateWordBreak:!1,axesRenderOptions:a,forceMarginMin:r})).axesMargins,!this.willAllCategoriesFitInPlotArea(a.plotArea,a.preferredPlotArea))&&(t=this.updateScrollMargins(a.axes,u,l),n=(a=this.calculateAxesRenderOptions({options:e,viewport:u,axesMargins:n,scrollHandleMargins:l,axesOverflow:s,isScalar:c,marginLimits:p,isScrollVisible:!0,recalculateWordBreak:!1,axesRenderOptions:a,skipTickMarginsUpdate:!0,scrollBarVisibility:t,forceMarginMin:r})).axesMargins),a.axes),s=o.x&&d.x?d.x.axisLabel:null,c=o.y&&d.y1?d.y1.axisLabel:null,r=o.y2&&d.y2?d.y2.axisLabel:null;return this.layout={axes:d,axisLabels:{x:s,y:c,y2:r},margin:n,marginLimits:p,viewport:u,plotArea:a.plotArea,preferredPlotArea:a.preferredPlotArea,tickLabelMargins:a.tickLabelMargins,tickPadding:i,titleMargins:a.titleMargins,rotateXTickLabels90:e.rotateXTickLabels90,shouldRenderAxis:a.willRenderAxis,isXScrollBarVisible:t&&t.isXVisible,isYScrollBarVisible:t&&t.isYVisible,scrollHandleMargins:l,axesOverflow:a.tickLabelMargins.overflow},this.alignZerosWithCustomDomainWarning=d.alignZerosWithCustomDomainWarning,this.layout},M.prototype.updateScrollMargins=function(e,t,a){var i=!1,o=!1;return e.x.isCategoryAxis&&(i=!0,t.height-=this.scrollbarWidth,a.bottom=this.scrollbarWidth),e.y1.isCategoryAxis&&(o=!0,t.width-=this.scrollbarWidth,(null==(t=null==(e=this.axesData)?void 0:e.y)?void 0:t.switchAxisPosition)?a.right=this.scrollbarWidth:a.left=this.scrollbarWidth),{isXVisible:i,isYVisible:o}},M.prototype.shouldRecalculateRenderOptions=function(e,t,a){var i=this.getAxesMarginFactors(t);return!!(t.y1&&i.tickCountY1!==e.tickCountY1||t.y2&&i.tickCountY2!==e.tickCountY2||t.x&&i.willFitX!==e.willFitX||t.x&&i.willBreakX!==e.willBreakX||t.x&&i.xLabelMaxWidth!==e.xLabelMaxWidth||a||this.isHierarchicalCategoryAxis||t.x&&i.categoryThickness!==e.categoryThickness)},M.prototype.getAxesMarginFactors=function(e){return{tickCountY1:e.y1&&e.y1.values.length,tickCountY2:e.y2&&e.y2.values.length,willFitX:e.x&&e.x.willLabelsFit,willBreakX:e.x&&e.x.willLabelsWordBreak,xLabelMaxWidth:e.x&&e.x.xLabelMaxWidth,categoryThickness:e.x&&e.x.categoryThickness}},M.prototype.calculateAxesRenderOptions=function(e){var t,a,i,o=e.options,r=e.viewport,n=e.scrollHandleMargins,l=e.isScalar,s=e.marginLimits,c=e.isScrollVisible,u=e.recalculateWordBreak,p=e.axesRenderOptions,d=e.skipTickMarginsUpdate,m=e.scrollBarVisibility,y=e.forceMarginMin,g=e.axesMargins,e=e.axesOverflow,h=p?p.willRenderAxis:o.shouldRenderAxis,b=null==p?void 0:p.axes,f={top:0,bottom:0,left:0,right:0},p=(p&&(S=p.axes,t=p.willRenderAxis,i=p.plotArea,a=this.shouldShowY1OnRight(),i=d?p.tickLabelMargins:L.AxisHelper.getTickLabelMargins({plotArea:i,yMarginLimit:s.left,textWidthMeasurer:D.TextMeasurementService.measureSvgTextWidth,textHeightMeasurer:D.TextMeasurementService.estimateSvgTextHeight,axes:S,bottomMarginLimit:s.bottom,axesFontProperties:o.axesFontProperties,rotate90:o.rotateXTickLabels90,showOnRight:a,renderXAxis:t.x,renderY1Axis:t.y,renderY2Axis:t.y2,numHierarchyLevels:L.AxisHelper.isHierarchical(S.x)?S.x.numLevels:L.AxisHelper.isHierarchical(S.y1)?S.y1.numLevels:void 0}),g=(d=this.updateAxisMargins(S,i,o.padding,a,l?0:o.interactivityRightMargin,o.showAxisTitles,t,o.axesFontProperties,null==m?void 0:m.isXVisible,null==m?void 0:m.isYVisible,y)).axesMargins,f=d.titleMargins,e=i.overflow),o.layers&&this.axesData.isLineComboChart?M.getMaximumSeriesSettings(o.layers):{seriesColor:"#FFF",seriesPosition:L.labelSeriesPosition.right,fontProperties:L.DataLabelViewModel.getDefaultLabelSettings({labelColor:"#FFF",textClassName:"smallLightLabel"}).fontProperties,seriesWordWrap:!1,seriesMaximumWidth:20,defaultSeriesWidth:20,showLabelPerSeries:!1,enableBackground:!1,show:!1}),s=this.axesData.show&&(this.axesData.isComboChart&&this.axesData.hasY2Role||!this.axesData.isComboChart),S=o.calculatePlotArea({viewport:r,axesMargins:g,axesOverflow:e,titleMargins:f,willRenderAxis:h,axes:b,scrollHandleMargins:n,layerSeriesData:p,showSeriesLabels:s}),b=this.calculateAxes(o.layers,this.calculateLayerViewport(S,g),g,o.playAxisControlLayout,o.axesFontProperties,c,u?null:b,o.showAxisTitles,o.ensureXDomain,o.ensureYDomain,o.ensureY2Domain,i,h,l,o.skipMergeValueAxes);return{plotArea:S,preferredPlotArea:this.getPreferredPlotArea(b,o.layers,l),axes:b,axesMargins:g,titleMargins:f,willRenderAxis:M.updateWillRenderAxis(h,b),tickLabelMargins:i}},M.prototype.getPreferredPlotArea=function(e,t,a){var i,o;return!a&&this.isScrollable&&!_.isEmpty(t)&&t[0].getPreferredPlotArea&&(i=(e.x.isCategoryAxis?e.x:e.y1).categoryThickness,o=(e.x.isCategoryAxis?e.x:e.y1).dataDomain.length,e=(e.x.isCategoryAxis?e.x:e.y1).outerPaddingRatio,o=t[0].getPreferredPlotArea(a,o,i,e)),o},M.adjustAxesMarginsForShared=function(e,t,a,i,o,r,n){a=a||{left:0,right:0,bottom:0,top:0};var l=M.shouldReserveAxisSpace(null==r?void 0:r.y1,i.y,n.y),s=M.shouldReserveAxisSpace(null==r?void 0:r.y2,i.y2,n.y2),r={bottom:M.shouldReserveAxisSpace(null==r?void 0:r.x,i.x,n.x)?e.bottom:0,top:0,left:0,right:0};return o?(l&&(r.right=(i.y?e:t).right),s&&(r.left=(i.y2?e:t).left)):(l&&(r.left=(i.y?e:t).left),s&&(r.right=(i.y2?e:t).right)),{left:r.left+a.left,right:r.right+a.right,bottom:r.bottom+a.bottom,top:0}},M.prototype.calculateLayerViewport=function(e,t){return{width:e.width+t.left+t.right,height:e.height+t.top+t.bottom,scale:e.scale}},M.prototype.willAllCategoriesFitInPlotArea=function(e,t){return!(!this.isYAxisCategorical&&t&&D.Double.greaterWithPrecision(t.width,e.width)||this.isYAxisCategorical&&t&&D.Double.greaterWithPrecision(t.height,e.height))},M.prototype.updateAxisMargins=function(e,t,a,i,o,r,n,l,s,c,u){var p={top:0,bottom:0,left:0,right:0},d=i?t.yRight:t.yLeft,m=i?t.yLeft:t.yRight,y=t.xMax;n.y&&(d+=i?a.right:a.left),n.y2&&(m+=i?a.left:a.right),n.x&&(y+=a.bottom);var g,n=e.x.axisLabel,a=e.y1.axisLabel,e=e.y2?e.y2.axisLabel:null,n=(null!=n&&r.x&&(g=D.TextMeasurementService.estimateSvgTextHeight(L.FontProperties.toTextProperties(l.x.title)),p.bottom=g+M.XAxisLabelPadding+M.XAxisPaddingDeltaForTitle,y+=p.bottom),null!=a&&r.y&&(n=(g=D.TextMeasurementService.estimateSvgTextHeight(L.FontProperties.toTextProperties(l.y.title)))+M.YAxisLabelPadding,i?p.right=n:p.left=n,d+=n),null!=e&&r.y2&&(a=(g=D.TextMeasurementService.estimateSvgTextHeight(L.FontProperties.toTextProperties(l.y2.title)))+M.YAxisLabelPadding,i?p.left=a:p.right=a,m+=a),(i?d:m)+o),n=c?Math.max(n,M.MinimumAxisMarginFromScrollbar):n,e=y,e=s?Math.max(e,M.MinimumAxisMarginFromScrollbar):e,r=(t.overflow.top=Math.max(t.yTop,M.MinimumMargin.top),{top:t.overflow.top,left:i?m:d,right:n,bottom:e});return{axesMargins:r=u?{top:Math.max(r.top,u.top),bottom:Math.max(r.bottom,u.bottom),left:Math.max(r.left,u.left),right:Math.max(r.right,u.right)}:r,titleMargins:p}},M.prototype.getAxis=function(e){var t,a=null==(t=this.layout)?void 0:t.axes;switch(e){case 0:return null==a?void 0:a.x;case 1:return null==a?void 0:a.y1;case 2:return null==a?void 0:a.y2}},M.prototype.isLogScaleAllowed=function(e){return null!=(e=null==(e=this.getAxis(e))?void 0:e.isLogScaleAllowed)&&e},M.shouldReserveAxisSpace=function(e,t,a){return t||e&&null!=e.axisLabel&&a},M.prototype.axesHaveTicks=function(e){var t,a;return!!this.layout&&(t=this.layout.margin,a=e.width-(t.left+t.right),e=e.height-(t.top+t.bottom),0!==L.AxisHelper.getRecommendedNumberOfTicksForXAxis(a)||0!==L.AxisHelper.getRecommendedNumberOfTicksForYAxis(e))},M.prototype.finalizeAxisLabels=function(e,t){var a,i;(this.axesData.x.showAxisTitle||this.axesData.y.showAxisTitle||this.axesData.y2.showAxisTitle)&&(a={x:e.x?null!=(a=this.axesData.x.titleText)?a:e.x.axisLabel:void 0,y:e.y1?null!=(a=this.axesData.y.titleText)?a:e.y1.axisLabel:void 0,y2:e.y2?null!=(a=this.axesData.y2.titleText)?a:e.y2.axisLabel:void 0},i=M.getUnitType(e.x.formatter),e.x.isCategoryAxis?this.categoryAxisHasUnitType=null!=i:this.valueAxisHasUnitType=null!=i,a.x&&i&&(a.x=L.AxisViewModel.createAxisLabel(this.axesData.x.axisStyle,a.x,i)),i=M.getUnitType(e.y1.formatter),e.y1.isCategoryAxis?this.categoryAxisHasUnitType=null!=i:this.valueAxisHasUnitType=null!=i,a.y&&i&&(a.y=L.AxisViewModel.createAxisLabel(this.axesData.y.axisStyle,a.y,i)),e.y2&&(i=M.getUnitType(e.y2.formatter),this.secondaryValueAxisHasUnitType=null!=i,a.y2)&&i&&(a.y2=L.AxisViewModel.createAxisLabel(this.axesData.y2.axisStyle,a.y2,i)),null!=(i=this.axisZoom)&&i.updateAxisTitles(a),e.x&&(e.x.axisLabel=t.x?a.x:null),e.y1&&(e.y1.axisLabel=t.y?a.y:null),e.y2)&&(e.y2.axisLabel=t.y2?a.y2:null)},M.getUnitType=function(e){if(e&&e.displayUnit&&1<e.displayUnit.value)return e.displayUnit.title},M.getMaximumSeriesSettings=function(e){var t,a,i;return 1<e.length?(t=e[0].getSeriesSettings(),a=e[1].getSeriesSettings(),i=t.seriesMaximumWidth,a.seriesMaximumWidth<i?t:a):e[0].getSeriesSettings()},M.hierarchyPlaceholder={placeholder:!0},M.YAxisLabelPadding=5,M.XAxisLabelPadding=3,M.XAxisPaddingDeltaForTitle=-6,M.DefaultMaxMarginFactor=.25,M.MinimumMargin={left:1,right:1,top:8,bottom:25},M.MinimumAxisMarginFromScrollbar=5;var P=M;function M(e,t,a){this.scrollbarWidth=t,this.isScrollable=e,this.trimOrdinalDataOnOverflow=a}function R(e){return 1<e.length}function A(e){return{pos:+e[1]/(e[1]-e[0]),neg:(0-e[0])/(e[1]-e[0])}}L.CartesianAxes=P})(powerbi=powerbi||{}),(function(s){var c,o,n;c=s.visuals||(s.visuals={}),o=s.data.CompiledDataViewMapping,c.DEFAULT_FONT_FAMILY=c.Font.Family.regular.css,c.DefaultInnerPaddingRatio=.2,c.SetFocusRingClassName="setFocusRing",c.CurrentFocusDataPointId="currentFocusDataPoint",(n=c.CartesianHelper||(c.CartesianHelper={})).DefaultConcatenateLabelsValue=!0,n.MinOrdinalRectThickness=20,n.TickLabelPadding=2,n.DefaultAxisFontFamily=c.Font.Family.regular.css,n.DefaultAxisFontSizeInPt=8,n.DefaultAxisFontWeight="normal",n.DefaultAxisFontStyle="normal",n.DefaultAxisFontDecoration="none",n.AxisFontFamily=c.Font.Family.regular.css,n.DefaultOuterPaddingRatio=.4,n.defaultLineStrokeWidth=2,n.DefaultAxisFontColorName="foregroundNeutralSecondaryAlt",n.DefaultGridlineColorName="foregroundNeutralLight",n.DefaultGridlineDottedColorName="foregroundNeutralTertiaryAlt",n.BubbleRefChartDim=300,n.BubbleRefChartMinPixels=4,n.BubbleRefChartMaxPixels=3e3,n.BubbleDefaultRadius=6,n.dataLabelLayoutStartingOffset=2,n.dataLabelLayoutOffsetIterationDelta=6,n.dataLabelLayoutMaximumOffset=n.dataLabelLayoutStartingOffset+2*n.dataLabelLayoutOffsetIterationDelta,n.getDefaultScatterRatioLineSettings=function(e){return{show:!1,lineColor:e?{solid:{color:c.ColorHelper.getThemeColor(e,"foregroundDark")}}:void 0,transparency:0,style:c.lineStyle.dashed}},n.getBubbleRadius=function(e,t,a,i){void 0===i&&(i=1);var o,r=null!=(r=null==(r=e.sizeMeasure)?void 0:r.values[e.index])?r:e.value;return null==r?i*n.BubbleDefaultRadius:(e=Math.min(a.height,a.width)/n.BubbleRefChartDim,e=n.BubbleRefChartMinPixels*(a=e*e),a=n.BubbleRefChartMaxPixels*a,o=(t={min:Math.min(null!=(o=t.min)?o:0,0),max:Math.max(null!=(o=t.max)?o:0,0)}).max-t.min,a=a-e,r=(Math.min(Math.max(r,t.min),t.max)-t.min)/(o||1),i*Math.sqrt((e+r*a)/Math.PI))},n.getRectTop=function(e,t,a){return a<0?e(t):e(t)-(e(0)-e(a))},n.getRectTopInverted=function(e,t,a){return a<0?e(t)-(e(0)-e(a)):e(t)},n.getLabelLayoutXYForWaterfall=function(t,a,n,l){return{x:function(e){return t.scale(e.categoryIndex)+a/2},y:function(e){var t=n.scale,a=l,i=t(0)-t(Math.abs(e.value)),o=t(e.position),a=t(a[0]),t=t(e.position+e.value);if(e.value<0){var r={text:e.labeltext,fontFamily:c.DataLabelViewModel.LabelTextProperties.fontFamily,fontSize:c.DataLabelViewModel.LabelTextProperties.fontSize,fontWeight:c.DataLabelViewModel.LabelTextProperties.fontWeight},r=o+i+s.TextMeasurementService.estimateSvgTextHeight(r);if(r<a)return r}else{r=o-i-c.DataLabelViewModel.labelMargin;if(0<r)return r}e.isLabelInside=!0;i=o,r=t,e=a;return i=(i=i<0?0:i)>e?e:i,r=(r=r<0?0:r)>e?e:r,Math.abs(r-i)/2+Math.min(i,r)}}},n.getCategoryAxisProperties=function(e,t){var a=t?{showAxisTitle:!0}:{};return e&&(e=e.objects)&&(e=e.categoryAxis)&&((a=_.clone(e)).showAxisTitle=null==e.showAxisTitle?t:e.showAxisTitle),a},n.getValueAxisProperties=function(e,t,a){void 0===a&&(a="valueAxis");var i=t?{showAxisTitle:!0}:{};return e&&(e=e.objects)&&(e=e[a])&&((i=_.clone(e)).showAxisTitle=null==e.showAxisTitle?t:e.showAxisTitle),i},n.isScalar=function(e,t){return!(!e||t&&t.axisType&&t.axisType!==c.axisType.scalar)},n.getPreferredCategoryWidth=function(e){return null==(e=e.preferredCategoryWidth)?void 0:+e},n.getReverseStackOrder=function(e){return null!=(e=e.reverseStackOrder)&&e},n.lookupXValue=function(e,t,a,i){var o=c.AxisHelper.isDateTime(a);if(i)return o?s.PBIFormattingDate.fromTimeValue(t):t;if(a.text)return e.categories[t];if(e&&e.series&&0<e.series.length){i=e.series[0];if(i){a=i.data;if(a){e.hasHighlights&&(t*=2);i=a[t];if(i)return o&&null!=i.categoryValue?s.PBIFormattingDate.fromTimeValue(i.categoryValue):i.categoryValue}}}return t},n.findMaxCategoryIndex=function(e){if(_.isEmpty(e))return 0;for(var t=0,a=0,i=e;a<i.length;a++){var o=i[a];_.isEmpty(o.data)||(o=o.data[o.data.length-1].categoryIndex,t=Math.max(o,t))}return t},n.getCategoryIdentity=function(e,t){return c.SelectionIdBuilder.builder().withCategory([t],e,null==(e=null==t?void 0:t.source)?void 0:e.queryName,!0).createSelectionId()},n.getScalarKeyinfo=function(e,t){var a,i,o=!1;return{category:t?(a=_.head(e.categories),i=c.ScalarUtils.getScalarKeys(a),(o=t&&i&&!_.isEmpty(i.values))?a:_.last(e.categories)):_.isEmpty(e.categories)?{source:void 0,values:[c.valueFormatter.format(null)],identity:void 0}:_.last(e.categories),useScalarKeys:o,scalarKeys:i}},n.hasCategoryHierarchy=function(e){return e&&e.categorical&&e.categorical.categories&&1<e.categorical.categories.length},n.expandCategoryWindow=function(e){if(function(e){if(_.isEmpty(e))return;return!_.some(e,(function(e){var e=e.categorical;return!!e&&!!e.categories&&!(!((e=e.values)&&e.group&&e.group.by)||_.isEmpty(e.group.by.items))}))}(e))for(var t=0,a=e;t<a.length;t++){var i=a[t];if(!i.categorical)return;i=i.categorical.categories;if(!i||!i.dataReductionAlgorithm||!i.dataReductionAlgorithm.window)return;i.dataReductionAlgorithm={window:{count:1e3}}}},n.requestFilteredToUniqueValue=function(e){for(var t=0,a=e;t<a.length;t++){var i=a[t].categorical.categories;s.data.CompiledDataViewMapping.visitCategoricalCategories(i,{visitRole:function(t){var e=t.items;if(!_.isEmpty(e)&&!_.isEmpty(t.activeItems))for(var a=0,i=_.filter(e,(function(e){return _.includes(t.activeItems,e.queryName)}));a<i.length;a++)i[a].filteredToUniqueValueProperty=c.cartesianChartProps.filters.filteredToUniqueValue}})}},n.applyHierarchicalSorts=function(e,n,l){void 0===l&&(l=1);for(var t=function(e){var r;return!(e&&e.categorical&&e.categorical.categories&&e.metadata)||(r=e.metadata.columns,e=e.categorical.categories,_.some(r,(function(e){return void 0!==e.sort})))?"continue":void o.visitCategoricalCategories(e,{visitRole:function(e,t){if(_.includes(n,e.role)){e=e.activeItems;if(!_.isEmpty(e))for(var a=0,i=0,o=e;i<o.length;i++)!(function(t){var e=_.find(r,(function(e){return e.queryName===t}));e&&(e.sort=l,e.sortOrder=a++)})(o[i])}}})},a=0,i=e;a<i.length;a++)t(i[a])},n.extractCategoryFromDataPoint=function(e){if(e)return{categoryIndex:e.categoryIndex,categoryValue:e.categoryValue,hierarchyCategoryLevels:e.hierarchyCategoryLevels,hasData:null!=e.value}},n.getFirstMetadataColumn=function(e){return e[0]}})(powerbi=powerbi||{}),(function(e){var h;((h=e.visuals||(e.visuals={})).AxesLayoutUtils||(h.AxesLayoutUtils={})).getAxisTickLabelMargins=function(e,t,a,i){var o=e.scale,r=e.axis.tickValues();if(_.isEmpty(r))return{maxWidth:0,overflow:{top:0,bottom:0}};p=h.AxisHelper.isScaleBand(o)?(d=(p=o.range())[0],p[1]):(p=o.range(),d=_.head(p),_.last(p));for(var n,l,s,c=e.values,e=d<p?(n=d,l=o(_.head(r)),s=p,o(_.last(r))):(n=p,l=o(_.last(r)),s=d,o(_.head(r))),u=h.FontProperties.toTextProperties(t,""+_.head(c)),p=i(u),d=Math.max(0,-(l-p/2-n)),o=Math.max(0,e+p/2-s),m=0,y=0,g=c.length;y<g;y++)u.text=""+c[y],m=Math.max(m,a(u));return{maxWidth:m,overflow:{top:d,bottom:o},textHeight:p}}})(powerbi=powerbi||{}),(function(a){var o,r,n,t;function l(e,t,a){return!!s(a)&&!!i(e,t)}function i(e,t){return!e||null==(e=a.DataViewObjects.getValue(e,t))||e===o.axisType.scalar}function s(e){return!o.AxisHelper.isOrdinal(e)}o=a.visuals||(a.visuals={}),n=a.data.CompiledDataViewMapping,t=a.data.ScalarKeyUtils,(r=o.ScalarUtils||(o.ScalarUtils={})).shouldDrawScalar=function(e,t,a,i,o){return!(o&&!i)&&(!!r.scalarKeysAreValid(i)||r.canHaveScalarAxis(e,t,a))},r.canHaveScalarAxis=l,r.scalarAxisTypeAllowed=i,r.typeCanBeScalar=s,r.scalarKeysAreValid=function(e){return e&&!_.isEmpty(e.values)},r.getScalarKeys=function(e){return t.getScalarKeys(e,o.cartesianChartProps.scalarKey.scalarKeyMin)},r.mappingSupportsScalarAxis=function(e,t){if(!e)return!1;if(!e.metadata)return!1;if(e.categorical&&e.categorical.categories&&n.isCompiledDataViewRoleForMapping(e.categorical.categories)?i=e.categorical.categories.for.in:t&&o.SmallMultiplesUtils.isSmallMultiplesMapping(e)&&(i=o.SmallMultiplesUtils.getCategoryMapping(e).for.in),null==i)return!1;if(t=i.items,_.isEmpty(t))return!1;var a=i.activeItems,i=t[0];if(!_.isEmpty(a)){if(1<a.length)return!1;t=_.find(t,(function(e){return e.queryName===a[0]})),i=t}return t=i.type,!!l(e.metadata.objects,o.columnChartProps.categoryAxis.axisType,t)}})(powerbi=powerbi||{}),(function(i){var e;function a(){}e=i.visuals||(i.visuals={}),a.getResponsiveVisualProperties=function(e,t){var a={responsive:!1,responsiveLegacy:!1};return e&&e.metadata&&(e=e.metadata.objects)&&(a.responsive=i.DataViewObjects.getValue(e,t.general.responsive,a.responsive),t.general.responsiveLegacy)&&(a.responsiveLegacy=i.DataViewObjects.getValue(e,t.general.responsiveLegacy,a.responsiveLegacy)),a},a.cloneData=function(e){var t=_.cloneDeep(e);return i.Prototype.copyPrototypeDeep(e,t),t},a.shouldApplyResponsiveChanges=function(e,t){return a.getResponsiveVisualProperties(e,t).responsive},e.ViewModelAdapterUtils=a})(powerbi=powerbi||{}),(function(r){var i,e,t;function n(){}i=r.visuals||(r.visuals={}),e=i.samples||(i.samples={}),t=i.utility.SelectionManager,n.converter=function(e){var t={size:n.getSize(e),color:n.getFill(e).solid.color,text:n.DefaultText,toolTipInfo:[{displayName:"Test",value:"1...2....3... can you see me? I am sending random strings to the tooltip"}],selector:i.SelectionId.createNull()},a=e.table;return a&&(t.text=a.rows[0][0],e.categorical)&&(t.selector=e.categorical.categories[0].identity?i.SelectionId.createWithId(e.categorical.categories[0].identity[0]):i.SelectionId.createNull()),t},n.prototype.init=function(e){this.root=d3.select(e.element.get(0)).append("svg").classed("hello",!0),this.svgText=this.root.append("text").style("cursor","pointer").style("stroke","green").style("stroke-width","0px").attr("text-anchor","middle"),this.selectiionManager=new t({hostServices:e.host})},n.prototype.update=function(e){var a,t,i,o;(e.dataViews||e.dataViews[0])&&(t=this.dataView=e.dataViews[0],e=e.viewport,a=n.converter(t),this.root.attrs({height:e.height,width:e.width}),t={fontFamily:"tahoma",fontSize:a.size+"px",text:a.text},i=r.TextMeasurementService.estimateSvgTextHeight(t),o=this.selectiionManager,this.svgText.styles({fill:a.color,"font-size":t.fontSize,"font-family":t.fontFamily}).attrs({y:e.height/2+i/3+"px",x:e.width/2}).text(a.text).on("click",(function(){var t=this;o.select(a.selector).pipe((function(e){return d3.select(t).style("stroke-width",0<e.length?"2px":"0px")}))})).data([a]))},n.getFill=function(e){if(e){e=e.metadata.objects;if(e){e=e.general;if(e){e=e.fill;if(e)return e}}}return{solid:{color:"red"}}},n.getSize=function(e){if(e){e=e.metadata.objects;if(e){e=e.general;if(e){e=e.size;if(e)return e}}}return 100},n.prototype.enumerateObjectInstances=function(e){var t=[],a=this.dataView;return"general"===e.objectName&&(e={objectName:"general",displayName:"General",selector:null,properties:{fill:n.getFill(a),size:n.getSize(a)}},t.push(e)),t},n.prototype.destroy=function(){this.root=null},n.capabilities={dataRoles:[{displayName:"Values",name:"Values",kind:r.VisualDataRoleKind.GroupingOrMeasure}],dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:100}}},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:r.data.createDisplayNameGetter("Visual_General"),properties:{fill:{type:{fill:{solid:{color:!0}}},displayName:"Fill"},size:{type:{numeric:!0},displayName:"Size"}}}}},n.DefaultText="Invalid DV",e.HelloIVisual=n})(powerbi=powerbi||{}),(function(c){var l,t;function u(){this.isFirstTime=!0}l=c.visuals||(c.visuals={}),t=l.utility.SelectionManager,l.cheerMeterProps={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}}},u.converter=function(e){var t,a,i,o,r,n;return!e.categorical||!e.categorical.categories||!(n=e.categorical.categories[0])||!(t=n.values)||_.isEmpty(e.categorical.values)?null:(a=e.categorical.values[0].values,o=(r=e.categorical.categories[0].objects)&&0<r.length?r[0]:void 0,r=r&&1<r.length?r[1]:void 0,e=e.metadata.objects,i=u.DefaultBackgroundColor,e&&(e=e.general)&&(e=e.fill)&&(i=e.solid.color),e=c.DataViewObjects.getFillColor(o,l.cheerMeterProps.dataPoint.fill,u.DefaultFontColor),o=c.DataViewObjects.getFillColor(r,l.cheerMeterProps.dataPoint.fill,u.DefaultFontColor),r=l.SelectionIdBuilder.builder().withCategory([n],0,null==(r=null==n?void 0:n.source)?void 0:r.queryName,!0).createSelectionId(),n=l.SelectionIdBuilder.builder().withCategory([n],1,null==(n=null==n?void 0:n.source)?void 0:n.queryName,!0).createSelectionId(),{teamA:{name:t[0],value:a[0],color:e,identity:r},teamB:{name:t[1],value:a[1],color:o,identity:n},background:i})},u.prototype.init=function(e){this.selectionManager=new t({hostServices:e.host});e=this.svg=d3.select(e.element.get(0)).append("svg");this.textOne=e.append("text").style("font-family",u.DefaultFontFamily),this.textTwo=e.append("text").style("font-family",u.DefaultFontFamily)},u.prototype.update=function(e){var t,a;e.dataViews&&e.dataViews[0]&&(t=this.data=u.converter(e.dataViews[0]))&&(a=e.suppressAnimations?0:l.AnimatorCommon.MinervaAnimationDuration,this.draw(t,a,e.viewport))},u.prototype.getRecomendedFontProperties=function(e,t,a){for(var i,o={fontSize:"",fontFamily:u.DefaultFontFamily,text:e+t},r=1,n=1e3,l=a.width,s=0;r<=n;)if(o.fontSize=(i=(r+n)/2|0)+"px",(s=c.TextMeasurementService.measureSvgTextWidth(o))<l)r=i+1;else{if(!(l<s))break;n=i-1}return o.fontSize=i+"px",l<(s=c.TextMeasurementService.measureSvgTextWidth(o))&&(o.fontSize=--i+"px"),o},u.prototype.calculateLayout=function(e,t){var a=e.teamA.name,i=e.teamB.name,o={height:t.height,width:t.width-u.PaddingBetweenText},o=this.getRecomendedFontProperties(a,i,o),r=(o.text=a,0|c.TextMeasurementService.measureSvgTextWidth(o)),n=(o.text=i,0|c.TextMeasurementService.measureSvgTextWidth(o)),n=(t.width-r-n-u.PaddingBetweenText)/2|0,a=(o.text=a+i,0|c.TextMeasurementService.measureSvgTextHeight(o)),i=e.teamA.value+e.teamB.value,t=t.height-a,l=(i-e.teamA.value)/i*t+a/2|0,e=(i-e.teamB.value)/i*t+a/2|0;return{x1:n,x2:n+r+u.PaddingBetweenText,y1:l,y2:e,fontSize:o.fontSize}},u.prototype.ensureStartState=function(e,t){this.isFirstTime&&(this.isFirstTime=!1,t=t.height/2,this.textOne.attrs({x:e.x1,y:t}),this.textTwo.attrs({x:e.x2,y:t}))},u.prototype.clearSelection=function(){var e=this;this.selectionManager.clear().pipe((function(){e.clearSelectionUI()}))},u.prototype.clearSelectionUI=function(){this.textOne.style("stroke","#FFF").style("stroke-width",0),this.textTwo.style("stroke","#FFF").style("stroke-width",0)},u.prototype.updateSelectionUI=function(e){this.textOne.style("stroke","#FFF").style("stroke-width",t.containsSelection(e,this.data.teamA.identity)?"2px":"0px"),this.textTwo.style("stroke","#FFF").style("stroke-width",t.containsSelection(e,this.data.teamB.identity)?"2px":"0px")},u.prototype.draw=function(e,t,a){var i=this,o=d3.easeBack,r=this.textOne,n=this.textTwo,l=(this.svg.attrs({height:a.height,width:a.width}).on("click",(function(){i.clearSelection()})).style("background-color",e.background),this.calculateLayout(e,a));this.ensureStartState(l,a),r.style("font-size",l.fontSize).style("fill",e.teamA.color).on("click",(function(){i.selectionManager.select(e.teamA.identity,d3.event.ctrlKey).pipe((function(e){i.updateSelectionUI(e)})),d3.event.stopPropagation()})).text(e.teamA.name),n.style("font-size",l.fontSize).style("fill",e.teamB.color).on("click",(function(){i.selectionManager.select(e.teamB.identity,d3.event.ctrlKey).pipe((function(e){i.updateSelectionUI(e)})),d3.event.stopPropagation()})).text(e.teamB.name),r.transition().duration(t).ease(o).attrs({y:l.y1,x:l.x1}),n.transition().duration(t).ease(o).attrs({y:l.y2,x:l.x2})},u.prototype.destroy=function(){this.svg=null,this.textOne=this.textTwo=null},u.prototype.enumerateObjectInstances=function(e){var t=[],a=this.data;switch(e.objectName){case"dataPoint":if(a)for(var i=0,o=[a.teamA,a.teamB];i<o.length;i++){var r=o[i],n=r.color,l=r.identity,r={objectName:"dataPoint",displayName:r.name,selector:l.getSelector(),properties:{fill:{solid:{color:n}}}};t.push(r)}break;case"general":var s={objectName:"general",displayName:"General",selector:null,properties:{fill:{solid:{color:a?a.background:u.DefaultBackgroundColor}}}};t.push(s)}return t},u.capabilities={dataRoles:[{displayName:"Category",name:"Category",kind:c.VisualDataRoleKind.Grouping},{displayName:"Noise Measure",name:"Y",kind:c.VisualDataRoleKind.Measure}],dataViewMappings:[{categorical:{categories:{for:{in:"Category"}},values:{select:[{bind:{to:"Y"}}]}}}],objects:{dataPoint:{displayName:c.data.createDisplayNameGetter("Visual_DataPoint"),description:c.data.createDisplayNameGetter("Visual_DataPointDescription"),properties:{fill:{displayName:c.data.createDisplayNameGetter("Visual_Fill"),type:{fill:{solid:{color:!0}}}},width:{displayName:"",type:{numeric:!0}}}},general:{displayName:"General",properties:{fill:{displayName:"Background color",type:{fill:{solid:{color:!0}}}}}}}},u.DefaultFontFamily="cursive",u.DefaultFontColor="rgb(165, 172, 175)",u.DefaultBackgroundColor="#243C18",u.PaddingBetweenText=15,l.CheerMeter=u})(powerbi=powerbi||{}),(function(e){e=e.visuals||(e.visuals={});function t(){}function a(){}function i(){}function o(){}function r(){}function n(){}function l(){}function s(){}function c(){}function u(){}function p(){}function d(){}function m(){}function y(){}function g(){}function h(){}function b(e){this.propertyName=e}function f(){}function S(){}function F(e){this.propertyName=e}function z(){}function B(){}function I(){}function H(){}function E(){}function G(){}function W(){}function U(){}function K(){}function Y(){}function v(){}function C(){}function q(){}function Q(){}function Z(){}function X(){}Object.defineProperty(t.prototype,"code",{get:function(){return"NoMapLocation"},enumerable:!1,configurable:!0}),t.prototype.getMessages=function(e){return{message:e.get("NoMapLocationMessage"),title:e.get("NoMapLocationKey"),detail:e.get("NoMapLocationValue")}},e.NoMapLocationWarning=t,Object.defineProperty(a.prototype,"code",{get:function(){return"NoValidGeotaggedCategory"},enumerable:!1,configurable:!0}),a.prototype.getMessages=function(e){return{message:e.get("NoValidGeotaggedCategoryMessage"),title:e.get("NoValidGeotaggedCategoryKey"),detail:e.get("NoValidGeotaggedCategoryValue")}},e.FilledMapWithoutValidGeotagCategoryWarning=a,Object.defineProperty(i.prototype,"code",{get:function(){return"InvalidGeocodingCulture"},enumerable:!1,configurable:!0}),i.prototype.getMessages=function(e){return{message:e.get("Visual_MapGeocodingCultureInvalid_Message"),title:e.get("Visual_MapGeocodingCultureInvalid_Key"),detail:e.get("Visual_MapGeocodingCultureInvalid_Value")}},e.InvalidGeocodingCulture=i,Object.defineProperty(o.prototype,"code",{get:function(){return"InvalidLatLong"},enumerable:!1,configurable:!0}),o.prototype.getMessages=function(e){return{message:e.get("InvalidLatLongMessage"),title:e.get("InvalidLatLongKey"),detail:e.get("InvalidLatLongValue")}},e.InvalidLatLongWarning=o,Object.defineProperty(r.prototype,"code",{get:function(){return"GeometryCulledWarning"},enumerable:!1,configurable:!0}),r.prototype.getMessages=function(e){return{message:e.get("GeometryCulledWarningMessage"),title:e.get("GeometryCulledWarningKey"),detail:e.get("GeometryCulledWarningVal")}},e.GeometryCulledWarning=r,Object.defineProperty(n.prototype,"code",{get:function(){return"NegativeValuesNotSupported"},enumerable:!1,configurable:!0}),n.prototype.getMessages=function(e){return{message:e.get("VisualWarning_NegativeValues"),title:"",detail:""}},e.NegativeValuesNotSupportedWarning=n,Object.defineProperty(l.prototype,"code",{get:function(){return"AllNegativeValuesNotSupported"},enumerable:!1,configurable:!0}),l.prototype.getMessages=function(e){return{message:e.get("VisualWarning_AllNegativeValues"),title:"",detail:""}},e.AllNegativeValuesWarning=l,Object.defineProperty(s.prototype,"code",{get:function(){return"NaNNotSupported"},enumerable:!1,configurable:!0}),s.prototype.getMessages=function(e){return{message:e.get("VisualWarning_NanValues"),title:"",detail:""}},e.NaNNotSupportedWarning=s,Object.defineProperty(c.prototype,"code",{get:function(){return"InfinityValuesNotSupported"},enumerable:!1,configurable:!0}),c.prototype.getMessages=function(e){return{message:e.get("VisualWarning_InfinityValues"),title:"",detail:""}},e.InfinityValuesNotSupportedWarning=c,Object.defineProperty(u.prototype,"code",{get:function(){return"ValuesOutOfRange"},enumerable:!1,configurable:!0}),u.prototype.getMessages=function(e){return{message:e.get("VisualWarning_VisualizationOutOfRange"),title:"",detail:""}},e.ValuesOutOfRangeWarning=u,Object.defineProperty(p.prototype,"code",{get:function(){return"ZeroValuesNotSupported"},enumerable:!1,configurable:!0}),p.prototype.getMessages=function(e){var t="VisualWarning_ZeroValues";return{message:e.get(t),title:e.get("VisualWarning_ZeroValuesTitle"),detail:e.get(t)}},e.ZeroValueWarning=p,Object.defineProperty(d.prototype,"code",{get:function(){return"AlignZerosWithCustomDomain"},enumerable:!1,configurable:!0}),d.prototype.getMessages=function(e){var t="VisualWarning_AlignZerosWithCustomDomain";return{message:e.get(t),title:e.get("VisualWarning_AlignZerosWithCustomDomainTitle"),detail:e.get(t)}},e.AlignZerosWithCustomDomainWarning=d,Object.defineProperty(m.prototype,"code",{get:function(){return"VisualKPIDataMissing"},enumerable:!1,configurable:!0}),m.prototype.getMessages=function(e){return{message:e.get("Visual_KPI_DataMissing"),title:"",detail:""}},e.VisualKPIDataMissingWarning=m,Object.defineProperty(y.prototype,"code",{get:function(){return"ScriptVisualNotRefreshed"},enumerable:!1,configurable:!0}),y.prototype.getMessages=function(e){var t="ScriptVisualRefreshWarningMessage";return{message:e.get(t),title:e.get(t),detail:e.get("ScriptVisualRefreshWarningValue")}},e.ScriptVisualRefreshWarning=y,Object.defineProperty(g.prototype,"code",{get:function(){return"DateSlicerNoData"},enumerable:!1,configurable:!0}),g.prototype.getMessages=function(e){return{message:e.get("VisualWarning_DateSlicerNoData"),title:"",detail:""}},e.DateSlicerNoDataWarning=g,Object.defineProperty(h.prototype,"code",{get:function(){return"DataLabelsNotRendered"},enumerable:!1,configurable:!0}),h.prototype.getMessages=function(e){var t="DataLabelsNotRenderedMessage";return{message:e.get(t),title:e.get(t),detail:e.get("DataLabelsNotRenderedValue")}},e.DataLabelsNotRenderedWarning=h,Object.defineProperty(b.prototype,"code",{get:function(){return"LegendFontSize"},enumerable:!1,configurable:!0}),b.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_LegendFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_LegendFontSize")}},e.LegendFontSizeWarning=b,Object.defineProperty(f.prototype,"code",{get:function(){return"LegendNotRendered"},enumerable:!1,configurable:!0}),f.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_LegendNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_LegendNotRendered")}},e.LegendNotRenderedWarning=f,Object.defineProperty(S.prototype,"code",{get:function(){return"LegendLocation"},enumerable:!1,configurable:!0}),S.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_LegendLocation";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_LegendLocation")}},e.LegendLocationWarning=S,Object.defineProperty(F.prototype,"code",{get:function(){return"AxisFontSize"},enumerable:!1,configurable:!0}),F.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_AxisFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_AxisFontSize")}},e.AxisFontSizeWarning=F,Object.defineProperty(z.prototype,"code",{get:function(){return"AxisAndAxisLabelsNotRendered"},enumerable:!1,configurable:!0}),z.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_AxisNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_AxisNotRendered")}},e.AxisAndAxisLabelsNotRenderedWarning=z,Object.defineProperty(B.prototype,"code",{get:function(){return"AxisLabelsNotRendered"},enumerable:!1,configurable:!0}),B.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_AxisLabelNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_AxisLabelNotRendered")}},e.AxisLabelsNotRenderedWarning=B,Object.defineProperty(I.prototype,"code",{get:function(){return"ZoomSlidersNotRendered"},enumerable:!1,configurable:!0}),I.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_ZoomSlidersNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_ZoomSlidersNotRendered")}},e.ZoomSlidersNotRenderedWarning=I,Object.defineProperty(H.prototype,"code",{get:function(){return"SmallMultiplesSubheaderNotRendered"},enumerable:!1,configurable:!0}),H.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersNotRendered")}},e.SmallMultiplesSubheadersNotRenderedWarning=H,Object.defineProperty(E.prototype,"code",{get:function(){return"SmallMultiplesSubheaderFontSize"},enumerable:!1,configurable:!0}),E.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersFontSize")}},e.SmallMultiplesSubheadersFontSizeWarning=E,Object.defineProperty(G.prototype,"code",{get:function(){return"SmallMultiplesPaddingSize"},enumerable:!1,configurable:!0}),G.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesPaddingSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesPaddingSize")}},e.SmallMultiplesPaddingSizeWarning=G,Object.defineProperty(W.prototype,"code",{get:function(){return"SmallMultiplesGridlinesSize"},enumerable:!1,configurable:!0}),W.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SmallMultiplesGridlinesSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SmallMultiplesGridlinesSize")}},e.SmallMultiplesGridlinesSizeWarning=W,Object.defineProperty(U.prototype,"code",{get:function(){return"SlicerHeaderNotRendered"},enumerable:!1,configurable:!0}),U.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SlicerHeaderNotRendered";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SlicerHeaderNotRendered")}},e.SlicerHeaderNotRenderedWarning=U,Object.defineProperty(K.prototype,"code",{get:function(){return"SlicerHeaderFontSize"},enumerable:!1,configurable:!0}),K.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_SlicerHeaderFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_SlicerHeaderFontSize")}},e.SlicerHeaderFontSizeWarning=K,Object.defineProperty(Y.prototype,"code",{get:function(){return"HorizontalSlicerFontSize"},enumerable:!1,configurable:!0}),Y.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_HorizontalSlicerFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_HorizontalSlicerFontSize")}},e.HorizontalSlicerFontSizeWarning=Y,Object.defineProperty(v.prototype,"code",{get:function(){return v.code},enumerable:!1,configurable:!0}),v.prototype.getMessages=function(e){var t="NoIdentityExprMessage";return{message:e.get(t),title:e.get(t),detail:e.get("NoIdentityExprValue")}},v.code="NoIdentityExprWarning",e.NoIdentityExprWarning=v,Object.defineProperty(C.prototype,"code",{get:function(){return C.code},enumerable:!1,configurable:!0}),C.prototype.getMessages=function(e){return{message:e.get("Visual_Error_SelectionNotShownMessage"),title:e.get("Visual_Error_SelectionNotShownKey"),detail:e.get("Visual_Error_SelectionNotShownValue")}},C.code="OnRestoreSelectionNotSupportedWarning",e.OnRestoreSelectionNotSupportedWarning=C,Object.defineProperty(q.prototype,"code",{get:function(){return"DataLabelsFontSize"},enumerable:!1,configurable:!0}),q.prototype.getMessages=function(e){var t="Visual_ResponsiveWarningMessage_DataLabelsFontSize";return{message:e.get(t),title:e.get(t),detail:e.get("Visual_ResponsiveWarningValue_DataLabelsFontSize")}},e.DataLabelsFontSizeWarning=q,Object.defineProperty(Q.prototype,"code",{get:function(){return"AzureMapsInvalidLatLong"},enumerable:!1,configurable:!0}),Q.prototype.getMessages=function(e){return{message:e.get("InvalidLatLongMessage"),title:e.get("InvalidLatLongKey"),detail:e.get("AzureMapsInvalidLatLongValue")}},e.AzureMapsInvalidLatLongWarning=Q,Object.defineProperty(Z.prototype,"code",{get:function(){return"AzureMapsControlLoad"},enumerable:!1,configurable:!0}),Z.prototype.getMessages=function(e){return{message:e.get("AzureMapsControlLoadMessage"),title:e.get("AzureMapsControlLoadTitle"),detail:e.get("AzureMapsControlLoadDetail")}},e.AzureMapsControlLoadWarning=Z,Object.defineProperty(X.prototype,"code",{get:function(){return"AzureMapsBrowserUnsupported"},enumerable:!1,configurable:!0}),X.prototype.getMessages=function(e){return{message:e.get("AzureMapsBrowserUnsupportedMessage"),title:e.get("AzureMapsBrowserUnsupportedTitle"),detail:e.get("AzureMapsBrowserUnsupportedDetail")}},e.AzureMapsBrowserUnsupportedWarning=X,$.prototype.getMessages=function(e,t,a,i){return{message:t&&e.get(t),title:a&&e.get(a),detail:i&&e.get(i)}};var N,x=$;function $(){}function w(){return null!==N&&N.apply(this,arguments)||this}__extends(w,N=x),Object.defineProperty(w.prototype,"code",{get:function(){return"AzureMapsFileRead"},enumerable:!1,configurable:!0}),w.prototype.getMessages=function(e){return N.prototype.getMessages.call(this,e,"AzureMapsFileReadMessage","AzureMapsFileReadTitle","AzureMapsFileReadDetail")},e.AzureMapsFileReadWarning=w,__extends(T,P=x),Object.defineProperty(T.prototype,"code",{get:function(){return"AzureMapsFilledMapData"},enumerable:!1,configurable:!0}),T.prototype.getMessages=function(e){return P.prototype.getMessages.call(this,e,"AzureMapsFilledMapDataMessage","AzureMapsFilledMapDataTitle","AzureMapsFilledMapDataDetail")};var P;function T(){return null!==P&&P.apply(this,arguments)||this}e.AzureMapsFilledMapDataWarning=T,__extends(D,V=x),Object.defineProperty(D.prototype,"code",{get:function(){return"UndefinedToken"},enumerable:!1,configurable:!0}),D.prototype.getMessages=function(e){return V.prototype.getMessages.call(this,e,"AzureMapsRequestErrorTitle",void 0,void 0)};var V;function D(){return null!==V&&V.apply(this,arguments)||this}e.AzureMapsUndefinedTokenWarning=D,__extends(M,L=x),Object.defineProperty(M.prototype,"code",{get:function(){return"UnrecognizedCode"},enumerable:!1,configurable:!0}),M.prototype.getMessages=function(e){return L.prototype.getMessages.call(this,e,"AzureMapsRequestErrorTitle",void 0,void 0)};var L;function M(){return null!==L&&L.apply(this,arguments)||this}e.AzureMapsUnrecognizedCodeWarning=M,__extends(A,R=x),Object.defineProperty(A.prototype,"code",{get:function(){return"RequestError"},enumerable:!1,configurable:!0}),A.prototype.getMessages=function(e){return R.prototype.getMessages.call(this,e,"AzureMapsRequestErrorTitle",void 0,void 0)};var R;function A(){return null!==R&&R.apply(this,arguments)||this}function J(){}e.AzureMapsRequestErrorWarning=A,Object.defineProperty(J.prototype,"code",{get:function(){return"ShapeMapBoundsFailure"},enumerable:!1,configurable:!0}),J.prototype.getMessages=function(e){return{message:e.get("ShapeMapBoundsMessage"),title:e.get("ShapeMapBoundsitle"),detail:e.get("ShapeMapBoundsDetail")}},e.ShapeMapBoundsFailureWarning=J,__extends(j,O=x),Object.defineProperty(j.prototype,"code",{get:function(){return"AzureMapsSetCamera"},enumerable:!1,configurable:!0}),j.prototype.getMessages=function(e){return O.prototype.getMessages.call(this,e,"AzureMapsSetCameraTitle","AzureMapsSetCameraTitle","AzureMapsSetCameraDetail")};var O;function j(){return null!==O&&O.apply(this,arguments)||this}function ee(e,t,a){this.titleKey=t,this.detailKey=a,this._code=e}function te(){}function k(){}e.AzureMapsSetCameraWarning=j,Object.defineProperty(ee.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),ee.prototype.getMessages=function(e){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}},e.CustomizedWarning=ee,Object.defineProperty(te.prototype,"code",{get:function(){return"SparklineDataCountExceeded"},enumerable:!1,configurable:!0}),te.prototype.getMessages=function(e){return{message:e.get("Sparkline_Visual_DataWarning"),title:"",detail:""}},e.SparklineDataReductionWarning=te,k.prototype.add=function(){for(var e,t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return this.warnings||(this.warnings=[]),(e=this.warnings).push.apply(e,t||[]),this},k.prototype.addForVisualObject=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];this.visualObjectWarnings||(this.visualObjectWarnings={});e=this.visualObjectWarnings[e]=this.visualObjectWarnings[e]||[];return e.push.apply(e,t||[]),this},k.prototype.removeForVisualObject=function(e){return this.visualObjectWarnings&&(this.visualObjectWarnings[e]=void 0),this},k.prototype.complete=function(){if(!_.isEmpty(this.warnings)||null!=this.visualObjectWarnings)return{warnings:this.warnings,visualObjectWarnings:this.visualObjectWarnings}},e.VisualWarningBuilder=k})(powerbi=powerbi||{}),(function(h){var u=h.visuals||(h.visuals={}),e=jsCommon.CssConstants.createClassAndSelector,t=h.visuals.Units.FontSize,e=(u.TooltipContainerClassName=e("tooltip-container"),u.TooltipLightClassName=e("tooltip-light"),u.TooltipContentContainerClassName=e("tooltip-content-container"),u.TooltipDataContainerClassName=e("tooltip-data-container"),u.TooltipIconCellClassName=e("tooltip-icon-cell"),u.TooltipLineIconClassName=e("tooltip-line-icon"),u.TooltipMarkerIconClassName=e("tooltip-marker-icon"),u.TooltipHeaderClassName=e("tooltip-header"),u.TooltipSubheaderClassName=e("tooltip-subheader"),u.TooltipFooterClassName=e("tooltip-footer"),u.TooltipDiscoverabilityTextClassName=e("tooltip-discoverabilityText"),u.TooltipRowClassName=e("tooltip-row"),u.TooltipTitleCellClassName=e("tooltip-title-cell"),u.TooltipValueCellClassName=e("tooltip-value-cell"),u.TooltipKpiCellClassName=e("tooltip-kpi-cell"),u.TooltipArrowClassName=e("arrow"),t.createFromPt(9));function a(){}u.DefaultDataItemTooltipStyle={titleFontProperties:{color:"#C8C8C8",family:u.Font.Family.regular.css,size:e,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:u.Font.Family.semibold.css,size:e,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:u.Font.Family.regular.css,size:t.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},a.prototype.create=function(){var e=$("<div>").get(0);return(this.container=d3.select(e).classed(u.TooltipContentContainerClassName.class,!0)).append("div").classed(u.TooltipDataContainerClassName.class,!0).style("direction","ltr"),e},a.prototype.update=function(e){var t,a,i,o,r,n,l,s;null==e.style&&(e.style=u.DefaultDataItemTooltipStyle),_.isEqual(e,this.currentData)||(this.currentData=e,this.textTitleFontProperty=u.FontProperties.toTextProperties(e.style.titleFontProperties),this.textValueFontProperty=u.FontProperties.toTextProperties(e.style.valueFontProperties),this.container.data&&(e=this.buildViewModel(e),(l=this.dataContainer=this.dataContainer||this.container.select(u.TooltipDataContainerClassName.selector)).selectAll(u.TooltipSubheaderClassName.selector).remove(),l.selectAll(u.TooltipHeaderClassName.selector).remove(),l.selectAll(u.TooltipRowClassName.selector).remove(),l.selectAll(u.TooltipFooterClassName.selector).remove(),l.selectAll(u.TooltipDiscoverabilityTextClassName.selector).remove(),t=this.renderSubeader(l,e),a=this.renderHeader(l,e),this.updateTooltipRows(l,e.rows),i=this.renderDiscoverabilityText(l,e),this.renderFooter(l,e),e=(l=d3.select(u.TooltipContainerClassName.selector)).node()&&l.classed(u.TooltipLightClassName.class),o=l.selectAll(u.TooltipArrowClassName.selector),r=l.selectAll(u.TooltipContentContainerClassName.selector),n=l.select(u.TooltipDataContainerClassName.selector).selectAll(u.TooltipTitleCellClassName.selector),l=l.select(u.TooltipDataContainerClassName.selector).selectAll(u.TooltipValueCellClassName.selector),s=this.currentData.style,e?(this.container.styles({"background-color":null,"font-family":null,opacity:null}),o.styles({"border-right-color":null,"border-left-color":null,opacity:null})):(o.styles({"border-right-color":s.background&&s.background.solid.color,"border-left-color":s.background&&s.background.solid.color,opacity:1-s.transparency/100}),a.styles(u.FontProperties.toD3Style((function(){return s.valueFontProperties}))),t.styles(u.FontProperties.toD3Style((function(){return s.valueFontProperties}))),r.styles({"background-color":s.background&&s.background.solid.color,opacity:1-s.transparency/100}),n.styles(u.FontProperties.toD3Style((function(){return s.titleFontProperties}))),l.styles(u.FontProperties.toD3Style((function(){return s.valueFontProperties}))),i&&s.discoverabilityFontProperties&&i.styles(u.FontProperties.toD3Style((function(){return s.discoverabilityFontProperties}))))))},a.prototype.renderHeader=function(e,t){var e=e.selectAll(u.TooltipHeaderClassName.selector).data(_.filter([t.header],(function(e){return!!e}))),a=e.enter().append("div").attr("class",u.TooltipHeaderClassName.class).merge(e);return a.text(t.header),e.exit().remove(),a},a.prototype.renderSubeader=function(e,t){var e=e.selectAll(u.TooltipSubheaderClassName.selector).data(_.filter([t.subheader],(function(e){return!!e}))),a=e.enter().append("div").attr("class",u.TooltipSubheaderClassName.class).merge(e);return a.text(t.subheader),e.exit().remove(),a},a.prototype.renderFooter=function(e,t){var e=e.selectAll(u.TooltipFooterClassName.selector).data(_.filter([t.footer],(function(e){return!!e}))),a=e.enter().append("div").attr("class",u.TooltipFooterClassName.class).merge(e);return a.text(t.footer),e.exit().remove(),a},a.prototype.renderDiscoverabilityText=function(e,t){var e=e.selectAll(u.TooltipDiscoverabilityTextClassName.selector).data(_.filter([t.discoverabilityText],(function(e){return!!e}))),a=e.enter().append("div").attr("class",u.TooltipDiscoverabilityTextClassName.class).merge(e);return a.text(t.discoverabilityText),e.exit().remove(),a},a.prototype.updateTooltipRows=function(e,t){e.selectAll(u.TooltipRowClassName.selector).remove();function a(e){return u.SVGUtil.translateAndScale(s(e)?15.5:5,8,5/u.Markers.DefaultSize)}function i(e){return null==(e=null==e?void 0:e.marker)?void 0:e.color}function o(e){return null!=(e=null==(e=null==e?void 0:e.marker)?void 0:e.opacity)?e:1}var e=e.selectAll(u.TooltipRowClassName.selector).data(t),t=e.enter().append("div").classed(u.TooltipRowClassName.class,!0).merge(e),r=t.selectAll(u.TooltipIconCellClassName.selector).data((function(e){return _.filter([e.icon],(function(e){return void 0!==e}))})),n=r.enter().append("div").classed(u.TooltipIconCellClassName.class,!0),l=n.append("svg").attr("height","15px"),l=(l.append("path").classed(u.TooltipLineIconClassName.class,!0).styles({"stroke-opacity":"1","stroke-width":"2"}),l.append("path").classed(u.TooltipMarkerIconClassName.class,!0),n.merge(r)),s=function(e){return null==(e=null==e?void 0:e.line)?void 0:e.lineStyle},n=(l.style("max-width",(function(e){return s(e)?"31px":"13px"})),l.selectAll("svg").attr("width",(function(e){return s(e)?31:"100%"})),l.selectAll(u.TooltipLineIconClassName.selector).attrs({transform:a,d:function(e){return s(e)?"M 0 0 M -15.5 0 L 15.5 0":null}}).styles({stroke:function(e){return null==(e=null==e?void 0:e.line)?void 0:e.lineColor},"stroke-dasharray":function(e){return s(e)?u.LineStyle.getSrokeDashArrayForLegend(e.line.lineStyle):null}}),l.selectAll(u.TooltipMarkerIconClassName.selector).attrs({transform:a,d:function(e){return u.Markers.getPath((null==(e=null==e?void 0:e.marker)?void 0:e.markerShape)||u.markerShape.defaultValue)}}).styles({fill:i,stroke:i,"fill-opacity":o,"stroke-opacity":o}),t.selectAll(u.TooltipTitleCellClassName.selector).data((function(e){return _.filter([e.displayNameRows],(function(e){return!!e}))}))),l=n.enter().append("div").classed(u.TooltipTitleCellClassName.class,!0).merge(n),l=(this.buildTextRows(l,this.textTitleFontProperty,260),t.selectAll(u.TooltipValueCellClassName.selector).data((function(e){return _.filter([e.valueRows],(function(e){return!_.isEmpty(e)}))}))),c=l.enter().append("div").classed(u.TooltipValueCellClassName.class,!0).merge(l),c=(this.buildTextRows(c,this.textValueFontProperty,260),t.selectAll(u.TooltipKpiCellClassName.selector).data((function(e){return _.filter([e.kpi],(function(e){return!!e}))})));c.enter().append("div").styles({"vertical-align":"middle",margin:0}).merge(c).attr("class",(function(e){return"".concat(u.TooltipKpiCellClassName.class," ").concat(u.KpiUtil.getClassForKpi(e.metadata,e.value))})),t.each((function(e){e=e.extraPadding;null!=e&&d3.selectAll(this.children).style("padding-top","top"===e?"5px":null).style("padding-bottom","bottom"===e?"5px":null)})),r.exit().remove(),n.exit().remove(),l.exit().remove(),c.exit().remove(),e.exit().remove()},a.prototype.buildTextRows=function(e,t,a){e=e.selectAll("div").data((function(e){return e}));e.enter().append("div").merge(e).text((function(e){e=__assign(__assign({},t),{text:e});return h.TextMeasurementService.getTailoredTextOrDefault(e,a)})),e.exit().remove()},a.prototype.updateOptions=function(e){this.dataContainer&&(e=e.dataContainerWidth,this.dataContainer.style("width",null!=e?"".concat(e,"px"):""))},a.prototype.buildViewModel=function(t){for(var a=this,e=t.items,i=_.chain(e).filter((function(e){return a.isValidDataItem(e)})).map((function(e){return a.buildRowViewModel(e,t.style.titleFontProperties.color)})).value(),o=(this.distributeRows(i,t.bounds),_.head(e)),r=o&&o.header,o=o&&o.subheader,e=_.last(e),n=t.discoverabilityText,e=e&&e.footer,l=!1,s=!1,c=0,u=i;c<u.length;c++){var p=u[c];if(!l&&p.icon&&(l=!0),s||!p.valueRows&&!p.kpi||(s=!0),l&&s)break}for(var d=0,m=i;d<m.length;d++){p=m[d];l&&void 0===p.icon&&(p.icon=null),s&&void 0===p.valueRows&&null==p.kpi&&(p.valueRows=[])}return{footer:e,hasIcons:l,hasValues:s,header:r,subheader:o,rows:i,discoverabilityText:n}},a.prototype.buildRowViewModel=function(e,t){!t||e.markerShape!==u.markerShape.lowerErrorBar&&e.markerShape!==u.markerShape.upperErrorBar||(e.color=t),e.color&&(a={line:{lineColor:e.lineColor,lineStyle:e.lineStyle},marker:{color:e.color,opacity:e.opacity,markerShape:e.markerShape}},e.markerShape===u.markerShape.upperErrorBar&&(i="top"),e.markerShape===u.markerShape.lowerErrorBar)&&(i="bottom");var a,i,t={displayNameRows:[e.displayName],icon:a,kpi:e.kpiValue,valueRows:null!=e.value?[e.value]:void 0,extraPadding:i};return e.kpiValue&&(void 0!==t.valueRows&&(t.valueRows=void 0),t.kpi=e.kpiValue),t},a.prototype.isValidDataItem=function(e){return!!e&&!(null!=e.displayName&&"string"!=typeof e.displayName||null!=e.value&&"string"!=typeof e.value)},a.prototype.getRowHeight=function(){return Math.max(h.TextMeasurementService.estimateSvgTextHeight(this.textTitleFontProperty),h.TextMeasurementService.estimateSvgTextHeight(this.textValueFontProperty))},a.prototype.distributeRows=function(e,t){for(var a,i,o,r,n=t.height/this.getRowHeight(),l=0,s=[],c=[],u=[],p=[],d=this,m=0;m<e.length;m++)r=o=i=void 0,i=e[a=m],o=i.displayNameRows[0],o=u[a]=jsCommon.WordBreaker.splitByWidth(o,d.textTitleFontProperty,h.TextMeasurementService.measureSvgTextWidth,260,n,null,!1,!0),r=void 0,null!=i.valueRows&&(i=i.valueRows[0],r=p[a]=jsCommon.WordBreaker.splitByWidth(i,d.textValueFontProperty,h.TextMeasurementService.measureSvgTextWidth,260,n,null,!1,!0)),a=Math.max(o.length,r?r.length:0),s.push(a),l+=a;if(l<=n)c=s;else for(var y=n-e.length,m=0;m<e.length;m++)c[m]=1+Math.round(Math.max(y,0)*(s[m]/n));for(m=0;m<e.length;m++){var g=e[m];g.displayNameRows=this.getRows(u[m],c[m]),p[m]&&(g.valueRows=this.getRows(p[m],c[m]))}},a.prototype.getRows=function(e,t){return e.length>t+1?e[t-1]+=e[t]+"":e.length>t&&(e[t-1]+=e[t]),e.slice(0,t)},u.DataItemTooltip=a})(powerbi=powerbi||{}),(function(n){var M=n.visuals||(n.visuals={}),r=jsCommon.Lazy,a=(y=jsCommon.CssConstants.createClassAndSelector)("tooltip-container"),t=y("tooltip-content"),i=y("arrow"),o=y("hide-arrow"),h=y("small-touch-screen"),b=y("large-touch-screen"),f=y("truncate-tooltip-height"),S=y("new-mobile-tooltip"),v=y("heightened-header"),l=y("themeableElement"),C=y("tooltip-light"),s=(M.DefaultTooltipOptions={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},M.TouchOptimizedTooltipOptions={opacity:.87,scale:1,animationDuration:0,animationDurationTouchOld:250,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10},M.createTooltipContainer=function(e,t){return new s(e,t)},e.prototype.isVisible=function(){return this.isTooltipVisible},e.prototype.isTouchOptimized=function(){return!!this.tooltipOptions.touchOptimized},e.prototype.setTestScreenSize=function(e,t){this.customScreenWidth=e,this.customScreenHeight=t},e.prototype.show=function(e,t){var a,i,o,r;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),e&&(a=c.getClickedScreenArea(e,this.getScreenBounds(),this.tooltipOptions),i=e.width>>1,o=e.height>>1,r={x:e.left+i,y:e.top+o}),this.tooltipContainer.style("display","").transition().duration(0).style("opacity",this.tooltipOptions.opacity),e&&this.setPositionAndSize(e,a,i,o,r,t)},e.prototype.classed=function(e,t){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(e.class,t)},e.prototype.move=function(e,t){var a,i,o,r;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),a=c.getClickedScreenArea(e,this.getScreenBounds(),this.tooltipOptions),i=e.width>>1,o=e.height>>1,r={x:e.left+i,y:e.top+o},this.setPositionAndSize(e,a,i,o,r,t)},e.prototype.updateContent=function(e){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(t.selector).remove(),e&&($(e).addClass(t.class),this.tooltipContainer.node().appendChild(e))},e.prototype.hide=function(){var e;this.isTooltipVisible&&(e=this.isTouchOptimized()&&!this.tooltipOptions.newMobileTooltip?this.tooltipOptions.animationDurationTouchOld:this.tooltipOptions.animationDuration,this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(e).style("opacity",0).on("end",(function(){this.style.display="none"})))},e.prototype.destroy=function(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)},e.prototype.setTooltipAppearanceOptions=function(e){e=$.extend({},this.originalTooltipOptions,e);this.tooltipOptions=e},e.prototype.attachPointerEnterCallback=function(e){this.onPointerEnter=e},e.prototype.attachPointerLeaveCallback=function(e){this.onPointerLeave=e},e.prototype.createTooltipContainer=function(e){var t=this,e=d3.select(e).append("div").classed(a.class,!0).classed(l.class,!0);return e.append("div").classed(i.class,!0),e.style("display","none"),e.on("pointerenter.callback",(function(){return t.onPointerEnter&&t.onPointerEnter()})),e.on("pointerleave.callback",(function(){return t.onPointerLeave&&t.onPointerLeave()})),e},e.prototype.getTooltipContainerBounds=function(){var e;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),e=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):e=this.tooltipContainer.node().getBoundingClientRect(),{height:e.height/this.tooltipScaleFactor,width:e.width/this.tooltipScaleFactor}},Object.defineProperty(e.prototype,"tooltipScale",{get:function(){return this.tooltipOptions.scale||1},enumerable:!1,configurable:!0}),e.prototype.updateTooltipPosition=function(e,t,a,i,o,r){var n=this.getTooltipContainerBounds(),l=0,s=0,c=this.tooltipOptions.adjustXLeftSideOfScreen,u=this.tooltipOptions.adjustXRightSideOfScreen,p=this.tooltipOptions.hideArrow?0:(r?3:7)*this.tooltipScale,d=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,m=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,y=!this.tooltipOptions.showImmediatelyAdjacentToClickedArea&&r?.5:1,r=!this.tooltipOptions.showImmediatelyAdjacentToClickedArea&&r?2.5:1;return this.tooltipOptions.offsetPosition&&(l+=(u=c=0)===t||3===t?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,s+=0===t||1===t?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),0===t?(l+=m*p+a-c,s-=d*r*p+i):1===t?(l-=d*y*p+n.width+a-u,s-=d*r*p+i):3===t?(l+=m*p+a-c,s-=n.height-d*r*p+i):2===t&&(l-=d*y*p+n.width+a-u,s-=n.height-d*r*p+i),{x:o.x+l,y:o.y+s}},e.prototype.setPositionAndSize=function(e,t,a,i,o,r){o=this.updateTooltipPosition(e,t,a,i,o,r);e=this.widenTooltipIfNeeded(o);this.setTooltipContainerAttributes(t,e,!!e.width),this.tooltipContainer.style("width",e.width?e.width+"px":""),this.setArrowPosition(t)},e.prototype.widenTooltipIfNeeded=function(e){var t,e={left:e.x,top:e.y,width:void 0,height:void 0};return this.shouldWidenTooltip()&&(e.left=8,t=this.getScreenBounds().width,e.width=t-16),e},e.prototype.setTooltipContainerAttributes=function(e,t,a){var i=this.getTooltipContainerBounds(),o=this.getScreenBounds(),r=this.shouldWidenTooltip(),n=i.width,i=i.height,l=o.width,s=o.height,c=t.left,u=t.top,t=(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(c=0<=t.left?t.left:5,u=0<=t.top?t.top:5),l-c-n),p=s-u-i,d=(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(t<0&&(t=l-(c-=Math.abs(t)+5)-n+5),p<(d=this.getScreenBounds().width<=540?35:5))&&(u-=d-p,p=d),!1),m=!1,y=0===e||1===e,e=0===e||3===e,g={left:null,top:null,right:null,bottom:null},t=e?(d=!0,g.left="".concat(c,"px"),c):(m=!0,g.right="".concat(t,"px"),t),u=y?(g.top="".concat(u,"px"),u):(g.bottom="".concat(p,"px"),p),p=(a&&(g.left="".concat(c,"px")),{height:(i+10)*this.tooltipScale,width:(r?n:n+10)*this.tooltipScale}),a=l<p.width+t,c=s<p.height+u;this.tooltipScaleFactor=this.tooltipScale,(a||c)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(p,o,t,u)),this.tooltipContainer.classed("left",d).classed("right",m).classed(C.class,this.tooltipOptions.useLightColors).classed(h.class,this.isSmallTouchScreen()).classed(b.class,this.isLargeTouchScreen()).classed(f.class,this.isTruncateTooltipHeight()).classed(S.class,this.isNewMobileTooltip()).classed(v.class,this.heightenedHeader()).styles(g).style("transform","scale(".concat(this.tooltipScaleFactor,")")).style("transform-origin","".concat(y?"top":"bottom"," ").concat(e?"left":"right"))},e.prototype.calculateScaleFactor=function(e,t,a,i){a=(t.width-a)/e.width,t=(t.height-i)/e.height;return Math.min(a,t)},e.prototype.setArrowPosition=function(e){e=0===e?"top left":1===e?"top right":3===e?"bottom left":"bottom right";this.getArrowElement().attr("class","arrow").classed(e,!0).classed(o.class,this.tooltipOptions.hideArrow)},e.prototype.shouldWidenTooltip=function(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540},e.prototype.isSmallTouchScreen=function(){var e;return!!this.tooltipOptions.touchOptimized&&((e=this.getScreenBounds()).width<=540||e.height<=450)},e.prototype.isLargeTouchScreen=function(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()},e.prototype.isTruncateTooltipHeight=function(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620},e.prototype.isNewMobileTooltip=function(){return this.tooltipOptions.newMobileTooltip},e.prototype.heightenedHeader=function(){return!this.tooltipOptions.offsetPosition&&this.tooltipOptions.newMobileTooltip},e.prototype.getArrowElement=function(){return this.tooltipContainer.select(i.selector)},e.prototype.getScreenBounds=function(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}},e);function e(e,t){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=e,this.originalTooltipOptions=$.extend({},M.DefaultTooltipOptions,t),this.tooltipOptions=this.originalTooltipOptions}M.TooltipContainer=s,p.highlightedValueDisplayNameResorceKey="Tooltip_HighlightedValueDisplayName";var c,u,R=p;function p(){}function A(e,t){return e?{value:e.values[t],metadata:{source:e.source,values:[]}}:null}function d(){this.items=[],this.columns=[]}M.ToolTipComponent=R,(c=M.TooltipCommon||(M.TooltipCommon={})).getClickedScreenArea=function(e,t,a){var i=e.width/2,o=e.height/2,i=e.left+i,e=e.top+o,o=t.width/2,t=t.height/2,a=(null==a?void 0:a.showAboveClickedArea)||t<=e;return i<o?a?3:0:a?2:1},(y=u=M.TooltipBuilder||(M.TooltipBuilder={})).createTooltipInfo=function(e,t,a,i,o,r,n,l,s,c){var u,p,d=[],m=(n|=0,t?t.categories:o);if(m&&0<m.length)if(1<m.length){for(var y=[],g=0,h=m.length;g<h;g++)y.push(m[g].source);u={value:a,metadata:y}}else u={value:a,metadata:[m[0].source]};if(t&&t.values&&(u&&u.metadata[0]===t.values.source||(p=t.values.source),0<t.values.length&&((o=t.values[n])&&o.source&&o.source.isAutoGeneratedColumn||d.push({value:i,highlightedValue:s,metadata:o})),null!=(a=A(c,l)))&&d.push(a),r)for(var g=0,b=r.length;g<b;g++){var f=r[g];u&&u.metadata[0]===f.metadata.source||d.push({value:f.value,metadata:f.metadata})}var S=e,v=u,t=p,n=d,C=(R.localizationOptions,[]);if(v)if(1<v.metadata.length){for(var N="",x=0,w=v.metadata.length;x<w;x++)0!==x&&(N+="/"),N+=v.metadata[x].displayName;var _=M.converterHelper.formatFromMetadataColumn(v.value,v.metadata[0],S);C.push({displayName:N,value:_})}else{_=M.converterHelper.formatFromMetadataColumn(v.value,v.metadata[0],S);C.push({displayName:v.metadata[0].displayName,value:_})}t&&(_=void 0,0<n.length&&(i=n[0].metadata.source,_=M.converterHelper.formatFromMetadataColumn(i.groupName,t,S)),C.push({displayName:t.displayName,value:_}));for(var P=0,T=n;P<T.length;P++){var V,D,L=T[P];L&&L.metadata&&(V=L.metadata.source,D=L.value,L=L.highlightedValue,!D&&0!==D||(D=M.converterHelper.formatFromMetadataColumn(D,V,S,!1),C.push({displayName:V.displayName,value:D})),!L&&0!==L||(D=M.converterHelper.formatFromMetadataColumn(L,V,S,!1),N=R.localizationOptions.highlightedValueDisplayName,C.push({displayName:N,value:D})))}return C},y.createGradientToolTipData=A,y.addTooltipMeasures=function(e,t,a,i,o){var r=e.data.getAllValuesForRole("Tooltips",a,i),n=e.data.getAllFormatStringsForRole("Tooltips",a,i),l=e.data.getAllValueDisplayNamesForRole("Tooltips"),s=e.columns.getAllValueMetadataColumnsForRole("Tooltips",i);if(r)for(var c=0;c<r.length;c++)null!=r[c]&&t.push({displayName:l[c],value:M.converterHelper.formatFromMetadataColumn(r[c],s[c],o,!1,n[c])})},y.withMultipleColumnAndValues=function(a,t,e,i,o){if(a&&(e||!_.every(t,(function(e){return null==e})))){e=M.DataViewConcatenateUtil.concatenateValues(_.map(a,(function(e){return e.queryName})));if(o){if(_.includes(o,e))return;o.push(e)}var r=M.DataViewConcatenateUtil.concatenateValues(_.map(a,(function(e){return e.displayName})));return function(){var e=M.DataViewConcatenateUtil.concatenateValues(_.map(t,(function(e,t){return i(e,a[t])})));return{displayName:r,value:e}}}},d.prototype.withColumnValue=function(e,t,a,i,o){return!e||!i&&null==t||_.includes(this.columns,e.queryName)||(this.columns.push(e.queryName),this.items.push(new r(function(){return{displayName:e.displayName,value:o(t,e,a)}}))),this},d.prototype.withMultipleColumnAndValues=function(e,t,a,i){e=u.withMultipleColumnAndValues(e,t,a,i);return e&&this.items.push(new r(e)),this},d.prototype.withValue=function(e,t){return this.items.push(new r(function(){return{displayName:e,value:t}})),this},d.prototype.withLazyValue=function(e){return this.items.push(e),this},d.prototype.withLazyValues=function(e){return this.items.push(new r(e)),this},d.prototype.getTooltipItems=function(){return _.flatten(_.map(this.items,(function(e){return e.getValue()})))},d.prototype.getFormattedTooltipItems=function(){return void 0===this.formatted&&(this.formatted=M.tooltipUtils.formatTooltipInfo(this.getTooltipItems())),this.formatted},y=d,M.LazyTooltipBuilder=y,__extends(g,m=y),g.prototype.withAllValuesForRole=function(e,t,a,i,o){e=this.reader.getAllValueColumnsForRole(e,a);if(!_.isEmpty(e))for(var r=0,n=e;r<n.length;r++){var l=n[r];this.withColumnValueByIndex(l,t,i,o)}return this},g.prototype.withColumnValueByIndex=function(e,t,a,i){var o,r;return e?(o=e.values[t],r=n.DataViewObjects.getValue(null==(r=e.objects)?void 0:r[t],this.formatStringProp),this.withColumnValue(e.source,o,r,a,i)):this};var m,y=g;function g(e,t){var a=m.call(this)||this;return a.reader=e,a.formatStringProp=t,a}M.CategoricalLazyTooltipBuilder=y})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).setCreatePivotTable=function(e){t.createPivotTable=e},t.setCreateTableEx=function(e){t.createTableEx=e},t.setCreateMatrix=function(e){t.createMatrix=e},t.setCreateTable=function(e){t.createTable=e},t.setCreateAccessibleTable=function(e){t.createAccessibleTable=e},t.setCreateActionButton=function(e){t.createActionButton=e},t.setCreateBasicShape=function(e){t.createBasicShape=e},t.setCreateCard=function(e){t.createCard=e},t.setCreateCardVisual=function(e){t.createCardVisual=e},t.setCreateGauge=function(e){t.createGauge=e},t.setCreateDonutChart=function(e){t.createDonutChart=e},t.setCreateMultiRowCard=function(e){t.createMultiRowCard=e},t.setCreateFunnelChart=function(e){t.createFunnelChart=e},t.setCreateImage=function(e){t.createImage=e},t.setCreateMap=function(e){t.createMap=e},t.setCreateAzureMap=function(e){t.createAzureMap=e},t.setCreateAzureMapBehavior=function(e){t.createAzureMapBehavior=e},t.setCreateAINarratives=function(e){t.createAINarratives=e},t.setCreateShapeMap=function(e){t.createShapeMap=e},t.setCreateShapeMapBehavior=function(e){t.createShapeMapBehavior=e},t.setCreateTreemap=function(e){t.createTreemap=e},t.setCreateTreeMapWebAnimator=function(e){t.createTreeMapWebAnimator=e},t.setCreateTreeMapWebBehavior=function(e){t.createTreeMapWebBehavior=e},t.setCreateSlicer=function(e){t.createSlicer=e},t.setCreateNavigator=function(e){t.createNavigator=e},t.setCreateTextbox=function(e){t.createTextbox=e},t.setCreateTextboxViewModelAdapter=function(e){t.createTextboxViewModelAdapter=e},t.setCreateAlwaysUseSmallViewportTextboxViewModelAdapter=function(e){t.createAlwaysUseSmallViewportTextboxViewModelAdapter=e},t.setCreateScriptVisual=function(e){t.createScriptVisual=e},t.setCreateKpi=function(e){t.createKpi=e},t.setCreateDecompositionTree=function(e){t.createDecompositionTree=e},t.setCreateScorecard=function(e){t.createScorecard=e},t.setCreateRdlVisual=function(e){t.createRdlVisual=e},t.setCreateShapeVisual=function(e){t.createShapeVisual=e},t.setCreateAnimatedNumber=function(e){t.createAnimatedNumber=e},t.setCreateSunburst=function(e){t.createSunburst=e},t.setCreateSunburstBehavior=function(e){t.createSunburstBehavior=e},t.setCreateCartesianChart=function(e){t.createCartesianChart=e},t.setCreateWebColumnChartAnimator=function(e){t.createWebColumnChartAnimator=e},t.setCreateRealTimeLineChartAnimator=function(e){t.createRealTimeLineChartAnimator=e},t.setCreateDashboardColumnChartAnimator=function(e){t.createDashboardColumnChartAnimator=e},t.setCreateCartesianChartBehaviorFactory=function(e){t.createCartesianChartBehaviorFactory=e},t.setCreateColumnChartWebBehaviorFactory=function(e){t.createColumnChartWebBehaviorFactory=e},t.setCreateDataDotChartWebBehaviorFactory=function(e){t.createDataDotChartWebBehaviorFactory=e},t.setCreateLineChartWebBehaviorFactory=function(e){t.createLineChartWebBehaviorFactory=e},t.setCreateScatterChartWebBehaviorFactory=function(e){t.createScatterChartWebBehaviorFactory=e},t.setCreateWaterfallChartWebBehaviorFactory=function(e){t.createWaterfallChartWebBehaviorFactory=e},t.setCreateScatterChartMobileBehaviorFactory=function(e){t.createScatterChartMobileBehaviorFactory=e}})(powerbi=powerbi||{}),(function(e){var t;(t=e.visuals||(e.visuals={})).initializeNotForOOS=function(){t.addPlugin("heatMap",{name:"heatMap",capabilities:t.capabilities.map,create:function(){return new t.Map({filledMap:!1})},createES6:void 0})}})(powerbi=powerbi||{}),(function(e){var i=e.visuals||(e.visuals={}),t=e.data.createDisplayNameGetter,a={capabilities:i.capabilities.donutChart,module:{javascript:"donutChartVisuals"}};i.plugins={actionButton:{name:"actionButton",titleKey:t("Button"),capabilities:i.capabilities.actionButton,module:{javascript:"BasicShapeVisual/actionButton"},create:function(e){return new e.module.ActionButton},createES6:i.createActionButton?function(){return i.createActionButton()}:void 0},animatedNumber:{name:"animatedNumber",capabilities:i.capabilities.animatedNumber,create:function(e){return e.module.createAnimatedNumber()},createES6:i.createAnimatedNumber?function(){return i.createAnimatedNumber()}:void 0,module:{javascript:"SingleValueVisuals/animatedNumberModule"}},areaChart:{name:"areaChart",watermarkKey:"area",titleKey:t("AreaChart_ToolTip"),capabilities:i.capabilities.areaChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:1})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:1})}:void 0,customizeQuery:i.LineChartPluginMethods.customizeQuery,getSortableRoles:i.LineChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},barChart:{name:"barChart",watermarkKey:"bar",titleKey:t("BarChart_ToolTip"),capabilities:i.capabilities.barChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:6})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:6})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},basicShape:{name:"basicShape",titleKey:t("BasicShape_ToolTip"),capabilities:i.capabilities.basicShape,module:{javascript:"BasicShapeVisual/basicShape"},create:function(e){return new e.module.BasicShape},createES6:i.createBasicShape?function(){return i.createBasicShape()}:void 0},shape:{name:"shape",titleKey:t("BasicShape_ToolTip"),capabilities:i.capabilities.shape,module:{javascript:"ShapeVisual/shape"},create:function(e){return e.module.createShape()},createES6:i.createShapeVisual?function(){return i.createShapeVisual()}:void 0,getCustomizeConvertTo:function(e,t,a){return i.ShapePluginMethods.getCustomizeConvertToOptions(e)}},card:{name:"card",watermarkKey:"card",titleKey:t("Card_ToolTip"),capabilities:i.capabilities.card,create:function(e){return e.module.createCard()},createES6:i.createCard?function(){return i.createCard(void 0)}:void 0,module:{javascript:"SingleValueVisuals/cardModule"},getNarrativeSummaryBindings:i.CardPluginMethods.getNarrativeSummaryBindings},cardVisual:{name:"cardVisual",watermarkKey:"cardVisual",titleKey:t("Card_ToolTip"),capabilities:i.capabilities.cardVisual,create:function(e){return new e.module.CardVisual({})},createES6:i.createCardVisual?function(){return i.createCardVisual(void 0)}:void 0,module:{javascript:"CardVisual/cardVisual",css:["cardVisual"]},getNarrativeSummaryBindings:i.CardVisualPluginMethods.getNarrativeSummaryBindings},multiRowCard:{name:"multiRowCard",watermarkKey:"multiRowCard",titleKey:t("MultiRowCard_ToolTip"),capabilities:i.capabilities.multiRowCard,create:function(){return new i.MultiRowCard},createES6:i.createMultiRowCard?function(){return i.createMultiRowCard(void 0)}:void 0,getSortableRoles:i.MultiRowCardPluginMethods.getSortableRoles,module:{javascript:"multiRowCardVisual"},getNarrativeSummaryBindings:i.MultiRowCardPluginMethods.getNarrativeSummaryBindings},clusteredBarChart:{name:"clusteredBarChart",watermarkKey:"clusteredBar",titleKey:t("ClusteredBarChart_ToolTip"),capabilities:i.capabilities.clusteredBarChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:5})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:5})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},clusteredColumnChart:{name:"clusteredColumnChart",watermarkKey:"clusteredColumn",titleKey:t("ClusteredColumnChart_ToolTip"),capabilities:i.capabilities.clusteredColumnChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:3})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:3})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},columnChart:{name:"columnChart",watermarkKey:"column",titleKey:t("ColumnChart_ToolTip"),capabilities:i.capabilities.columnChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:4})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:4})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},comboChart:{name:"comboChart",watermarkKey:"combo",capabilities:i.capabilities.comboChart,customizeQuery:i.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:11})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:11})}:void 0,getSortableRoles:i.ComboChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry},dataDotChart:{name:"dataDotChart",capabilities:i.capabilities.dataDotChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:12})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:12})}:void 0,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry},dataDotClusteredColumnComboChart:{name:"dataDotClusteredColumnComboChart",watermarkKey:"combo",titleKey:t("DataDotClusteredColumnComboChart_ToolTip"),capabilities:i.capabilities.dataDotClusteredColumnComboChart,customizeQuery:i.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:16})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:16})}:void 0,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry},dataDotStackedColumnComboChart:{name:"dataDotStackedColumnComboChart",watermarkKey:"combo",titleKey:t("DataDotStackedColumnComboChart_ToolTip"),capabilities:i.capabilities.dataDotStackedColumnComboChart,customizeQuery:i.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:17})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:17})}:void 0,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry},donutChart:__assign(__assign({},a),{name:"donutChart",watermarkKey:"donut",titleKey:t("DonutChart_ToolTip"),capabilities:i.capabilities.donutChart,create:function(){return new i.DonutChart},createES6:i.createDonutChart?function(){return i.createDonutChart(void 0)}:void 0,getNarrativeSummaryBindings:i.DonutChartPluginMethods.getNarrativeSummaryBindings}),funnel:{name:"funnel",watermarkKey:"funnel",titleKey:t("Funnel_ToolTip"),capabilities:i.capabilities.funnel,create:function(){return new i.FunnelChart},createES6:i.createFunnelChart?function(){return i.createFunnelChart(void 0)}:void 0,module:{javascript:"funnelChartVisual"}},gauge:{name:"gauge",watermarkKey:"gauge",titleKey:t("Gauge_ToolTip"),capabilities:i.capabilities.gauge,create:function(e){return e.module.createGauge()},createES6:i.createGauge?function(){return i.createGauge(void 0,void 0)}:void 0,module:{javascript:"SingleValueVisuals/gaugeModule"},getNarrativeSummaryBindings:i.GaugePluginMethods.getNarrativeSummaryBindings},hundredPercentStackedBarChart:{name:"hundredPercentStackedBarChart",watermarkKey:"100stackedbar",titleKey:t("HundredPercentStackedBarChart_ToolTip"),capabilities:i.capabilities.hundredPercentStackedBarChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:7})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:7})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},hundredPercentStackedColumnChart:{name:"hundredPercentStackedColumnChart",watermarkKey:"100stackedcolumn",titleKey:t("HundredPercentStackedColumnChart_ToolTip"),capabilities:i.capabilities.hundredPercentStackedColumnChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:8})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:8})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},image:{name:"image",titleKey:t("Image"),capabilities:i.capabilities.image,create:function(){return new i.ImageVisual},createES6:i.createImage?function(){return i.createImage()}:void 0,module:{javascript:"imageVisual"}},lineChart:{name:"lineChart",watermarkKey:"line",titleKey:t("LineChart_ToolTip"),capabilities:i.capabilities.lineChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:0})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:0})}:void 0,customizeQuery:i.LineChartPluginMethods.customizeQuery,getSortableRoles:i.LineChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings,getDataDrivenAlertCapabilities:i.LineChartPluginMethods.getDataDrivenAlertCapabilities},lineStackedColumnComboChart:{name:"lineStackedColumnComboChart",watermarkKey:"combo",titleKey:t("LineStackedColumnComboChart_ToolTip"),capabilities:i.capabilities.lineStackedColumnComboChart,customizeQuery:i.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:15})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:15})}:void 0,getSortableRoles:i.ComboChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.ComboChartPluginMethods.getNarrativeSummaryBindings},lineClusteredColumnComboChart:{name:"lineClusteredColumnComboChart",watermarkKey:"combo",titleKey:t("LineClusteredColumnComboChart_ToolTip"),capabilities:i.capabilities.lineClusteredColumnComboChart,customizeQuery:i.ComboChartPluginMethods.customizeQuery,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:14})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:14})}:void 0,getSortableRoles:i.ComboChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.ComboChartPluginMethods.getNarrativeSummaryBindings},map:{name:"map",watermarkKey:"map",titleKey:t("Map_ToolTip"),capabilities:i.capabilities.map,create:function(){return new i.Map({filledMap:!1})},createES6:i.createMap?function(){return i.createMap({filledMap:!1})}:void 0,customizeQuery:i.MapPluginMethods.customizeQuery,module:{javascript:"mapVisuals"},getNarrativeSummaryBindings:i.MapPluginMethods.getNarrativeSummaryBindings},filledMap:{name:"filledMap",watermarkKey:"filledMap",titleKey:t("FilledMap_ToolTip"),capabilities:i.capabilities.filledMap,create:function(){return new i.Map({filledMap:!0})},createES6:i.createMap?function(){return i.createMap({filledMap:!0})}:void 0,module:{javascript:"mapVisuals"}},azureMap:{name:"azureMap",watermarkKey:"azureMap",titleKey:t("AzureMap_ToolTip"),capabilities:i.capabilities.azureMap,module:{javascript:"AzureMapVisuals/azureMap",css:["azureMapVisuals"]},create:function(e){return new e.module.AzureMap({})},createES6:i.createAzureMap?function(){return i.createAzureMap(void 0)}:void 0,getCustomizeConvertTo:function(e,t,a){return i.AzureMapPluginMethods.getCustomizeConvertToOptions(e,a)}},ribbonChart:{name:"ribbonChart",watermarkKey:"ribbon",titleKey:t("RibbonChart_ToolTip"),capabilities:i.capabilities.ribbonChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:9})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:9})}:void 0,customizeQuery:i.ColumnChartPluginMethods.customizeQuery,getSortableRoles:i.ColumnChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},shapeMap:{name:"shapeMap",watermarkKey:"shapeMap",titleKey:t("ShapeMap_ToolTip"),capabilities:i.capabilities.shapeMap,module:{javascript:"ShapeMapVisual/shapeMap/shapeMap"},create:function(e){return new e.module.ShapeMap},createES6:i.createShapeMap?function(){return i.createShapeMap(void 0)}:void 0},treemap:{name:"treemap",watermarkKey:"tree",titleKey:t("Treemap_ToolTip"),capabilities:i.capabilities.treemap,module:{javascript:"TreemapVisual/treemap"},create:function(e){return new e.module.Treemap},createES6:i.createTreemap?function(){return i.createTreemap(void 0)}:void 0},sunburst:{name:"sunburst",watermarkKey:"defaultWatermark",titleKey:t("Sunburst_ToolTip"),capabilities:i.capabilities.sunburst,module:{javascript:"SunburstVisual/sunburst/sunburst"},create:function(e){return new e.module.Sunburst},createES6:i.createSunburst?function(){return i.createSunburst(void 0)}:void 0},pieChart:__assign(__assign({},a),{name:"pieChart",watermarkKey:"pie",titleKey:t("PieChart_ToolTip"),capabilities:i.capabilities.pieChart,create:function(){return new i.DonutChart({sliceWidthRatio:0})},createES6:i.createDonutChart?function(){return i.createDonutChart({sliceWidthRatio:0})}:void 0,getNarrativeSummaryBindings:i.DonutChartPluginMethods.getNarrativeSummaryBindings}),realTimeLineChart:{name:"realTimeLineChart",watermarkKey:"line",titleKey:t("LineChart_ToolTip"),capabilities:i.capabilities.realTimeLineChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:18})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:18})}:void 0,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry},scatterChart:{name:"scatterChart",watermarkKey:"scatterplot",titleKey:t("ScatterChart_ToolTip"),capabilities:i.capabilities.scatterChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:10})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:10})}:void 0,customizeQuery:i.ScatterChartPluginMethods.customizeQuery,getSortableRoles:i.ScatterChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.ScatterChartPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.ScatterChartPluginMethods.getNarrativeSummaryBindings},stackedAreaChart:{name:"stackedAreaChart",watermarkKey:"stackedarea",titleKey:t("StackedAreaChart_ToolTip"),capabilities:i.capabilities.stackedAreaChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:2})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:2})}:void 0,customizeQuery:i.LineChartPluginMethods.customizeQuery,getSortableRoles:i.LineChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry,getNarrativeSummaryBindings:i.CartesianPluginMethods.getNarrativeSummaryBindings},table:{name:"table",watermarkKey:"table",titleKey:t("Table_ToolTip"),capabilities:i.capabilities.table,create:function(){return new i.Table},createES6:i.createTable?function(){return i.createTable()}:void 0,customizeQuery:i.TablePluginMethods.customizeQuery,getSortableRoles:i.TablePluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals"}},matrix:{name:"matrix",watermarkKey:"matrix",titleKey:t("Matrix_ToolTip"),capabilities:i.capabilities.matrix,create:function(){return new i.Matrix},createES6:i.createMatrix?function(){return i.createMatrix()}:void 0,customizeQuery:i.MatrixPluginMethods.customizeQuery,getSortableRoles:i.MatrixPluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals"}},tableEx:{name:"tableEx",watermarkKey:"table",titleKey:t("Table_ToolTip"),capabilities:e.visuals.getTableExCapabilities(),create:function(){return new i.TableEx},createES6:i.createTableEx?function(){return i.createTableEx(void 0,void 0)}:void 0,customizeQuery:i.TableExPluginMethods.customizeQuery,getSortableRoles:i.TableExPluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals",css:["pivotTableVisuals"]}},pivotTable:{name:"pivotTable",watermarkKey:"matrix",titleKey:t("Matrix_ToolTip"),capabilities:i.capabilities.pivotTableCapabilities,create:function(){return new i.PivotTable},createES6:i.createPivotTable?function(){return i.createPivotTable(void 0,void 0)}:void 0,customizeQuery:i.PivotTablePluginMethods.customizeQuery,getSortableRoles:i.PivotTablePluginMethods.getSortableRoles,module:{javascript:"pivotTableVisuals",css:["pivotTableVisuals"]}},accessibleTable:{name:"accessibleTable",watermarkKey:"matrix",capabilities:i.capabilities.accessibleTable,create:function(e){return e.module.AccessibleTable()},createES6:i.createAccessibleTable?function(){return i.createAccessibleTable()}:void 0,module:{javascript:"AccessibleTableVisual/accessibleTable/accessibleTable",css:["accessibleTableVisual"]}},slicer:{name:"slicer",watermarkKey:"slicer",titleKey:t("Slicer_ToolTip"),capabilities:i.capabilities.slicer,create:function(){return new i.Slicer},createES6:i.createSlicer?function(){return i.createSlicer(void 0)}:void 0,customizeQuery:i.SlicerPluginMethods.customizeQuery,getSortableRoles:i.SlicerPluginMethods.getSortableRoles,isCrossFilteredByDefault:i.SlicerPluginMethods.isCrossFilteredByDefault,mergeObjects:i.SlicerPluginMethods.mergeObjects,customizeVisualAuthoringOperations:i.SlicerPluginMethods.customizeVisualAuthoringOperations,module:{javascript:"slicerVisual"}},pageNavigator:{name:"pageNavigator",titleKey:t("Visual_PageNavigator"),capabilities:i.capabilities.pageNavigator,module:{javascript:"NavigatorVisuals/navigator"},create:function(e){return e.module.createNavigator({navigatorType:"page"})},createES6:i.createNavigator?function(){return i.createNavigator({navigatorType:"page"})}:void 0},bookmarkNavigator:{name:"bookmarkNavigator",titleKey:t("Visual_BookmarkNavigator"),capabilities:i.capabilities.bookmarkNavigator,module:{javascript:"NavigatorVisuals/navigator"},create:function(e){return e.module.createNavigator({navigatorType:"bookmark"})},createES6:i.createNavigator?function(){return i.createNavigator({navigatorType:"bookmark"})}:void 0},filterSlicer:{name:"filterSlicer",create:function(){return new i.Slicer},createES6:i.createSlicer?function(){return i.createSlicer(void 0)}:void 0,capabilities:i.capabilities.slicer,customizeQuery:i.SlicerPluginMethods.customizeQuery,getSortableRoles:i.SlicerPluginMethods.getSortableRoles,isCrossFilteredByDefault:i.SlicerPluginMethods.isCrossFilteredByDefault,mergeObjects:i.SlicerPluginMethods.mergeObjects,customizeVisualAuthoringOperations:i.SlicerPluginMethods.customizeVisualAuthoringOperations,module:{javascript:"slicerVisual"}},textbox:{name:"textbox",titleKey:t("Textbox"),capabilities:i.capabilities.textbox,create:function(e){return e.module.createTextbox()},createES6:i.createTextbox?function(){return i.createTextbox(void 0)}:void 0,module:{javascript:"TextboxVisual/textboxModule"},supportsSummarization:!0,summarizationMessage:t("SmartNarratives_InitializationMessage")},aiNarratives:{name:"aiNarratives",titleKey:t("AINarrativesVisual_Tooltip"),capabilities:i.capabilities.aiNarratives,create:function(e){return e.module.createAINarratives()},createES6:i.createAINarratives?function(){return i.createAINarratives()}:void 0,module:{javascript:"AINarrativesVisual/aiNarratives",css:["aiNarrativesVisual"]}},waterfallChart:{name:"waterfallChart",watermarkKey:"waterfall",titleKey:t("WaterfallChart_ToolTip"),capabilities:i.capabilities.waterfallChart,module:{javascript:"CartesianVisuals/cartesianModule"},create:function(e){return e.module.createCartesianChart({chartType:13,featureSwitches:e.featureSwitches})},createES6:i.createCartesianChart?function(e){return i.createCartesianChart({chartType:13,featureSwitches:e.featureSwitches})}:void 0,customizeQuery:i.WaterfallChartPluginMethods.customizeQuery,getSortableRoles:i.WaterfallChartPluginMethods.getSortableRoles,getAdditionalTelemetry:i.CartesianPluginMethods.getAdditionalTelemetry},cheerMeter:{name:"cheerMeter",capabilities:i.CheerMeter.capabilities,create:function(){return new i.CheerMeter},createES6:void 0},consoleWriter:{name:"consoleWriter",capabilities:i.samples.consoleWriterCapabilities,create:function(){return new i.samples.ConsoleWriter},createES6:void 0},helloIVisual:{name:"helloIVisual",capabilities:i.samples.HelloIVisual.capabilities,create:function(){return new i.samples.HelloIVisual},createES6:void 0},scriptVisual:{name:"scriptVisual",watermarkKey:"scriptvisual",titleKey:t("ScriptVisual_ToolTip"),capabilities:i.capabilities.scriptVisual,module:{javascript:"ScriptVisual/scriptVisual"},create:function(e){return new e.module.ScriptVisual},createES6:i.createScriptVisual?function(){return i.createScriptVisual()}:void 0},pythonVisual:{name:"pythonVisual",watermarkKey:"pythonvisual",titleKey:t("PythonVisual_ToolTip"),capabilities:i.capabilities.pythonVisual,module:{javascript:"ScriptVisual/scriptVisual"},create:function(e){return new e.module.ScriptVisual},createES6:i.createScriptVisual?function(){return i.createScriptVisual()}:void 0},kpi:{name:"kpi",watermarkKey:"kpi",titleKey:t("kpi_Tooltip"),capabilities:i.capabilities.kpi,create:function(){return new i.KPIStatusWithHistory},createES6:i.createKpi?function(){return i.createKpi(void 0)}:void 0,module:{javascript:"kpiVisual"},stampHardcodedDefaultObjects:i.KpiPluginMethods.stampHardcodedDefaultObjects,getNarrativeSummaryBindings:i.KpiPluginMethods.getNarrativeSummaryBindings},keyDriversVisual:{name:"keyDriversVisual",watermarkKey:"keyDrivers",titleKey:t("KeyDriver_Tooltip"),capabilities:i.capabilities.keyDrivers,create:function(e){return e.module.createAnalysisVisual()},getAnalysisVisualNarrativeSummaryConfiguration:i.KeyDriversPluginMethods.getAnalysisVisualNarrativeSummaryConfiguration},decompositionTreeVisual:{name:"decompositionTreeVisual",watermarkKey:"decompositionTree",titleKey:t("DecompositionTree_Tooltip"),capabilities:i.capabilities.decompositionTree,create:function(e){return new e.module.DecompositionTree},createES6:i.createDecompositionTree?function(){return i.createDecompositionTree()}:void 0,customizeQuery:i.DecompositionTreePluginMethods.customizeQuery,module:{javascript:"DecompositionTreeVisual/decompositionTree"}},qnaVisual:{name:"qnaVisual",capabilities:i.capabilities.qnaVisual,create:function(e){return e.module.createQnaVisual()},titleKey:t("Generic_Qna")},histogram:{name:"histogram",watermarkKey:"column",titleKey:t("Histogram_Tooltip"),capabilities:i.capabilities.histogram,create:function(e){return e.module.createCartesianChart({chartType:19})},createES6:i.createCartesianChart?function(){return i.createCartesianChart({chartType:19})}:void 0,module:{javascript:"CartesianVisuals/cartesianModule"},getSortableRoles:i.HistogramPluginMethods.getSortableRoles},scorecard:{name:"scorecard",watermarkKey:"scorecard",titleKey:t("Scorecard_Visual_Tooltip"),capabilities:i.capabilities.scorecard,create:function(e){return new e.module.Scorecard},createES6:i.createScorecard?function(){return i.createScorecard()}:void 0,module:{javascript:"ScorecardVisual/scorecard",css:["scorecardVisual"]}},rdlVisual:{name:"rdlVisual",titleKey:t("RdlVisual_ToolTip"),capabilities:i.capabilities.rdlVisual,create:function(e){return new e.module.RdlVisual},createES6:i.createRdlVisual?function(){return i.createRdlVisual()}:void 0,module:{javascript:"RdlVisual/rdlVisual",css:["rdlVisual"]},customizeQuery:i.RdlVisualPluginMethods.customizeQuery},dataQueryVisual:{name:"dataQueryVisual",capabilities:i.capabilities.dataQueryVisual,create:function(){},customizeQuery:i.DataQueryVisualPluginMethods.customizeQuery}},a=!(i.addPlugin=function(e,t){i.plugins[e]=t}),i.initializeNotForOOS(),a||(window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins&&(i.plugins=__assign(__assign({},i.plugins),window.powerbi.visuals.plugins)),window.powerbi.visuals.plugins=i.plugins,a=!0)})(powerbi=powerbi||{}),(function(e){function t(){return"#FFFFFF"}(e=(e=e.visuals||(e.visuals={})).CanvasBackgroundHelper||(e.CanvasBackgroundHelper={})).getDefaultColor=t,e.getDefaultValues=function(){return{color:t()}}})(powerbi=powerbi||{}),(function(t){var o;function e(e,t,a,i){this.rangeMaxValue=o.DateUtil.getDifferenceInDays(t,e),this.scale=d3.scaleTime().domain([e,t]).range([0,this.rangeMaxValue]),this.value={min:a||e,max:i||t},this.setValue(this.value)}function a(e,t,a,i){this.rangeMaxValue=t,this.scale=d3.scaleLinear().domain([e,t]).range([e,this.rangeMaxValue]),this.value={min:void 0===a?e:a,max:void 0===i?t:i},this.setValue(this.value)}function i(e,t,a,i){this.value={min:void 0===a?e:a,max:void 0===i?t:i}}o=t.visuals||(t.visuals={}),e.prototype.getScaledValue=function(){return this.scaledValue},e.prototype.setValue=function(e){this.value=e,this.scaledValue={min:this.scale(e.min),max:this.scale(e.max)}},e.prototype.getValue=function(){return this.value},e.prototype.setScaledValue=function(e){this.scaledValue=e,this.value={min:t.dateWithEpochValueFromLocalDate(this.scale.invert(e.min)),max:t.dateWithEpochValueFromLocalDate(this.scale.invert(e.max))}},o.DateRange=e,a.prototype.getScaledValue=function(){return this.scaledValue},a.prototype.setValue=function(e){e.min,e.max,this.value=e,this.scaledValue={min:this.scale(e.min),max:this.scale(e.max)}},a.prototype.getValue=function(){return this.value},a.prototype.setScaledValue=function(e){this.scaledValue=e,this.value={min:this.scale.invert(e.min),max:this.scale.invert(e.max)}},o.NumericRange=a,i.prototype.getScaledValue=function(){return this.value},i.prototype.setValue=function(e){e.min,e.max,this.value=e},i.prototype.getValue=function(){return this.value},i.prototype.setScaledValue=function(e){this.setValue(e)},o.NonScaledNumericRange=i})(powerbi=powerbi||{}),(function(e){var l,s,c,t,u;l=e.visuals||(e.visuals={}),e=l.stylePresets||(l.stylePresets={}),u=jsCommon.Color,(t=s=e.TablixStylePresetDefaults||(e.TablixStylePresetDefaults={})).columnsOutline=l.TablixProperties.PropColumnsOutline.defaultValue,t.columnsOutlineStyle=l.TablixProperties.PropColumnsOutlineStyle.defaultValue,t.gridHorizontalWeight=l.TablixProperties.PropGridHorizontalWeight.defaultValue,t.gridlineVerticalWeight=l.TablixProperties.PropGridVerticalWeight.defaultValue,t.newVisualColumnsOutline=l.TablixProperties.PropColumnsNewVisualOutline.defaultValue,t.newVisualRowsOutline=l.TablixProperties.PropRowsPivotTableOutline.defaultValue,t.newVisualTableTotalOutline=l.TablixProperties.PropTotalTableExOutline.defaultValue,t.newVisualValuesOutline=l.TablixProperties.PropValuesNewVisualOutline.defaultValue,t.outlineWeight=l.TablixProperties.PropGridOutlineWeight.defaultValue,t.rowsOutline=l.TablixProperties.PropRowsOutline.defaultValue,t.rowsOutlineStyle=l.TablixProperties.PropRowsOutlineStyle.defaultValue,t.tableTotalOutline=l.TablixProperties.PropTotalOutline.defaultValue,t.tableTotalOutlineStyle=l.TablixProperties.PropTotalOutlineStyle.defaultValue,t.valuesOutline=l.TablixProperties.PropValuesOutline.defaultValue,t.valuesOutlineStyle=l.TablixProperties.PropValuesOutlineStyle.defaultValue,t.rowPaddingCondensed=0,t.rowPaddingNormal=3,t.rowPaddingSparse=6,(t=c=e.TablixStylePresetsName||(e.TablixStylePresetsName={})).None="None",t.Default="Default",t.Minimal="Minimal",t.BoldHeader="BoldHeader",t.AlternatingRows="AlternatingRows",t.AlternatingRowsNew="AlternatingRowsNew",t.ContrastAlternatingRows="ContrastAlternatingRows",t.FlashyRows="FlashyRows",t.BoldHeaderFlashyRows="BoldHeaderFlashyRows",t.Sparse="Sparse",t.Condensed="Condensed",e.getTablixStylePresetElements=function(e,t){var a,i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,r=t.colorPalette.tableAccent.value,n=new l.TablixProperties(t);switch(e){case c.None:return{outlineColor:n.PropGridOutlineColor.getValue(null),gridColor:n.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:l.TablixProperties.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:l.TablixProperties.PropGridVertical.defaultValue,gridHorizontalEnabledTable:l.TablixProperties.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:l.TablixProperties.PropGridHorizontalMatrix.defaultValue,rowPadding:l.TablixProperties.PropGridRowPadding.defaultValue,fontColorHeaders:n.PropColumnsFontColor.getValue(null),backColorHeaders:n.PropColumnsBackColor.getValue(null),fontColorValues1:n.PropValuesFontColorPrimary.getValue(null),backColorValues1:n.PropValuesBackColorPrimary.getValue(null),fontColorValues2:n.PropValuesFontColorSecondary.getValue(null),backColorValues2:n.PropValuesBackColorSecondary.getValue(null),fontColorTotals:n.PropTotalFontColor.getValue(null),backColorTotals:n.PropTotalBackColor.getValue(null)};case c.Default:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:l.TablixProperties.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:l.TablixProperties.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:o,backColorHeaders:i,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:u.hexBlend(o,.08,i),fontColorTotals:void 0,backColorTotals:void 0};case c.Minimal:return{outlineColor:r,gridColor:a=u.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:o,backColorHeaders:i,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:o,backColorTotals:i};case c.BoldHeader:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,backColorHeaders:o,fontColorHeaders:i,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:o,backColorTotals:i};case c.AlternatingRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:u.hexBlend(o,.08,i),fontColorTotals:i,backColorTotals:o};case c.AlternatingRowsNew:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:u.hexBlend(o,.08,i),fontColorTotals:i,backColorTotals:o,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case c.ContrastAlternatingRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.12,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:i,backColorValues1:u.hexBlend(o,.75,i),fontColorValues2:o,backColorValues2:u.hexBlend(o,.25,i),fontColorTotals:i,backColorTotals:o};case c.FlashyRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,r=t.colorPalette.tableAccent.value,{outlineColor:o,gridColor:a=i,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:s.rowPaddingNormal,fontColorHeaders:o,backColorHeaders:i,fontColorValues1:o,backColorValues1:u.hexBlend(r,.4,i),fontColorValues2:o,backColorValues2:u.hexBlend(r,.8,i),fontColorTotals:o,backColorTotals:i};case c.BoldHeaderFlashyRows:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,r=t.colorPalette.tableAccent.value,{outlineColor:a=i,gridColor:a,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:s.rowPaddingNormal,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:u.hexBlend(r,.4,i),fontColorValues2:o,backColorValues2:u.hexBlend(r,.8,i),fontColorTotals:i,backColorTotals:o};case c.Sparse:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.2,i),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:s.rowPaddingSparse,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:i,backColorTotals:o};case c.Condensed:return i=t.colorPalette.background.value,o=t.colorPalette.foreground.value,{outlineColor:r=t.colorPalette.tableAccent.value,gridColor:a=u.hexBlend(o,.2,i),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:s.rowPaddingCondensed,fontColorHeaders:i,backColorHeaders:o,fontColorValues1:o,backColorValues1:i,fontColorValues2:o,backColorValues2:i,fontColorTotals:i,backColorTotals:o}}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n;function l(e,t){e=a.getTablixStylePresetElements(e,t);return e?{grid:[{properties:{outlineColor:n(e.outlineColor),outlineWeight:o.integer(r.valueOrDefault(e.outlineWeight,a.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(e.gridVerticalEnabledTable),gridVerticalColor:n(e.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(e.gridVerticalWeight,a.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(e.gridHorizontalEnabledTable),gridHorizontalColor:n(e.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(e.gridHorizontalWeight,a.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(e.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeColumnHeaders,a.TablixStylePresetDefaults.columnsOutline)),fontColor:n(e.fontColorHeaders),backColor:n(e.backColorHeaders)}}],values:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeValues,a.TablixStylePresetDefaults.valuesOutline)),fontColorPrimary:n(e.fontColorValues1),backColorPrimary:n(e.backColorValues1),fontColorSecondary:n(e.fontColorValues2),backColorSecondary:n(e.backColorValues2)}}],total:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeTotals,a.TablixStylePresetDefaults.tableTotalOutline)),fontColor:n(e.fontColorTotals),backColor:n(e.backColorTotals)}}]}:{}}t=e.visuals||(e.visuals={}),a=t.stylePresets||(t.stylePresets={}),i=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,a.tableStylePresets=function(){var e;return{sectionTitle:i("Visual_Table_StylePreset_SectionTitle"),sliceTitle:i("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:a.TablixStylePresetsName.None,presets:((e={})[a.TablixStylePresetsName.None]={name:a.TablixStylePresetsName.None,displayName:i("None"),evaluate:function(e){return l(a.TablixStylePresetsName.None,e)}},e[a.TablixStylePresetsName.Minimal]={name:a.TablixStylePresetsName.Minimal,displayName:i("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(a.TablixStylePresetsName.Minimal,e)}},e[a.TablixStylePresetsName.BoldHeader]={name:a.TablixStylePresetsName.BoldHeader,displayName:i("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeader,e)}},e[a.TablixStylePresetsName.AlternatingRows]={name:a.TablixStylePresetsName.AlternatingRows,displayName:i("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRows,e)}},e[a.TablixStylePresetsName.ContrastAlternatingRows]={name:a.TablixStylePresetsName.ContrastAlternatingRows,displayName:i("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.ContrastAlternatingRows,e)}},e[a.TablixStylePresetsName.FlashyRows]={name:a.TablixStylePresetsName.FlashyRows,displayName:i("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.FlashyRows,e)}},e[a.TablixStylePresetsName.BoldHeaderFlashyRows]={name:a.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:i("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeaderFlashyRows,e)}},e[a.TablixStylePresetsName.Sparse]={name:a.TablixStylePresetsName.Sparse,displayName:i("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(a.TablixStylePresetsName.Sparse,e)}},e[a.TablixStylePresetsName.Condensed]={name:a.TablixStylePresetsName.Condensed,displayName:i("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(a.TablixStylePresetsName.Condensed,e)}},e)}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n;function l(e,t){e=a.getTablixStylePresetElements(e,t);return e?{grid:[{properties:{outlineColor:n(e.outlineColor),outlineWeight:o.integer(r.valueOrDefault(e.outlineWeight,a.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(e.gridVerticalEnabledMatrix),gridVerticalColor:n(e.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(e.gridVerticalWeight,a.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(e.gridHorizontalEnabledMatrix),gridHorizontalColor:n(e.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(e.gridHorizontalWeight,a.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(e.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeColumnHeaders,a.TablixStylePresetDefaults.columnsOutline)),fontColor:n(e.fontColorHeaders),backColor:n(e.backColorHeaders)}}],rowHeaders:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeRowHeaders,a.TablixStylePresetDefaults.rowsOutline)),fontColor:n(e.fontColorHeaders),backColor:n(e.backColorHeaders)}}],values:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeValues,a.TablixStylePresetDefaults.valuesOutline)),fontColorPrimary:n(e.fontColorValues1),backColorPrimary:n(e.backColorValues1),fontColorSecondary:n(e.fontColorValues2),backColorSecondary:n(e.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:n(e.fontColorTotals),backColor:n(e.backColorTotals),applyToHeaders:o.boolean(!1)}}]}:{}}t=e.visuals||(e.visuals={}),a=t.stylePresets||(t.stylePresets={}),i=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,a.matrixStylePresets=function(){var e;return{sectionTitle:i("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:i("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:a.TablixStylePresetsName.None,presets:((e={})[a.TablixStylePresetsName.None]={name:a.TablixStylePresetsName.None,displayName:i("None"),evaluate:function(e){return l(a.TablixStylePresetsName.None,e)}},e[a.TablixStylePresetsName.Minimal]={name:a.TablixStylePresetsName.Minimal,displayName:i("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(a.TablixStylePresetsName.Minimal,e)}},e[a.TablixStylePresetsName.BoldHeader]={name:a.TablixStylePresetsName.BoldHeader,displayName:i("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeader,e)}},e[a.TablixStylePresetsName.AlternatingRows]={name:a.TablixStylePresetsName.AlternatingRows,displayName:i("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRows,e)}},e[a.TablixStylePresetsName.ContrastAlternatingRows]={name:a.TablixStylePresetsName.ContrastAlternatingRows,displayName:i("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.ContrastAlternatingRows,e)}},e[a.TablixStylePresetsName.FlashyRows]={name:a.TablixStylePresetsName.FlashyRows,displayName:i("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.FlashyRows,e)}},e[a.TablixStylePresetsName.BoldHeaderFlashyRows]={name:a.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:i("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeaderFlashyRows,e)}},e[a.TablixStylePresetsName.Sparse]={name:a.TablixStylePresetsName.Sparse,displayName:i("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(a.TablixStylePresetsName.Sparse,e)}},e[a.TablixStylePresetsName.Condensed]={name:a.TablixStylePresetsName.Condensed,displayName:i("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(a.TablixStylePresetsName.Condensed,e)}},e)}}})(powerbi=powerbi||{}),(function(e){var t,i,a,o,r,n;function l(e,t,a){e=i.getTablixStylePresetElements(e,t);return e?(t=a.splitSubTotals?[{properties:{fontColor:n(e.fontColorSubtotalsRow),backColor:n(e.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}]:[{properties:{fontColor:n(e.fontColorSubtotalsRow),backColor:n(e.backColorSubtotalsRow)}}],{grid:[{properties:{outline:void 0,outlineColor:n(e.outlineColor),outlineWeight:o.integer(r.valueOrDefault(e.outlineWeight,i.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(e.gridVerticalEnabledMatrix),gridVerticalColor:n(e.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(e.gridVerticalWeight,i.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(e.gridHorizontalEnabledMatrix),gridHorizontalColor:n(e.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(e.gridHorizontalWeight,i.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(e.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeColumnHeaders,i.TablixStylePresetDefaults.newVisualColumnsOutline)),outlineStyle:o.integer(r.valueOrDefault(e.outlineModeColumnHeaders,i.TablixStylePresetDefaults.columnsOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(e.fontColorHeaders),backColor:n(e.backColorHeaders)}}],rowHeaders:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeRowHeaders,i.TablixStylePresetDefaults.newVisualRowsOutline)),outlineStyle:o.integer(r.valueOrDefault(e.outlineModeRowHeaders,i.TablixStylePresetDefaults.rowsOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(e.fontColorHeaders),backColor:n(e.backColorHeaders),applyAlternation:o.boolean(!0)}}],values:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeValues,i.TablixStylePresetDefaults.newVisualValuesOutline)),outlineStyle:o.integer(r.valueOrDefault(e.outlineModeValues,i.TablixStylePresetDefaults.valuesOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:n(e.fontColorValues1),backColorPrimary:n(e.backColorValues1),fontColorSecondary:n(e.fontColorValues2),backColorSecondary:n(e.backColorValues2)}}],subTotals:t,total:[{properties:{fontColor:n(e.fontColorTotals),backColor:n(e.backColorTotals),applyToHeaders:o.boolean(!1)}}],rowTotal:[{properties:{fontColor:n(e.fontColorTotals),backColor:n(e.backColorTotals),applyToHeaders:o.boolean(!1)}}],columnTotal:[{properties:{fontColor:n(e.fontColorTotals),backColor:n(e.backColorTotals),applyToHeaders:o.boolean(!1)}}]}):{}}t=e.visuals||(e.visuals={}),i=t.stylePresets||(t.stylePresets={}),a=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,i.pivotTableStylePresets=function(t){var e;return{sectionTitle:a("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:a("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:i.TablixStylePresetsName.Default,presets:((e={})[i.TablixStylePresetsName.Default]={name:i.TablixStylePresetsName.Default,displayName:a("Default"),evaluate:function(e){return l(i.TablixStylePresetsName.Default,e,t)}},e[i.TablixStylePresetsName.None]={name:i.TablixStylePresetsName.None,displayName:a("None"),evaluate:function(e){return l(i.TablixStylePresetsName.None,e,t)}},e[i.TablixStylePresetsName.Minimal]={name:i.TablixStylePresetsName.Minimal,displayName:a("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(i.TablixStylePresetsName.Minimal,e,t)}},e[i.TablixStylePresetsName.BoldHeader]={name:i.TablixStylePresetsName.BoldHeader,displayName:a("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(i.TablixStylePresetsName.BoldHeader,e,t)}},e[i.TablixStylePresetsName.AlternatingRows]={name:i.TablixStylePresetsName.AlternatingRows,displayName:a("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(i.TablixStylePresetsName.AlternatingRows,e,t)},isDeprecated:!0},e[i.TablixStylePresetsName.AlternatingRowsNew]={name:i.TablixStylePresetsName.AlternatingRowsNew,displayName:a("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(e){return l(i.TablixStylePresetsName.AlternatingRowsNew,e,t)}},e[i.TablixStylePresetsName.ContrastAlternatingRows]={name:i.TablixStylePresetsName.ContrastAlternatingRows,displayName:a("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(i.TablixStylePresetsName.ContrastAlternatingRows,e,t)}},e[i.TablixStylePresetsName.FlashyRows]={name:i.TablixStylePresetsName.FlashyRows,displayName:a("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(i.TablixStylePresetsName.FlashyRows,e,t)}},e[i.TablixStylePresetsName.BoldHeaderFlashyRows]={name:i.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:a("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(i.TablixStylePresetsName.BoldHeaderFlashyRows,e,t)}},e[i.TablixStylePresetsName.Sparse]={name:i.TablixStylePresetsName.Sparse,displayName:a("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(i.TablixStylePresetsName.Sparse,e,t)}},e[i.TablixStylePresetsName.Condensed]={name:i.TablixStylePresetsName.Condensed,displayName:a("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(i.TablixStylePresetsName.Condensed,e,t)}},e)}}})(powerbi=powerbi||{}),(function(e){var t,a,i,o,r,n;function l(e,t){e=a.getTablixStylePresetElements(e,t);return e?{grid:[{properties:{outline:void 0,outlineColor:n(e.outlineColor),outlineWeight:o.integer(r.valueOrDefault(e.outlineWeight,a.TablixStylePresetDefaults.outlineWeight)),gridVertical:o.boolean(e.gridVerticalEnabledTable),gridVerticalColor:n(e.gridColor),gridVerticalWeight:o.integer(r.valueOrDefault(e.gridVerticalWeight,a.TablixStylePresetDefaults.gridlineVerticalWeight)),gridHorizontal:o.boolean(e.gridHorizontalEnabledTable),gridHorizontalColor:n(e.gridColor),gridHorizontalWeight:o.integer(r.valueOrDefault(e.gridHorizontalWeight,a.TablixStylePresetDefaults.gridHorizontalWeight)),rowPadding:o.integer(e.rowPadding)}}],columnHeaders:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeColumnHeaders,a.TablixStylePresetDefaults.newVisualColumnsOutline)),outlineStyle:o.integer(r.valueOrDefault(e.outlineModeColumnHeaders,a.TablixStylePresetDefaults.columnsOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(e.fontColorHeaders),backColor:n(e.backColorHeaders)}}],values:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeValues,a.TablixStylePresetDefaults.newVisualValuesOutline)),outlineStyle:o.integer(r.valueOrDefault(e.outlineModeValues,a.TablixStylePresetDefaults.valuesOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:n(e.fontColorValues1),backColorPrimary:n(e.backColorValues1),fontColorSecondary:n(e.fontColorValues2),backColorSecondary:n(e.backColorValues2)}}],total:[{properties:{outline:o.text(r.valueOrDefault(e.outlineModeTotals,a.TablixStylePresetDefaults.newVisualTableTotalOutline)),outlineStyle:o.integer(r.valueOrDefault(e.outlineModeTotals,a.TablixStylePresetDefaults.tableTotalOutlineStyle)),outlineColor:void 0,outlineWeight:void 0,fontColor:n(e.fontColorTotals),backColor:n(e.backColorTotals)}}]}:{}}t=e.visuals||(e.visuals={}),a=t.stylePresets||(t.stylePresets={}),i=e.data.createDisplayNameGetter,o=e.data.SQExprBuilder,r=jsCommon.Utility,n=e.fillDefinitionHelpers.createSolidFillDefinition,a.tableExStylePresets=function(e){var t;return{sectionTitle:i("Visual_Table_StylePreset_SectionTitle"),sliceTitle:i("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:a.TablixStylePresetsName.Default,presets:((t={})[a.TablixStylePresetsName.Default]={name:a.TablixStylePresetsName.Default,displayName:i("Default"),evaluate:function(e){return l(a.TablixStylePresetsName.Default,e)}},t[a.TablixStylePresetsName.None]={name:a.TablixStylePresetsName.None,displayName:i("None"),evaluate:function(e){return l(a.TablixStylePresetsName.None,e)}},t[a.TablixStylePresetsName.Minimal]={name:a.TablixStylePresetsName.Minimal,displayName:i("Visual_Table_StylePreset_Minimal"),evaluate:function(e){return l(a.TablixStylePresetsName.Minimal,e)}},t[a.TablixStylePresetsName.BoldHeader]={name:a.TablixStylePresetsName.BoldHeader,displayName:i("Visual_Table_StylePreset_BoldHeader"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeader,e)}},t[a.TablixStylePresetsName.AlternatingRows]={name:a.TablixStylePresetsName.AlternatingRows,displayName:i("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRows,e)},isDeprecated:!0},t[a.TablixStylePresetsName.AlternatingRowsNew]={name:a.TablixStylePresetsName.AlternatingRowsNew,displayName:i("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(e){return l(a.TablixStylePresetsName.AlternatingRowsNew,e)}},t[a.TablixStylePresetsName.ContrastAlternatingRows]={name:a.TablixStylePresetsName.ContrastAlternatingRows,displayName:i("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(e){return l(a.TablixStylePresetsName.ContrastAlternatingRows,e)}},t[a.TablixStylePresetsName.FlashyRows]={name:a.TablixStylePresetsName.FlashyRows,displayName:i("Visual_Table_StylePreset_FlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.FlashyRows,e)}},t[a.TablixStylePresetsName.BoldHeaderFlashyRows]={name:a.TablixStylePresetsName.BoldHeaderFlashyRows,displayName:i("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(e){return l(a.TablixStylePresetsName.BoldHeaderFlashyRows,e)}},t[a.TablixStylePresetsName.Sparse]={name:a.TablixStylePresetsName.Sparse,displayName:i("Visual_Table_StylePreset_Sparse"),evaluate:function(e){return l(a.TablixStylePresetsName.Sparse,e)}},t[a.TablixStylePresetsName.Condensed]={name:a.TablixStylePresetsName.Condensed,displayName:i("Visual_Table_StylePreset_Condensed"),evaluate:function(e){return l(a.TablixStylePresetsName.Condensed,e)}},t)}}})(powerbi=powerbi||{});;
var module;(module||{}).exports=window.renderjson=(function(){function n(c,f,y,d,p,_){var v=y?"":f,h=function(n,o,u,c,f){var y,p=i(c),_=function(){y||e(p.parentNode,y=r(f(),s(l.hide,"disclosure",(function(){y.style.display="none",p.style.display="inline";})))),y.style.display="inline",p.style.display="none";};e(p,s(l.show,"disclosure",_),t(c+" syntax",n),s(o,null,_),t(c+" syntax",u));var h=e(i(),a(v.slice(0,-1)),p);return d>0&&_(),h;};return null===c?t(null,v,"keyword","null"):void 0===c?t(null,v,"keyword","undefined"):"string"==typeof c&&c.length>p?h('"',c.substr(0,p)+" ...",'"',"string",(function(){return e(i("string"),t(null,v,"string",JSON.stringify(c)));})):l.js_mode&&"function"==typeof c?h("function() {","...","}","function",(function(){var n=c.toString().match(/^([^{]*{)([\s\S]*)(})\s?$/),r=n&&n[1]?n[1]:"function() {",o=n&&n[2]?n[2]:"";return e(i("function"),t("function syntax",r,null,"\n"),t(null,f,"function",o),a("\n"),t(null,f,"function syntax","}"));})):"object"!=typeof c?t(null,v,typeof c,JSON.stringify(c)):c.constructor==Array?0==c.length?t(null,v,"array syntax","[]"):h("["," ... ","]","array",(function(){for(var r=e(i("array"),t("array syntax","[",null,"\n")),o=0;o<c.length;o++)e(r,n(c[o],f+"    ",!1,d-1,p,_),o!=c.length-1?t("syntax",","):[],a("\n"));return e(r,t(null,f,"array syntax","]")),r;})):(l.js_mode&&(c=u(c)),o(c)?t(null,v,"object syntax","{}"):h("{","...","}","object",(function(){var r=e(i("object"),t("object syntax","{",null,"\n"));for(var o in c)var s=o;var u=Object.keys(c);_&&(u=u.sort());for(var l in u){var o=u[l];e(r,t(null,f+"    ","key",'"'+o+'"',"object syntax",": "),n(c[o],f+"    ",!0,d-1,p,_),o!=s?t("syntax",","):[],a("\n"));}return e(r,t(null,f,"object syntax","}")),r;})));}var t=function(){for(var n=[];arguments.length;)n.push(e(i(Array.prototype.shift.call(arguments)),a(Array.prototype.shift.call(arguments))));return n;},e=function(){for(var n=Array.prototype.shift.call(arguments),t=0;t<arguments.length;t++)arguments[t].constructor==Array?e.apply(this,[n].concat(arguments[t])):n.appendChild(arguments[t]);return n;},r=function(n,t){return n.insertBefore(t,n.firstChild),n;},o=function(n){for(var t in n)if(Object.hasOwnProperty.call(n,t))return!1;return!0;},a=function(n){return document.createTextNode(n);},i=function(n){var t=document.createElement("span");return n&&(t.className=n),t;},s=function(n,t,e){var r=document.createElement("a");return t&&(r.className=t),r.appendChild(a(n)),r.href="#",r.onclick=function(n){return e(),n&&n.stopPropagation(),!1;},r;},u=function(n){for(var t={},e=n;null!=e;e=Object.getPrototypeOf(e))for(var r=Object.getOwnPropertyNames(e),o=0;o<r.length;o++){var a=r[o];"undefined"==typeof t[a]&&(t[a]=n[a]);}return t;},l=function c(t){var r=e(document.createElement("pre"),n(t,"",!1,c.show_to_level,c.max_string_length,c.sort_objects));return r.className="renderjson",r;};return l.set_js_mode=function(n){return l.js_mode=n,l;},l.set_icons=function(n,t){return l.show=n,l.hide=t,l;},l.set_show_to_level=function(n){return l.show_to_level="string"==typeof n&&"all"===n.toLowerCase()?Number.MAX_VALUE:n,l;},l.set_max_string_length=function(n){return l.max_string_length="string"==typeof n&&"none"===n.toLowerCase()?Number.MAX_VALUE:n,l;},l.set_sort_objects=function(n){return l.sort_objects=n,l;},l.set_show_by_default=function(n){return l.show_to_level=n?Number.MAX_VALUE:0,l;},l.set_icons("",""),l.set_show_by_default(!1),l.set_sort_objects(!1),l.set_max_string_length("none"),l.set_js_mode(!1),l;})();!(function(n){var t;!(function(t){var e;!(function(t){var e;!(function(t){var e=(function(){function t(n){var t=this.container=$("<div>");t.addClass("jsonViewScrollPane"),$(n.element).append(t),renderjson.set_js_mode(!0);}return t.prototype.update=function(t){t.type&n.VisualUpdateType.Data&&this.container.empty().append(renderjson(t.dataViews));},t;})();t.Visual=e;})(e=t.dataViewer||(t.dataViewer={}));})(e=t.visual||(t.visual={}));})(t=n.extensibility||(n.extensibility={}));})(window.powerbi||(window.powerbi={}));!(function(n){var t;!(function(t){var e;!(function(t){t.dataViewer={name:"dataViewer",displayName:"data viewer","class":"Visual",version:"1.0.0",apiVersion:"1.0.0",create:function(t){return new n.extensibility.visual.dataViewer.Visual(t);},custom:!0};})(e=t.plugins||(t.plugins={}));})(t=n.visuals||(n.visuals={}));})(window.powerbi||(window.powerbi={})); 
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['visuals.min.js'] || (this.parseTimeMarkers['visuals.min.js'] = {});
marker.endEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
;
var contextActivity,InJs,jsCommon,powerbi,__spreadArray=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||((n=n||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))},__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};!(function(e){(e.Base64Utils||(e.Base64Utils={})).isBase64=function(e){try{return btoa(atob(e))===e}catch(e){return!1}}})(jsCommon=jsCommon||{}),(function(e){(e.UnionExtensions||(e.UnionExtensions={})).mergeUnionType=function(e,t,r){if(e||t||r)return!e||t||r?e||!t||r?e||t||!r?$.extend(e,t,r):r:t:e}})(jsCommon=jsCommon||{}),(function(r){function e(e){this.cache={},this.capacity=e,this.linkedList=new r.LinkedList}function t(e){this.cache={},this.capacity=e,this.linkedList=new r.LinkedList}e.prototype.get=function(e){return!(e in this.cache)||null==(e=this.cache[e].value)?void 0:e.value},e.prototype.remove=function(e){var t;this.cache[e]&&(t=this.cache[e],this.linkedList.remove(t),delete this.cache[e])},e.prototype.put=function(e,t){e in this.cache&&this.remove(e);t=new n(e,t),t=new r.LinkedListNode(t);this.cache[e]=t,this.linkedList.insertToHead(t),this.size()>this.capacity&&(e=this.linkedList.tail().value,delete this.cache[e.key],this.linkedList.removeFromTail())},e.prototype.containsKey=function(e){return e in this.cache},e.prototype.size=function(){return this.keys().length},e.prototype.keys=function(){return Object.keys(this.cache)},e.prototype.isFull=function(){return this.size()===this.capacity},r.FifoCache=e,t.prototype.get=function(e){if(e in this.cache)return e=this.cache[e],this.linkedList.remove(e),this.linkedList.insertToHead(e),e.value.value},t.prototype.remove=function(e){var t;e in this.cache&&(t=this.cache[e],this.linkedList.remove(t),delete this.cache[e])},t.prototype.put=function(e,t){e in this.cache&&this.remove(e);t=new n(e,t),t=new r.LinkedListNode(t);this.cache[e]=t,this.linkedList.insertToHead(t),this.size()>this.capacity&&(e=this.linkedList.tail().value,delete this.cache[e.key],this.linkedList.removeFromTail())},t.prototype.containsKey=function(e){return e in this.cache},t.prototype.size=function(){return this.keys().length},t.prototype.keys=function(){return Object.keys(this.cache)},t.prototype.isFull=function(){return this.size()===this.capacity},r.LruCache=t;var n=function(e,t){this.key=e,this.value=t}})(powerbi=powerbi||{}),(function(b){(e=r=b.ModalDialogNotificationType||(b.ModalDialogNotificationType={}))[e.Info=0]="Info",e[e.Warning=1]="Warning",e[e.SecurityWarning=2]="SecurityWarning",b.PowerBIDefaultHelpPage="https://support.powerbi.com";var r,e,n="infonav-modalContainerHost",o="."+n,i="infonav-describedBy",a='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="infonav-modalDialog" tabindex="-1"><div class="infonav-dialogLayout themeableElement"><div class="infonav-dialogTitle" id='+i+' role="heading" aria-level="1"></div><input type="button" class="infonav-dialogCloseIcon"></input><div class="infonav-dialogContent"><div class="infonav-dialogActions"></div></div></div></div></div>',s='<input type="button" class='.concat("pbi-fluent-button","></input>");function t(e,t){this.dialogHost=e,this.localizationMap=t,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}t.prototype.refocus=function(){this.modalContainer.focus()},t.prototype.showMessage=function(e,t,r,n){var o,i=this,a=(this.ensureInitialized(),[]);r=r||(this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel),n&&(n=$('<a target="_blank"></a>').text(n.label).attr("href",n.url),o=$("<div></div>").text(t+" ").append(n),t=void 0),a[0]=this.createButton(r,(function(){i.hideDialog()}),null,"primary"),this.pushMessage(e,t,o,a,!0)},t.prototype.showPrompt=function(e,t,r,n){this.ensureInitialized();for(var o=new Array,i=0;i<r.length;i++){var a=r[i],s=a.cssClass;0===i&&(s+=" primary"),o[i]=this.createButton(a.labelText,a.actionCallback,a.data,s,a.disabled)}this.pushMessage(e,t,void 0,o,!!n)},t.prototype.showError=function(e,t,r,n,o){this.showCustomError(InJs.UnlocalizedStrings.errorDialogTitle,e,t,t!==b.TraceType.Fatal,r,n,o)},t.prototype.showCustomError=function(e,t,r,n,o,i,a,s,c,l,u,d,m){var g,p,h,f,y,v=this,T=(this.ensureInitialized(),new Array),r=(a?a.forEach((function(e){T.push(v.createButton(e.label,(function(){v.hideDialog(),$.isFunction(i)&&i(e.resultValue)}),null,e.cssClass,e.disabled))})):r!==b.TraceType.Fatal?T[0]=this.createButton(this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel,(function(){v.hideDialog(),$.isFunction(i)&&i(0)})):T[0]=this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:InJs.UnlocalizedStrings.dialogRefreshPageActionLabel,(function(){window.location.reload()}),null,"primary"),a=l?$("<div></div>").append(l):$("<div></div>").text(t),$("<div></div>").addClass("infonav-dialogFooter"));_.isEmpty(o)||(g=(this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap:InJs.UnlocalizedStrings).errorDialogHelperText,u&&(g=u),a.append($("<br/>")).append(g),p=this.localizationMap?this.localizationMap.copyPromptText:InJs.UnlocalizedStrings.CopyActionLabel,h=this.localizationMap?this.localizationMap.copySuccessText:InJs.UnlocalizedStrings.SuccessActionLabel,f={title:e,message:l?l.text():t,helperText:g,additionalErrorInfo:o},y=$("<button></button>").text(p).addClass("modalCopyToClipboard").click((function(){v.tryCopyToClipboard(f)&&(y.text(h).addClass("modalCopySuccess"),setTimeout((function(){y.text(p).removeClass("modalCopySuccess")}),3e3))})),r.prepend(y)),this.addAdditionalErrorInfo(a,o,this.localizationMap?this.localizationMap.showTechnicalDetailsText:InJs.UnlocalizedStrings.showDetailsText),s&&(s.url===b.PowerBIDefaultHelpPage||s.isGetHelpTextReplaced?r.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(s.label).attr("href",s.url)):T.unshift(this.createButton(s.label,(function(){window.open(s.url)}),null,"primary"))),a.append(r),this.pushMessage(e||InJs.UnlocalizedStrings.errorDialogTitle,void 0,a,T,n,c,void 0,void 0,d,m)},t.prototype.showCustomDialog=function(e,t,r,n,o,i,a,s,c,l,u,d,m,g,p,h,f,y){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);for(var v=[],T=(p&&(v[0]=this.createCheckbox(p.labelText,p.actionCallback,p.data)),r.findIndex((function(e){return(null==e?void 0:e.type)===InJs.ModalDialogActionType.Button}))),b=0;b<r.length;b++){var E=r[b],C=E.cssClass,A=(d||b!==T||(C+=" primary"),p?b+1:b);E.type===InJs.ModalDialogActionType.Link?v[A]=this.createLink(E.labelText,E.link):v[A]=this.createButton(E.labelText,E.actionCallback,E.data,C,E.disabled)}return f&&(f=$("<p></p>").append($('<a target="_blank"></a>').text(f.label).attr("href",f.url)),t=t.append(f)),this.pushMessage(e,void 0,t,v,!!o,c,n,i,a,s,l,u,d,m,g,h,y),this.dialogContent},t.prototype.hideDialog=function(){var t=this;this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,(function(){t.modalContainer.css(b.CssConstants.displayProperty,b.CssConstants.noneValue),t.modalDialogElement.removeClass(t.modalDialogCustomClass),t.modalContainer.removeClass(t.modalContainerCustomClass),t.currentModalDialogMessage&&t.currentModalDialogMessage.onDialogClosed&&t.currentModalDialogMessage.onDialogClosed(),t.messageCurrentlyShown=!1;var e=t.messageQueue.shift();e?t.showDialogInternal(e):(t.modalContainer.off(),t.modalContainer.remove(),$(o).off(),$(o).remove(),t.initialized=!1,t.unregisterFocusManager&&t.unregisterFocusManager())}))},t.prototype.ensureInitialized=function(){var e,t=this;this.initialized||(this.modalContainer=$(a),this.modalDialogElement=this.modalContainer.find(".infonav-modalDialog"),this.dialogTitle=this.modalContainer.find(".infonav-dialogTitle"),this.dialogCloseButton=this.modalContainer.find(".infonav-dialogCloseIcon"),this.dialogContent=this.modalContainer.find(".infonav-dialogContent"),this.dialogActions=this.modalContainer.find(".infonav-dialogActions"),this.dialogCloseButton.on(b.DOMConstants.mouseClickEventName,(function(){return t.hideDialog()})).on("keydown",(function(e){27===e.keyCode&&t.hideDialog()})).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel).attr("name",this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel).attr("title",this.localizationMap?this.localizationMap.closePromptText:InJs.UnlocalizedStrings.dialogCloseActionLabel),this.dialogHost||(e=$(o),_.isEmpty(e)||e.remove(),(e=InJs.DomFactory.div().addClass(n)).attr("role","dialog"),e.attr("aria-labelledby",i),this.dialogHost=$(b.DOMConstants.DocumentBody).append(e),this.dialogHost=e),this.dialogHost.append(this.modalContainer),this.isReady=!0,0<this.messageQueue.length&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=b.FocusManager.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0)},t.prototype.updatePosition=function(e){var t=(this.modalContainer.height()-this.modalDialogElement.height())/2,r=(this.modalContainer.width()-this.modalDialogElement.width())/2,t={top:t+b.CssConstants.pixelUnits,left:r+b.CssConstants.pixelUnits};e?this.modalDialogElement.animate(t,250):this.modalDialogElement.css(t)},t.prototype.addAdditionalErrorInfo=function(e,t,r){var n=this;if(!_.isEmpty(t)){for(var o=$("<p ></p>"),i=0,a=t;i<a.length;i++){var s=a[i];o.append(InJs.InfoNavUtility.constructErrorField(s.errorInfoKey,s.errorInfoValue))}t=InJs.InfoNavUtility.constructShowDetailsContainer(o,r);e.append($("<br />")),e.append(t),e.find(".showAdditionalDetailsLink").on(b.DOMConstants.mouseClickEventName,(function(){n.updatePosition(!0)}))}},t.prototype.pushMessage=function(e,t,r,n,o,i,a,s,c,l,u,d,m,g,p,h,f){this.messageQueue.push({titleText:e,messageText:t,dialogContent:r,dialogButtons:n,onDialogDisplayed:a,isDismissable:o=void 0===o?!0:o,dialogCssClass:c=void 0===c?"":c,dialogActionsCssClass:f=void 0===f?"":f,containerCssClass:l=void 0===l?"":l,onDialogClosed:i,notificationType:u,notificationText:d,htmlMessageText:g}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),s,m,p,h)},t.prototype.tryCopyToClipboard=function(e){if(!e)return!1;var t=[];if(e.title&&t.push(e.title),e.message&&t.push(e.message),e.helperText&&t.push(e.helperText),e.additionalErrorInfo)for(var r=0,n=e.additionalErrorInfo;r<n.length;r++){var o=n[r];t.push("".concat(o.errorInfoKey,": ").concat(o.errorInfoValue))}e=t.join("\n");try{return powerbi.CopyPasteService.create().copyText(e),!0}catch(e){return!1}},t.prototype.showDialogInternal=function(t,r,n,e,o){var i=this;if(this.currentModalDialogMessage=t,this.messageCurrentlyShown=!0,this.dialogContentNotification=$('<div class="infonav-dialogContentNotification"><span class="glyphicon"></span><span class= "infonav-dialogContentNotificationText" > </span></div>'),this.dialogContentNotificationIcon=this.dialogContentNotification.find(".glyphicon"),this.dialogContentNotificationText=this.dialogContentNotification.find(".infonav-dialogContentNotificationText"),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(t.titleText).attr("title",t.titleText),e?(this.appendNotification(t.notificationType,t.notificationText),this.appendMessageText(t.dialogContent,t.messageText,t.htmlMessageText)):(this.appendMessageText(t.dialogContent,t.messageText,t.htmlMessageText),this.appendNotification(t.notificationType,t.notificationText)),t.isDismissable?this.dialogCloseButton.css(b.CssConstants.displayProperty,b.CssConstants.blockValue):this.dialogCloseButton.css(b.CssConstants.displayProperty,b.CssConstants.noneValue),0<t.dialogButtons.length){this.dialogActions.show();for(var a=0,s=t.dialogButtons;a<s.length;a++){var c=s[a];this.dialogActions.append(c)}}else this.dialogActions.hide();e=this.dialogContent.find(".".concat("infonav-dialogFooter")),0<e.length?e.append(this.dialogActions):this.dialogContent.after(this.dialogActions),t.dialogCssClass&&(this.modalDialogElement.addClass(t.dialogCssClass),this.modalDialogCustomClass=t.dialogCssClass),t.containerCssClass&&(this.modalContainer.addClass(t.containerCssClass),this.modalContainerCustomClass=t.containerCssClass),t.dialogActionsCssClass&&this.dialogActions.addClass(t.dialogActionsCssClass),e=this.modalContainer.css(b.CssConstants.displayProperty)===b.CssConstants.noneValue?this.modalContainer:this.modalDialogElement;e.fadeTo(0,0),this.updatePosition(!1),e.fadeTo(250,1,(function(){var e;t.onDialogDisplayed&&t.onDialogDisplayed(i.dialogContent),0<i.modalDialogElement.find("dialog-frame").length||(0===i.modalDialogElement.find(":focus").length&&i.modalDialogElement.focus(),o&&i.modalDialogElement.keydown((function(e){27===e.keyCode&&i.hideDialog()})),e=i.dialogActions.find("input"),!n&&0<e.length&&e[0].focus(),r&&i.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus())}))},t.prototype.appendMessageText=function(e,t,r){_.isEmpty(t)&&e?this.dialogContent.append(e):this.dialogContent.text(t),_.isEmpty(r)||(this.dialogContentMessage=this.dialogContent.find(".dialogMessage"),this.dialogContentMessage.html(r))},t.prototype.appendNotification=function(e,t){if(null!==e&&!_.isEmpty(t)){switch(e){case r.Info:this.dialogContentNotificationIcon.addClass("pbi-glyph-info glyph-mini"),this.dialogContentNotification.addClass("typeInfo");break;case r.Warning:this.dialogContentNotificationIcon.addClass("pbi-glyph-warning glyph-mini"),this.dialogContentNotification.addClass("typeWarning");break;case r.SecurityWarning:this.dialogContentNotificationIcon.addClass("pbi-glyph-securityalert glyph-mini"),this.dialogContentNotification.addClass("typeSecurityWarning")}this.dialogContentNotificationText.html(t),this.dialogContent.append(this.dialogContentNotification)}},t.prototype.createButton=function(e,t,r,n,o){var i=this,a=$(s);return a.attr("value",e),a.on(b.DOMConstants.mouseClickEventName,(function(){t(a,i.dialogContent,r)})),n&&a.addClass(n),o&&a.prop("disabled",!0),a},t.prototype.createCheckbox=function(e,t,r){var n=this,e=$('<div class="pbi-input checkbox"><input type="checkbox"></input><label class="form-label">'+e+"</label></div>"),o=e.find("input");return o.on(b.DOMConstants.changeEventName,(function(){t(o,n.dialogContent,r)})),e},t.prototype.createLink=function(e,t,r){void 0===r&&(r=!0);t="<div>\n                <br>\n                    <a href=".concat(t=void 0===t?"":t," target='_blank' class='pbi-external-link'>\n                        ").concat(e).concat(r?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":"","\n                    </a>\n                <br>\n            </div>");return $(t)},t.prototype.modalDialogResizeHandler=function(){this.updatePosition(!1)},b.ModalDialog=t})(jsCommon=jsCommon||{}),(function(e){function t(e,t,r,n,o,i,a){this.type=s.Button,this.link="",this.labelText=e,this.actionCallback=t,this.data=r,this.cssClass=n,this.disabled=!!o,this.type=i||this.type,this.link=a||this.link}var s,r;(r=s=e.ModalDialogActionType||(e.ModalDialogActionType={})).Button="Button",r.Link="Link";e.ModalDialogAction=t})(InJs=InJs||{}),(function(e){function t(e){this.count=0,this.top=-1,this.size=e,this.data=new Array(e)}t.prototype.item=function(e){var t=this.top-(this.count-1);return t<0&&(t+=this.size),this.data[(e+t)%this.size]},t.prototype.push=function(e){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=e},t.prototype.pop=function(){var e;if(0!==this.count)return this.count--,e=this.data[this.top],delete this.data[this.top],-1==--this.top&&0<this.count&&(this.top=this.size-1),e},t.prototype.peek=function(){return this.data[this.top]},t.prototype.clear=function(){this.count=0,this.top=-1,this.data=new Array(this.size)},Object.defineProperty(t.prototype,"length",{get:function(){return this.count},enumerable:!1,configurable:!0}),e.CircularStack=t})(jsCommon=jsCommon||{}),(function(e){var s=powerbi.Double;(e=e.StringExtensions||(e.StringExtensions={})).parseIntSubstrFast=function(e,t,r){if(0===r)return null;for(var n=0,o=0,i=t+r-1;o<r;o++,i--){var a=e.charCodeAt(i)-48;if(a<0||9<a)return null;n+=a*s.pow10(o)}return n},e.literalStringToRegex=function(e,t){return new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t)}})(jsCommon=jsCommon||{}),(function(r){var n,o,u=powerbi.Double,i=powerbi.contract,d=r.StringExtensions.parseIntSubstrFast;function e(){return"undefined"!=typeof moment}function a(e){if(e){var t=e.length;if(!(t<=18||28<t)){var r=e[10];if("-"===e[4]&&"-"===e[7]&&("T"===r||" "===r)&&":"===e[13]&&":"===e[16]){var r=d(e,0,4),n=d(e,5,2),o=d(e,8,2),i=d(e,11,2),a=d(e,14,2),s=d(e,17,2),c="Z"===e.charAt(t-1),l=(c&&t--,0);if(19<t){if("."!==e[19])return;t=t-20,e=d(e,20,t);if(null===e)return;l=e*u.pow10(3-t)}if(null!==r&&null!==n&&null!==o&&null!==i&&null!==a&&null!==s&&null!==l)return c?new Date(Date.UTC(r,n-1,o,i,a,s,l)):powerbi.createDateWithEpochValue(r,n-1,o,i,a,s,l)}}}}function t(e){var t;return r.Utility.throwIfNullOrEmptyString(e,null,"deserializeDate","Cannot deserialize empty string"),i.check(0===e.indexOf(o)&&_.endsWith(e,")/"),"Cannot deserialize empty string"),n.isMomentPresent()?(t=moment(e),i.check(t.isValid(),"parsedValue.isValid must be true"),t.toDate()):(t=e.substring(o.length,e.length-")/".length),i.check(/^\-?\d+$/.test(t),"Cannot deserialize invalid date"),e=parseInt(t,10),i.check(!isNaN(e),"Cannot deserialize invalid date"),new Date(e))}n=r.DateExtensions||(r.DateExtensions={}),o="/Date(",n.isLocalMidnight=function(e){return(e.getTime()-6e4*e.getTimezoneOffset())%864e5==0},n.isMomentPresent=e,n.parseIsoDate=function(e){var t=a(e);return t||((t=moment(e)).isValid()?t.toDate():null)},n.parseIsoDateFast=a,n.parseUtcDate=function(e){return moment.utc(e).toDate()},n.serializeDate=function(e){return o+e.getTime().toString()+")/"},n.deserializeDate=t,n.tryDeserializeDate=function(e){try{return t(e)}catch(e){}},n.isContainedInTimeFrame=function(e,t,r,n){return r=moment().subtract(r,t),n&&(r=r.startOf(t)),moment(e)>=r},n.GetTime=function(e,t){return t.toLocaleTimeString(e,{second:"numeric",minute:"numeric",hour:"numeric"})},n.GetDayWithTime=function(e,t){return t.toLocaleDateString(e,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})},n.GetFullDateWithTime=function(e,t){return t.toLocaleDateString(e,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})},n.getCurrentUTCTimeString=function(){return(new Date).toISOString()}})(jsCommon=jsCommon||{}),(function(t){t.ensurePowerbiTelemetry=function(){var e=t.ensurePowerbi();return e.telemetry||(e.telemetry={}),e.telemetry},t.ensurePowerbiSession=function(){var e=t.ensurePowerbi();return e.session||(e.session={}),e.session},t.ensurePowerbiHelpers=function(){var e=t.ensurePowerbi();return e.helpers||(e.helpers={}),e.helpers}})(powerbi=powerbi||{}),(function(d){var i;function e(e){}(i=d.ExceptionHelper||(d.ExceptionHelper={})).stripPII=e,i.cleanExceptionStack=function(e){try{if(e){var t=e.stack;if(t){var r=t.indexOf("\n");if(-1!==r)return t=(t=t.substring(r+1)).replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,(function(e){e=e.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=e?" (".concat(e[1],")"):""}))}}}catch(e){return"Error at cleanExceptionStack"}},i.cleanExceptionMessage=function(e){var t;try{return e instanceof TypeError||e instanceof ReferenceError?e.message:e?"Error of type ".concat(e.name," had a ").concat(null==(t=e.message)?void 0:t.length," characters long message"):void 0}catch(e){return"Error at cleanExceptionMessage"}},i.handleErrorAndLogTelemetry=function(e,t,r,n){if(!(r instanceof Error))try{throw new Error("Error wrapper for thrown object: ".concat(JSON.stringify(r)))}catch(e){r=e}if(!r.rejection||!(r.rejection.clientError&&r.rejection.clientError.ignorable||r.rejection.ignorable)){i.stripPII(r);var o=r.message,r=r.stack;try{n?e.logChildEvent(n.event,t,{stack:r,message:o}):e.logEvent(t,{stack:r,message:o})}catch(e){}}},i.getExceptionHandler=function(i,a,s){return function(e,t){var t=e.message+' (caused by "'+t+'")\n',r=(e.stack||e).toString(),n=t+r;try{i.logEvent(s,{stack:r,message:t});var o={consoleMessage:n,type:"console_log",createdTime:new Date};a.addLogEntry(o)}catch(e){}}},i.getWindowOnErrorWrapper=function(s,c,l,u){return function(e,t,r,n,o){var i,a;if(2!==r||8228!==n||!_.includes(t,"powerbiportal.dependencies.bundle"))return o&&o.message&&o.stack?(a=o.message,i=o.stack,s.logEvent(u,{source:d.QueryStringUtil.clearAllQueriesFromUrl(t),lineNumber:r,columnNumber:n||0,stack:i,message:a})):"object"==typeof e&&e.message&&e.stack?(a=e.message,i=e.stack,s.logEvent(u,{source:d.QueryStringUtil.clearAllQueriesFromUrl(t),lineNumber:r,columnNumber:n||0,stack:i,message:a})):(a=JSON.stringify(e,Object.getOwnPropertyNames(e)),s.logEvent(l,{source:d.QueryStringUtil.clearAllQueriesFromUrl(t),lineNumber:r,columnNumber:n||0,message:a})),c(e,t,r,n,o),!0}}})(jsCommon=jsCommon||{}),(function(e){var o={};function a(){}function n(){var e=powerbi.ensureJsCommon();return e.QueryStringUtil||(e.QueryStringUtil={}),e.QueryStringUtil}function t(){var t,r;i||(t=jsCommon.QueryStringUtil.getQueryStringValue,n().getQueryStringValue=function(e){return t(e)},r=jsCommon.QueryStringUtil.parseQueryString,n().parseQueryString=function(e){return void 0===e&&(e=window.location.search),r(e)},i=!0)}a.clearQueryString=function(e){var t=a.parseQueryString();return delete t[e],a.rebuildQueryString(t)},a.clearQueryStrings=function(e){for(var t=a.parseQueryString(),r=0,n=e;r<n.length;r++)delete t[n[r]];return a.rebuildQueryString(t)},a.addOrUpdateQueryString=function(e,t){var r=a.parseQueryString();return r[e]=t,a.rebuildQueryString(r)},a.addOrUpdateQueryStringToUrl=function(e,t){for(var r=a.parseUrl(e),e=a.clearAllQueriesFromUrl(e),n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];r[i]=t[i]}return e+a.rebuildQueryString(r)},a.getQueryStringValue=function(e){return a.parseQueryString()[e]},a.isQueryParamSet=function(e,t){var r,n=o[e];return t&&void 0!==n||(n=null!=(r=a.getQueryStringValue(e))&&"false"!==r&&("1"===r||"true"===r.toLowerCase()||1<r.length),t&&(o[e]=n)),n},a.parseUrl=function(e){var t=e.indexOf("?"),e=0<=t?e.substr(t):void 0;return a.parseQueryString(e)},a.parseQueryString=function(e){var t={},e=e=void 0===e?window.location.search:e;if(e&&"?"===e.substr(0,1))for(var r=0,n=e.substr(1).split("&");r<n.length;r++){var o=n[r].split("="),i=o[0],o=o.slice(1).join("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}return t},a.parseQueryStringWithMultipleKeyValues=function(e){var t={},e=e=void 0===e?window.location.search:e;if(e&&"?"===e.substr(0,1))for(var r=0,n=e.substr(1).split("&");r<n.length;r++){var o=n[r].split("="),i=o[0],o=o.slice(1).join("="),o=decodeURIComponent(o);t[decodeURIComponent(i)]?t[decodeURIComponent(i)].push(o):t[decodeURIComponent(i)]=[o]}return t},a.rebuildQueryString=function(e){var t,r="",n=!0;for(t in e)n||(r+="&"),r+=encodeURIComponent(t)+"=",e[t]&&(r+=encodeURIComponent(e[t])),n=!1;return r=n?r:"?"+r},a.clearAllQueriesFromUrl=function(e){var t=e.indexOf("?"),r=e.indexOf("#");return 0<=(t=0<=r&&(r<t||-1===t)?r:t)?e.substr(0,t):e},a.fileOfUrl=function(e){var t=(e=a.clearAllQueriesFromUrl(e)).lastIndexOf("/");return e=-1!==t?e.substring(t+1):e},a.OriginClientActivityIdParameterName="caid",a.OriginRootActivityIdParameterName="raid",a.OriginActivityIdParameterName="aid",e.QueryStringUtil=a,e.exportQueryStringUtilToGlobal=t;var i=!1;t()})(jsCommon=jsCommon||{}),(function(e){var r;e.createRejectablePromise2=function(e){return new t(e)},e.createRejectablePromise=function(e){return new t(e)};n.prototype.then=function(e,t){return this.deferred.promise.then(e,t)},n.prototype.catch=function(e){return this.deferred.promise.catch(e)},n.prototype.finally=function(e){return this.deferred.promise.finally(e)},n.prototype.resolved=function(){return 1===this.state},n.prototype.rejected=function(){return 2===this.state},n.prototype.pending=function(){return 0===this.state},n.prototype.reject=function(e){this.pending()&&(this.deferred.reject(e),this.state=2)};var t=n;function n(e){var t=this;this[r]="Promise",this.deferred=e,this.state=0,e.promise.then((function(){return t.state=1}),(function(){return t.state=2}))}r=Symbol.toStringTag})(powerbi=powerbi||{}),(function(g){function e(e,t,r){this.cache=new(1===t?g.LruCache:g.FifoCache)(r=r||500),this.promiseFactory=e}e.prototype.getEntryCount=function(){return this.cache.size()},e.prototype.hasCacheEntry=function(e){return!!this.getCacheEntry(e)},e.prototype.createCacheEntry=function(e,t,r,n,o){var i,a,s,c,l,u,d=this,m=this.getCacheEntry(e);if(e&&!m)return i=this.promiseFactory,a=this.cache,s=i.defer(o),c=g.createRejectablePromise(s),l=i.defer(o),u=g.createRejectablePromise2(l),m={promise:u,refCount:0,context:t},this.appendCacheEntryInternal(e,m),c.then((function(e){(e=m.updateResult?m.updateResult(e):e)&&r&&(e=r(e)),m.result=n?n(e):e,l.resolve(e)}),(function(e){return l.reject(e)})).finally((function(){delete m.updateResult})),u.finally((function(){a.containsKey(e)&&(delete a.get(e).promise,u.rejected())&&d.removeCacheEntryInternal(e)})).catch((function(e){return c.reject(e)})),{deferred:s,promise:c}},e.prototype.clearEntry=function(e,t){var r=this.getCacheEntry(e);return!!r&&(r=r.promise,t&&r?r.reject():this.removeCacheEntryInternal(e),!0)},e.prototype.clearAllEntries=function(e){for(var t=0,r=this.cache.keys();t<r.length;t++){var n=r[t];this.clearEntry(n,e)}},e.prototype.bindCacheEntry=function(e,t,r){var n,o,i,a=this.getCacheEntry(e);if(void 0!==a)return n=this.promiseFactory.defer(r),e=g.createRejectablePromise2(n),a.result?(r=t?t(a.result):a.result,n.resolve(r)):(o=a.promise)?(a.refCount++,e.then((function(){return i()}),i=function(e){a.refCount--,0===a.refCount&&o.pending()&&o.reject(e)}),o.then((function(e){e=t?t(e):e;n.resolve(e)}),(function(e){return n.reject(e)}))):n.reject(void 0),e},e.prototype.getEntryContext=function(e){e=this.getCacheEntry(e);if(e)return e.context},e.prototype.keys=function(){return this.cache.keys()},e.prototype.isFull=function(){return this.cache.isFull()},e.prototype.rewriteAllEntries=function(r){for(var n=[],o=!!r.rewriteKey,i=!!r.rewriteResult,a=this.cache,e=0,t=a.keys();e<t.length;e++)!(function(t){var e;o&&(e=r.rewriteKey(t))!==t&&n.push({oldKey:t,newKey:e}),i&&(e=a.get(t))&&(e.result&&r.rewriteResult?e.result=r.rewriteResult(e.result,t):e.updateResult=function(e){return r.rewriteResult&&r.rewriteResult(e,t)||e})})(t[e]);for(var s=0,c=n.length;s<c;s++)this.changeCacheKey(n[s].oldKey,n[s].newKey)},e.prototype.putCacheResult=function(e,t,r){var n=this.getCacheEntry(e);n?n.result?n.result=r?r(t):t:n.updateResult=function(){return t}:"cannot update no-existing cacheEntry for key '".concat(e,"' with result '").concat(t,"'")},e.prototype.appendCacheEntryInternal=function(e,t){this.cache.containsKey(e)&&this.removeCacheEntryInternal(e),this.cache.put(e,t)},e.prototype.removeCacheEntryInternal=function(e){this.cache.remove(e)},e.prototype.changeCacheKey=function(e,t){var r;return t?!(this.hasCacheEntry(t)||!this.hasCacheEntry(e)||(r=this.getCacheEntry(e),this.removeCacheEntryInternal(e),this.appendCacheEntryInternal(t,r),0)):this.clearEntry(e,!0)},e.prototype.getCacheEntry=function(e){if(e&&(e=this.cache.get(e))&&(e.promise||e.result))return e},g.RejectablePromiseCache=e})(powerbi=powerbi||{}),(function(e){var t;e=e.events||(e.events={}),t=jsCommon.KeyUtils,e.visualThemeChanged={type:2,name:"visualThemeChanged"},e.isKeyboardEventIncomplete=function(e){return null!=e.composed&&null!=e.repeat&&(!e.composed||e.repeat&&(17===e.keyCode||t.isNudgeModifierKey(e.keyCode)))},e.isNotInputOrTextArea=function(e){return!$(e.target).is(jsCommon.DOMConstants.EditableTextElements)&&!$(e.target).is(jsCommon.DOMConstants.EditableNumericElements)}})(powerbi=powerbi||{}),(function(e){var c=jsCommon.ArrayExtensions;function r(r,e,t){return void 0===t&&(t=!0),e=s(e,(function(e){var t=_.differenceWith(e,r,(function(e,t){return e.name===t.name}));return t.length===e.length?e:t})),e=t?a(e):e}function a(e){return s(e,(function(e){return c.filterArray(e,(function(e){return!u(e)||!_.isEmpty(e.children)}))}))}function l(i,a,s){for(var e=0;e<a.length;e++){var t=(function(e){var t=a[e];if(t.name===i)return{value:s(a,t,e)};if(u(t)){e=l(i,t.children,s);if(e!==t.children){var r=t.clone?t.clone():_.clone(t);r.children=e;for(var n=0,o=r.children;n<o.length;n++)o[n].parentGroup=r;return{value:c.rewriteArray(a,(function(e){return e===t?r:e}))}}}})(e);if("object"==typeof t)return t.value}return a}function s(i,a){for(var e=0,t=i;e<t.length;e++)!(function(t){if(u(t)){var e=s(t.children,a);if(e!==t.children){var r=t.clone?t.clone():_.clone(t);r.children=e;for(var n=0,o=r.children;n<o.length;n++)o[n].parentGroup=r;i=c.rewriteArray(i,(function(e){return e===t?r:e}))}}})(t[e]);return i=a(i)}function u(e){return void 0!==e.children}(e=e.ItemGroupingManager||(e.ItemGroupingManager={})).find=function(e,t){var n;if(e&&t)return l(e,t,(function(e,t,r){return n=t,e})),n},e.getSiblingList=function(e,t){var n;return l(e.name,t,(function(e,t,r){return n=e})),n},e.add=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return __spreadArray(__spreadArray([],e||[],!0),t||[],!0)},e.addToGroup=function(a,e,t){return l(e.name,t,(function(e,t,r){if(!u(t))return e;var n=t.clone?t.clone():_.clone(t);n.children=__spreadArray(__spreadArray([],t.children||[],!0),[a],!1);for(var o=0,i=n.children;o<i.length;o++)i[o].parentGroup=n;return c.rewriteArray(e,(function(e){return e===t?n:e}))}))},e.remove=function(e,t,r){return void 0===r&&(r=!0),t=l(e.name,t,(function(e,t,r){return c.filterArray(e,(function(e){return t!==e}))})),t=r?a(t):t},e.removeMultiple=r,e.removeBy=function(e,t){return a(e=s(e,(function(e){return c.filterArray(e,(function(e){return!t(e)}))})))},e.move=function(n,e,t,o){return n.forEach((function(e){return e.parentGroup=void 0})),t=r(n,t,!1),a(t=l(e.name,t,(function(e,t,r){return c.spliceArray(e,(function(e){return e===t?o?__spreadArray([e],n,!0):__spreadArray(__spreadArray([],n,!0),[e],!1):[e]}))})))},e.group=function(e,t){for(var r,n,o=0,i=e.children;o<i.length;o++)i[o].parentGroup=e;return r=e.children,n=e,a(t=s(t,(function(e){return c.spliceArray(e,(function(e){return e===r[0]?[n]:_.includes(r,e)?[]:[e]}))})))},e.ungroup=function(n,e){for(var t=0,r=n.children;t<r.length;t++)r[t].parentGroup=void 0;return l(n.name,e,(function(e,t,r){return c.spliceArray(e,(function(e){return e===n?n.children:[e]}))}))},e.flattenItems=function e(t,r,n){for(var o=n||[],i=0,a=t;i<a.length;i++){var s=a[i];u(s)?o=e(s.children,r,o):r(s)&&(o=__spreadArray(__spreadArray([],o||[],!0),[s],!1))}return o}})(powerbi=powerbi||{}),(function(o){var e,t;r.prototype.copyText=function(e,t,r){var n;"string"==typeof e?n=e:"function"==typeof e&&(n=e()),this.copyToClipboard(n),this.logTelemetry(t,"Value",r)},r.prototype.copyGrid=function(e,t,r){var n=this,e=e(),o=e.grid,e=e.coveragePercentage,i=[];if(!_.isEmpty(o))for(var a=0,s=o;a<s.length;a++){var c=s[a];_.isEmpty(c)||i.push(_.map(c,(function(e){return null==e?"":n.removeBreaks(e)})).join("\t"))}this.copyToClipboard(i.join("\n")),this.logTelemetry(t,"Selection",r,e)},r.prototype.removeBreaks=function(e){return e.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")},r.prototype.copyToClipboard=function(e){this.element.value=e,document.body.appendChild(this.element);e=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),e&&e.focus()},r.prototype.logTelemetry=function(e,t,r,n){e&&e.logEvent(o.telemetry.EXCopyActionClicked,{copyType:t,visualType:r||"(unknown)",copySelectionPercentage:n||0})};function r(e){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}o.CopyPasteService=r,(e=o.CopyPasteService||(o.CopyPasteService={})).create=function(){return t=t||new e}})(powerbi=powerbi||{}),(function(e){(e.telemetry||(e.telemetry={})).EventFactories={}})(powerbi=powerbi||{}),(function(e){var n=jsCommon.Utility.generateGuid,s=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function t(e){var t=0;if(0!==e.length)for(var r=e.toLowerCase(),n=0,o=r.length;n<o;n++)t=(t<<5)-t+r.charCodeAt(n),t|=0;return t}function i(e,t,r){if(r){var n,o=[];for(n in r){var i=t[r[n]];void 0!==i&&!1!==i||o.push(r[n])}t=_.omit(t,o)}return _.extend(e,t),e}function r(e){var t=null!=(t=null==(t=null==(e=void 0===e?{}:e)?void 0:e.baseEvent)?void 0:t.info)?t:{},r=null==e?void 0:e.baseEvent,n=__assign(__assign({},t),e.info),o=e.optionalParameters?null!=r&&r.optionalParameters?__spreadArray(__spreadArray([],e.optionalParameters,!0),null==r?void 0:r.optionalParameters,!0):e.optionalParameters:null==r?void 0:r.optionalParameters;return{formatted:function(){return i({},n,o)},optionalParameters:o,info:n}}function o(e){return e&&!0===e.get("isAngularZone")}e.getHashCode=t,e.obfuscate=function(e){return t(e).toString()},e.extendFormatted=function(e,t,r){var n,o=r||e||{};if(r&&e&&(r=jsCommon.UnionExtensions.mergeUnionType(r,e)),t)for(var i in t)t.hasOwnProperty(i)&&void 0!==(n=t[i])&&!1!==n&&(o[i]=n);return o},e.extendFormattedEx=i,e.telemetryEventFactory=function(e){var t=r(e=void 0===e?{}:e);return __assign(__assign({time:jsCommon.performance.now(),id:n()},e),{info:t.info,formatted:t.formatted})},e.telemetryBaseEventFactory=r,e.generateTelemetryEvent=function(t,r){return function(e){return __assign(__assign({name:t,time:jsCommon.performance.now(),id:n()},r),{info:e,formatted:function(){return i({},e)}})}},e.fillTelemetryEvent=function(e,t){Zone;var r=Zone.current;if(r&&r.name===e){var n=r.get("data");if(n){for(var o=0,i=s;o<i.length;o++){var a=i[o];if(void 0!==t[a])throw new Error("Field '"+a+"' is restricted from override.")}n=n.monitoredActivity&&n.monitoredActivity.activityEvent;_.extend(n.info,t)}}else"This method is expected to be used with ZoneJS and current Zone match the event name. event=".concat(e,", currentZone=").concat(r&&r.name)},e.zoneify=function(e,t,r){return e?e.run((function(){return t.apply(r)})):r?r.fn():t()},e.isAngularZone=o,e.hasPendingMicrotasks=function(e){for(var t=!1,r=e;r&&o(r);){if(0<r._zoneDelegate._taskCounts.microTask){t=!0;break}r=r.parent}return t}})(powerbi=powerbi||{}),(function(t){var r=t.telemetry||(t.telemetry={}),e=jsCommon.Utility,n=t.telemetryEventFactory,o=t.telemetry.EventFactories;e?e.generateGuid:Function.prototype,r.BaseEventEventName="BaseEvent",r.BaseEvent=o[r.BaseEventEventName]=function(e){return n({name:r.BaseEventEventName,info:__assign({isError:!1,isCancelled:!1,isFireAndForget:!1,inTeams:!1,sanitized:!1},e),optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.BaseEventLoggers})},r.TimedEventEventName="TimedEvent",r.TimedEvent=o[r.TimedEventEventName]=function(e){return n({name:r.TimedEventEventName,info:e,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TimedEventLoggers})},r.VerboseEventName="Verbose",r.Verbose=o[r.VerboseEventName]=function(e){return n({name:r.VerboseEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.VerboseLoggers})},r.VerboseTimedEventEventName="VerboseTimedEvent",r.VerboseTimedEvent=o[r.VerboseTimedEventEventName]=function(e){return n({name:r.VerboseTimedEventEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.VerboseTimedEventLoggers})},r.TraceEventName="Trace",r.Trace=o[r.TraceEventName]=function(e){return n({name:r.TraceEventName,info:e,category:t.TelemetryCategory.Trace,loggers:r.TraceLoggers})},r.ErrorEventName="Error",r.Error=o[r.ErrorEventName]=function(e){return n({name:r.ErrorEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.ErrorLoggers})},r.ErrorWithStackTraceEventName="ErrorWithStackTrace",r.ErrorWithStackTrace=o[r.ErrorWithStackTraceEventName]=function(e){return n({name:r.ErrorWithStackTraceEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.ErrorWithStackTraceLoggers})},r.ErrorWithStackTraceAndSourceDetailsEventName="ErrorWithStackTraceAndSourceDetails",r.ErrorWithStackTraceAndSourceDetails=o[r.ErrorWithStackTraceAndSourceDetailsEventName]=function(e){return n({name:r.ErrorWithStackTraceAndSourceDetailsEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.ErrorWithStackTraceAndSourceDetailsLoggers})},r.CustomerActionEventName="CustomerAction",r.CustomerAction=o[r.CustomerActionEventName]=function(e){return n({name:r.CustomerActionEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.CustomerActionLoggers})},r.DashboardRootSessionEventName="PBI.Dashboard.RootSession",r.DashboardRootSession=o[r.DashboardRootSessionEventName]=function(e){return n({name:r.DashboardRootSessionEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.DashboardRootSessionLoggers})},r.WFEErrorEventName="PBI.WFE.Error",r.WFEError=o[r.WFEErrorEventName]=function(e){return n({name:r.WFEErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.WFEErrorLoggers})},r.TeamsRedirectTabConfigPageEventName="PBI.TeamsRedirect.TabConfigPage",r.TeamsRedirectTabConfigPage=o[r.TeamsRedirectTabConfigPageEventName]=function(e){return n({name:r.TeamsRedirectTabConfigPageEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsRedirectTabConfigPageLoggers})},r.TeamsRedirectPersonalAppEventName="PBI.TeamsRedirect.PersonalApp",r.TeamsRedirectPersonalApp=o[r.TeamsRedirectPersonalAppEventName]=function(e){return n({name:r.TeamsRedirectPersonalAppEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsRedirectPersonalAppLoggers})},r.TeamsRedirectTabReportEventName="PBI.TeamsRedirect.TabReport",r.TeamsRedirectTabReport=o[r.TeamsRedirectTabReportEventName]=function(e){return n({name:r.TeamsRedirectTabReportEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsRedirectTabReportLoggers})},r.TeamsRedirectUpdateTabUrlEventName="PBI.TeamsRedirect.UpdateTabUrl",r.TeamsRedirectUpdateTabUrl=o[r.TeamsRedirectUpdateTabUrlEventName]=function(e){return n({name:r.TeamsRedirectUpdateTabUrlEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsRedirectUpdateTabUrlLoggers})},r.TeamsAuthenticationSSOSuccessEventName="PBI.TeamsAuthentication.SSOSuccess",r.TeamsAuthenticationSSOSuccess=o[r.TeamsAuthenticationSSOSuccessEventName]=function(e){return n({name:r.TeamsAuthenticationSSOSuccessEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationSSOSuccessLoggers})},r.TeamsAuthenticationSSOFailedEventName="PBI.TeamsAuthentication.SSOFailed",r.TeamsAuthenticationSSOFailed=o[r.TeamsAuthenticationSSOFailedEventName]=function(e){return n({name:r.TeamsAuthenticationSSOFailedEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationSSOFailedLoggers})},r.TeamsAuthenticationTokenFromLocalStorageExpiredEventName="PBI.TeamsAuthentication.TokenFromLocalStorageExpired",r.TeamsAuthenticationTokenFromLocalStorageExpired=o[r.TeamsAuthenticationTokenFromLocalStorageExpiredEventName]=function(e){return n({name:r.TeamsAuthenticationTokenFromLocalStorageExpiredEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenFromLocalStorageExpiredLoggers})},r.TeamsAuthenticationTokenIsFromLocalStorageEventName="PBI.TeamsAuthentication.TokenIsFromLocalStorage",r.TeamsAuthenticationTokenIsFromLocalStorage=o[r.TeamsAuthenticationTokenIsFromLocalStorageEventName]=function(e){return n({name:r.TeamsAuthenticationTokenIsFromLocalStorageEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenIsFromLocalStorageLoggers})},r.TeamsAuthenticationTokenIsFromAuthContextCacheEventName="PBI.TeamsAuthentication.TokenIsFromAuthContextCache",r.TeamsAuthenticationTokenIsFromAuthContextCache=o[r.TeamsAuthenticationTokenIsFromAuthContextCacheEventName]=function(e){return n({name:r.TeamsAuthenticationTokenIsFromAuthContextCacheEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenIsFromAuthContextCacheLoggers})},r.TeamsAuthenticationTokenIsFromMSALCacheEventName="PBI.TeamsAuthentication.TokenIsFromMSALCache",r.TeamsAuthenticationTokenIsFromMSALCache=o[r.TeamsAuthenticationTokenIsFromMSALCacheEventName]=function(e){return n({name:r.TeamsAuthenticationTokenIsFromMSALCacheEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenIsFromMSALCacheLoggers})},r.TeamsAuthenticationTokenFromMSALWrongAudienceEventName="PBI.TeamsAuthentication.TokenFromMSALWrongAudience",r.TeamsAuthenticationTokenFromMSALWrongAudience=o[r.TeamsAuthenticationTokenFromMSALWrongAudienceEventName]=function(e){return n({name:r.TeamsAuthenticationTokenFromMSALWrongAudienceEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenFromMSALWrongAudienceLoggers})},r.TeamsAuthenticationTokenFromMSALParseErrorEventName="PBI.TeamsAuthentication.TokenFromMSALParseError",r.TeamsAuthenticationTokenFromMSALParseError=o[r.TeamsAuthenticationTokenFromMSALParseErrorEventName]=function(e){return n({name:r.TeamsAuthenticationTokenFromMSALParseErrorEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenFromMSALParseErrorLoggers})},r.TeamsAuthenticationTokenFromMSALNotPresentEventName="PBI.TeamsAuthentication.TokenFromMSALNotPresent",r.TeamsAuthenticationTokenFromMSALNotPresent=o[r.TeamsAuthenticationTokenFromMSALNotPresentEventName]=function(e){return n({name:r.TeamsAuthenticationTokenFromMSALNotPresentEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenFromMSALNotPresentLoggers})},r.TeamsAuthenticationTokenIsFromTeamsSDKEventName="PBI.TeamsAuthentication.TokenIsFromTeamsSDK",r.TeamsAuthenticationTokenIsFromTeamsSDK=o[r.TeamsAuthenticationTokenIsFromTeamsSDKEventName]=function(e){return n({name:r.TeamsAuthenticationTokenIsFromTeamsSDKEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationTokenIsFromTeamsSDKLoggers})},r.TeamsAuthenticationErrorEventName="PBI.TeamsAuthentication.Error",r.TeamsAuthenticationError=o[r.TeamsAuthenticationErrorEventName]=function(e){return n({name:r.TeamsAuthenticationErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationErrorLoggers})},r.TeamsAuthenticationHostPlatformInformationErrorEventName="PBI.TeamsAuthentication.HostPlatformInformationError",r.TeamsAuthenticationHostPlatformInformationError=o[r.TeamsAuthenticationHostPlatformInformationErrorEventName]=function(e){return n({name:r.TeamsAuthenticationHostPlatformInformationErrorEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationHostPlatformInformationErrorLoggers})},r.StaticTeamsSignUpPbiSourceRewriteErrorEventName="PBI.StaticTeamsSignUp.PbiSourceRewriteError",r.StaticTeamsSignUpPbiSourceRewriteError=o[r.StaticTeamsSignUpPbiSourceRewriteErrorEventName]=function(e){return n({name:r.StaticTeamsSignUpPbiSourceRewriteErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.StaticTeamsSignUpPbiSourceRewriteErrorLoggers})},r.StaticTeamsSignUpAuthCompleteRemovalErrorEventName="PBI.StaticTeamsSignUp.AuthCompleteRemovalError",r.StaticTeamsSignUpAuthCompleteRemovalError=o[r.StaticTeamsSignUpAuthCompleteRemovalErrorEventName]=function(e){return n({name:r.StaticTeamsSignUpAuthCompleteRemovalErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.StaticTeamsSignUpAuthCompleteRemovalErrorLoggers})},r.TeamsAuthenticationFallbackAuthErrorEventName="PBI.TeamsAuthentication.FallbackAuthError",r.TeamsAuthenticationFallbackAuthError=o[r.TeamsAuthenticationFallbackAuthErrorEventName]=function(e){return n({name:r.TeamsAuthenticationFallbackAuthErrorEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationFallbackAuthErrorLoggers})},r.TeamsAuthenticationNotifyAppLoadedSuccessEventName="PBI.TeamsAuthentication.NotifyAppLoadedSuccess",r.TeamsAuthenticationNotifyAppLoadedSuccess=o[r.TeamsAuthenticationNotifyAppLoadedSuccessEventName]=function(e){return n({name:r.TeamsAuthenticationNotifyAppLoadedSuccessEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationNotifyAppLoadedSuccessLoggers})},r.TeamsAuthenticationSignInLoadEventName="PBI.TeamsAuthentication.SignInLoad",r.TeamsAuthenticationSignInLoad=o[r.TeamsAuthenticationSignInLoadEventName]=function(e){return n({name:r.TeamsAuthenticationSignInLoadEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsAuthenticationSignInLoadLoggers})},r.TeamsLoginResultTokenAcquiredSuccessEventName="PBI.TeamsLoginResult.TokenAcquiredSuccess",r.TeamsLoginResultTokenAcquiredSuccess=o[r.TeamsLoginResultTokenAcquiredSuccessEventName]=function(e){return n({name:r.TeamsLoginResultTokenAcquiredSuccessEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultTokenAcquiredSuccessLoggers})},r.TeamsLoginResultAcquiringTokenUsingMSALEventName="PBI.TeamsLoginResult.AcquiringTokenUsingMSAL",r.TeamsLoginResultAcquiringTokenUsingMSAL=o[r.TeamsLoginResultAcquiringTokenUsingMSALEventName]=function(e){return n({name:r.TeamsLoginResultAcquiringTokenUsingMSALEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultAcquiringTokenUsingMSALLoggers})},r.TeamsLoginResultTokenParseErrorEventName="PBI.TeamsLoginResult.TokenParseError",r.TeamsLoginResultTokenParseError=o[r.TeamsLoginResultTokenParseErrorEventName]=function(e){return n({name:r.TeamsLoginResultTokenParseErrorEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultTokenParseErrorLoggers})},r.TeamsLoginResultNoTokenEventName="PBI.TeamsLoginResult.NoToken",r.TeamsLoginResultNoToken=o[r.TeamsLoginResultNoTokenEventName]=function(e){return n({name:r.TeamsLoginResultNoTokenEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultNoTokenLoggers})},r.TeamsLoginResultWrongTokenEventName="PBI.TeamsLoginResult.WrongToken",r.TeamsLoginResultWrongToken=o[r.TeamsLoginResultWrongTokenEventName]=function(e){return n({name:r.TeamsLoginResultWrongTokenEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultWrongTokenLoggers})},r.TeamsLoginResultLoginRedirectErrorEventName="PBI.TeamsLoginResult.LoginRedirectError",r.TeamsLoginResultLoginRedirectError=o[r.TeamsLoginResultLoginRedirectErrorEventName]=function(e){return n({name:r.TeamsLoginResultLoginRedirectErrorEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultLoginRedirectErrorLoggers})},r.TeamsLoginResultHandleRedirectPromiseErrorEventName="PBI.TeamsLoginResult.HandleRedirectPromiseError",r.TeamsLoginResultHandleRedirectPromiseError=o[r.TeamsLoginResultHandleRedirectPromiseErrorEventName]=function(e){return n({name:r.TeamsLoginResultHandleRedirectPromiseErrorEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsLoginResultHandleRedirectPromiseErrorLoggers})},r.TeamsTabAddTabEventName="PBI.TeamsTab.AddTab",r.TeamsTabAddTab=o[r.TeamsTabAddTabEventName]=function(e){return n({name:r.TeamsTabAddTabEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsTabAddTabLoggers})},r.TeamsTabLoadTabPageEventName="PBI.TeamsTab.LoadTabPage",r.TeamsTabLoadTabPage=o[r.TeamsTabLoadTabPageEventName]=function(e){return n({name:r.TeamsTabLoadTabPageEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.TeamsTabLoadTabPageLoggers})},r.DashboardErrorDialogEventName="PBI.Dashboard.ErrorDialog",r.DashboardErrorDialog=o[r.DashboardErrorDialogEventName]=function(e){return n({name:r.DashboardErrorDialogEventName,info:__assign({},e),category:t.TelemetryCategory.CriticalError,optionalParameters:["errorSource"],loggers:r.DashboardErrorDialogLoggers})},r.MobileLandingContinuedToWebEventName="PBI.MobileLanding.ContinuedToWeb",r.MobileLandingContinuedToWeb=o[r.MobileLandingContinuedToWebEventName]=function(e){return n({name:r.MobileLandingContinuedToWebEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.MobileLandingContinuedToWebLoggers})},r.MobileLandingDownloadAppEventName="PBI.MobileLanding.DownloadApp",r.MobileLandingDownloadApp=o[r.MobileLandingDownloadAppEventName]=function(e){return n({name:r.MobileLandingDownloadAppEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.MobileLandingDownloadAppLoggers})},r.DashboardUnhandledAngularExceptionEventName="PBI.Dashboard.UnhandledAngularException",r.DashboardUnhandledAngularException=o[r.DashboardUnhandledAngularExceptionEventName]=function(e){return n({name:r.DashboardUnhandledAngularExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.DashboardUnhandledAngularExceptionLoggers})},r.DataExceptionEventName="PBI.Data.Exception",r.DataException=o[r.DataExceptionEventName]=function(e){return n({name:r.DataExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.DataExceptionLoggers})},r.VisualExceptionEventName="PBI.Visual.Exception",r.VisualException=o[r.VisualExceptionEventName]=function(e){return n({name:r.VisualExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,optionalParameters:["visualName"],loggers:r.VisualExceptionLoggers})},r.DashboardUnhandledExceptionEventName="PBI.Dashboard.UnhandledException",r.DashboardUnhandledException=o[r.DashboardUnhandledExceptionEventName]=function(e){return n({name:r.DashboardUnhandledExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.DashboardUnhandledExceptionLoggers})},r.HandledExceptionEventName="PBI.HandledException",r.HandledException=o[r.HandledExceptionEventName]=function(e){return n({name:r.HandledExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.HandledExceptionLoggers})},r.DashboardReportTilePopulateExceptionEventName="PBI.Dashboard.ReportTilePopulateException",r.DashboardReportTilePopulateException=o[r.DashboardReportTilePopulateExceptionEventName]=function(e){return n({name:r.DashboardReportTilePopulateExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.DashboardReportTilePopulateExceptionLoggers})},r.DashboardUnhandledStacklessExceptionEventName="PBI.Dashboard.UnhandledStacklessException",r.DashboardUnhandledStacklessException=o[r.DashboardUnhandledStacklessExceptionEventName]=function(e){return n({name:r.DashboardUnhandledStacklessExceptionEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.DashboardUnhandledStacklessExceptionLoggers,logRatio:1e-4})},r.VisualErrorEventName="PBI.Visual.Error",r.VisualError=o[r.VisualErrorEventName]=function(e){return n({name:r.VisualErrorEventName,info:e,category:t.TelemetryCategory.CriticalError,loggers:r.VisualErrorLoggers})},r.WFEReopenUserAccountEventName="PBI.WFE.ReopenUserAccount",r.WFEReopenUserAccount=o[r.WFEReopenUserAccountEventName]=function(e){return n({name:r.WFEReopenUserAccountEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.WFEReopenUserAccountLoggers})},r.WFEAccountClosedPageEventName="PBI.WFE.AccountClosedPage",r.WFEAccountClosedPage=o[r.WFEAccountClosedPageEventName]=function(e){return n({name:r.WFEAccountClosedPageEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.WFEAccountClosedPageLoggers})},r.WFEAbtSignoutRedirectPageEventName="PBI.WFE.AbtSignoutRedirectPage",r.WFEAbtSignoutRedirectPage=o[r.WFEAbtSignoutRedirectPageEventName]=function(e){return n({name:r.WFEAbtSignoutRedirectPageEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.WFEAbtSignoutRedirectPageLoggers})},r.VisualWarningEventName="PBI.Visual.Warning",r.VisualWarning=o[r.VisualWarningEventName]=function(e){return n({name:r.VisualWarningEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.VisualWarningLoggers})},r.VisualApiUsageEventName="PBI.Visual.ApiUsage",r.VisualApiUsage=o[r.VisualApiUsageEventName]=function(e){return n({name:r.VisualApiUsageEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["visualName","isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.VisualApiUsageLoggers})},r.VisualCustomVisualsGenericEventEventName="PBI.Visual.CustomVisualsGenericEvent",r.VisualCustomVisualsGenericEvent=o[r.VisualCustomVisualsGenericEventEventName]=function(e){return n({name:r.VisualCustomVisualsGenericEventEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.VisualCustomVisualsGenericEventLoggers})},r.EXCopyActionClickedEventName="PBI.EX.CopyActionClicked",r.EXCopyActionClicked=o[r.EXCopyActionClickedEventName]=function(e){return n({name:r.EXCopyActionClickedEventName,info:e,category:t.TelemetryCategory.CustomerAction,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.EXCopyActionClickedLoggers})},r.StartActivityEventName="StartActivity",r.StartActivity=o[r.StartActivityEventName]=function(e){return n({name:r.StartActivityEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.StartActivityLoggers})},r.EndActivityEventName="EndActivity",r.EndActivity=o[r.EndActivityEventName]=function(e){return n({name:r.EndActivityEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.EndActivityLoggers})},r.AppSignInErrorEventName="PBI.App.SignInError",r.AppSignInError=o[r.AppSignInErrorEventName]=function(e){return n({name:r.AppSignInErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.AppSignInErrorLoggers})},r.AppTokenRefreshErrorEventName="PBI.App.TokenRefreshError",r.AppTokenRefreshError=o[r.AppTokenRefreshErrorEventName]=function(e){return n({name:r.AppTokenRefreshErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.AppTokenRefreshErrorLoggers})},r.StorytellingBrowserNotSupportedLoadedEventName="PBI.Storytelling.BrowserNotSupportedLoaded",r.StorytellingBrowserNotSupportedLoaded=o[r.StorytellingBrowserNotSupportedLoadedEventName]=function(e){return n({name:r.StorytellingBrowserNotSupportedLoadedEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.StorytellingBrowserNotSupportedLoadedLoggers})},r.AppLocalStorageErrorEventName="PBI.App.LocalStorageError",r.AppLocalStorageError=o[r.AppLocalStorageErrorEventName]=function(e){return n({name:r.AppLocalStorageErrorEventName,info:e,category:t.TelemetryCategory.Verbose,optionalParameters:["isError","errorSource","errorCode","activityName","activityId","isCancelled","pingLatency","errorMessage","folderId","activeFolderCapacityId","baseVersion","isFireAndForget","inTeams","expAssignment","hostPlatformType","hostPlatformName","sanitized"],loggers:r.AppLocalStorageErrorLoggers})}})(powerbi=powerbi||{}),(function(T){var g=jsCommon.EnumExtensions;function p(e,t){e&&(t?e.reject(t):e.resolve())}T.MonitorWith=function(u,d,m){return void 0===d&&(d=3),void 0===m&&(m=0),function(e,t,r){var l=r.value;return r.value=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var n=jsCommon.WindowUtils.GetWindowObject();!(n==window.top||n.featureSwitchService&&n.telemetryService);)n=n.parent;var o,i=n.featureSwitchService,a=n.telemetryService,s=!1;if(s=i&&i.isFeatureSwitchesRegistered()&&i.featureSwitches&&i.featureSwitches.telemetryV2&&a?s:!0)return o=l.apply(this,t);var i=Zone&&Zone.current,s=i&&i.get("data"),c=s&&s.monitoredActivity;g.hasFlag(d,1)&&(c=a.startMonitoredActivity(c,u,{baseVersion:"v2",isFireAndForget:1===m||void 0}),i=c.currentZone);try{i.run((function(){return o=l.apply(e,t)}))}catch(e){if(g.hasFlag(d,2))return void p(c,e);throw e}return g.hasFlag(d,2)&&(o&&_.isObject(o)&&o.then&&_.isFunction(o.then)?o.then((function(){p(c)}),(function(e){p(c,e)})):p(c)),o},r}},T.CustomVisualsTelemetryWrapper=function(f,y,v){return function(e,t,r){var g=r.value,p=r.value.length,h=p-1;return r.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length,n={},o=r<p,e=y&&o?e.concat(__spreadArray(__spreadArray([],Array(h-e.length),!0),[function(e){n.telemetryServiceArgs=e.telemetryServiceArgs,n.activityAttributesArgs=e.activityAttributesArgs}],!1)):e,o=null==(o=null==(o=this.proxy)?void 0:o.plugin)?void 0:o.name,i=v&&v<r?e[v]:o||"",a=jsCommon.WindowUtils.GetWindowObject();!(a===window.top||a.telemetryService&&a.certifiedEventsService);)a=a.parent;function s(e,t){var r;void 0===t&&(t={}),null!=u&&u.logStandardizedFeatureEvent({visualId:i,correlationId:null==(r=null==l?void 0:l.root)?void 0:r.id,activityName:T.telemetry.VisualCustomVisualsGenericEventEventName,activityAttributes:__assign(__assign({},t),{apiName:f}),activityStatus:e})}function c(e,t,r){null!=l&&l.logEvent(T.telemetry.VisualCustomVisualsGenericEvent,{apiName:f,visualType:i,errorOccurred:e,reason:r,additionalInfo:t})}var l=a.telemetryService,u=a.certifiedEventsService;try{var d,m=g.apply(this,e);return m&&_.isObject(m)&&m.then&&_.isFunction(m.then)?m.then((function(e){var t=y?JSON.stringify(n.telemetryServiceArgs):void 0;return c(!1,t),s("Succeeded",n.activityAttributesArgs),e}),(function(e){var t=y?JSON.stringify(n.telemetryServiceArgs):void 0;throw c(!0,t,e),s("Failed",n.activityAttributesArgs),e})):(d=y?JSON.stringify(n.telemetryServiceArgs):void 0,c(!1,d),s("Succeeded",n.activityAttributesArgs),m)}catch(e){throw c(!0,void 0,e),s("Failed"),e}},r}}})(powerbi=powerbi||{}),(function(t){var e;function n(e,t){var r;return e&&e.code?(r=e.code,null!=(e=e["pbi.error"]&&e["pbi.error"].exceptionCulprit)?{errorCode:r,errorSource:(function(e){switch(e){case 2:return"External";case 1:return"User";default:return"PowerBI"}})(e)}:null==t||401!==t&&403!==t?{errorCode:r,errorSource:"PowerBI"}:{errorCode:r,errorSource:"User"}):null!=t?{errorCode:"HttpStatusCode = "+t,errorSource:"PowerBI"}:void 0}function r(e){switch(e){case t.ExceptionCulpritExternal:return"External";case t.ExceptionCulpritUser:return"User";default:t.ExceptionCulpritSystem;return"PowerBI"}}(e=t.errorDetailsHelper||(t.errorDetailsHelper={})).getErrorSource=function(e){switch(e){case 2:return"External";case 1:return"User";default:return"PowerBI"}},e.getTelemetryErrorDetailsWithResourceKey=function(e,t,r){return(e=n(e,r))&&(e.errorMessage=t),e},e.getTelemetryErrorDetailsWithErrorMessage=function(e,t){return(t=n(e,t))&&(t.errorMessage=e.message),t},e.getTelemetryErrorDetails=n,e.getTelemetryErrorDetailsFromHttpStatus=function(e,t){if(e=n(e,t))return null==t||400!==t&&401!==t&&403!==t&&429!==t&&404!==t||(e.errorSource="User"),e},e.getTelemetryErrorDetailsFromServiceError=function(e){if(e)return{errorCode:e.errorCode,errorMessage:"StatusCode="+e.statusCode,errorSource:null!=e.exceptionCulprit?r(e.exceptionCulprit):void 0}},e.getErrorCode=function(e){if(e)return e.error?e.error.code:e.status?e.status.toString():void 0},e.getTelemetryErrorSourceFromExceptionCulpritString=r})(powerbi=powerbi||{}),(function(e){(e.ArrayExtensions||(e.ArrayExtensions={})).comparableSequenceEqual=function(e,t){if(e||t){if(!!e!=!!t||e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(!e[r].equals(t[r]))return!1}return!0}})(jsCommon=jsCommon||{}),(function(e){function r(e,t){for(;t;){if(e(t))return t;t=t.parent}}e.isOpenReportActivity=function(e){return!!e&&"Open Report"===e.getProperty("name")},e.getAncestorActivityPropertiesOfEvent=function(e,t){return t&&r(e,t.getProperty("parent"))},e.getAncestorActivityProperties=r})(contextActivity=contextActivity||{}),(function(t){var e;function r(){return t.ensurePowerbiSession().userInfo}function n(){}(e=t.session||(t.session={})).getUserInfo=r,e.setUserInfo=function(e){t.ensurePowerbiSession().userInfo=e},n.getFullName=function(){var e=r();return e.givenName+" "+e.surname},n.isInternalUser=function(){var e=r();return!(!e||!e.name)&&(0<=(e=e.name.toLowerCase()).indexOf("@microsoft.com")||0<=e.indexOf(".microsoft.com"))},n.getUPN=function(){return r().name},n.getEmailAddressForReceivingMail=function(){var e=r();return null==e?"":_.isEmpty(e.alternateEmail)?e.name:e.alternateEmail},e.UserInfoUtils=n})(powerbi=powerbi||{}),(function(e){var t;function r(){e.ensurePowerbiTelemetry().WFEError||(e.ensurePowerbiTelemetry().WFEError=e.telemetry.WFEError)}function n(){e.ensurePowerbiTelemetry().AppSignInError||(e.ensurePowerbiTelemetry().AppSignInError=e.telemetry.AppSignInError,e.ensurePowerbiTelemetry().WFEAccountClosedPage=e.telemetry.WFEAccountClosedPage,e.ensurePowerbiTelemetry().WFEReopenUserAccount=e.telemetry.WFEReopenUserAccount)}function o(){e.ensurePowerbiTelemetry().WFEAbtSignoutRedirectPage||(e.ensurePowerbiTelemetry().WFEAbtSignoutRedirectPage=e.telemetry.WFEAbtSignoutRedirectPage)}function i(){e.ensurePowerbiTelemetry().StorytellingBrowserNotSupportedLoaded||(e.ensurePowerbiTelemetry().StorytellingBrowserNotSupportedLoaded=e.telemetry.StorytellingBrowserNotSupportedLoaded)}function a(){e.ensurePowerbiTelemetry().MobileLandingContinuedToWeb||(e.ensurePowerbiTelemetry().MobileLandingContinuedToWeb=e.telemetry.MobileLandingContinuedToWeb,e.ensurePowerbiTelemetry().MobileLandingDownloadApp=e.telemetry.MobileLandingDownloadApp)}function s(){e.ensurePowerbiTelemetry().StaticTeamsSignUpPbiSourceRewriteError||(e.ensurePowerbiTelemetry().StaticTeamsSignUpPbiSourceRewriteError=e.telemetry.StaticTeamsSignUpPbiSourceRewriteError,e.ensurePowerbiTelemetry().StaticTeamsSignUpAuthCompleteRemovalError=e.telemetry.StaticTeamsSignUpAuthCompleteRemovalError,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenIsFromMSALCache=e.telemetry.TeamsAuthenticationTokenIsFromMSALCache,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenFromMSALWrongAudience=e.telemetry.TeamsAuthenticationTokenFromMSALWrongAudience,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenFromMSALNotPresent=e.telemetry.TeamsAuthenticationTokenFromMSALNotPresent,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenFromMSALParseError=e.telemetry.TeamsAuthenticationTokenFromMSALParseError,e.ensurePowerbiTelemetry().TeamsAuthenticationError=e.telemetry.TeamsAuthenticationError,e.ensurePowerbiTelemetry().TeamsAuthenticationSSOSuccess=e.telemetry.TeamsAuthenticationSSOSuccess,e.ensurePowerbiTelemetry().TeamsAuthenticationSSOFailed=e.telemetry.TeamsAuthenticationSSOFailed,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenFromLocalStorageExpired=e.telemetry.TeamsAuthenticationTokenFromLocalStorageExpired,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenIsFromLocalStorage=e.telemetry.TeamsAuthenticationTokenIsFromLocalStorage,e.ensurePowerbiTelemetry().TeamsAuthenticationTokenIsFromTeamsSDK=e.telemetry.TeamsAuthenticationTokenIsFromTeamsSDK,e.ensurePowerbiTelemetry().TeamsAuthenticationHostPlatformInformationError=e.telemetry.TeamsAuthenticationHostPlatformInformationError,e.ensurePowerbiTelemetry().TeamsAuthenticationFallbackAuthError=e.telemetry.TeamsAuthenticationFallbackAuthError,e.ensurePowerbiTelemetry().TeamsLoginResultTokenAcquiredSuccess=e.telemetry.TeamsLoginResultTokenAcquiredSuccess,e.ensurePowerbiTelemetry().TeamsLoginResultTokenParseError=e.telemetry.TeamsLoginResultTokenParseError,e.ensurePowerbiTelemetry().TeamsLoginResultNoToken=e.telemetry.TeamsLoginResultNoToken,e.ensurePowerbiTelemetry().TeamsLoginResultWrongToken=e.telemetry.TeamsLoginResultWrongToken,e.ensurePowerbiTelemetry().TeamsLoginResultLoginRedirectError=e.telemetry.TeamsLoginResultLoginRedirectError,e.ensurePowerbiTelemetry().TeamsLoginResultHandleRedirectPromiseError=e.telemetry.TeamsLoginResultHandleRedirectPromiseError,e.ensurePowerbiTelemetry().TeamsLoginResultAcquiringTokenUsingMSAL=e.telemetry.TeamsLoginResultAcquiringTokenUsingMSAL,e.ensurePowerbiTelemetry().TeamsRedirectTabConfigPage=e.telemetry.TeamsRedirectTabConfigPage,e.ensurePowerbiTelemetry().TeamsRedirectPersonalApp=e.telemetry.TeamsRedirectPersonalApp,e.ensurePowerbiTelemetry().TeamsRedirectTabReport=e.telemetry.TeamsRedirectTabReport,e.ensurePowerbiTelemetry().TeamsRedirectUpdateTabUrl=e.telemetry.TeamsRedirectUpdateTabUrl,e.ensurePowerbiTelemetry().TeamsAuthenticationNotifyAppLoadedSuccess=e.telemetry.TeamsAuthenticationNotifyAppLoadedSuccess,e.ensurePowerbiTelemetry().TeamsTabLoadTabPage=e.telemetry.TeamsTabLoadTabPage,e.ensurePowerbiTelemetry().TeamsTabAddTab=e.telemetry.TeamsTabAddTab,e.ensurePowerbiTelemetry().TeamsAuthenticationSignInLoad=e.telemetry.TeamsAuthenticationSignInLoad,e.ensurePowerbiTelemetry().AppLocalStorageError=e.telemetry.AppLocalStorageError)}(t=e.telemetryConstants||(e.telemetryConstants={})).pbiClientName="PowerBI.com",t.httpActivityIdHeader="ActivityId",t.httpRequestIdHeader="RequestId",e.exportTelemetryWFEErrorToGlobal=r,e.exportSignInTelemetryToGlobal=n,e.exportAbtSignOutRedirectTelemetryToGlobal=o,e.exportStorytellingTelemetryToGlobal=i,e.exportMobileTelemetryToGlobal=a,e.exportTeamsTelemetryToGlobal=s,r(),n(),o(),s(),a(),i()})(powerbi=powerbi||{}),(function(e){(e=e.UnlocalizedStrings||(e.UnlocalizedStrings={})).infoNavErrorCodeTemplate="{0} ({1})",e.errorCodeText="Error Code",e.errorActivityIdText="Activity Id",e.errorRequestIdText="Request Id",e.correlationIdText="Correlation Id",e.errorLineNumberText="Line number",e.errorColumnNumberText="Column number",e.errorStackTraceText="Stack trace",e.errorSourceFileText="Source file",e.errorTimestampText="Time",e.showDetailsText="Show technical details",e.dialogCloseActionLabel="Close",e.dialogRefreshPageActionLabel="Refresh Page",e.errorDialogTitle="oops, something went wrong",e.unsupportedBrowserMessageTitle="Unsupported browser detected",e.unsupportedBrowserMessageText="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",e.errorDialogHelperText="Please try again later or contact support. If you contact support, please provide these details.",e.CopyActionLabel="Copy",e.SuccessActionLabel="Success!"})(InJs=InJs||{}),(function(e){function t(){return n()}function r(){return-1<window.navigator.userAgent.toLowerCase().indexOf("edge/")}function n(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch(e){return!1}}(e=e.BrowserUtility||(e.BrowserUtility={})).isBrowserSupported=function(){return n()&&!!Function.prototype.bind&&!!$.support.cors},e.browserSupportsEssentials=t,e.isInternetExplorerBrowser=function(){var e=window.navigator.userAgent.toLowerCase();return-1<e.indexOf("msie ")||-1<e.indexOf("trident/")},e.isEdgeBrowser=r,e.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)},e.isChrome=function(){return!r()&&/ chrome\/([0-9]+)(\.[0-9]+)+/i.test(window.navigator.userAgent)},e.isFirefox=function(){return/ firefox\/([0-9]+)(\.[0-9]+)+/i.test(window.navigator.userAgent)},e.getInternetExplorerVersion=function(){var e,t=0;return t=("Microsoft Internet Explorer"===navigator.appName||0<=window.navigator.userAgent.indexOf("MSIE"))&&(e=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(window.navigator.userAgent))?parseFloat(e[1]):t}})(jsCommon=jsCommon||{}),(function(e){(e=e.CookieUtil||(e.CookieUtil={})).getCookie=function(e,t){if(t&&t.document&&t.document.cookie)for(var r=0,n=t.document.cookie.split(";");r<n.length;r++){var o=n[r].split("=");if(0<o.length&&o[0].trim()===e)return o[1]}},e.setCookie=function(e,t,r){r&&r.document&&(r.document.cookie=e+" = "+t+";secure")}})(jsCommon=jsCommon||{}),(function(t){var r,n,e,o=t.CssConstants.createClassAndSelector("explorationContainer");(e=t.DropPosition||(t.DropPosition={})).isAbove=function(e){return!!(1&e)},e.isRightOf=function(e){return!!(2&e)},e.isBelow=function(e){return!!(4&e)},e.isLeftOf=function(e){return!!(8&e)},e.isVerticalMiddle=function(e){return!!(16&e)},e.isHorizontalMiddle=function(e){return!!(32&e)},(e=t.HighlightClasses||(t.HighlightClasses={})).None=t.CssConstants.createClassAndSelector("notDroppable"),e.Replace=t.CssConstants.createClassAndSelector("dropover"),e.Prepend=t.CssConstants.createClassAndSelector("prepend"),e.Append=t.CssConstants.createClassAndSelector("append"),(r=t.DragDropUtils||(t.DragDropUtils={})).DragoverClass="dragover",r.DragAttribute="drag",r.getDragSourceType=function(e){return e.attr(r.DragAttribute)},r.prepareDragHelper=function(e){return(e=e.clone()).find("[id]").removeAttr(t.DOMConstants.idAttribute),e.addClass("dragHelper"),e},r.getElementToAppendDragHelper=function(e){return e=e.parents(o.selector)},r.tryFindChildDropTarget=function(e,t){return(t=t())?(e.data[n.DropTarget]=t,!0):!(e.data[n.DropEventHandled]=!0)},r.isDropOnExpectedTarget=function(e,t){return!e.data[n.DropEventHandled]&&e.data[n.DropTarget]===t&&(e.data[n.DropEventHandled]=!0)},r.getDropPosition=function(e,t){var r=t.height(),n=t.width(),t=t.offset(),o=e.pageY,e=e.pageX,i=0;return t.top+r/2>o?i|=1:i|=4,t.left+n/2>e?i|=8:i|=2,t.top+r/3<o&&t.top+r/3*2>o&&(i|=16),t.left+n/3<e&&t.left+n/3*2>e&&(i|=32),i},r.isValidDropLocation=function(e,t){return!e||(e=r.getDragSourceType(e),0<=t.indexOf(e))},(e=n=t.DragDropDataKeys||(t.DragDropDataKeys={})).DragScrollHandler="DragScrollHandler",e.DropEventHandled="DropEventHandled",e.DropTarget="DropTarget"})(jsCommon=jsCommon||{}),(function(e){function r(t){var e=window.performance.getEntriesByType("resource").filter((function(e){return"xmlhttprequest"===e.initiatorType&&-1!==e.name.indexOf(t)}));if(e&&1===e.length)return e[0]}function n(e,t){e&&(t.timeOrigin=window.performance.timeOrigin,t.decodedBodySize=e.decodedBodySize,t.duration=e.duration,t.encodedBodySize=e.encodedBodySize,t.transferSize=e.transferSize,t.connectEnd=e.connectEnd,t.connectStart=e.connectStart,t.domainLookupEnd=e.domainLookupEnd,t.domainLookupStart=e.domainLookupStart,t.fetchStart=e.fetchStart,t.redirectEnd=e.redirectEnd,t.redirectStart=e.redirectStart,t.requestStart=e.requestStart,t.responseEnd=e.responseEnd,t.responseStart=e.responseStart,t.secureConnectionStart=e.secureConnectionStart,t.startTime=e.startTime,t.workerStart=e.workerStart,null!=e.responseStart)&&null!=e.startTime&&(t.timeToFirstByte=e.responseStart-e.startTime)}(e=e.HttpUtils||(e.HttpUtils={})).getPerformanceTimingByUrl=r,e.attachPerformanceTimingByUrl=function(e,t){return!!(e=r(e))&&(n(e,t),!0)},e.attachPerformanceTiming=n,e.clientAndServerRequestIdMatch=function(e){return e&&e.requestId&&e.responseRequestId?e.requestId===e.responseRequestId:null},e.getResponseRequestId=function(e){return e&&e.responseRequestId?e.responseRequestId:null},e.shouldRetryRequest=function(e){switch(e){case 401:case 403:case 413:case 400:case 404:case 409:case 412:case 422:case 415:return!1;default:return!0}},e.isServerError=function(e){switch(e){case 500:case 503:return!0;default:return!1}}})(jsCommon=jsCommon||{}),(function(o){var e,i,a;o.RtlDirAttrVal="rtl",e=o.InfoNavUtility||(o.InfoNavUtility={}),i="infonav-additionalError",a="infonav-showAdditionalError",e.constructShowDetailsContainer=function(e,t){var r=$("<div ></div>"),n=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return n.addClass(a),n.text(t||o.UnlocalizedStrings.showDetailsText),n.on(jsCommon.DOMConstants.mouseClickEventName,(function(){r.find(jsCommon.Utility.createClassSelector(a)).remove(),r.find(jsCommon.Utility.createClassSelector(i)).css(jsCommon.CssConstants.displayProperty,jsCommon.CssConstants.blockValue)})),e.css(jsCommon.CssConstants.displayProperty,jsCommon.CssConstants.noneValue),e.addClass(i),r.append(n),r.append(e),r},e.constructErrorField=function(e,t){return(e=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",e))).find(".infonav-errorInfoText").text(t||""),e.html(e.html().replace(/\n/g,"<br/>")),e},e.isRTL=function(){return $("html").attr("dir")===o.RtlDirAttrVal}})(InJs=InJs||{}),(function(e){(e=e.JsonExtensions||(e.JsonExtensions={})).tryParseJSON=function(e,t,r){try{return JSON.parse(e,t)}catch(e){}},e.isJsonString=function(e){if(e&&"string"==typeof e){try{JSON.parse(e)}catch(e){return!1}return!0}return!1}})(jsCommon=jsCommon||{}),(function(e){(e=e.MathExtensions||(e.MathExtensions={})).min=function(e,t){return null==e||isNaN(e)?t:null==t||isNaN(t)?e:Math.min(e,t)},e.max=function(e,t){return null==e||isNaN(e)?t:null==t||isNaN(t)?e:Math.max(e,t)}})(jsCommon=jsCommon||{}),(function(e){e.ThemePrecedenceList=["highContrastTheme","customTheme","baseTheme"],e.getThemeMetadata=function(e,t,r){return{name:e,version:r,type:t}}})(powerbi=powerbi||{}),(function(r){var e,t;(e=r.iFrameUtility||(r.iFrameUtility={})).isHostedInIFrame=function(){try{return window.self!==window.top}catch(e){return!0}},e.isHostedInCrossDomainIFrame=function(){var t;try{t=window.parent.origin}catch(e){t="blockedBecauseCrossOrigin"}return window.origin!==t},e.getHostName=function(e){var t;return e&&""!==e.trim()?((t=document.createElement("a")).href=e,t.hostname):""},(e=r.GzipUtility||(r.GzipUtility={})).uncompress=function(e){if(e)try{var t=atob(e);return pako.inflate(t,{to:"string"})}catch(e){r.Trace.error("Error while uncompressing TileData: ".concat(JSON.stringify(e)),null==e.stack)}return null},e.compress=function(e){if(e)try{var t=pako.gzip(e,{to:"string"});return btoa(t)}catch(e){r.Trace.error("Error while compressing data: ".concat(JSON.stringify(e)),null==e.stack)}return null},(r.E2EUtils||(r.E2EUtils={})).isE2EV2Run=function(){return t=null==t?!!r.QueryStringUtil.getQueryStringValue("isE2ERun2"):t},(r.WindowUtils||(r.WindowUtils={})).GetWindowObject=function(){return window}})(jsCommon=jsCommon||{}),(function(n){n.FocusNavigationUtility={isElementContentEditable:function(e){return 0<$(e).closest("[contentEditable]").length},isTextElement:function(e){var t;return!$(e).is(":disabled")&&(t=e.nodeName.toLowerCase(),e.nodeType===Node.ELEMENT_NODE)&&("textarea"===t||"select"===t||"input"===t&&/^(?:text|email|number|search|tel|url|password)$/i.test(e.type))},contains:function(e,t){return 0!=(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINS)},getFirstMatchingAncestor:function(e,t,r,n){void 0===n&&(n=!0);var o=e;if(o!==(r=r||document.body)||n&&t(o))for(!n&&e&&(o=o.parentElement||o.parentNode||void 0);o&&o!==document.body&&o.nodeType===Node.ELEMENT_NODE;){if(t(o))return o;if(o===r)break;o=o.parentElement||o.parentNode||void 0}},isElementTabbable:function(e){return!0===$(e).is(":tabbable")},getTabbableParent:function(e,t){return t=t||document.body,this.getFirstMatchingAncestor(e,this.isElementTabbable,t,!1)},getFirstTabbableChild:function(e){return this.getTabbableChildren(e)[0]},getTabbableDescendants:function(e){return $(e).find(":tabbable").get()},getTabbableChildren:function(t){var r=this;return _.filter(this.getTabbableDescendants(t),(function(e){return!$.contains(t,r.getTabbableParent(e,t))}))},getTabbableSiblingsMatch:function(e,t,r){void 0===r&&(r=document.body);e=n.FocusNavigationUtility.getTabbableSiblings(e,r);return _.filter(e,t)},getNextTabbableMatchingSibling:function(e,t,r){r=r||document.body;e=this.getTabbableSiblingsMatch(e,t,r);if(0<e.length)return e[0]},getPrevTabbableMatchingSibling:function(e,t,r){r=r||document.body;e=this.getTabbableSiblingsMatch(e,t,r);if(0<e.length)return e[e.length-1]},getTabbableSiblings:function(e,t){t=t||document.body;var r=this.getTabbableParent(e,t);if(r=!r||t&&$.contains(r,t)?t:r){for(var n=[],o=0,i=0,a=this.getTabbableChildren(r);i<a.length;i++){var s=a[i];s===e||this.contains(e,s)?o=0:n.splice(o++,0,s)}return n}return[]},getNextTabbableSibling:function(e,t){return t=t||document.body,this.getTabbableSiblings(e,t)[0]},getPrevTabbableSibling:function(e,t){t=t||document.body;e=this.getTabbableSiblings(e,t);return e[e.length-1]},isElementVisible:function(e){return $(e).is(":visible")},getParentFocusElement:function(e){return $(e).parents(":tabbable:first").get(0)}}})(jsCommon=jsCommon||{}),(function(s){function c(){this.registeredElements=[],this.shortcutContainer=new s.ShortcutContainer}s.FocusManagerFocusEventName="focusManager_focus",s.FocusManagerFocusOnEventName="focusManager_focusOn",s.isTabbable=function(e){return!0===$(e).is(":tabbable")&&!1===$(e).is(":disabled")},s.FocusNavModeAttribute="focus-nav-mode",s.TabOrderEnabledAttribute="tab-order-enabled",s.TabOrderRecursiveEnabledAttribute="tab-order-recursive-enabled",s.TabOrderAttribute="tab-order",s.ActiveElementAttribute="tab-active",s.TabOrderChildAttribute="tab-order-child",s.TabIndexAttribute="tabindex",s.SkipArrowNavigationAttribute="skip-arrow-navigation",s.FocusNavModeGroupMatcher="[".concat(s.FocusNavModeAttribute,'="').concat("Group",'"]:first'),s.FocusNavModeHierarchicalTabOrderMatcher="[".concat(s.FocusNavModeAttribute,'="').concat("HierarchicalTabOrder",'"]:first'),Object.defineProperty(c.prototype,"keyboardFocused",{get:function(){return c.keyboardFocused},set:function(e){c.keyboardFocused=e},enumerable:!1,configurable:!0}),c.getInstance=function(){return this._instance||(this._instance=new c)},c.prototype.register=function(e,t,r){var n=this,o=(void 0===t&&(t=!1),[new s.FocusGroupNavigation(r=void 0===r?!1:r),new s.HierarchicalNavigation,new s.HierarchicalTabOrderNavigation]),i=function(e){return n.handleKeyPress(e,t,o)},a=(_.includes(this.registeredElements,e)||(e.addEventListener("keydown",i),this.registeredElements.push(e)),_.find(this.registeredElements,e));return function(){a.removeEventListener("keydown",i),_.pull(n.registeredElements,e)}},c.prototype.registerShortcut=function(e){this.shortcutContainer.add(e)},c.prototype.unregisterShortcut=function(e){this.shortcutContainer.remove(e)},c.focusChildInGroup=function(e,t){e="Group"===e.getAttribute(s.FocusNavModeAttribute)?e:$(e).find(s.FocusNavModeGroupMatcher).get(0);e&&c.focus(s.FocusGroupNavigation.getFocusNextElement(!0,e),t)},c.focusChildInCanvas=function(e){e="HierarchicalTabOrder"===e.getAttribute(s.FocusNavModeAttribute)?e:$(e).find(s.FocusNavModeHierarchicalTabOrderMatcher)[0];e&&c.focus(s.HierarchicalTabOrderNavigation.getFocusNextElement(e,!0,!0))},c.focus=function(e,t){var r;void 0===t&&(t=!0),e&&(r=document.activeElement,s.Zone.setTimeout((function(){s.BrowserUtils.focus(e),$(e).triggerHandler(s.FocusManagerFocusOnEventName,r),$(e).trigger(s.FocusManagerFocusEventName,r),t&&(c.keyboardFocused=!0,$("html").attr("data-focus-source","key")),e&&$(e).removeAttr(s.ActiveElementAttribute)})))},c.prototype.focus=function(e,t){c.focus(e,t=void 0===t?!0:t)},c.prototype.focusOnGroupByIndex=function(e,t,r,n,o){this.shortcutContainer.handleByPriority(e,t,r,n,o)},c.setFocusOnPreviousElementOnDestroy=function(r,n,t){var o=null;return r.on(s.FocusManagerFocusEventName,(function(e,t){e.stopPropagation(),!t||n&&o||$.contains(r[0],t)||(o=t)})),function(){var e=document.activeElement;o&&$(o).closest(document.documentElement)&&(!t||$.contains(r[0],e))&&s.FocusManager.focus(o,!1)}},c.prototype.handleKeyPress=function(r,e,n){if(this.handleShortcut(r))r.stopPropagation(),r.preventDefault();else{var o=document.activeElement;if(o){for(var i,a=s.FocusNavigationUtility.getFirstMatchingAncestor(o,(function(e){return e.hasAttribute(s.FocusNavModeAttribute)}),document.body);a&&a!==document.body;){var t=(function(){var e,t=a.getAttribute(s.FocusNavModeAttribute);return"Browser"===t?{value:void 0}:(e=_.find(n,(function(e){return e.name===t})),(i=e&&e.shouldHandleFocus(o,a)?e.findNextElementToFocus(o,r,a):i)?"break":void(a=s.FocusNavigationUtility.getFirstMatchingAncestor(a,(function(e){return e.hasAttribute(s.FocusNavModeAttribute)}),document.body,!1)))})();if("object"==typeof t)return t.value;if("break"===t)break}i&&c.focus(i),e&&r.stopPropagation(),i&&13!==r.keyCode&&32!==r.keyCode&&(r.stopPropagation(),r.preventDefault())}}},c.prototype.handleShortcut=function(e){return this.shortcutContainer.handle(e)},c.prototype.focusNextElement=function(e){c.focus(s.FocusGroupNavigation.getFocusNextElement(!0,e))},c.keyboardFocused=!1,s.FocusManager=c})(jsCommon=jsCommon||{}),(function(o){function e(e){this.focusNavMode=e=void 0===e?"Group":e}e.prototype.findNext=function(e,t,r){void 0===r&&(r=!1);var t=this.getDomWalker(t=void 0===t?!0:t),n=e.getAttribute(o.FocusNavModeAttribute);return"Group"===n||"Browser"===n||r?this.traverseDown(e,t):this.searchFocusElement(e,t)},e.prototype.searchFocusElement=function(e,t){var r=this.traverseForward(t.getNextSibling(e),t);return r||(e.parentElement&&e.parentElement.getAttribute(o.FocusNavModeAttribute)!==this.focusNavMode?r=this.searchFocusElement(e.parentElement,t):e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE&&e.parentNode.getAttribute(o.FocusNavModeAttribute)!==this.focusNavMode&&(r=this.searchFocusElement(e.parentNode,t))),r},e.prototype.traverseForward=function(e,t){var r;if(e)return o.isTabbable(e)?e:(r=null==e.getAttribute(o.DOMConstants.skipChildrenFocusAttribute)?this.traverseDown(e,t):r)||this.traverseForward(t.getNextSibling(e),t)},e.prototype.traverseDown=function(e,t){if(e&&"Skip"!==e.getAttribute(o.FocusNavModeAttribute))return this.traverseForward(t.getNextChild(e),t)},e.prototype.getDomWalker=function(t){var r=this;return t?{getNextSibling:function(e){return e.nextElementSibling},getNextChild:function(e){return _.isEmpty(e.children)?e.hasChildNodes()?r.getNextChildNodes(e,t):void 0:e.children[0]}}:{getNextSibling:function(e){return e.previousElementSibling},getNextChild:function(e){return _.isEmpty(e.children)?e.hasChildNodes()?r.getNextChildNodes(e,t):void 0:e.children[e.children.length-1]}}},e.prototype.getNextChildNodes=function(e,t){var r=e.childNodes,n=r.length,o=t?1:-1,i=t?0:n-1;do{var a=r[i];if(a&&a.nodeType===Node.ELEMENT_NODE)return a}while(0<=(i+=o)&&i<n)},o.DomOrderFocusFinder=e})(jsCommon=jsCommon||{}),(function(s){function e(e){this.focusNavMode=e=void 0===e?"Group":e}function c(e){if(e.hasAttribute(s.TabOrderAttribute))return parseFloat(e.getAttribute(s.TabOrderAttribute))}function i(e){return null!=e.getAttribute(s.TabOrderAttribute)}function a(e){return null!=e.getAttribute(s.TabOrderEnabledAttribute)}function l(e){return null!=e.getAttribute(s.ActiveElementAttribute)}function u(e){return null!=e.getAttribute(s.TabOrderChildAttribute)}function d(e){return e?10000001:-10000001}e.prototype.findNext=function(e,t,r,n){var o;return void 0===t&&(t=!0),void 0===r&&(r=!0),(n=void 0===n?!1:n)||a(e)?o=(o=this.getFirstActiveChild(e))||this.getNextTabOrderChild(e,t,d(t)):i(e)?o=this.getNextTabOrderSibling(e,t,r):u(e)&&(n=(function(e,t){e=$(e).closest("[".concat(t,"]"));return e&&e.get(0)})(e,s.TabOrderAttribute),o=this.getNextTabOrderSibling(n,t,r)),o},e.prototype.getNextTabOrderSibling=function(e,t,r){var n,o=e.getAttribute(s.TabOrderAttribute),o=parseFloat(o);if(!isNaN(o)){e=(function(e,t){t="HierarchicalTabOrder"===t?s.FocusNavModeHierarchicalTabOrderMatcher:s.FocusNavModeGroupMatcher;return $(e).parents(t)[0]})(e,this.focusNavMode);if(!e)return;!(n=this.getNextTabOrderChild(e,t,o))&&r&&(n=this.getNextTabOrderChild(e,t,d(t)))}return n},e.prototype.getFirstActiveChild=function(e){var r;return $(e).find("[".concat(s.ActiveElementAttribute,"]")).each((function(e,t){l(t)&&(r=t)})),r},e.prototype.getNextTabOrderChild=function(r,n,o){var i,a,e=$(r).find("[".concat(s.TabOrderAttribute,"]"));return(e="HierarchicalTabOrder"===this.focusNavMode?e.filter((function(e,t){return s.FocusNavigationUtility.getTabbableParent(t)===r})):e).each((function(e,t){var r=c(t);l(t)?i=t:s.FocusNavigationUtility.isElementTabbable(t)&&(n?r<o:o<r)&&(void 0===i&&void 0===a||(n?a<r:r<a))&&(a=r,i=t)})),i},s.TabOrderFocusFinder=e,s.getTabOrder=c,s.hasTabOrderAttribute=i,s.hasTabOrderEnabledAttribute=a,s.hasActiveElementAttribute=l,s.hasTabOrderChildAttribute=u})(jsCommon=jsCommon||{}),(function(a){function s(e){this.skipCyclicNavigation=e=void 0===e?!1:e}Object.defineProperty(s.prototype,"name",{get:function(){return"Group"},enumerable:!1,configurable:!0}),s.prototype.shouldHandleFocus=function(e,t){return!$.contains(t,a.FocusNavigationUtility.getTabbableParent(e,t))},s.prototype.findNextElementToFocus=function(e,t){var r=s.getGroupNavigationElement(e);switch(t.keyCode){case 39:case 40:if(s.groupElementSupportsArrows(r)&&!s.canHandleKeyEvents(e))return s.getFocusNextElement(!0);break;case 38:case 37:if(s.groupElementSupportsArrows(r)&&!s.canHandleKeyEvents(e))return s.getFocusNextElement(!1);break;case 9:if(a.FocusNavigationUtility.isElementContentEditable(e))break;return s.getFocusNextElement(!t.shiftKey,void 0,this.skipCyclicNavigation);case 27:return a.FocusNavigationUtility.getTabbableParent(document.activeElement);case 13:if(r&&null!=r.getAttribute(a.TabOrderRecursiveEnabledAttribute))return a.FocusNavigationUtility.getFirstTabbableChild(document.activeElement)}},s.getFocusNextElement=function(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n,o,i=document.activeElement;if(t=t||s.getFirstFocusableParent(i))return n=i=void 0,(o=s.getGroupNavigationElement(t))&&null!=o.getAttribute(a.TabOrderRecursiveEnabledAttribute)?n=(i=new a.TabOrderRecursiveFocusFinder(o)).findNext(t,e):(n=(o=a.hasTabOrderEnabledAttribute(t)||a.hasTabOrderAttribute(t))?(i=new a.TabOrderFocusFinder).findNext(t,e):n)&&o||(n=(i=new a.DomOrderFocusFinder).findNext(t,e)),n||("Group"!==t.getAttribute(a.FocusNavModeAttribute)&&!r&&(o=s.getParentGroupElement(t))?i.findNext(o,e):void 0)},s.getGroupNavigationElement=function(e){var t=e.getAttribute(a.FocusNavModeAttribute);return t&&"Group"===t?e:s.getParentGroupElement(e)},s.getFirstFocusableParent=function(e){if(!e)return null;if(a.isTabbable(e)||"Group"===e.getAttribute(a.FocusNavModeAttribute))return e;for(var t=e.parentElement||e.parentNode&&e.parentNode.nodeType===Node.ELEMENT_NODE?e.parentNode:null;t;){if(a.isTabbable(t)||"Group"===t.getAttribute(a.FocusNavModeAttribute))return t;t=t.parentElement||t.parentNode&&t.parentNode.nodeType===Node.ELEMENT_NODE?t.parentNode:null}return t},s.getParentGroupElement=function(e){return $(e).parents(a.FocusNavModeGroupMatcher).get(0)},s.canHandleKeyEvents=function(e){return a.FocusNavigationUtility.isElementContentEditable(e)||a.FocusNavigationUtility.isTextElement(e)},s.groupElementSupportsArrows=function(e){return!e||null==e.getAttribute(a.TabOrderRecursiveEnabledAttribute)||null==e.getAttribute(a.SkipArrowNavigationAttribute)},a.FocusGroupNavigation=s})(jsCommon=jsCommon||{}),(function(i){function e(){}Object.defineProperty(e.prototype,"name",{get:function(){return"Hierarchy"},enumerable:!1,configurable:!0}),e.prototype.shouldHandleFocus=function(){return!0},e.prototype.findNextElementToFocus=function(e,t,r){switch(t.keyCode){case 9:if(!i.FocusNavigationUtility.isElementContentEditable(e)){var n=i.FocusNavigationUtility.getTabbableChildren(r),o=i.FocusNavigationUtility.getTabbableParent(e,r)===r;if(t.shiftKey){if(0<n.length&&(e!==n[0]||o))return i.FocusNavigationUtility.getPrevTabbableSibling(e,r)}else{if(0<n.length&&(e!==n[n.length-1]||o))return i.FocusNavigationUtility.getNextTabbableSibling(e,r);n=i.FocusNavigationUtility.getTabbableDescendants(r);if(0<n.length)return void n[n.length-1].focus()}}break;case 27:if(e!==r)return i.FocusNavigationUtility.getTabbableParent(e);break;case 13:return i.FocusNavigationUtility.getFirstTabbableChild(e)}},i.HierarchicalNavigation=e})(jsCommon=jsCommon||{}),(function(e){((e=e.host||(e.host={})).events||(e.events={})).LuciaSessionStateChangedEventArgs=function(){}})(powerbi=powerbi||{}),(function(e){((e=e.host||(e.host={})).global||(e.global={})).events={LuciaDomainModelChangedEvent:{type:4,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:4,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:4,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:4,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:4,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:4,name:"WindowStateChangedEvent"},ReportQueriesChangedEvent:{type:4,name:"ReportQueriesChangedEvent"},UpdateAvailableEvent:{type:4,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:4,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:4,name:"OpenFileMenuEvent"}}})(powerbi=powerbi||{}),(function(e){((e=e.common||(e.common={})).modules||(e.modules={})).JQueryUIModule={javascript:"jquery-ui",css:["jquery-ui"]}})(powerbi=powerbi||{}),(function(e){function t(){this._head=new r,this._tail=new r,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}t.prototype.insertToHead=function(e){e.next=this._head.next,e.prev=this._head,(this._head.next=e).next.prev=e,this._length++},t.prototype.head=function(){if(0<this._length)return this._head.next},t.prototype.tail=function(){if(0<this._length)return this._tail.prev},t.prototype.removeFromTail=function(){var e;0<this._length&&(e=this._tail.prev,this.remove(e))},t.prototype.remove=function(e){this._length<=0||void 0===e.prev||void 0===e.next||(e.prev.next=e.next,e.next.prev=e.prev,this._length--)},t.prototype.length=function(){return this._length},e.LinkedList=t;var r=function(e){this.value=e=void 0===e?void 0:e};e.LinkedListNode=r})(powerbi=powerbi||{}),(function(e){var t,m=e.StringExtensions.parseIntSubstrFast;function r(e){for(var t,r=0,n=0,o=0,i=0,a=0,s=0,c=e.length;a<=c;a++){var l=a===c?46:e.charCodeAt(a);switch(l){case 46:case 45:if(a===s)return;var u=m(e,s,a-s);if(null==u)return;switch(i){case 0:r=u;break;case 1:n=u;break;case 2:o=u;break;default:return}if(i++,s=a+1,45===l){if(3!==i)return;if(!(function(e){for(var t=0,r=e.length;t<r;t++){var n=e.charCodeAt(t);if(!(65<=n&&n<=90||97<=n&&n<=122||48<=n&&n<=57||45===n||46===n))return}return 1})(t=e.substr(a+1)))return;a=c}break;default:if(l<48||57<l)return}}var d={major:r,minor:n,patch:o};return t&&(d.prerel=t),d}function n(e,t){return 0<i(o(e),o(t))}function o(e){return _.isString(e)?r(e)||t.Zero:e}function i(e,t){var r,n=a(e.major,t.major);return n||a(e.minor,t.minor)||a(e.patch,t.patch)||(n=e.prerel,e=t.prerel,t=_.isEmpty(n),r=_.isEmpty(e),t?r?0:1:r?-1:(t=m(n,0,n.length),r=m(e,0,e.length),null==t?null==r?n.localeCompare(e):1:null==r?-1:a(t,r)))}function a(e,t){e=(e=e||0)-(t=t||0);return 0==e?0:e<0?-1:1}(t=e.Version||(e.Version={})).Zero={major:0,minor:0,patch:0},t.ZeroStr="0.0",t.LargestVersion="99.9",t.tryParse=r,t.toString=function(e){return _.isString(e)?(r(e),e):null==e.prerel?"".concat(e.major,".").concat(e.minor,".").concat(e.patch):"".concat(e.major,".").concat(e.minor,".").concat(e.patch,"-").concat(e.prerel)},t.gt=n,t.lt=function(e,t){return i(o(e),o(t))<0},t.ge=function(e,t){return 0<=i(o(e),o(t))},t.eq=function(e,t){return e=o(e),t=o(t),!i(o(e),o(t))},t.max=function(e,t){return n(o(e),o(t))?e:t}})(jsCommon=jsCommon||{}),(function(e){(e.FontPickerUtility||(e.FontPickerUtility={})).getCustomFontPickerInfo=function(e){var t=e.match(/^(?:\s)*('|")?((?:\w|\s|-|\\.)+)(?:\1(?=,|$))/);return t&&t[2]||e}})(jsCommon=jsCommon||{}),(function(e){e=e.common||(e.common={});function a(e,t,r){var n,o;return void 0===r&&(r=!1),e?(e=moment().diff(e),e=moment.duration(e),1<(o=(n=Math.floor)(e.asYears()))?t.format("RelativeDate_YearsAgo",[o]):1===o?t.get(i("RelativeDate_YearAgo",r)):1<(o=n(e.asMonths()))?t.format("RelativeDate_MonthsAgo",[o]):1===o?t.get(i("RelativeDate_MonthAgo",r)):1<(o=n(e.asDays()))?t.format("RelativeDate_DaysAgo",[o]):1===o?t.get(i("RelativeDate_DayAgo",r)):1<(o=n(e.asHours()))?t.format("RelativeDate_HoursAgo",[o]):1===o?t.get(i("RelativeDate_HourAgo",r)):1<(o=n(e.asMinutes()))?t.format("RelativeDate_MinutesAgo",[o]):1===o?t.get(i("RelativeDate_MinuteAgo",r)):30<=(o=n(e.asSeconds()))?t.format("RelativeDate_SecondsAgo",[o]):t.get("RelativeDate_Now")):"-"}function o(e,t,r){void 0===r&&(r=!1);var n,o=new Date(e),i=new Date;return s(o,i)?t.get(r?"TodayTitle":"Today"):((n=new Date).setDate(i.getDate()-1),s(o,n)?t.get(r?"YesterdayTitle":"Yesterday"):new Date(e).toLocaleDateString(t.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"}))}function i(e,t){return t?e+"_Capitalize":e}function s(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}e=e.utils||(e.utils={}),jsCommon.DateExtensions,(e=e.DateFormatter||(e.DateFormatter={})).getRelativeDateWithText=function(e,t,r){void 0===r&&(r=!1);var n,o=new Date,i=Intl.DateTimeFormat(t.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(e);return s(e,o)?t.format("TodayAt",i):((n=new Date).setDate(o.getDate()-1),s(e,n)?t.format("YesterdayAt",i):a(e,t,r))},e.getPrettyRelativeDate=a,e.getFriendlyDateTimeString=function(e,t,r,n){return void 0===r&&(r="DisplayDateTime_Common"),n=o(e,t,n=void 0===n?!1:n),e=new Date(e).toLocaleTimeString(t.currentLanguageLocale,{hour:"numeric",minute:"numeric"}),t.format(r,[n,e])},e.getFriendlyDateString=o,e.prettyRelativeDateIndexOrder=function(e){var t,r;return e&&(e=moment().diff(e),e=moment.duration(e),t=Math.floor,0<=e.asMilliseconds())?1<=(r=t(e.asYears()))?1e6+r:1<=(r=t(e.asMonths()))?1e5+r:1<=(r=t(e.asDays()))?1e4+r:1<=(r=t(e.asHours()))?1e3+r:1<=(r=t(e.asMinutes()))?100+r:30<=(r=t(e.asSeconds()))?r:0:0}})(powerbi=powerbi||{}),(function(i){function a(){}Object.defineProperty(a.prototype,"name",{get:function(){return"HierarchicalTabOrder"},enumerable:!1,configurable:!0}),a.prototype.shouldHandleFocus=function(e){return!i.FocusNavigationUtility.isElementContentEditable(e)},a.prototype.findNextElementToFocus=function(e,t){var r,n=e.hasAttribute(i.TabOrderEnabledAttribute),o="HierarchicalTabOrder"===e.getAttribute(i.FocusNavModeAttribute);switch(t.keyCode){case 39:case 40:r=a.getFocusNextElement(e,!0,n);break;case 38:case 37:r=a.getFocusNextElement(e,!1,n);break;case 9:r=a.getFocusNextElement(e,!t.shiftKey,n);break;case 27:r=i.FocusNavigationUtility.getTabbableParent(document.activeElement);break;case 13:r=o?a.getFocusNextElement(e,!0,!0):void 0}return r},a.getFocusNextElement=function(e,t,r){var n,o=e.hasAttribute(i.TabOrderEnabledAttribute);return(n=void 0===i.getTabOrder(e)&&!o?n:new i.TabOrderFocusFinder("HierarchicalTabOrder").findNext(e,t,!0,r))||(n=(o=new i.DomOrderFocusFinder("HierarchicalTabOrder")).findNext(e,t,r))||r||(r=$(e).parents(i.FocusNavModeHierarchicalTabOrderMatcher)[0],n=o.findNext(r,t,!0)),n},i.HierarchicalTabOrderNavigation=a})(jsCommon=jsCommon||{}),(function(n){function e(e){this.groupElement=e}e.prototype.findNext=function(e,r){var n,o=this,i=(void 0===r&&(r=!0),e===this.groupElement?-1:this.getTabIndex(e)),e=e!==this.groupElement&&!isNaN(i),a=r?1/0:0;return e||(i=r?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach((function(e){var t=o.getTabIndex(e.elem);isNaN(t)||(r?i<t&&t<=a:t<i&&a<=t)&&(a=t,n=e.elem)})),n},e.prototype.getTabIndex=function(e){return parseFloat(e.getAttribute(n.TabIndexAttribute))},e.prototype.buildTabOrderMany=function(e){var t=this,r=[];return e.forEach((function(e){null==e.getAttribute(n.DOMConstants.skipChildrenFocusAttribute)&&(r=_.concat(r,t.buildTabOrders(e)))})),r},e.prototype.buildTabOrders=function(e){var t=this.getTabIndex(e);return isNaN(t)?this.buildTabOrderMany([].slice.call(e.children)):[{tabOrder:t,elem:e}]},n.TabOrderRecursiveFocusFinder=e})(jsCommon=jsCommon||{}),(function(n){n.FocusPriorityAttribute="focus-priority",n.KeyboardShortcutsAttribute="keyboard-shortcuts",n.extendedShortcutScopeAttribute="extended-shortcut-scope",r.prototype.add=function(t){var e=this.getKeyCode(t.keycode,t.shift,t.alt,t.ctrl),r=t.scoped?this.scopedShortcuts:this.shortcuts;r[e]&&!_.find(r[e],(function(e){return $(e.element).is(t.element)}))?r[e].push(t):_.isEmpty(this.shortcuts[e])&&(r[e]=[t])},r.prototype.remove=function(t){var e=this.getKeyCode(t.keycode,t.shift,t.alt,t.ctrl),r=t.scoped?this.scopedShortcuts:this.shortcuts;_.remove(r[e],(function(e){return $(e.element).is(t.element)}))},r.prototype.handle=function(e){if(256<e.keyCode)return!1;var t=n.BrowserUtils.isCtrlOrMeta(e),r=this.getKeyCode(e.keyCode,e.shiftKey,e.altKey,t),e=e.shiftKey&&t&&1653===r,t=this.findScopedShortcut(r);if(!t){r=this.filterGroups(this.shortcuts[e?1141:r]);if(_.isEmpty(r))return!1;t=this.getNextShortcutElementToFocus(r,void 0,e)}return!!t&&(this.focusOnGroup(t),!0)},r.prototype.handleByPriority=function(e,t,r,n,o){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(e,t,r,n)]),o))},r.prototype.focusOnGroup=function(e){"HierarchicalTabOrder"===e.getAttribute(n.FocusNavModeAttribute)?n.FocusManager.focus(n.HierarchicalTabOrderNavigation.getFocusNextElement(e,!0,!0)):n.FocusManager.focus(n.FocusGroupNavigation.getFocusNextElement(!0,e))},r.prototype.getKeyCode=function(e,t,r,n){return t&&(e|=512),n&&(e|=1024),r&&(e|=2048),e},r.prototype.filterGroups=function(e){return _.filter(e,(function(e){var t=n.FocusNavigationUtility.isElementVisible(e.element);return"HierarchicalTabOrder"===e.element.getAttribute(n.FocusNavModeAttribute)?t&&!!n.HierarchicalTabOrderNavigation.getFocusNextElement(e.element,!0,!0):t&&!!n.FocusGroupNavigation.getFocusNextElement(!0,e.element)}))},r.getFocusPriority=function(e,t){var r;if(void 0===t&&(t=!0),e)return null!=(r=e.getAttribute(n.FocusPriorityAttribute))?parseInt(r,10):null!=e.parentElement&&t?this.getFocusPriority(e.parentElement):void 0},r.prototype.getFocusPriority=function(e,t){return r.getFocusPriority(e,t=void 0===t?!0:t)},r.prototype.findScopedShortcut=function(e){var t=document.activeElement,r=this.findExtendedScope(t),e=this.scopedShortcuts[e],e=this.filterGroups(e);if(!_.isEmpty(e)&&t)for(var n=0,o=e;n<o.length;n++){var i=o[n];if(i){if($(t).is(i.element)||$.contains(t,i.element))return i.element;if(r&&($(r).is(i.element)||$.contains(r,i.element)))return i.element}}},r.prototype.findExtendedScope=function(e){for(var t=e;t;){if(t.attributes.getNamedItem(n.extendedShortcutScopeAttribute))return t;t=t.parentElement}},r.prototype.findCurrentFocusedShortcutElement=function(e){if(document.activeElement)for(var t=document.activeElement;t;){if(t.getAttribute(n.KeyboardShortcutsAttribute)===e)return t;t=t.parentElement}},r.prototype.getNextShortcutElementToFocus=function(e,t,r){void 0===r&&(r=!1);var n=(e=_.sortBy(e,(function(e){return e.focusPriority})))[0];if(document.activeElement&&1<e.length)for(var o=null==t?this.findCurrentFocusedShortcutElement(n.shortcutString):null,i=0;i<=e.length-1;i++){var a=e[i];if(null!=t&&t>(a.focusPriority||-1)||o&&$(o).is(a.element)){a=0===i?e.length-1:i-1,n=e[(r?a:i+1)%e.length];break}}return null==n?void 0:n.element};var e=r;function r(){this.shortcuts=[],this.scopedShortcuts=[]}n.ShortcutContainer=e})(jsCommon=jsCommon||{}),(function(n){n.getTelemetrySamplingRules=function(){return window.powerbi.telemetrySamplingRules},n.setTelemetrySamplingRules=function(e){window.powerbi.telemetrySamplingRules=e},(e=n.TelemetryCategory||(n.TelemetryCategory={}))[e.Verbose=0]="Verbose",e[e.CustomerAction=1]="CustomerAction",e[e.CriticalError=2]="CriticalError",e[e.Trace=3]="Trace",e[e.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",(e=n.LoggerServiceType||(n.LoggerServiceType={}))[e.LocalyticsDeprecated=1]="LocalyticsDeprecated",e[e.AppInsightDeprecated=2]="AppInsightDeprecated",e[e.AppInsight=4]="AppInsight",e[e.Etw=8]="Etw",e[e.Mobile=16]="Mobile",e[e.WinJs=32]="WinJs",e[e.Designer=64]="Designer",e[e.NgRx=128]="NgRx",e[e.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",t.prototype.resolve=function(){this.isActive()&&(this.isEnded=!0,this.end&&this.end(this.event),this.onResolve(this.event))},t.prototype.cancel=function(e){return this.event.info.isCancelled=!0,(this.event.info.isIgnorable=e)?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})},t.prototype.reject=function(e){var t;this.isActive()&&(this.isEnded=!0,(t=this.event).info.isError=!0,t.info.errorSource=e&&e.errorSource?e.errorSource:"PowerBI",t.info.errorCode=e?e.errorCode:"UnknownError",t.info.errorMessage=e?e.errorMessage:void 0,t.info.asErrorCode=e&&e.asErrorCode,this.end&&this.end(t),this.onReject(t))},t.prototype.isActive=function(){return!this.isEnded};var e=t;function t(e,t){var r=this;this.end=t,this.event=e,this.promise=new n.Promise(function(e,t){r.onResolve=e,r.onReject=t}),this.isEnded=!1}n.DeferredTelemetryEvent=e})(powerbi=powerbi||{});
this.parseTimeMarkers = this.parseTimeMarkers || {};
var marker = this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] || (this.parseTimeMarkers['powerbiportal.dependencies.bundle.min.js'] = {});
marker.endEval = window.jsCommon && window.jsCommon.performance && window.jsCommon.performance.now ? window.jsCommon.performance.now() : Date.now(); marker.isExternal = false;
